(self.webpackChunkClickUp=self.webpackChunkClickUp||[]).push([[729],{9729:(Zt,$,C)=>{"use strict";C.r($),C.d($,{ViewsModule:()=>xe});var f=C(6814),_=C(7016),l=C(5879),s=C(6702),u=C(2831),i=C(2495),a=C(4300),e=C(8645),t=C(7394),n=C(6321),r=C(9080),c=C(927),d=C(5592),h=C(3019),g=C(9773),p=C(7398),y=C(8180),v=C(7921),m=C(9397),k=C(4664),b=C(9388);function S(J,R,A){for(let j in R)if(R.hasOwnProperty(j)){const G=R[j];G?J.setProperty(j,G,A?.has(j)?"important":""):J.removeProperty(j)}return J}function w(J,R){const A=R?"":"none";S(J.style,{"touch-action":R?"":"none","-webkit-user-drag":R?"":"none","-webkit-tap-highlight-color":R?"":"transparent","user-select":A,"-ms-user-select":A,"-webkit-user-select":A,"-moz-user-select":A})}function x(J,R,A){S(J.style,{position:R?"":"fixed",top:R?"":"0",opacity:R?"":"0",left:R?"":"-999em"},A)}function T(J,R){return R&&"none"!=R?J+" "+R:J}function E(J){const R=J.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(J)*R}function L(J,R){return J.getPropertyValue(R).split(",").map(j=>j.trim())}function N(J){const R=J.getBoundingClientRect();return{top:R.top,right:R.right,bottom:R.bottom,left:R.left,width:R.width,height:R.height,x:R.x,y:R.y}}function z(J,R,A){const{top:j,bottom:G,left:Q,right:rt}=J;return A>=j&&A<=G&&R>=Q&&R<=rt}function U(J,R,A){J.top+=R,J.bottom=J.top+J.height,J.left+=A,J.right=J.left+J.width}function W(J,R,A,j){const{top:G,right:Q,bottom:rt,left:lt,width:ft,height:bt}=J,xt=ft*R,Et=bt*R;return j>G-Et&&j<rt+Et&&A>lt-xt&&A<Q+xt}class Y{constructor(R){this._document=R,this.positions=new Map}clear(){this.positions.clear()}cache(R){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),R.forEach(A=>{this.positions.set(A,{scrollPosition:{top:A.scrollTop,left:A.scrollLeft},clientRect:N(A)})})}handleScroll(R){const A=(0,u.sA)(R),j=this.positions.get(A);if(!j)return null;const G=j.scrollPosition;let Q,rt;if(A===this._document){const bt=this.getViewportScrollPosition();Q=bt.top,rt=bt.left}else Q=A.scrollTop,rt=A.scrollLeft;const lt=G.top-Q,ft=G.left-rt;return this.positions.forEach((bt,xt)=>{bt.clientRect&&A!==xt&&A.contains(xt)&&U(bt.clientRect,lt,ft)}),G.top=Q,G.left=rt,{top:lt,left:ft}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function O(J){const R=J.cloneNode(!0),A=R.querySelectorAll("[id]"),j=J.nodeName.toLowerCase();R.removeAttribute("id");for(let G=0;G<A.length;G++)A[G].removeAttribute("id");return"canvas"===j?K(J,R):("input"===j||"select"===j||"textarea"===j)&&Z(J,R),H("canvas",J,R,K),H("input, textarea, select",J,R,Z),R}function H(J,R,A,j){const G=R.querySelectorAll(J);if(G.length){const Q=A.querySelectorAll(J);for(let rt=0;rt<G.length;rt++)j(G[rt],Q[rt])}}let X=0;function Z(J,R){"file"!==R.type&&(R.value=J.value),"radio"===R.type&&R.name&&(R.name=`mat-clone-${R.name}-${X++}`)}function K(J,R){const A=R.getContext("2d");if(A)try{A.drawImage(J,0,0)}catch{}}const tt=(0,u.i$)({passive:!0}),V=(0,u.i$)({passive:!1}),D=new Set(["position"]);class M{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(R){const A=(0,i.Ig)(R);A!==this._disabled&&(this._disabled=A,this._toggleNativeDragInteractions(),this._handles.forEach(j=>w(j,A)))}constructor(R,A,j,G,Q,rt){this._config=A,this._document=j,this._ngZone=G,this._viewportRuler=Q,this._dragDropRegistry=rt,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new e.x,this._pointerMoveSubscription=t.w0.EMPTY,this._pointerUpSubscription=t.w0.EMPTY,this._scrollSubscription=t.w0.EMPTY,this._resizeSubscription=t.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new e.x,this.started=new e.x,this.released=new e.x,this.ended=new e.x,this.entered=new e.x,this.exited=new e.x,this.dropped=new e.x,this.moved=this._moveEvents,this._pointerDown=lt=>{if(this.beforeStarted.next(),this._handles.length){const ft=this._getTargetHandle(lt);ft&&!this._disabledHandles.has(ft)&&!this.disabled&&this._initializeDragSequence(ft,lt)}else this.disabled||this._initializeDragSequence(this._rootElement,lt)},this._pointerMove=lt=>{const ft=this._getPointerPositionOnPage(lt);if(!this._hasStartedDragging){if(Math.abs(ft.x-this._pickupPositionOnPage.x)+Math.abs(ft.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ft=Date.now()>=this._dragStartTime+this._getDragStartDelay(lt),Bt=this._dropContainer;if(!Ft)return void this._endDragSequence(lt);(!Bt||!Bt.isDragging()&&!Bt.isReceiving())&&(lt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(lt)))}return}lt.preventDefault();const bt=this._getConstrainedPointerPosition(ft);if(this._hasMoved=!0,this._lastKnownPointerPosition=ft,this._updatePointerDirectionDelta(bt),this._dropContainer)this._updateActiveDropContainer(bt,ft);else{const xt=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Et=this._activeTransform;Et.x=bt.x-xt.x+this._passiveTransform.x,Et.y=bt.y-xt.y+this._passiveTransform.y,this._applyRootElementTransform(Et.x,Et.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:bt,event:lt,distance:this._getDragDistance(bt),delta:this._pointerDirectionDelta})})},this._pointerUp=lt=>{this._endDragSequence(lt)},this._nativeDragStart=lt=>{if(this._handles.length){const ft=this._getTargetHandle(lt);ft&&!this._disabledHandles.has(ft)&&!this.disabled&&lt.preventDefault()}else this.disabled||lt.preventDefault()},this.withRootElement(R).withParent(A.parentDragRef||null),this._parentPositions=new Y(j),rt.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(R){this._handles=R.map(j=>(0,i.fI)(j)),this._handles.forEach(j=>w(j,this.disabled)),this._toggleNativeDragInteractions();const A=new Set;return this._disabledHandles.forEach(j=>{this._handles.indexOf(j)>-1&&A.add(j)}),this._disabledHandles=A,this}withPreviewTemplate(R){return this._previewTemplate=R,this}withPlaceholderTemplate(R){return this._placeholderTemplate=R,this}withRootElement(R){const A=(0,i.fI)(R);return A!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{A.addEventListener("mousedown",this._pointerDown,V),A.addEventListener("touchstart",this._pointerDown,tt),A.addEventListener("dragstart",this._nativeDragStart,V)}),this._initialTransform=void 0,this._rootElement=A),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(R){return this._boundaryElement=R?(0,i.fI)(R):null,this._resizeSubscription.unsubscribe(),R&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(R){return this._parentDragRef=R,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(R){!this._disabledHandles.has(R)&&this._handles.indexOf(R)>-1&&(this._disabledHandles.add(R),w(R,!0))}enableHandle(R){this._disabledHandles.has(R)&&(this._disabledHandles.delete(R),w(R,this.disabled))}withDirection(R){return this._direction=R,this}_withDropContainer(R){this._dropContainer=R}getFreeDragPosition(){const R=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:R.x,y:R.y}}setFreeDragPosition(R){return this._activeTransform={x:0,y:0},this._passiveTransform.x=R.x,this._passiveTransform.y=R.y,this._dropContainer||this._applyRootElementTransform(R.x,R.y),this}withPreviewContainer(R){return this._previewContainer=R,this}_sortFromLastPointerPosition(){const R=this._lastKnownPointerPosition;R&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(R),R)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(R){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:R}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(R),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const A=this._getPointerPositionOnPage(R);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(A),dropPoint:A,event:R})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(R){B(R)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const A=this._dropContainer;if(A){const j=this._rootElement,G=j.parentNode,Q=this._placeholder=this._createPlaceholderElement(),rt=this._anchor=this._anchor||this._document.createComment(""),lt=this._getShadowRoot();G.insertBefore(rt,j),this._initialTransform=j.style.transform||"",this._preview=this._createPreviewElement(),x(j,!1,D),this._document.body.appendChild(G.replaceChild(Q,j)),this._getPreviewInsertionPoint(G,lt).appendChild(this._preview),this.started.next({source:this,event:R}),A.start(),this._initialContainer=A,this._initialIndex=A.getItemIndex(this)}else this.started.next({source:this,event:R}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(A?A.getScrollableParents():[])}_initializeDragSequence(R,A){this._parentDragRef&&A.stopPropagation();const j=this.isDragging(),G=B(A),Q=!G&&0!==A.button,rt=this._rootElement,lt=(0,u.sA)(A),ft=!G&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),bt=G?(0,a.yG)(A):(0,a.X6)(A);if(lt&&lt.draggable&&"mousedown"===A.type&&A.preventDefault(),j||Q||ft||bt)return;if(this._handles.length){const Lt=rt.style;this._rootElementTapHighlight=Lt.webkitTapHighlightColor||"",Lt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Lt=>this._updateOnScroll(Lt)),this._boundaryElement&&(this._boundaryRect=N(this._boundaryElement));const xt=this._previewTemplate;this._pickupPositionInElement=xt&&xt.template&&!xt.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,R,A);const Et=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(A);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Et.x,y:Et.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,A)}_cleanupDragArtifacts(R){x(this._rootElement,!0,D),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const A=this._dropContainer,j=A.getItemIndex(this),G=this._getPointerPositionOnPage(R),Q=this._getDragDistance(G),rt=A._isOverContainer(G.x,G.y);this.ended.next({source:this,distance:Q,dropPoint:G,event:R}),this.dropped.next({item:this,currentIndex:j,previousIndex:this._initialIndex,container:A,previousContainer:this._initialContainer,isPointerOverContainer:rt,distance:Q,dropPoint:G,event:R}),A.drop(this,j,this._initialIndex,this._initialContainer,rt,Q,G,R),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:R,y:A},{x:j,y:G}){let Q=this._initialContainer._getSiblingContainerFromPosition(this,R,A);!Q&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(R,A)&&(Q=this._initialContainer),Q&&Q!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Q,this._dropContainer.enter(this,R,A,Q===this._initialContainer&&Q.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Q,currentIndex:Q.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(j,G),this._dropContainer._sortItem(this,R,A,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(R,A):this._applyPreviewTransform(R-this._pickupPositionInElement.x,A-this._pickupPositionInElement.y))}_createPreviewElement(){const R=this._previewTemplate,A=this.previewClass,j=R?R.template:null;let G;if(j&&R){const Q=R.matchSize?this._initialClientRect:null,rt=R.viewContainer.createEmbeddedView(j,R.context);rt.detectChanges(),G=q(rt,this._document),this._previewRef=rt,R.matchSize?nt(G,Q):G.style.transform=P(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else G=O(this._rootElement),nt(G,this._initialClientRect),this._initialTransform&&(G.style.transform=this._initialTransform);return S(G.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},D),w(G,!1),G.classList.add("cdk-drag-preview"),G.setAttribute("dir",this._direction),A&&(Array.isArray(A)?A.forEach(Q=>G.classList.add(Q)):G.classList.add(A)),G}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const R=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(R.left,R.top);const A=function I(J){const R=getComputedStyle(J),A=L(R,"transition-property"),j=A.find(lt=>"transform"===lt||"all"===lt);if(!j)return 0;const G=A.indexOf(j),Q=L(R,"transition-duration"),rt=L(R,"transition-delay");return E(Q[G])+E(rt[G])}(this._preview);return 0===A?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(j=>{const G=rt=>{(!rt||(0,u.sA)(rt)===this._preview&&"transform"===rt.propertyName)&&(this._preview?.removeEventListener("transitionend",G),j(),clearTimeout(Q))},Q=setTimeout(G,1.5*A);this._preview.addEventListener("transitionend",G)}))}_createPlaceholderElement(){const R=this._placeholderTemplate,A=R?R.template:null;let j;return A?(this._placeholderRef=R.viewContainer.createEmbeddedView(A,R.context),this._placeholderRef.detectChanges(),j=q(this._placeholderRef,this._document)):j=O(this._rootElement),j.style.pointerEvents="none",j.classList.add("cdk-drag-placeholder"),j}_getPointerPositionInElement(R,A,j){const G=A===this._rootElement?null:A,Q=G?G.getBoundingClientRect():R,rt=B(j)?j.targetTouches[0]:j,lt=this._getViewportScrollPosition();return{x:Q.left-R.left+(rt.pageX-Q.left-lt.left),y:Q.top-R.top+(rt.pageY-Q.top-lt.top)}}_getPointerPositionOnPage(R){const A=this._getViewportScrollPosition(),j=B(R)?R.touches[0]||R.changedTouches[0]||{pageX:0,pageY:0}:R,G=j.pageX-A.left,Q=j.pageY-A.top;if(this._ownerSVGElement){const rt=this._ownerSVGElement.getScreenCTM();if(rt){const lt=this._ownerSVGElement.createSVGPoint();return lt.x=G,lt.y=Q,lt.matrixTransform(rt.inverse())}}return{x:G,y:Q}}_getConstrainedPointerPosition(R){const A=this._dropContainer?this._dropContainer.lockAxis:null;let{x:j,y:G}=this.constrainPosition?this.constrainPosition(R,this,this._initialClientRect,this._pickupPositionInElement):R;if("x"===this.lockAxis||"x"===A?G=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===A)&&(j=this._pickupPositionOnPage.x),this._boundaryRect){const{x:Q,y:rt}=this._pickupPositionInElement,lt=this._boundaryRect,{width:ft,height:bt}=this._getPreviewRect(),xt=lt.top+rt,Et=lt.bottom-(bt-rt);j=F(j,lt.left+Q,lt.right-(ft-Q)),G=F(G,xt,Et)}return{x:j,y:G}}_updatePointerDirectionDelta(R){const{x:A,y:j}=R,G=this._pointerDirectionDelta,Q=this._pointerPositionAtLastDirectionChange,rt=Math.abs(A-Q.x),lt=Math.abs(j-Q.y);return rt>this._config.pointerDirectionChangeThreshold&&(G.x=A>Q.x?1:-1,Q.x=A),lt>this._config.pointerDirectionChangeThreshold&&(G.y=j>Q.y?1:-1,Q.y=j),G}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const R=this._handles.length>0||!this.isDragging();R!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=R,w(this._rootElement,R))}_removeRootElementListeners(R){R.removeEventListener("mousedown",this._pointerDown,V),R.removeEventListener("touchstart",this._pointerDown,tt),R.removeEventListener("dragstart",this._nativeDragStart,V)}_applyRootElementTransform(R,A){const j=P(R,A),G=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=G.transform&&"none"!=G.transform?G.transform:""),G.transform=T(j,this._initialTransform)}_applyPreviewTransform(R,A){const j=this._previewTemplate?.template?void 0:this._initialTransform,G=P(R,A);this._preview.style.transform=T(G,j)}_getDragDistance(R){const A=this._pickupPositionOnPage;return A?{x:R.x-A.x,y:R.y-A.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:R,y:A}=this._passiveTransform;if(0===R&&0===A||this.isDragging()||!this._boundaryElement)return;const j=this._rootElement.getBoundingClientRect(),G=this._boundaryElement.getBoundingClientRect();if(0===G.width&&0===G.height||0===j.width&&0===j.height)return;const Q=G.left-j.left,rt=j.right-G.right,lt=G.top-j.top,ft=j.bottom-G.bottom;G.width>j.width?(Q>0&&(R+=Q),rt>0&&(R-=rt)):R=0,G.height>j.height?(lt>0&&(A+=lt),ft>0&&(A-=ft)):A=0,(R!==this._passiveTransform.x||A!==this._passiveTransform.y)&&this.setFreeDragPosition({y:A,x:R})}_getDragStartDelay(R){const A=this.dragStartDelay;return"number"==typeof A?A:B(R)?A.touch:A?A.mouse:0}_updateOnScroll(R){const A=this._parentPositions.handleScroll(R);if(A){const j=(0,u.sA)(R);this._boundaryRect&&j!==this._boundaryElement&&j.contains(this._boundaryElement)&&U(this._boundaryRect,A.top,A.left),this._pickupPositionOnPage.x+=A.left,this._pickupPositionOnPage.y+=A.top,this._dropContainer||(this._activeTransform.x-=A.left,this._activeTransform.y-=A.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,u.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(R,A){const j=this._previewContainer||"global";if("parent"===j)return R;if("global"===j){const G=this._document;return A||G.fullscreenElement||G.webkitFullscreenElement||G.mozFullScreenElement||G.msFullscreenElement||G.body}return(0,i.fI)(j)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(R){return this._handles.find(A=>R.target&&(R.target===A||A.contains(R.target)))}}function P(J,R){return`translate3d(${Math.round(J)}px, ${Math.round(R)}px, 0)`}function F(J,R,A){return Math.max(R,Math.min(A,J))}function B(J){return"t"===J.type[0]}function q(J,R){const A=J.rootNodes;if(1===A.length&&A[0].nodeType===R.ELEMENT_NODE)return A[0];const j=R.createElement("div");return A.forEach(G=>j.appendChild(G)),j}function nt(J,R){J.style.width=`${R.width}px`,J.style.height=`${R.height}px`,J.style.transform=P(R.left,R.top)}function et(J,R){return Math.max(0,Math.min(R,J))}class ht{constructor(R,A){this._element=R,this._dragDropRegistry=A,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(R){this.withItems(R)}sort(R,A,j,G){const Q=this._itemPositions,rt=this._getItemIndexFromPointerPosition(R,A,j,G);if(-1===rt&&Q.length>0)return null;const lt="horizontal"===this.orientation,ft=Q.findIndex(Rt=>Rt.drag===R),bt=Q[rt],Et=bt.clientRect,Lt=ft>rt?1:-1,Ft=this._getItemOffsetPx(Q[ft].clientRect,Et,Lt),Bt=this._getSiblingOffsetPx(ft,Q,Lt),Vt=Q.slice();return function at(J,R,A){const j=et(R,J.length-1),G=et(A,J.length-1);if(j===G)return;const Q=J[j],rt=G<j?-1:1;for(let lt=j;lt!==G;lt+=rt)J[lt]=J[lt+rt];J[G]=Q}(Q,ft,rt),Q.forEach((Rt,Se)=>{if(Vt[Se]===Rt)return;const te=Rt.drag===R,Xt=te?Ft:Bt,ee=te?R.getPlaceholderElement():Rt.drag.getRootElement();Rt.offset+=Xt,lt?(ee.style.transform=T(`translate3d(${Math.round(Rt.offset)}px, 0, 0)`,Rt.initialTransform),U(Rt.clientRect,0,Xt)):(ee.style.transform=T(`translate3d(0, ${Math.round(Rt.offset)}px, 0)`,Rt.initialTransform),U(Rt.clientRect,Xt,0))}),this._previousSwap.overlaps=z(Et,A,j),this._previousSwap.drag=bt.drag,this._previousSwap.delta=lt?G.x:G.y,{previousIndex:ft,currentIndex:rt}}enter(R,A,j,G){const Q=null==G||G<0?this._getItemIndexFromPointerPosition(R,A,j):G,rt=this._activeDraggables,lt=rt.indexOf(R),ft=R.getPlaceholderElement();let bt=rt[Q];if(bt===R&&(bt=rt[Q+1]),!bt&&(null==Q||-1===Q||Q<rt.length-1)&&this._shouldEnterAsFirstChild(A,j)&&(bt=rt[0]),lt>-1&&rt.splice(lt,1),bt&&!this._dragDropRegistry.isDragging(bt)){const xt=bt.getRootElement();xt.parentElement.insertBefore(ft,xt),rt.splice(Q,0,R)}else(0,i.fI)(this._element).appendChild(ft),rt.push(R);ft.style.transform="",this._cacheItemPositions()}withItems(R){this._activeDraggables=R.slice(),this._cacheItemPositions()}withSortPredicate(R){this._sortPredicate=R}reset(){this._activeDraggables.forEach(R=>{const A=R.getRootElement();if(A){const j=this._itemPositions.find(G=>G.drag===R)?.initialTransform;A.style.transform=j||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(R){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(j=>j.drag===R)}updateOnScroll(R,A){this._itemPositions.forEach(({clientRect:j})=>{U(j,R,A)}),this._itemPositions.forEach(({drag:j})=>{this._dragDropRegistry.isDragging(j)&&j._sortFromLastPointerPosition()})}_cacheItemPositions(){const R="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(A=>{const j=A.getVisibleElement();return{drag:A,offset:0,initialTransform:j.style.transform||"",clientRect:N(j)}}).sort((A,j)=>R?A.clientRect.left-j.clientRect.left:A.clientRect.top-j.clientRect.top)}_getItemOffsetPx(R,A,j){const G="horizontal"===this.orientation;let Q=G?A.left-R.left:A.top-R.top;return-1===j&&(Q+=G?A.width-R.width:A.height-R.height),Q}_getSiblingOffsetPx(R,A,j){const G="horizontal"===this.orientation,Q=A[R].clientRect,rt=A[R+-1*j];let lt=Q[G?"width":"height"]*j;if(rt){const ft=G?"left":"top",bt=G?"right":"bottom";-1===j?lt-=rt.clientRect[ft]-Q[bt]:lt+=Q[ft]-rt.clientRect[bt]}return lt}_shouldEnterAsFirstChild(R,A){if(!this._activeDraggables.length)return!1;const j=this._itemPositions,G="horizontal"===this.orientation;if(j[0].drag!==this._activeDraggables[0]){const rt=j[j.length-1].clientRect;return G?R>=rt.right:A>=rt.bottom}{const rt=j[0].clientRect;return G?R<=rt.left:A<=rt.top}}_getItemIndexFromPointerPosition(R,A,j,G){const Q="horizontal"===this.orientation,rt=this._itemPositions.findIndex(({drag:lt,clientRect:ft})=>lt!==R&&((!G||lt!==this._previousSwap.drag||!this._previousSwap.overlaps||(Q?G.x:G.y)!==this._previousSwap.delta)&&(Q?A>=Math.floor(ft.left)&&A<Math.floor(ft.right):j>=Math.floor(ft.top)&&j<Math.floor(ft.bottom))));return-1!==rt&&this._sortPredicate(rt,R)?rt:-1}}class kt{constructor(R,A,j,G,Q){this._dragDropRegistry=A,this._ngZone=G,this._viewportRuler=Q,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new e.x,this.entered=new e.x,this.exited=new e.x,this.dropped=new e.x,this.sorted=new e.x,this.receivingStarted=new e.x,this.receivingStopped=new e.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=t.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new e.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function o(J=0,R=n.z){return J<0&&(J=0),(0,r.H)(J,J,R)}(0,c.Z).pipe((0,g.R)(this._stopScrollTimers)).subscribe(()=>{const rt=this._scrollNode,lt=this.autoScrollStep;1===this._verticalScrollDirection?rt.scrollBy(0,-lt):2===this._verticalScrollDirection&&rt.scrollBy(0,lt),1===this._horizontalScrollDirection?rt.scrollBy(-lt,0):2===this._horizontalScrollDirection&&rt.scrollBy(lt,0)})},this.element=(0,i.fI)(R),this._document=j,this.withScrollableParents([this.element]),A.registerDropContainer(this),this._parentPositions=new Y(j),this._sortStrategy=new ht(this.element,A),this._sortStrategy.withSortPredicate((rt,lt)=>this.sortPredicate(rt,lt,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(R,A,j,G){this._draggingStarted(),null==G&&this.sortingDisabled&&(G=this._draggables.indexOf(R)),this._sortStrategy.enter(R,A,j,G),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:R,container:this,currentIndex:this.getItemIndex(R)})}exit(R){this._reset(),this.exited.next({item:R,container:this})}drop(R,A,j,G,Q,rt,lt,ft={}){this._reset(),this.dropped.next({item:R,currentIndex:A,previousIndex:j,container:this,previousContainer:G,isPointerOverContainer:Q,distance:rt,dropPoint:lt,event:ft})}withItems(R){const A=this._draggables;return this._draggables=R,R.forEach(j=>j._withDropContainer(this)),this.isDragging()&&(A.filter(G=>G.isDragging()).every(G=>-1===R.indexOf(G))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(R){return this._sortStrategy.direction=R,this}connectedTo(R){return this._siblings=R.slice(),this}withOrientation(R){return this._sortStrategy.orientation=R,this}withScrollableParents(R){const A=(0,i.fI)(this.element);return this._scrollableElements=-1===R.indexOf(A)?[A,...R]:R.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(R){return this._isDragging?this._sortStrategy.getItemIndex(R):this._draggables.indexOf(R)}isReceiving(){return this._activeSiblings.size>0}_sortItem(R,A,j,G){if(this.sortingDisabled||!this._clientRect||!W(this._clientRect,.05,A,j))return;const Q=this._sortStrategy.sort(R,A,j,G);Q&&this.sorted.next({previousIndex:Q.previousIndex,currentIndex:Q.currentIndex,container:this,item:R})}_startScrollingIfNecessary(R,A){if(this.autoScrollDisabled)return;let j,G=0,Q=0;if(this._parentPositions.positions.forEach((rt,lt)=>{lt===this._document||!rt.clientRect||j||W(rt.clientRect,.05,R,A)&&([G,Q]=function At(J,R,A,j){const G=Tt(R,j),Q=Pt(R,A);let rt=0,lt=0;if(G){const ft=J.scrollTop;1===G?ft>0&&(rt=1):J.scrollHeight-ft>J.clientHeight&&(rt=2)}if(Q){const ft=J.scrollLeft;1===Q?ft>0&&(lt=1):J.scrollWidth-ft>J.clientWidth&&(lt=2)}return[rt,lt]}(lt,rt.clientRect,R,A),(G||Q)&&(j=lt))}),!G&&!Q){const{width:rt,height:lt}=this._viewportRuler.getViewportSize(),ft={width:rt,height:lt,top:0,right:rt,bottom:lt,left:0};G=Tt(ft,A),Q=Pt(ft,R),j=window}j&&(G!==this._verticalScrollDirection||Q!==this._horizontalScrollDirection||j!==this._scrollNode)&&(this._verticalScrollDirection=G,this._horizontalScrollDirection=Q,this._scrollNode=j,(G||Q)&&j?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const R=(0,i.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=R.msScrollSnapType||R.scrollSnapType||"",R.scrollSnapType=R.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const R=(0,i.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(R).clientRect}_reset(){this._isDragging=!1;const R=(0,i.fI)(this.element).style;R.scrollSnapType=R.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(A=>A._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(R,A){return null!=this._clientRect&&z(this._clientRect,R,A)}_getSiblingContainerFromPosition(R,A,j){return this._siblings.find(G=>G._canReceive(R,A,j))}_canReceive(R,A,j){if(!this._clientRect||!z(this._clientRect,A,j)||!this.enterPredicate(R,this))return!1;const G=this._getShadowRoot().elementFromPoint(A,j);if(!G)return!1;const Q=(0,i.fI)(this.element);return G===Q||Q.contains(G)}_startReceiving(R,A){const j=this._activeSiblings;!j.has(R)&&A.every(G=>this.enterPredicate(G,this)||this._draggables.indexOf(G)>-1)&&(j.add(R),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:R,receiver:this,items:A}))}_stopReceiving(R){this._activeSiblings.delete(R),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:R,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>{if(this.isDragging()){const A=this._parentPositions.handleScroll(R);A&&this._sortStrategy.updateOnScroll(A.top,A.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const R=(0,u.kV)((0,i.fI)(this.element));this._cachedShadowRoot=R||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const R=this._sortStrategy.getActiveItemsSnapshot().filter(A=>A.isDragging());this._siblings.forEach(A=>A._startReceiving(this,R))}}function Tt(J,R){const{top:A,bottom:j,height:G}=J,Q=.05*G;return R>=A-Q&&R<=A+Q?1:R>=j-Q&&R<=j+Q?2:0}function Pt(J,R){const{left:A,right:j,width:G}=J,Q=.05*G;return R>=A-Q&&R<=A+Q?1:R>=j-Q&&R<=j+Q?2:0}const Mt=(0,u.i$)({passive:!1,capture:!0});let Ht=(()=>{class J{constructor(A,j){this._ngZone=A,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=G=>G.isDragging(),this.pointerMove=new e.x,this.pointerUp=new e.x,this.scroll=new e.x,this._preventDefaultWhileDragging=G=>{this._activeDragInstances.length>0&&G.preventDefault()},this._persistentTouchmoveListener=G=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&G.preventDefault(),this.pointerMove.next(G))},this._document=j}registerDropContainer(A){this._dropInstances.has(A)||this._dropInstances.add(A)}registerDragItem(A){this._dragInstances.add(A),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Mt)})}removeDropContainer(A){this._dropInstances.delete(A)}removeDragItem(A){this._dragInstances.delete(A),this.stopDragging(A),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Mt)}startDragging(A,j){if(!(this._activeDragInstances.indexOf(A)>-1)&&(this._activeDragInstances.push(A),1===this._activeDragInstances.length)){const G=j.type.startsWith("touch");this._globalListeners.set(G?"touchend":"mouseup",{handler:Q=>this.pointerUp.next(Q),options:!0}).set("scroll",{handler:Q=>this.scroll.next(Q),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Mt}),G||this._globalListeners.set("mousemove",{handler:Q=>this.pointerMove.next(Q),options:Mt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Q,rt)=>{this._document.addEventListener(rt,Q.handler,Q.options)})})}}stopDragging(A){const j=this._activeDragInstances.indexOf(A);j>-1&&(this._activeDragInstances.splice(j,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(A){return this._activeDragInstances.indexOf(A)>-1}scrolled(A){const j=[this.scroll];return A&&A!==this._document&&j.push(new d.y(G=>this._ngZone.runOutsideAngular(()=>{const rt=lt=>{this._activeDragInstances.length&&G.next(lt)};return A.addEventListener("scroll",rt,!0),()=>{A.removeEventListener("scroll",rt,!0)}}))),(0,h.T)(...j)}ngOnDestroy(){this._dragInstances.forEach(A=>this.removeDragItem(A)),this._dropInstances.forEach(A=>this.removeDropContainer(A)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((A,j)=>{this._document.removeEventListener(j,A.handler,A.options)}),this._globalListeners.clear()}}return J.\u0275fac=function(A){return new(A||J)(l.LFG(l.R0b),l.LFG(f.K0))},J.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const jt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ot=(()=>{class J{constructor(A,j,G,Q){this._document=A,this._ngZone=j,this._viewportRuler=G,this._dragDropRegistry=Q}createDrag(A,j=jt){return new M(A,j,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(A){return new kt(A,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return J.\u0275fac=function(A){return new(A||J)(l.LFG(f.K0),l.LFG(l.R0b),l.LFG(s.rL),l.LFG(Ht))},J.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const zt=new l.OlP("CDK_DRAG_PARENT"),it=new l.OlP("CdkDragHandle"),ut=new l.OlP("CdkDragPlaceholder"),vt=new l.OlP("CdkDragPreview"),_t=new l.OlP("CDK_DRAG_CONFIG"),Ct=new l.OlP("CdkDropList");let St=(()=>{class J{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(A){this._disabled=(0,i.Ig)(A),this._dragRef.disabled=this._disabled}constructor(A,j,G,Q,rt,lt,ft,bt,xt,Et,Lt){this.element=A,this.dropContainer=j,this._ngZone=Q,this._viewContainerRef=rt,this._dir=ft,this._changeDetectorRef=xt,this._selfHandle=Et,this._parentDrag=Lt,this._destroyed=new e.x,this.started=new l.vpe,this.released=new l.vpe,this.ended=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.dropped=new l.vpe,this.moved=new d.y(Ft=>{const Bt=this._dragRef.moved.pipe((0,p.U)(Vt=>({source:this,pointerPosition:Vt.pointerPosition,event:Vt.event,delta:Vt.delta,distance:Vt.distance}))).subscribe(Ft);return()=>{Bt.unsubscribe()}}),this._dragRef=bt.createDrag(A,{dragStartThreshold:lt&&null!=lt.dragStartThreshold?lt.dragStartThreshold:5,pointerDirectionChangeThreshold:lt&&null!=lt.pointerDirectionChangeThreshold?lt.pointerDirectionChangeThreshold:5,zIndex:lt?.zIndex}),this._dragRef.data=this,J._dragInstances.push(this),lt&&this._assignDefaults(lt),j&&(this._dragRef._withDropContainer(j._dropListRef),j.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(A){this._dragRef.setFreeDragPosition(A)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,y.q)(1),(0,g.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(A){const j=A.rootElementSelector,G=A.freeDragPosition;j&&!j.firstChange&&this._updateRootElement(),G&&!G.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const A=J._dragInstances.indexOf(this);A>-1&&J._dragInstances.splice(A,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const A=this.element.nativeElement;let j=A;this.rootElementSelector&&(j=void 0!==A.closest?A.closest(this.rootElementSelector):A.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(j||A)}_getBoundaryElement(){const A=this.boundaryElement;return A?"string"==typeof A?this.element.nativeElement.closest(A):(0,i.fI)(A):null}_syncInputs(A){A.beforeStarted.subscribe(()=>{if(!A.isDragging()){const j=this._dir,G=this.dragStartDelay,Q=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,rt=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;A.disabled=this.disabled,A.lockAxis=this.lockAxis,A.dragStartDelay="object"==typeof G&&G?G:(0,i.su)(G),A.constrainPosition=this.constrainPosition,A.previewClass=this.previewClass,A.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Q).withPreviewTemplate(rt).withPreviewContainer(this.previewContainer||"global"),j&&A.withDirection(j.value)}}),A.beforeStarted.pipe((0,y.q)(1)).subscribe(()=>{if(this._parentDrag)return void A.withParent(this._parentDrag._dragRef);let j=this.element.nativeElement.parentElement;for(;j;){if(j.classList.contains("cdk-drag")){A.withParent(J._dragInstances.find(G=>G.element.nativeElement===j)?._dragRef||null);break}j=j.parentElement}})}_handleEvents(A){A.started.subscribe(j=>{this.started.emit({source:this,event:j.event}),this._changeDetectorRef.markForCheck()}),A.released.subscribe(j=>{this.released.emit({source:this,event:j.event})}),A.ended.subscribe(j=>{this.ended.emit({source:this,distance:j.distance,dropPoint:j.dropPoint,event:j.event}),this._changeDetectorRef.markForCheck()}),A.entered.subscribe(j=>{this.entered.emit({container:j.container.data,item:this,currentIndex:j.currentIndex})}),A.exited.subscribe(j=>{this.exited.emit({container:j.container.data,item:this})}),A.dropped.subscribe(j=>{this.dropped.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,previousContainer:j.previousContainer.data,container:j.container.data,isPointerOverContainer:j.isPointerOverContainer,item:this,distance:j.distance,dropPoint:j.dropPoint,event:j.event})})}_assignDefaults(A){const{lockAxis:j,dragStartDelay:G,constrainPosition:Q,previewClass:rt,boundaryElement:lt,draggingDisabled:ft,rootElementSelector:bt,previewContainer:xt}=A;this.disabled=ft??!1,this.dragStartDelay=G||0,j&&(this.lockAxis=j),Q&&(this.constrainPosition=Q),rt&&(this.previewClass=rt),lt&&(this.boundaryElement=lt),bt&&(this.rootElementSelector=bt),xt&&(this.previewContainer=xt)}_setupHandlesListener(){this._handles.changes.pipe((0,v.O)(this._handles),(0,m.b)(A=>{const j=A.filter(G=>G._parentDrag===this).map(G=>G.element);this._selfHandle&&this.rootElementSelector&&j.push(this.element),this._dragRef.withHandles(j)}),(0,k.w)(A=>(0,h.T)(...A.map(j=>j._stateChanges.pipe((0,v.O)(j))))),(0,g.R)(this._destroyed)).subscribe(A=>{const j=this._dragRef,G=A.element.nativeElement;A.disabled?j.disableHandle(G):j.enableHandle(G)})}}return J._dragInstances=[],J.\u0275fac=function(A){return new(A||J)(l.Y36(l.SBq),l.Y36(Ct,12),l.Y36(f.K0),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(_t,8),l.Y36(b.Is,8),l.Y36(Ot),l.Y36(l.sBO),l.Y36(it,10),l.Y36(zt,12))},J.\u0275dir=l.lG2({type:J,selectors:[["","cdkDrag",""]],contentQueries:function(A,j,G){if(1&A&&(l.Suo(G,vt,5),l.Suo(G,ut,5),l.Suo(G,it,5)),2&A){let Q;l.iGM(Q=l.CRH())&&(j._previewTemplate=Q.first),l.iGM(Q=l.CRH())&&(j._placeholderTemplate=Q.first),l.iGM(Q=l.CRH())&&(j._handles=Q)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(A,j){2&A&&l.ekj("cdk-drag-disabled",j.disabled)("cdk-drag-dragging",j._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[l._Bn([{provide:zt,useExisting:J}]),l.TTD]}),J})();const Nt=new l.OlP("CdkDropListGroup");let Dt=(()=>{class J{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(A){this._disabled=(0,i.Ig)(A)}ngOnDestroy(){this._items.clear()}}return J.\u0275fac=function(A){return new(A||J)},J.\u0275dir=l.lG2({type:J,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[l._Bn([{provide:Nt,useExisting:J}])]}),J})(),It=0,Ut=(()=>{class J{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(A){this._dropListRef.disabled=this._disabled=(0,i.Ig)(A)}constructor(A,j,G,Q,rt,lt,ft){this.element=A,this._changeDetectorRef=G,this._scrollDispatcher=Q,this._dir=rt,this._group=lt,this._destroyed=new e.x,this.connectedTo=[],this.id="cdk-drop-list-"+It++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.sorted=new l.vpe,this._unsortedItems=new Set,this._dropListRef=j.createDropList(A),this._dropListRef.data=this,ft&&this._assignDefaults(ft),this._dropListRef.enterPredicate=(bt,xt)=>this.enterPredicate(bt.data,xt.data),this._dropListRef.sortPredicate=(bt,xt,Et)=>this.sortPredicate(bt,xt.data,Et.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),J._dropLists.push(this),lt&&lt._items.add(this)}addItem(A){this._unsortedItems.add(A),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(A){this._unsortedItems.delete(A),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((A,j)=>A._dragRef.getVisibleElement().compareDocumentPosition(j._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const A=J._dropLists.indexOf(this);A>-1&&J._dropLists.splice(A,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(A){this._dir&&this._dir.change.pipe((0,v.O)(this._dir.value),(0,g.R)(this._destroyed)).subscribe(j=>A.withDirection(j)),A.beforeStarted.subscribe(()=>{const j=(0,i.Eq)(this.connectedTo).map(G=>"string"==typeof G?J._dropLists.find(rt=>rt.id===G):G);if(this._group&&this._group._items.forEach(G=>{-1===j.indexOf(G)&&j.push(G)}),!this._scrollableParentsResolved){const G=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Q=>Q.getElementRef().nativeElement);this._dropListRef.withScrollableParents(G),this._scrollableParentsResolved=!0}A.disabled=this.disabled,A.lockAxis=this.lockAxis,A.sortingDisabled=(0,i.Ig)(this.sortingDisabled),A.autoScrollDisabled=(0,i.Ig)(this.autoScrollDisabled),A.autoScrollStep=(0,i.su)(this.autoScrollStep,2),A.connectedTo(j.filter(G=>G&&G!==this).map(G=>G._dropListRef)).withOrientation(this.orientation)})}_handleEvents(A){A.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),A.entered.subscribe(j=>{this.entered.emit({container:this,item:j.item.data,currentIndex:j.currentIndex})}),A.exited.subscribe(j=>{this.exited.emit({container:this,item:j.item.data}),this._changeDetectorRef.markForCheck()}),A.sorted.subscribe(j=>{this.sorted.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,container:this,item:j.item.data})}),A.dropped.subscribe(j=>{this.dropped.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,previousContainer:j.previousContainer.data,container:j.container.data,item:j.item.data,isPointerOverContainer:j.isPointerOverContainer,distance:j.distance,dropPoint:j.dropPoint,event:j.event}),this._changeDetectorRef.markForCheck()}),(0,h.T)(A.receivingStarted,A.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(A){const{lockAxis:j,draggingDisabled:G,sortingDisabled:Q,listAutoScrollDisabled:rt,listOrientation:lt}=A;this.disabled=G??!1,this.sortingDisabled=Q??!1,this.autoScrollDisabled=rt??!1,this.orientation=lt||"vertical",j&&(this.lockAxis=j)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(A=>A._dragRef))}}return J._dropLists=[],J.\u0275fac=function(A){return new(A||J)(l.Y36(l.SBq),l.Y36(Ot),l.Y36(l.sBO),l.Y36(s.mF),l.Y36(b.Is,8),l.Y36(Nt,12),l.Y36(_t,8))},J.\u0275dir=l.lG2({type:J,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(A,j){2&A&&(l.uIk("id",j.id),l.ekj("cdk-drop-list-disabled",j.disabled)("cdk-drop-list-dragging",j._dropListRef.isDragging())("cdk-drop-list-receiving",j._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[l._Bn([{provide:Nt,useValue:void 0},{provide:Ct,useExisting:J}])]}),J})();var ne=C(2572),Yt=C(1326),Wt=C(1484),Qt=C(3444),ie=C(9803);const qt=()=>(new Date).toISOString();var Gt=C(95),re=C(9111);const ae=["EditInput"];let oe=(()=>{class J{constructor(){this.activePositonChange=new l.vpe,this.name="",this.activePosition="bottom",this.done=new l.vpe}set editInput(A){A&&A.nativeElement.focus()}save(){this.done.emit(this.name)}cancel(){this.done.emit("")}updateActivePosition(A,j){A.stopPropagation(),this.activePositonChange.emit(j)}}return J.\u0275fac=function(A){return new(A||J)},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-new-task"]],viewQuery:function(A,j){if(1&A&&l.Gf(ae,5),2&A){let G;l.iGM(G=l.CRH())&&(j.editInput=G.first)}},inputs:{name:"name",activePosition:"activePosition"},outputs:{activePositonChange:"activePositonChange",done:"done"},standalone:!0,features:[l.jDz],decls:13,vars:11,consts:[["appOutsideClick","",1,"cu-new-task",3,"clickOutside"],["type","text","placeholder","Enter Task Name",3,"ngModel","ngModelChange","keyup.enter"],["EditInput",""],[1,"cu-new-task__actions"],[1,"btn",3,"click"],[1,"btn","primary",3,"click"],[1,"cu-new-task__control"],[1,"cu-new-task__control-up","cu-new-task_arrow",3,"click"],["type","arrow-up",1,"hover-primary",3,"size"],[1,"cu-new-task__control-down","cu-new-task_arrow",3,"click"],["type","arrow-down",1,"hover-primary","passive",3,"size"]],template:function(A,j){1&A&&(l.TgZ(0,"div",0),l.NdJ("clickOutside",function(){return j.cancel()}),l.TgZ(1,"input",1,2),l.NdJ("ngModelChange",function(Q){return j.name=Q})("keyup.enter",function(){return j.save()}),l.qZA(),l.TgZ(3,"div",3)(4,"button",4),l.NdJ("click",function(){return j.cancel()}),l._uU(5,"Cancel"),l.qZA(),l.TgZ(6,"button",5),l.NdJ("click",function(){return j.save()}),l._uU(7,"Done"),l.qZA()(),l.TgZ(8,"div",6)(9,"span",7),l.NdJ("click",function(Q){return j.updateActivePosition(Q,"top")}),l._UZ(10,"cu-icon",8),l.qZA(),l.TgZ(11,"span",9),l.NdJ("click",function(Q){return j.updateActivePosition(Q,"bottom")}),l._UZ(12,"cu-icon",10),l.qZA()()()),2&A&&(l.xp6(1),l.Q6J("ngModel",j.name),l.xp6(9),l.ekj("passive","bottom"===j.activePosition)("primary","top"===j.activePosition),l.Q6J("size",15),l.xp6(2),l.ekj("passive","top"===j.activePosition)("primary","bottom"===j.activePosition),l.Q6J("size",15))},dependencies:[f.ez,Gt.u5,Gt.Fj,Gt.JJ,Gt.On,Yt._k,re.o],styles:[".cu-new-task[_ngcontent-%COMP%]{width:250px;padding:20px;box-shadow:0 0 2px #091e424d;box-sizing:border-box;border-radius:6px;background-color:#fff;cursor:pointer;border:1px solid var(--theme-main-color);position:relative}.cu-new-task[_ngcontent-%COMP%]   .cu-new-task__control[_ngcontent-%COMP%]{display:flex;justify-content:center;height:40px;width:7px;position:absolute;right:-4px;top:calc(50% - 23px);background:#fff;z-index:1}.cu-new-task[_ngcontent-%COMP%]   .cu-new-task__control[_ngcontent-%COMP%]   .cu-new-task__control-up[_ngcontent-%COMP%]{position:absolute;top:-5px;line-height:0}.cu-new-task[_ngcontent-%COMP%]   .cu-new-task__control[_ngcontent-%COMP%]   .cu-new-task__control-down[_ngcontent-%COMP%]{position:absolute;bottom:-4px;line-height:0}.cu-new-task[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:5px;outline:none;width:100%}.cu-new-task[_ngcontent-%COMP%]   .cu-new-task__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:10px;column-gap:5px}.cu-new-task[_ngcontent-%COMP%]   .cu-new-task__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:11px}"]}),J})(),se=(()=>{class J{constructor(){this.edit=new l.vpe,this._task={id:"",name:"",statusId:"",description:"",createdDate:qt(),startDate:qt(),duration:0,position:0}}set task(A){this._task={...A}}get task(){return this._task}editTask(){this.edit.emit(this.task)}}return J.\u0275fac=function(A){return new(A||J)},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-task"]],inputs:{workspace:"workspace",task:"task"},outputs:{edit:"edit"},standalone:!0,features:[l.jDz],decls:11,vars:2,consts:[[1,"cu-task",3,"click"],[1,"cu-task__space"],[1,"cu-task__name"],[1,"cu-task__info"]],template:function(A,j){1&A&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return j.editTask()}),l.TgZ(1,"div",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2),l._uU(4),l.qZA(),l.TgZ(5,"div",3)(6,"button")(7,"span"),l._uU(8,"+"),l.qZA(),l.TgZ(9,"span"),l._uU(10,"Add Subtask"),l.qZA()()()()),2&A&&(l.xp6(2),l.hij(" ",j.workspace.name," "),l.xp6(2),l.hij(" ",j.task.name," "))},dependencies:[f.ez,Gt.u5],styles:[".cu-task[_ngcontent-%COMP%]{width:250px;padding:7px 10px;box-shadow:0 0 2px #091e424d;box-sizing:border-box;border-radius:6px;background-color:#fff;cursor:pointer}.cu-task[_ngcontent-%COMP%]   .cu-task__space[_ngcontent-%COMP%]{color:var(--light-passive-text-color);font-size:10px}.cu-task[_ngcontent-%COMP%]   .cu-task__name[_ngcontent-%COMP%]{height:19px;text-overflow:ellipsis;text-wrap:nowrap;overflow:hidden}.cu-task[_ngcontent-%COMP%]   .cu-task__info[_ngcontent-%COMP%]{margin-top:12px}.cu-task[_ngcontent-%COMP%]   .cu-task__info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;column-gap:3px;padding:2px 5px 2px 2px}.cu-task[_ngcontent-%COMP%]   .cu-task__info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#bcc0c7;font-size:10px;text-transform:uppercase}"]}),J})();var le=C(4221);const ce=function(J){return{"border-top-color":J}};function ue(J,R){if(1&J&&(l.TgZ(0,"div",6)(1,"div",7),l._uU(2),l.qZA(),l.TgZ(3,"div",8),l._uU(4),l.qZA()()),2&J){const A=R.$implicit;l.Q6J("ngStyle",l.VKq(3,ce,A.color)),l.xp6(2),l.hij(" ",A.name," "),l.xp6(2),l.hij(" ",A.tasks.length," ")}}function de(J,R){if(1&J){const A=l.EpF();l.TgZ(0,"section",14)(1,"cu-new-task",15),l.NdJ("activePositonChange",function(G){l.CHM(A);const Q=l.oxw(3);return l.KtG(Q.updateActivePosition(G))})("done",function(G){l.CHM(A);const Q=l.oxw(3);return l.KtG(Q.taskCreationDone(G))}),l.qZA()()}if(2&J){const A=l.oxw(3);l.xp6(1),l.Q6J("activePosition",A.taskCreateState.position)}}const he=function(J,R){return[J,R]};function fe(J,R){if(1&J){const A=l.EpF();l.ynx(0),l.TgZ(1,"div",16)(2,"cu-task",17),l.NdJ("edit",function(){const Q=l.CHM(A).$implicit,rt=l.oxw(3);return l.KtG(rt.editTask(Q))}),l.qZA()(),l.BQk()}if(2&J){const A=R.$implicit,j=R.index,G=l.oxw(3);l.xp6(1),l.Q6J("cdkDragData",l.WLB(3,he,A,j)),l.xp6(1),l.Q6J("workspace",G.workspace)("task",A)}}function _e(J,R){if(1&J){const A=l.EpF();l.TgZ(0,"section",18)(1,"cu-new-task",15),l.NdJ("activePositonChange",function(G){l.CHM(A);const Q=l.oxw(3);return l.KtG(Q.updateActivePosition(G))})("done",function(G){l.CHM(A);const Q=l.oxw(3);return l.KtG(Q.taskCreationDone(G))}),l.qZA()()}if(2&J){const A=l.oxw(3);l.xp6(1),l.Q6J("activePosition",A.taskCreateState.position)}}function ge(J,R){if(1&J){const A=l.EpF();l.TgZ(0,"div",9),l.NdJ("cdkDropListDropped",function(G){l.CHM(A);const Q=l.oxw(2);return l.KtG(Q.taskMove(G))}),l.YNc(1,de,2,1,"section",10),l.YNc(2,fe,3,6,"ng-container",11),l.YNc(3,_e,2,1,"section",12),l.TgZ(4,"button",13),l.NdJ("click",function(){const Q=l.CHM(A).$implicit,rt=l.oxw(2);return l.KtG(rt.createNewTask(Q))}),l.TgZ(5,"span"),l._uU(6,"+"),l.qZA(),l.TgZ(7,"span"),l._uU(8,"New Task"),l.qZA()()()}if(2&J){const A=R.$implicit,j=l.oxw(2);l.Q6J("id",A.id)("cdkDropListData",A),l.xp6(1),l.Q6J("ngIf",j.taskCreateState.statusId===A.id&&"top"===j.taskCreateState.position),l.xp6(1),l.Q6J("ngForOf",A.tasks),l.xp6(1),l.Q6J("ngIf",j.taskCreateState.statusId===A.id&&"bottom"===j.taskCreateState.position)}}function pe(J,R){if(1&J&&(l.ynx(0),l.TgZ(1,"div",1)(2,"div",2),l.YNc(3,ue,5,5,"div",3),l.qZA(),l.TgZ(4,"div",4),l.YNc(5,ge,9,5,"div",5),l.qZA()(),l.BQk()),2&J){const A=l.oxw();l.xp6(3),l.Q6J("ngForOf",A.vm.statuses),l.xp6(2),l.Q6J("ngForOf",A.vm.statuses)}}class Jt{constructor(){this.statusId="",this.position="bottom",this.task=null}}let ve=(()=>{class J{constructor(A){this.store=A,this.board$=this.store.select(Qt.kr),this.statuses$=this.store.select(Qt.cJ),this.vm={board:null,statuses:[]},this.vm$=(0,ne.a)({board:this.board$,statuses:this.statuses$}).pipe((0,m.b)(j=>this.vm=j)),this.taskCreateState=new Jt,this.workspace={name:"Work"}}ngOnInit(){this.store.dispatch(Wt.QI())}taskMove(A){let G=A.container.id;if(A.previousContainer.id===G){let[Q]=A.item.data;this.store.dispatch(Wt.f7({task:Q,nextIndex:A.currentIndex}))}else{let Q=this.vm.statuses.find(bt=>bt.id===G),rt=A.previousContainer.data,[lt]=A.item.data;this.store.dispatch(Wt.jh({prev:rt,target:Q,task:lt,insertIndex:A.currentIndex}))}}createNewTask(A){this.taskCreateState.statusId=A.id,this.taskCreateState.task={id:(0,ie.g)(),statusId:A.id,name:"",description:"",createdDate:qt(),startDate:qt(),duration:0,position:0}}taskCreationDone(A){if(0===A.length)return void(this.taskCreateState=new Jt);const j={...this.taskCreateState.task,name:A};this.store.dispatch(Wt.eB({task:j,position:this.taskCreateState.position})),this.taskCreateState=new Jt}editTask(A){this.store.dispatch(Wt.ZQ({statusId:A.statusId,taskId:A.id}))}updateActivePosition(A){this.taskCreateState.position=A}}return J.\u0275fac=function(A){return new(A||J)(l.Y36(le.yh))},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-board-view"]],standalone:!0,features:[l.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["appHorizontalControl","",1,"cu-board"],[1,"cu-board-header"],["class","cu-board-header__item",3,"ngStyle",4,"ngFor","ngForOf"],["cdkDropListGroup","",1,"cu-board-dashboard"],["class","cu-board-dashboard__status","cdkDropList","",3,"id","cdkDropListData","cdkDropListDropped",4,"ngFor","ngForOf"],[1,"cu-board-header__item",3,"ngStyle"],[1,"cu-board-header__item-title"],[1,"cu-board-header__item-tasks-count"],["cdkDropList","",1,"cu-board-dashboard__status",3,"id","cdkDropListData","cdkDropListDropped"],["class","cu-board-dashboard__new-task-top",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cu-board-dashboard__new-task-bottom",4,"ngIf"],["appNoPropagation","","stopEvent","click",1,"cu-board-dashboard__add-task",3,"click"],[1,"cu-board-dashboard__new-task-top"],[3,"activePosition","activePositonChange","done"],["cdkDrag","","appNoPropagation","","stopEvent","mousedown",3,"cdkDragData"],[3,"workspace","task","edit"],[1,"cu-board-dashboard__new-task-bottom"]],template:function(A,j){1&A&&(l.YNc(0,pe,6,2,"ng-container",0),l.ALo(1,"async")),2&A&&l.Q6J("ngIf",l.lcZ(1,1,j.vm$))},dependencies:[f.ez,f.sg,f.O5,f.PC,f.Ov,se,oe,Ut,St,Dt,Yt.qO,Yt.GI],styles:[".cu-board[_ngcontent-%COMP%]{overflow-x:scroll;height:calc(100vh - 50px);width:100%;cursor:grab}.cu-board-header[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;gap:24px;padding:20px;box-sizing:border-box}.cu-board-header__item[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:250px;height:50px;padding:10px;border:none;border-radius:6px;box-shadow:0 2px 4px #091e421a;box-sizing:border-box;border-top:2px solid transparent}.cu-board-header__item[_ngcontent-%COMP%]   .cu-board-header__item-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:13px;font-weight:500;line-height:1.3;margin:0 5px 0 0;color:var(--cu-content-default);text-transform:uppercase}.cu-board-header__item[_ngcontent-%COMP%]   .cu-board-header__item-tasks-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:10px;font-weight:500;line-height:1;color:#292d34;height:20px;border-radius:20px;padding:0 8px;border:1px solid rgba(174,172,176,.45)}.cu-board-dashboard[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;gap:24px;padding:20px;box-sizing:border-box;cursor:grab}.cu-board-dashboard[_ngcontent-%COMP%]   .cu-board-dashboard__status[_ngcontent-%COMP%]{width:250px;display:flex;flex-direction:column;gap:15px}.cu-board-dashboard[_ngcontent-%COMP%]   .cu-board-dashboard__status[_ngcontent-%COMP%]:hover   .cu-board-dashboard__add-task[_ngcontent-%COMP%]{opacity:1}.cu-board-dashboard[_ngcontent-%COMP%]   .cu-board-dashboard__add-task[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:inline-flex;align-items:center;padding:8px 15px;column-gap:5px;opacity:0;transition:opacity .2s ease-in-out}.cu-board-dashboard[_ngcontent-%COMP%]   .cu-board-dashboard__add-task[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--passive-text-color)}"]}),J})();var Kt=C(2194),me=C(2760);const ye=["ganttChart"];let ke=(()=>{class J{constructor(A){this.zone=A,this.tasks=me.y}ngOnInit(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{Kt.gantt.init(this.ganttChart.nativeElement);const A=this.tasks.map(j=>({id:j.id,text:j.name,start_date:this.dateToGanttFormat(new Date(j.startDate)),duration:j.duration,progress:0,open:!1}));Kt.gantt.parse({data:[...A],links:[]}),Kt.gantt.attachEvent("onTaskClick",function(j,G){console.log(j)})},500)})}dateToGanttFormat(A){let j=A.getMonth()+1<10?`0${A.getMonth()+1}`:A.getMonth()+1;return`${A.getDate()<10?`0${A.getDate()}`:A.getDate()}-${j}-${A.getFullYear()}`}}return J.\u0275fac=function(A){return new(A||J)(l.Y36(l.R0b))},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-gantt-chart"]],viewQuery:function(A,j){if(1&A&&l.Gf(ye,5),2&A){let G;l.iGM(G=l.CRH())&&(j.ganttChart=G.first)}},hostVars:1,hostBindings:function(A,j){2&A&&l.Ikx("--ganttChartHeight",j.chartHeight)},standalone:!0,features:[l.jDz],decls:2,vars:0,consts:[["id","ganttChart",2,"width","100%","height","100%"],["ganttChart",""]],template:function(A,j){1&A&&l._UZ(0,"div",0,1)},changeDetection:0}),J})();const be=[{path:"",component:(()=>{class J{constructor(){}ngOnInit(){}}return J.\u0275fac=function(A){return new(A||J)},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-views"]],decls:1,vars:0,template:function(A,j){1&A&&l._UZ(0,"router-outlet")},dependencies:[_.lC]}),J})(),children:[{path:"list",component:(()=>{class J{constructor(){}ngOnInit(){}}return J.\u0275fac=function(A){return new(A||J)},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-list-view"]],standalone:!0,features:[l.jDz],decls:3,vars:0,consts:[[1,"cu-list-view"]],template:function(A,j){1&A&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"NOT IMPLEMENETED"),l.qZA()())},styles:[".cu-list-view[_ngcontent-%COMP%]{height:calc(100vh - 50px);width:100%;display:flex;align-items:center;justify-content:center}"]}),J})()},{path:"board",component:ve},{path:"gantt",component:(()=>{class J{constructor(A,j){this.hostRef=A,this.cd=j,this.chartHeight=400}ngAfterViewChecked(){let A=this.hostRef.nativeElement.getBoundingClientRect().top,G=window.innerHeight-A;this.chartHeight!==G&&setTimeout(()=>{this.chartHeight=G,this.cd.markForCheck()},1)}}return J.\u0275fac=function(A){return new(A||J)(l.Y36(l.SBq),l.Y36(l.sBO))},J.\u0275cmp=l.Xpm({type:J,selectors:[["cu-gantt-view"]],hostVars:2,hostBindings:function(A,j){2&A&&l.Udp("--ganttChartHeight",j.chartHeight)},standalone:!0,features:[l.jDz],decls:2,vars:0,consts:[[1,"gantt-view"]],template:function(A,j){1&A&&(l.TgZ(0,"div",0),l._UZ(1,"cu-gantt-chart"),l.qZA())},dependencies:[ke],styles:["[_nghost-%COMP%]{--ganttChartHeight: 400}[_nghost-%COMP%]   .gantt-view[_ngcontent-%COMP%]{display:grid;height:calc(var(--ganttChartHeight) * 1px)}"],changeDetection:0}),J})()}]}];let we=(()=>{class J{}return J.\u0275fac=function(A){return new(A||J)},J.\u0275mod=l.oAB({type:J}),J.\u0275inj=l.cJS({imports:[_.Bz.forChild(be),_.Bz]}),J})(),xe=(()=>{class J{}return J.\u0275fac=function(A){return new(A||J)},J.\u0275mod=l.oAB({type:J}),J.\u0275inj=l.cJS({imports:[f.ez,_.Bz,we]}),J})()},2194:Zt=>{window,Zt.exports=function($){var C={};function f(_){if(C[_])return C[_].exports;var l=C[_]={i:_,l:!1,exports:{}};return $[_].call(l.exports,l,l.exports,f),l.l=!0,l.exports}return f.m=$,f.c=C,f.d=function(_,l,s){f.o(_,l)||Object.defineProperty(_,l,{enumerable:!0,get:s})},f.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},f.t=function(_,l){if(1&l&&(_=f(_)),8&l||4&l&&"object"==typeof _&&_&&_.__esModule)return _;var s=Object.create(null);if(f.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:_}),2&l&&"string"!=typeof _)for(var u in _)f.d(s,u,function(i){return _[i]}.bind(null,u));return s},f.n=function(_){var l=_&&_.__esModule?function(){return _.default}:function(){return _};return f.d(l,"a",l),l},f.o=function(_,l){return Object.prototype.hasOwnProperty.call(_,l)},f.p="/codebase/",f(f.s=327)}([function($,C,f){function _(i){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var l,s=f(2),u={}.constructor.toString();$.exports={copy:function i(a){var e,t;if(a&&"object"==_(a))switch(!0){case s.isDate(a):t=new Date(a);break;case s.isArray(a):for(t=new Array(a.length),e=0;e<a.length;e++)t[e]=i(a[e]);break;default:for(e in t=a.constructor.toString()!==u?Object.create(a):{},a)Object.prototype.hasOwnProperty.apply(a,[e])&&(t[e]=i(a[e]))}return t||a},defined:function(i){return void 0!==i},mixin:function(i,a,e){for(var t in a)(void 0===i[t]||e)&&(i[t]=a[t]);return i},uid:function(){return l||(l=(new Date).valueOf()),++l},bind:function(i,a){return i.bind?i.bind(a):function(){return i.apply(a,arguments)}},event:function(i,a,e,t){i.addEventListener?i.addEventListener(a,e,void 0!==t&&t):i.attachEvent&&i.attachEvent("on"+a,e)},eventRemove:function(i,a,e,t){i.removeEventListener?i.removeEventListener(a,e,void 0!==t&&t):i.detachEvent&&i.detachEvent("on"+a,e)}}},function($,C){function f(o){var c=0,d=0,h=0,g=0;if(o.getBoundingClientRect){var p=o.getBoundingClientRect(),y=document.body,v=document.documentElement||document.body.parentNode||document.body,m=window.pageYOffset||v.scrollTop||y.scrollTop,k=window.pageXOffset||v.scrollLeft||y.scrollLeft;c=p.top+m-(v.clientTop||y.clientTop||0),d=p.left+k-(v.clientLeft||y.clientLeft||0),h=document.body.offsetWidth-p.right,g=document.body.offsetHeight-p.bottom}else{for(;o;)c+=parseInt(o.offsetTop,10),d+=parseInt(o.offsetLeft,10),o=o.offsetParent;h=document.body.offsetWidth-o.offsetWidth-d,g=document.body.offsetHeight-o.offsetHeight-c}return{y:Math.round(c),x:Math.round(d),width:o.offsetWidth,height:o.offsetHeight,right:Math.round(h),bottom:Math.round(g)}}function _(o){var c=!1,d=!1;if(window.getComputedStyle){var h=window.getComputedStyle(o,null);c=h.display,d=h.visibility}else o.currentStyle&&(c=o.currentStyle.display,d=o.currentStyle.visibility);return"none"!=c&&"hidden"!=d}function l(o){return!isNaN(o.getAttribute("tabindex"))&&1*o.getAttribute("tabindex")>=0}function s(o){return!{a:!0,area:!0}[o.nodeName.loLowerCase()]||!!o.getAttribute("href")}function u(o){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[o.nodeName.toLowerCase()]||!o.hasAttribute("disabled")}function i(o){if(!o)return"";var c=o.className||"";return c.baseVal&&(c=c.baseVal),c.indexOf||(c=""),t(c)}var a;function e(o){var c;return o.tagName?c=o:(c=(o=o||window.event).target||o.srcElement).shadowRoot&&o.composedPath&&(c=o.composedPath()[0]),c}function t(o){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(o)}function n(){return document.head.createShadowRoot||document.head.attachShadow}function r(o){if(!o||!n())return document.body;for(;o.parentNode&&(o=o.parentNode);)if(o instanceof ShadowRoot)return o.host;return document.body}$.exports={getNodePosition:f,getFocusableNodes:function(o){for(var c=o.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(c,0),h=0;h<d.length;h++)d[h].$position=h;for(d.sort(function(p,y){return 0===p.tabIndex&&0!==y.tabIndex?1:0!==p.tabIndex&&0===y.tabIndex?-1:p.tabIndex===y.tabIndex?p.$position-y.$position:p.tabIndex<y.tabIndex?-1:1}),h=0;h<d.length;h++){var g=d[h];(l(g)||u(g)||s(g))&&_(g)||(d.splice(h,1),h--)}return d},getScrollSize:function(){var o=document.createElement("div");o.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(o);var c=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),c},getClassName:i,addClassName:function(o,c){c&&-1===o.className.indexOf(c)&&(o.className+=" "+c)},removeClassName:function(o,c){c=c.split(" ");for(var d=0;d<c.length;d++){var h=new RegExp("\\s?\\b"+c[d]+"\\b(?![-_.])","");o.className=o.className.replace(h,"")}},insertNode:function(o,c){a||(a=document.createElement("div")),a.innerHTML=c;var d=a.firstChild;return o.appendChild(d),d},removeNode:function(o){o&&o.parentNode&&o.parentNode.removeChild(o)},getChildNodes:function(o,c){for(var d=o.childNodes,h=d.length,g=[],p=0;p<h;p++){var y=d[p];y.className&&-1!==y.className.indexOf(c)&&g.push(y)}return g},toNode:function(o){return"string"==typeof o?document.getElementById(o)||document.querySelector(o)||document.body:o||document.body},locateClassName:function(o,c,d){var h=e(o),g="";for(void 0===d&&(d=!0);h;){if(g=i(h)){var p=g.indexOf(c);if(p>=0){if(!d)return h;var y=0===p||!t(g.charAt(p-1)),v=p+c.length>=g.length||!t(g.charAt(p+c.length));if(y&&v)return h}}h=h.parentNode}return null},locateAttribute:function(o,c){if(c){for(var d=e(o);d;){if(d.getAttribute&&d.getAttribute(c))return d;d=d.parentNode}return null}},getTargetNode:e,getRelativeEventPosition:function(o,c){var d=document.documentElement,h=f(c);return{x:o.clientX+d.scrollLeft-d.clientLeft-h.x+c.scrollLeft,y:o.clientY+d.scrollTop-d.clientTop-h.y+c.scrollTop}},isChildOf:function(o,c){if(!o||!c)return!1;for(;o&&o!=c;)o=o.parentNode;return o===c},hasClass:function(o,c){return"classList"in o?o.classList.contains(c):new RegExp("\\b"+c+"\\b").test(o.className)},closest:function(o,c){if(o.closest)return o.closest(c);if(o.matches||o.msMatchesSelector||o.webkitMatchesSelector){var d=o;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,c))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}return console.error("Your browser is not supported"),null},getRootNode:r,hasShadowParent:function(o){return!!r(o)},isShadowDomSupported:n,getActiveElement:function(){var o=document.activeElement;return o.shadowRoot&&(o=o.shadowRoot.activeElement),o===document.body&&document.getSelection&&(o=document.getSelection().focusNode||document.body),o}}},function($,C){function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var _={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function l(i){return!(!i||"object"!==f(i)||!(i.getFullYear&&i.getMonth&&i.getDate))}function s(i,a){var e=[];if(i.filter)return i.filter(a);for(var t=0;t<i.length;t++)a(i[t],t)&&(e[e.length]=i[t]);return e}function u(i){return 0===i}$.exports={getSecondsInUnit:function(i){return _[i]||_.hour},forEach:function(i,a){if(i.forEach)i.forEach(a);else for(var e=i.slice(),t=0;t<e.length;t++)a(e[t],t)},arrayMap:function(i,a){if(i.map)return i.map(a);for(var e=i.slice(),t=[],n=0;n<e.length;n++)t.push(a(e[n],n));return t},arrayIncludes:function(i,a){if(i.includes)return i.includes(a);for(var e=0;e<i.length;e++)if(i[e]===a)return!0;return!1},arrayFind:function(i,a){if(i.find)return i.find(a);for(var e=0;e<i.length;e++)if(a(i[e],e))return i[e]},arrayFilter:s,arrayDifference:function(i,a){return s(i,function(e,t){return!a(e,t)})},arraySome:function(i,a){if(0===i.length)return!1;for(var e=0;e<i.length;e++)if(a(i[e],e,i))return!0;return!1},hashToArray:function(i){var a=[];for(var e in i)i.hasOwnProperty(e)&&a.push(i[e]);return a},sortArrayOfHash:function(i,a,e){var t=function(n,r){return n<r};i.sort(function(n,r){return n[a]===r[a]?0:e?t(n[a],r[a]):t(r[a],n[a])})},throttle:function(i,a){var e=!1;return function(){e||(i.apply(null,arguments),e=!0,setTimeout(function(){e=!1},a))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&void 0!==i.length&&i.pop&&i.push},isDate:l,isValidDate:function(i){return l(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&"object"===f(i)&&"function String() { [native code] }"===Function.prototype.toString.call(i.constructor)},isNumberObject:function(i){return i&&"object"===f(i)&&"function Number() { [native code] }"===Function.prototype.toString.call(i.constructor)},isBooleanObject:function(i){return i&&"object"===f(i)&&"function Boolean() { [native code] }"===Function.prototype.toString.call(i.constructor)},delay:function(i,a){var e,t=function n(){n.$cancelTimeout(),n.$pending=!0;var r=Array.prototype.slice.call(arguments);e=setTimeout(function(){i.apply(this,r),n.$pending=!1},a)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(e),t.$pending=!1},t.$execute=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var a,e=[];for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.push(a);return e},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,a){return u(i)&&!u(a)&&(i="0"),i},checkZeroId:u,findBinary:function(i,a){for(var e,t,n,r=0,o=i.length-1;r<=o;)if(t=+i[e=Math.floor((r+o)/2)],n=+i[e-1],t<a)r=e+1;else{if(!(t>a)){for(;+i[e]==+i[e+1];)e++;return e}if(!isNaN(n)&&n<a)return e-1;o=e-1}return i.length-1}}},function($,C){$.exports=function(f,_){for(var l in _)_.hasOwnProperty(l)&&(f[l]=_[l]);function s(){this.constructor=f}f.prototype=null===_?Object.create(_):(s.prototype=_.prototype,new s)}},function($,C){function f(l){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(l)}var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch{"object"===(typeof window>"u"?"undefined":f(window))&&(_=window)}$.exports=_},function($,C){var f=function(){this._silent_mode=!1,this.listeners={}};f.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};$.exports=function(l){var s=new f;l.attachEvent=function(u,i,a){u="ev_"+u.toLowerCase(),s.listeners[u]||(s.listeners[u]=function(l){var s={},u=0,i=function(){var a=!0;for(var e in s){var t=s[e].apply(l,arguments);a=a&&t}return a};return i.addEvent=function(a,e){if("function"==typeof a){var t;if(e&&e.id?t=e.id:(t=u,u++),e&&e.once){var n=a;a=function(){n(),i.removeEvent(t)}}return s[t]=a,t}return!1},i.removeEvent=function(a){delete s[a]},i.clear=function(){s={}},i}(this)),a&&a.thisObject&&(i=i.bind(a.thisObject));var e=u+":"+s.listeners[u].addEvent(i,a);return a&&a.id&&(e=a.id),e},l.attachAll=function(u){this.attachEvent("listen_all",u)},l.callEvent=function(u,i){if(s._silent_mode)return!0;var a="ev_"+u.toLowerCase(),e=s.listeners;return e.ev_listen_all&&e.ev_listen_all.apply(this,[u].concat(i)),!e[a]||e[a].apply(this,i)},l.checkEvent=function(u){return!!s.listeners["ev_"+u.toLowerCase()]},l.detachEvent=function(u){if(u){var i=s.listeners;for(var a in i)i[a].removeEvent(u);var e=u.split(":");if(i=s.listeners,2===e.length){var t=e[0];i[t]&&i[t].removeEvent(e[1])}}},l.detachAllEvents=function(){for(var u in s.listeners)s.listeners[u].clear()}}},function($,C){$.exports=function(f,_,l,s,u){var i=_.getItemIndexByTopPosition(u.y)||0,a=_.getItemIndexByTopPosition(u.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),a+1)}}},function($,C){function f(){console.log("Method is not implemented.")}function _(){}_.prototype.render=f,_.prototype.set_value=f,_.prototype.get_value=f,_.prototype.focus=f,$.exports=function(l){return _}},function($,C){var f=typeof window<"u",_={isIE:f&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:f&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:f&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:f&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:f&&navigator.userAgent.indexOf("Opera")>=0,isChrome:f&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:f&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:f&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:f&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:f&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!f||typeof navigator>"u"};$.exports=_},function($,C){$.exports="function"==typeof Object.create?function(f,_){f.super_=_,f.prototype=Object.create(_.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:function(f,_){f.super_=_;var l=function(){};l.prototype=_.prototype,f.prototype=new l,f.prototype.constructor=f}},function($,C){var f,_,l=$.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(h){if(f===setTimeout)return setTimeout(h,0);if((f===s||!f)&&setTimeout)return f=setTimeout,setTimeout(h,0);try{return f(h,0)}catch{try{return f.call(null,h,0)}catch{return f.call(this,h,0)}}}!function(){try{f="function"==typeof setTimeout?setTimeout:s}catch{f=s}try{_="function"==typeof clearTimeout?clearTimeout:u}catch{_=u}}();var a,e=[],t=!1,n=-1;function r(){t&&a&&(t=!1,a.length?e=a.concat(e):n=-1,e.length&&o())}function o(){if(!t){var h=i(r);t=!0;for(var g=e.length;g;){for(a=e,e=[];++n<g;)a&&a[n].run();n=-1,g=e.length}a=null,t=!1,function(p){if(_===clearTimeout)return clearTimeout(p);if((_===u||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(p);try{_(p)}catch{try{return _.call(null,p)}catch{return _.call(this,p)}}}(h)}}function c(h,g){this.fun=h,this.array=g}function d(){}l.nextTick=function(h){var g=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)g[p-1]=arguments[p];e.push(new c(h,g)),1!==e.length||t||i(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=d,l.addListener=d,l.once=d,l.off=d,l.removeListener=d,l.removeAllListeners=d,l.emit=d,l.prependListener=d,l.prependOnceListener=d,l.listeners=function(h){return[]},l.binding=function(h){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(h){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function($,C){$.exports=function(f){var _=function(){};return _.prototype={show:function(l,s,u,i){},hide:function(){},set_value:function(l,s,u,i){this.get_input(i).value=l},get_value:function(l,s,u){return this.get_input(u).value||""},is_changed:function(l,s,u,i){var a=this.get_value(s,u,i);return a&&l&&a.valueOf&&l.valueOf?a.valueOf()!=l.valueOf():a!=l},is_valid:function(l,s,u,i){return!0},save:function(l,s,u){},get_input:function(l){return l.querySelector("input")},focus:function(l){var s=this.get_input(l);s&&(s.focus&&s.focus(),s.select&&s.select())}},_}},function($,C,f){var _=f(0),l=f(5),s=f(1),u=function(){"use strict";function i(a,e,t,n){a&&(this.$container=s.toNode(a),this.$parent=a),this.$config=_.mixin(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+_.uid(),this.$name="cell",this.$factory=t,l(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(a){return null},i.prototype.scrollTo=function(a,e){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*a==a&&(t.scrollLeft=a),1*e==e&&(t.scrollTop=e)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(a){if(this.$parent)return this.$parent.resize(a);!1===a&&(this.$preResize=!0);var e=this.$container,t=e.offsetWidth,n=e.offsetHeight,r=this.getSize();e===document.body&&(t=document.body.offsetWidth,n=document.body.offsetHeight),t<r.minWidth&&(t=r.minWidth),t>r.maxWidth&&(t=r.maxWidth),n<r.minHeight&&(n=r.minHeight),n>r.maxHeight&&(n=r.maxHeight),this.setSize(t,n),this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(a){this._hide(!1),a&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(a){if(!0===a&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===a&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=a},i.prototype.$toHTML=function(a,e){void 0===a&&(a=""),e=[e||"",this.$config.css||""].join(" ");var t=this.$config,n="";return t.raw?a="string"==typeof t.raw?t.raw:"":(a||(a="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(n="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+a+"</div>"},i.prototype.$fill=function(a,e){this.$view=a,this.$parent=e,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var a=this;this._headerClickHandler=function(e){s.locateAttribute(e,"data-cell-id")==a.$id&&a.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var a={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e="x"===this.$config.mode;a[e?"width":"height"]=a[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return a},i.prototype.getContentSize=function(){var a=this.$lastSize.contentX;a!==1*a&&(a=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:a,height:e}},i.prototype._getBorderSizes=function(){var a={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(a.left=1,a.horizontal++),this._currentBorders[this._borders.right]&&(a.right=1,a.horizontal++),this._currentBorders[this._borders.top]&&(a.top=1,a.vertical++),this._currentBorders[this._borders.bottom]&&(a.bottom=1,a.vertical++)),a},i.prototype.setSize=function(a,e){this.$view.style.width=a+"px",this.$view.style.height=e+"px";var t=this._getBorderSizes();this.$lastSize={x:a,y:e,contentX:a-t.horizontal,contentY:e-t.vertical},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(a,e){e||(e=this);var t=e.$view;for(var n in this._borders)s.removeClassName(t,this._borders[n]);"string"==typeof a&&(a=[a]);var r={};for(n=0;n<a.length;n++)s.addClassName(t,a[n]),r[a[n]]=!0;e._currentBorders=r},i.prototype._sizeContent=function(){var a=this.$view.childNodes[0];a&&"gantt_layout_content"==a.className&&(a.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var a=this.$lastSize;a.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],t=this.$view.childNodes[1],n="x"===this.$config.mode;if(this.$config.collapsed)if(t.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=a.y+"px";var r=Math.floor(a.y/2-a.x/2);e.style.transform="rotate(90deg) translate("+r+"px, "+r+"px)",t.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",t.style.display="",t.style.height=a.contentY+"px";e.style.height=this.$config.headerHeight+"px"},i}();$.exports=u},function($,C,f){"use strict";var _=f(22),l=Object.keys||function(c){var d=[];for(var h in c)d.push(h);return d};$.exports=n;var s=f(18);s.inherits=f(9);var u=f(67),i=f(63);s.inherits(n,u);for(var a=l(i.prototype),e=0;e<a.length;e++){var t=a[e];n.prototype[t]||(n.prototype[t]=i.prototype[t])}function n(c){if(!(this instanceof n))return new n(c);u.call(this,c),i.call(this,c),c&&!1===c.readable&&(this.readable=!1),c&&!1===c.writable&&(this.writable=!1),this.allowHalfOpen=!0,c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||_.nextTick(o,this)}function o(c){c.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),n.prototype._destroy=function(c,d){this.push(null),this.end(),_.nextTick(d,c)}},function($,C,f){"use strict";(function(_){var l=f(307),s=f(306),u=f(71);function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(D,M){if(i()<M)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(D=new Uint8Array(M)).__proto__=e.prototype:(null===D&&(D=new e(M)),D.length=M),D}function e(D,M,P){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(D,M,P);if("number"==typeof D){if("string"==typeof M)throw new Error("If encoding is specified then the first argument must be a string");return r(this,D)}return t(this,D,M,P)}function t(D,M,P,F){if("number"==typeof M)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer?function(B,q,nt,at){if(nt<0||q.byteLength<nt)throw new RangeError("'offset' is out of bounds");if(q.byteLength<nt+(at||0))throw new RangeError("'length' is out of bounds");return q=void 0===nt&&void 0===at?new Uint8Array(q):void 0===at?new Uint8Array(q,nt):new Uint8Array(q,nt,at),e.TYPED_ARRAY_SUPPORT?(B=q).__proto__=e.prototype:B=o(B,q),B}(D,M,P,F):"string"==typeof M?function(B,q,nt){if("string"==typeof nt&&""!==nt||(nt="utf8"),!e.isEncoding(nt))throw new TypeError('"encoding" must be a valid string encoding');var at=0|d(q,nt),ct=(B=a(B,at)).write(q,nt);return ct!==at&&(B=B.slice(0,ct)),B}(D,M,P):function(B,q){if(e.isBuffer(q)){var nt=0|c(q.length);return 0===(B=a(B,nt)).length||q.copy(B,0,0,nt),B}if(q){if(typeof ArrayBuffer<"u"&&q.buffer instanceof ArrayBuffer||"length"in q)return"number"!=typeof q.length||(at=q.length)!=at?a(B,0):o(B,q);if("Buffer"===q.type&&u(q.data))return o(B,q.data)}var at;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(D,M)}function n(D){if("number"!=typeof D)throw new TypeError('"size" argument must be a number');if(D<0)throw new RangeError('"size" argument must not be negative')}function r(D,M){if(n(M),D=a(D,M<0?0:0|c(M)),!e.TYPED_ARRAY_SUPPORT)for(var P=0;P<M;++P)D[P]=0;return D}function o(D,M){var P=M.length<0?0:0|c(M.length);D=a(D,P);for(var F=0;F<P;F+=1)D[F]=255&M[F];return D}function c(D){if(D>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|D}function d(D,M){if(e.isBuffer(D))return D.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(D)||D instanceof ArrayBuffer))return D.byteLength;"string"!=typeof D&&(D=""+D);var P=D.length;if(0===P)return 0;for(var F=!1;;)switch(M){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":case void 0:return tt(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return V(D).length;default:if(F)return tt(D).length;M=(""+M).toLowerCase(),F=!0}}function h(D,M,P){var F=D[M];D[M]=D[P],D[P]=F}function g(D,M,P,F,B){if(0===D.length)return-1;if("string"==typeof P?(F=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,isNaN(P)&&(P=B?0:D.length-1),P<0&&(P=D.length+P),P>=D.length){if(B)return-1;P=D.length-1}else if(P<0){if(!B)return-1;P=0}if("string"==typeof M&&(M=e.from(M,F)),e.isBuffer(M))return 0===M.length?-1:p(D,M,P,F,B);if("number"==typeof M)return M&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?B?Uint8Array.prototype.indexOf.call(D,M,P):Uint8Array.prototype.lastIndexOf.call(D,M,P):p(D,[M],P,F,B);throw new TypeError("val must be string, number or Buffer")}function p(D,M,P,F,B){var q,nt=1,at=D.length,ct=M.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(D.length<2||M.length<2)return-1;nt=2,at/=2,ct/=2,P/=2}function gt(yt,kt){return 1===nt?yt[kt]:yt.readUInt16BE(kt*nt)}if(B){var et=-1;for(q=P;q<at;q++)if(gt(D,q)===gt(M,-1===et?0:q-et)){if(-1===et&&(et=q),q-et+1===ct)return et*nt}else-1!==et&&(q-=q-et),et=-1}else for(P+ct>at&&(P=at-ct),q=P;q>=0;q--){for(var ht=!0,mt=0;mt<ct;mt++)if(gt(D,q+mt)!==gt(M,mt)){ht=!1;break}if(ht)return q}return-1}function y(D,M,P,F){P=Number(P)||0;var B=D.length-P;F?(F=Number(F))>B&&(F=B):F=B;var q=M.length;if(q%2!=0)throw new TypeError("Invalid hex string");F>q/2&&(F=q/2);for(var nt=0;nt<F;++nt){var at=parseInt(M.substr(2*nt,2),16);if(isNaN(at))return nt;D[P+nt]=at}return nt}function v(D,M,P,F){return st(tt(M,D.length-P),D,P,F)}function m(D,M,P,F){return st(function(B){for(var q=[],nt=0;nt<B.length;++nt)q.push(255&B.charCodeAt(nt));return q}(M),D,P,F)}function k(D,M,P,F){return m(D,M,P,F)}function b(D,M,P,F){return st(V(M),D,P,F)}function S(D,M,P,F){return st(function(B,q){for(var nt,at,gt=[],et=0;et<B.length&&!((q-=2)<0);++et)at=(nt=B.charCodeAt(et))>>8,gt.push(nt%256),gt.push(at);return gt}(M,D.length-P),D,P,F)}function w(D,M,P){return l.fromByteArray(0===M&&P===D.length?D:D.slice(M,P))}function x(D,M,P){P=Math.min(D.length,P);for(var F=[],B=M;B<P;){var q,nt,at,ct,gt=D[B],et=null,ht=gt>239?4:gt>223?3:gt>191?2:1;if(B+ht<=P)switch(ht){case 1:gt<128&&(et=gt);break;case 2:128==(192&(q=D[B+1]))&&(ct=(31&gt)<<6|63&q)>127&&(et=ct);break;case 3:nt=D[B+2],128==(192&(q=D[B+1]))&&128==(192&nt)&&(ct=(15&gt)<<12|(63&q)<<6|63&nt)>2047&&(ct<55296||ct>57343)&&(et=ct);break;case 4:nt=D[B+2],at=D[B+3],128==(192&(q=D[B+1]))&&128==(192&nt)&&128==(192&at)&&(ct=(15&gt)<<18|(63&q)<<12|(63&nt)<<6|63&at)>65535&&ct<1114112&&(et=ct)}null===et?(et=65533,ht=1):et>65535&&(F.push((et-=65536)>>>10&1023|55296),et=56320|1023&et),F.push(et),B+=ht}return function(mt){var yt=mt.length;if(yt<=T)return String.fromCharCode.apply(String,mt);for(var kt="",Tt=0;Tt<yt;)kt+=String.fromCharCode.apply(String,mt.slice(Tt,Tt+=T));return kt}(F)}C.Buffer=e,C.SlowBuffer=function(D){return+D!=D&&(D=0),e.alloc(+D)},C.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==_.TYPED_ARRAY_SUPPORT?_.TYPED_ARRAY_SUPPORT:function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===D.foo()&&"function"==typeof D.subarray&&0===D.subarray(1,1).byteLength}catch{return!1}}(),C.kMaxLength=i(),e.poolSize=8192,e._augment=function(D){return D.__proto__=e.prototype,D},e.from=function(D,M,P){return t(null,D,M,P)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(D,M,P){return F=null,q=M,nt=P,n(B=D),B<=0?a(F,B):void 0!==q?"string"==typeof nt?a(F,B).fill(q,nt):a(F,B).fill(q):a(F,B);var F,B,q,nt},e.allocUnsafe=function(D){return r(null,D)},e.allocUnsafeSlow=function(D){return r(null,D)},e.isBuffer=function(D){return!(null==D||!D._isBuffer)},e.compare=function(D,M){if(!e.isBuffer(D)||!e.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(D===M)return 0;for(var P=D.length,F=M.length,B=0,q=Math.min(P,F);B<q;++B)if(D[B]!==M[B]){P=D[B],F=M[B];break}return P<F?-1:F<P?1:0},e.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(D,M){if(!u(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return e.alloc(0);var P;if(void 0===M)for(M=0,P=0;P<D.length;++P)M+=D[P].length;var F=e.allocUnsafe(M),B=0;for(P=0;P<D.length;++P){var q=D[P];if(!e.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(F,B),B+=q.length}return F},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<D;M+=2)h(this,M,M+1);return this},e.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<D;M+=4)h(this,M,M+3),h(this,M+1,M+2);return this},e.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<D;M+=8)h(this,M,M+7),h(this,M+1,M+6),h(this,M+2,M+5),h(this,M+3,M+4);return this},e.prototype.toString=function(){var D=0|this.length;return 0===D?"":0===arguments.length?x(this,0,D):function(M,P,F){var B=!1;if((void 0===P||P<0)&&(P=0),P>this.length||((void 0===F||F>this.length)&&(F=this.length),F<=0)||(F>>>=0)<=(P>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return L(this,P,F);case"utf8":case"utf-8":return x(this,P,F);case"ascii":return E(this,P,F);case"latin1":case"binary":return I(this,P,F);case"base64":return w(this,P,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,P,F);default:if(B)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),B=!0}}.apply(this,arguments)},e.prototype.equals=function(D){if(!e.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===e.compare(this,D)},e.prototype.inspect=function(){var D="",M=C.INSPECT_MAX_BYTES;return this.length>0&&(D=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(D+=" ... ")),"<Buffer "+D+">"},e.prototype.compare=function(D,M,P,F,B){if(!e.isBuffer(D))throw new TypeError("Argument must be a Buffer");if(void 0===M&&(M=0),void 0===P&&(P=D?D.length:0),void 0===F&&(F=0),void 0===B&&(B=this.length),M<0||P>D.length||F<0||B>this.length)throw new RangeError("out of range index");if(F>=B&&M>=P)return 0;if(F>=B)return-1;if(M>=P)return 1;if(this===D)return 0;for(var q=(B>>>=0)-(F>>>=0),nt=(P>>>=0)-(M>>>=0),at=Math.min(q,nt),ct=this.slice(F,B),gt=D.slice(M,P),et=0;et<at;++et)if(ct[et]!==gt[et]){q=ct[et],nt=gt[et];break}return q<nt?-1:nt<q?1:0},e.prototype.includes=function(D,M,P){return-1!==this.indexOf(D,M,P)},e.prototype.indexOf=function(D,M,P){return g(this,D,M,P,!0)},e.prototype.lastIndexOf=function(D,M,P){return g(this,D,M,P,!1)},e.prototype.write=function(D,M,P,F){if(void 0===M)F="utf8",P=this.length,M=0;else if(void 0===P&&"string"==typeof M)F=M,P=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(P)?(P|=0,void 0===F&&(F="utf8")):(F=P,P=void 0)}var B=this.length-M;if((void 0===P||P>B)&&(P=B),D.length>0&&(P<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var q=!1;;)switch(F){case"hex":return y(this,D,M,P);case"utf8":case"utf-8":return v(this,D,M,P);case"ascii":return m(this,D,M,P);case"latin1":case"binary":return k(this,D,M,P);case"base64":return b(this,D,M,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,D,M,P);default:if(q)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),q=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function E(D,M,P){var F="";P=Math.min(D.length,P);for(var B=M;B<P;++B)F+=String.fromCharCode(127&D[B]);return F}function I(D,M,P){var F="";P=Math.min(D.length,P);for(var B=M;B<P;++B)F+=String.fromCharCode(D[B]);return F}function L(D,M,P){var F=D.length;(!M||M<0)&&(M=0),(!P||P<0||P>F)&&(P=F);for(var B="",q=M;q<P;++q)B+=K(D[q]);return B}function N(D,M,P){for(var F=D.slice(M,P),B="",q=0;q<F.length;q+=2)B+=String.fromCharCode(F[q]+256*F[q+1]);return B}function z(D,M,P){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+M>P)throw new RangeError("Trying to access beyond buffer length")}function U(D,M,P,F,B,q){if(!e.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>B||M<q)throw new RangeError('"value" argument is out of bounds');if(P+F>D.length)throw new RangeError("Index out of range")}function W(D,M,P,F){M<0&&(M=65535+M+1);for(var B=0,q=Math.min(D.length-P,2);B<q;++B)D[P+B]=(M&255<<8*(F?B:1-B))>>>8*(F?B:1-B)}function Y(D,M,P,F){M<0&&(M=4294967295+M+1);for(var B=0,q=Math.min(D.length-P,4);B<q;++B)D[P+B]=M>>>8*(F?B:3-B)&255}function O(D,M,P,F,B,q){if(P+F>D.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function H(D,M,P,F,B){return B||O(D,0,P,4),s.write(D,M,P,F,23,4),P+4}function X(D,M,P,F,B){return B||O(D,0,P,8),s.write(D,M,P,F,52,8),P+8}e.prototype.slice=function(D,M){var P,F=this.length;if((D=~~D)<0?(D+=F)<0&&(D=0):D>F&&(D=F),(M=void 0===M?F:~~M)<0?(M+=F)<0&&(M=0):M>F&&(M=F),M<D&&(M=D),e.TYPED_ARRAY_SUPPORT)(P=this.subarray(D,M)).__proto__=e.prototype;else{var B=M-D;P=new e(B,void 0);for(var q=0;q<B;++q)P[q]=this[q+D]}return P},e.prototype.readUIntLE=function(D,M,P){D|=0,M|=0,P||z(D,M,this.length);for(var F=this[D],B=1,q=0;++q<M&&(B*=256);)F+=this[D+q]*B;return F},e.prototype.readUIntBE=function(D,M,P){D|=0,M|=0,P||z(D,M,this.length);for(var F=this[D+--M],B=1;M>0&&(B*=256);)F+=this[D+--M]*B;return F},e.prototype.readUInt8=function(D,M){return M||z(D,1,this.length),this[D]},e.prototype.readUInt16LE=function(D,M){return M||z(D,2,this.length),this[D]|this[D+1]<<8},e.prototype.readUInt16BE=function(D,M){return M||z(D,2,this.length),this[D]<<8|this[D+1]},e.prototype.readUInt32LE=function(D,M){return M||z(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},e.prototype.readUInt32BE=function(D,M){return M||z(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},e.prototype.readIntLE=function(D,M,P){D|=0,M|=0,P||z(D,M,this.length);for(var F=this[D],B=1,q=0;++q<M&&(B*=256);)F+=this[D+q]*B;return F>=(B*=128)&&(F-=Math.pow(2,8*M)),F},e.prototype.readIntBE=function(D,M,P){D|=0,M|=0,P||z(D,M,this.length);for(var F=M,B=1,q=this[D+--F];F>0&&(B*=256);)q+=this[D+--F]*B;return q>=(B*=128)&&(q-=Math.pow(2,8*M)),q},e.prototype.readInt8=function(D,M){return M||z(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},e.prototype.readInt16LE=function(D,M){M||z(D,2,this.length);var P=this[D]|this[D+1]<<8;return 32768&P?4294901760|P:P},e.prototype.readInt16BE=function(D,M){M||z(D,2,this.length);var P=this[D+1]|this[D]<<8;return 32768&P?4294901760|P:P},e.prototype.readInt32LE=function(D,M){return M||z(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},e.prototype.readInt32BE=function(D,M){return M||z(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},e.prototype.readFloatLE=function(D,M){return M||z(D,4,this.length),s.read(this,D,!0,23,4)},e.prototype.readFloatBE=function(D,M){return M||z(D,4,this.length),s.read(this,D,!1,23,4)},e.prototype.readDoubleLE=function(D,M){return M||z(D,8,this.length),s.read(this,D,!0,52,8)},e.prototype.readDoubleBE=function(D,M){return M||z(D,8,this.length),s.read(this,D,!1,52,8)},e.prototype.writeUIntLE=function(D,M,P,F){D=+D,M|=0,P|=0,F||U(this,D,M,P,Math.pow(2,8*P)-1,0);var B=1,q=0;for(this[M]=255&D;++q<P&&(B*=256);)this[M+q]=D/B&255;return M+P},e.prototype.writeUIntBE=function(D,M,P,F){D=+D,M|=0,P|=0,F||U(this,D,M,P,Math.pow(2,8*P)-1,0);var B=P-1,q=1;for(this[M+B]=255&D;--B>=0&&(q*=256);)this[M+B]=D/q&255;return M+P},e.prototype.writeUInt8=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,1,255,0),e.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),this[M]=255&D,M+1},e.prototype.writeUInt16LE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8):W(this,D,M,!0),M+2},e.prototype.writeUInt16BE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>8,this[M+1]=255&D):W(this,D,M,!1),M+2},e.prototype.writeUInt32LE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D):Y(this,D,M,!0),M+4},e.prototype.writeUInt32BE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D):Y(this,D,M,!1),M+4},e.prototype.writeIntLE=function(D,M,P,F){if(D=+D,M|=0,!F){var B=Math.pow(2,8*P-1);U(this,D,M,P,B-1,-B)}var q=0,nt=1,at=0;for(this[M]=255&D;++q<P&&(nt*=256);)D<0&&0===at&&0!==this[M+q-1]&&(at=1),this[M+q]=(D/nt>>0)-at&255;return M+P},e.prototype.writeIntBE=function(D,M,P,F){if(D=+D,M|=0,!F){var B=Math.pow(2,8*P-1);U(this,D,M,P,B-1,-B)}var q=P-1,nt=1,at=0;for(this[M+q]=255&D;--q>=0&&(nt*=256);)D<0&&0===at&&0!==this[M+q+1]&&(at=1),this[M+q]=(D/nt>>0)-at&255;return M+P},e.prototype.writeInt8=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,1,127,-128),e.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),D<0&&(D=255+D+1),this[M]=255&D,M+1},e.prototype.writeInt16LE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8):W(this,D,M,!0),M+2},e.prototype.writeInt16BE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>8,this[M+1]=255&D):W(this,D,M,!1),M+2},e.prototype.writeInt32LE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24):Y(this,D,M,!0),M+4},e.prototype.writeInt32BE=function(D,M,P){return D=+D,M|=0,P||U(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D):Y(this,D,M,!1),M+4},e.prototype.writeFloatLE=function(D,M,P){return H(this,D,M,!0,P)},e.prototype.writeFloatBE=function(D,M,P){return H(this,D,M,!1,P)},e.prototype.writeDoubleLE=function(D,M,P){return X(this,D,M,!0,P)},e.prototype.writeDoubleBE=function(D,M,P){return X(this,D,M,!1,P)},e.prototype.copy=function(D,M,P,F){if(P||(P=0),F||0===F||(F=this.length),M>=D.length&&(M=D.length),M||(M=0),F>0&&F<P&&(F=P),F===P||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),D.length-M<F-P&&(F=D.length-M+P);var B,q=F-P;if(this===D&&P<M&&M<F)for(B=q-1;B>=0;--B)D[B+M]=this[B+P];else if(q<1e3||!e.TYPED_ARRAY_SUPPORT)for(B=0;B<q;++B)D[B+M]=this[B+P];else Uint8Array.prototype.set.call(D,this.subarray(P,P+q),M);return q},e.prototype.fill=function(D,M,P,F){if("string"==typeof D){if("string"==typeof M?(F=M,M=0,P=this.length):"string"==typeof P&&(F=P,P=this.length),1===D.length){var B=D.charCodeAt(0);B<256&&(D=B)}if(void 0!==F&&"string"!=typeof F)throw new TypeError("encoding must be a string");if("string"==typeof F&&!e.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else"number"==typeof D&&(D&=255);if(M<0||this.length<M||this.length<P)throw new RangeError("Out of range index");if(P<=M)return this;var q;if(M>>>=0,P=void 0===P?this.length:P>>>0,D||(D=0),"number"==typeof D)for(q=M;q<P;++q)this[q]=D;else{var nt=e.isBuffer(D)?D:tt(new e(D,F).toString()),at=nt.length;for(q=0;q<P-M;++q)this[q+M]=nt[q%at]}return this};var Z=/[^+\/0-9A-Za-z-_]/g;function K(D){return D<16?"0"+D.toString(16):D.toString(16)}function tt(D,M){var P;M=M||1/0;for(var F=D.length,B=null,q=[],nt=0;nt<F;++nt){if((P=D.charCodeAt(nt))>55295&&P<57344){if(!B){if(P>56319){(M-=3)>-1&&q.push(239,191,189);continue}if(nt+1===F){(M-=3)>-1&&q.push(239,191,189);continue}B=P;continue}if(P<56320){(M-=3)>-1&&q.push(239,191,189),B=P;continue}P=65536+(B-55296<<10|P-56320)}else B&&(M-=3)>-1&&q.push(239,191,189);if(B=null,P<128){if((M-=1)<0)break;q.push(P)}else if(P<2048){if((M-=2)<0)break;q.push(P>>6|192,63&P|128)}else if(P<65536){if((M-=3)<0)break;q.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;q.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return q}function V(D){return l.toByteArray(function(M){if((M=(P=M,P.trim?P.trim():P.replace(/^\s+|\s+$/g,"")).replace(Z,"")).length<2)return"";for(var P;M.length%4!=0;)M+="=";return M}(D))}function st(D,M,P,F){for(var B=0;B<F&&!(B+P>=M.length||B>=D.length);++B)M[B+P]=D[B];return B}}).call(this,f(4))},function($,C,f){var _=f(8);$.exports=function(l){return _.isNode||!l.$root}},function($,C){$.exports=function(f,_,l,s){return!!((s=_?_.config:s)&&s.placeholder_task&&l.exists(f))&&l.getItem(f).type===s.types.placeholder}},function($,C,f){(function(_){var l;l=typeof window<"u"?window:_,$.exports=l}).call(this,f(4))},function($,C,f){(function(_){function l(u){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function s(u){return Object.prototype.toString.call(u)}C.isArray=function(u){return Array.isArray?Array.isArray(u):"[object Array]"===s(u)},C.isBoolean=function(u){return"boolean"==typeof u},C.isNull=function(u){return null===u},C.isNullOrUndefined=function(u){return null==u},C.isNumber=function(u){return"number"==typeof u},C.isString=function(u){return"string"==typeof u},C.isSymbol=function(u){return"symbol"===l(u)},C.isUndefined=function(u){return void 0===u},C.isRegExp=function(u){return"[object RegExp]"===s(u)},C.isObject=function(u){return"object"===l(u)&&null!==u},C.isDate=function(u){return"[object Date]"===s(u)},C.isError=function(u){return"[object Error]"===s(u)||u instanceof Error},C.isFunction=function(u){return"function"==typeof u},C.isPrimitive=function(u){return null===u||"boolean"==typeof u||"number"==typeof u||"string"==typeof u||"symbol"===l(u)||void 0===u},C.isBuffer=_.isBuffer}).call(this,f(14).Buffer)},function($,C){$.exports=function(f,_,l,s,u){if(!f.start_date||!f.end_date)return null;var i=l.getItemTop(f.id),a=l.getItemHeight(f.id);if(i>_.y_end||i+a<_.y)return!1;var e=l.posFromDate(f.start_date),t=l.posFromDate(f.end_date),n=Math.min(e,t)-200,r=Math.max(e,t)+200;return!(n>_.x_end||r<_.x)}},function($,C){$.exports=function(f){return f.config.smart_rendering&&f._smart_render}},function($,C,f){var _=f(14),l=_.Buffer;function s(i,a){for(var e in i)a[e]=i[e]}function u(i,a,e){return l(i,a,e)}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?$.exports=_:(s(_,C),C.Buffer=u),s(l,u),u.from=function(i,a,e){if("number"==typeof i)throw new TypeError("Argument must not be a number");return l(i,a,e)},u.alloc=function(i,a,e){if("number"!=typeof i)throw new TypeError("Argument must be a number");var t=l(i);return void 0!==a?"string"==typeof e?t.fill(a,e):t.fill(a):t.fill(0),t},u.allocUnsafe=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return l(i)},u.allocUnsafeSlow=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return _.SlowBuffer(i)}},function($,C,f){"use strict";(function(_){$.exports=!_.version||0===_.version.indexOf("v0.")||0===_.version.indexOf("v1.")&&0!==_.version.indexOf("v1.8.")?{nextTick:function(l,s,u,i){if("function"!=typeof l)throw new TypeError('"callback" argument must be a function');var a,e,t=arguments.length;switch(t){case 0:case 1:return _.nextTick(l);case 2:return _.nextTick(function(){l.call(null,s)});case 3:return _.nextTick(function(){l.call(null,s,u)});case 4:return _.nextTick(function(){l.call(null,s,u,i)});default:for(a=new Array(t-1),e=0;e<a.length;)a[e++]=arguments[e];return _.nextTick(function(){l.apply(null,a)})}}}:_}).call(this,f(10))},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(){this.link=null,this.task=null,this.start_date=null,this.end_date=null,this.latestStart=null,this.earliestStart=null,this.earliestEnd=null,this.latestEnd=null,this.latestSchedulingStart=null,this.earliestSchedulingStart=null,this.latestSchedulingEnd=null,this.earliestSchedulingEnd=null,this.kind="asap",this.conflict=!1}return l.Create=function(s){var u=new l;if(s)for(var i in u)void 0!==s[i]&&(u[i]=s[i]);return u},l}();C.TaskPlan=_},function($,C,f){var _=f(2);function s(i,a,e){return a=a||[],"<"+i+u(e||[])+">"+(a.innerHTML||"")+"</"+i+">"}function u(i){var a="";return _.forEach(i,function(e){a+=" "+e.key+"='"+e.value+"'"}),a}$.exports={getHtmlSelect:function(i,a,e){var t="",n=this;return _.forEach(i=i||[],function(r){var o=[{key:"value",value:r.key}];e==r.key&&(o[o.length]={key:"selected",value:"selected"}),r.attributes&&(o=o.concat(r.attributes)),t+=n.getHtmlOption({innerHTML:r.label},o)}),s("select",{innerHTML:t},a)},getHtmlOption:function(i,a){return s("option",i,a)},getHtmlButton:function(i,a){return s("button",i,a)},getHtmlDiv:function(i,a){return s("div",i,a)},getHtmlLabel:function(i,a){return s("label",i,a)},getHtmlInput:function(i){return"<input"+u(i||[])+">"}}},function($,C,f){var _=f(3),l=f(24);$.exports=function(s){var u=f(7)(s);function i(){return u.apply(this,arguments)||this}return _(i,u),i.prototype.render=function(a){var e="<div class='gantt_cal_ltext' style='height:"+(a.height||"23")+"px;'>";return(e+=l.getHtmlSelect(a.options,[{key:"style",value:"width:100%;"}]))+"</div>"},i.prototype.set_value=function(a,e,t,n){var r=a.firstChild;!r._dhx_onchange&&n.onchange&&(r.onchange=n.onchange,r._dhx_onchange=!0),void 0===e&&(e=(r.options[0]||{}).value),r.value=e||""},i.prototype.get_value=function(a){return a.firstChild.value},i.prototype.focus=function(a){s._focus(a.firstChild,!0)},i}},function($,C,f){var _=f(0);$.exports={createDropTargetObject:function(l){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return l&&_.mixin(s,l,!0),s},nextSiblingTarget:function(l,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=u.getParent(i.targetId),i.targetIndex=u.getBranchIndex(i.targetId),(u.getParent(l)!=i.targetParent||i.targetIndex<u.getBranchIndex(l))&&(i.targetIndex+=1),i},prevSiblingTarget:function(l,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=u.getParent(i.targetId),i.targetIndex=u.getBranchIndex(i.targetId),u.getParent(l)==i.targetParent&&i.targetIndex>u.getBranchIndex(l)&&(i.targetIndex-=1),i},firstChildTarget:function(l,s,u){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(l,s,u){var i=u.getChildren(s),a=this.createDropTargetObject();return a.targetId=i[i.length-1],a.targetParent=s,a.targetIndex=i.length,a.nextSibling=!0,a}}},function($,C,f){var _=f(20);$.exports=function(l,s,u,i){var a=s.width[l];return!(a<=0||i.config.smart_rendering&&!_(i)&&!(s.left[l]-a<=u.x_end&&s.left[l]+a>=u.x))}},function($,C){$.exports=function(f,_){var l=0,s=f.left.length-1;if(_)for(var u=0;u<f.left.length;u++){var i=f.left[u];if(i<_.x&&(l=u),i>_.x_end){s=u;break}}return{start:l,end:s}}},function($,C){$.exports=function(f,_,l){return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:0,right:1/0}}},function($,C){$.exports=function(f){function _(i,a,e){if(!f._isAllowedUnscheduledTask(i)&&f._isTaskInTimelineLimits(i)){var t=a.getItemPosition(i),n=e,r=a.$getTemplates(),o=f.getTaskType(i.type),c=a.getBarHeight(i.id,o==n.types.milestone),d=0;o==n.types.milestone&&(d=(c-t.height)/2);var h=Math.floor((a.getItemHeight(i.id)-c)/2);o==n.types.milestone&&(t.left-=Math.round(c/2),t.width=c);var g=document.createElement("div"),p=Math.round(t.width);a.$config.item_attribute&&(g.setAttribute(a.$config.item_attribute,i.id),g.setAttribute(a.$config.bind+"_id",i.id)),n.show_progress&&o!=n.types.milestone&&function(S,w,x,T,E){var I=1*S.progress||0;x=Math.max(x-2,0);var L=document.createElement("div"),N=Math.round(x*I);N=Math.min(x,N),S.progressColor&&(L.style.backgroundColor=S.progressColor,L.style.opacity=1),L.style.width=N+"px",L.className="gantt_task_progress",L.innerHTML=E.progress_text(S.start_date,S.end_date,S),T.rtl&&(L.style.position="absolute",L.style.right="0px");var z=document.createElement("div");if(z.className="gantt_task_progress_wrapper",z.appendChild(L),w.appendChild(z),f.config.drag_progress&&!f.isReadonly(S)){var U=document.createElement("div"),W=N;T.rtl&&(W=x-N),U.style.left=W+"px",U.className="gantt_task_progress_drag",L.appendChild(U),w.appendChild(U)}}(i,g,p,n,r);var y=(S=i,w=p,x=r,T=document.createElement("div"),f.getTaskType(S.type)!=f.config.types.milestone?T.innerHTML=x.task_text(S.start_date,S.end_date,S):f.getTaskType(S.type)==f.config.types.milestone&&w&&(T.style.height=T.style.width=w+"px"),T.className="gantt_task_content",T);i.textColor&&(y.style.color=i.textColor),g.appendChild(y);var v=function(S,w,x,T){var E=T.$getConfig(),I=["gantt_task_line"];w&&I.push(w);var L=f.getState(),N=f.getTask(x);if(f.getTaskType(N.type)==E.types.milestone?I.push("gantt_milestone"):f.getTaskType(N.type)==E.types.project&&I.push("gantt_project"),I.push("gantt_bar_"+f.getTaskType(N.type)),f.isSummaryTask(N)&&I.push("gantt_dependent_task"),f.isSplitTask(N)&&(E.open_split_tasks&&!N.$open||!E.open_split_tasks)&&I.push("gantt_split_parent"),E.select_task&&f.isSelectedTask(x)&&I.push("gantt_selected"),x==L.drag_id&&(I.push("gantt_drag_"+L.drag_mode),L.touch_drag&&I.push("gantt_touch_"+L.drag_mode)),L.link_source_id==x&&I.push("gantt_link_source"),L.link_target_id==x&&I.push("gantt_link_target"),E.highlight_critical_path&&f.isCriticalTask&&f.isCriticalTask(N)&&I.push("gantt_critical_task"),L.link_landing_area&&L.link_target_id&&L.link_source_id&&L.link_target_id!=L.link_source_id&&(L.link_target_id==x||L.link_source_id==x)){var W=L.link_to_start,Y=f.isLinkAllowed(L.link_source_id,x,L.link_from_start,W);I.push(Y?W?"link_start_allow":"link_finish_allow":W?"link_start_deny":"link_finish_deny")}return I.join(" ")}(0,r.task_class(i.start_date,i.end_date,i),i.id,a);(i.color||i.progressColor||i.textColor)&&(v+=" gantt_task_inline_color"),t.width<20&&(v+=" gantt_thin_task"),g.className=v;var m=["left:"+t.left+"px","top:"+(h+t.top)+"px","height:"+(o==n.types.milestone?t.height:c)+"px","line-height:"+Math.max(c<30?c-2:c,0)+"px","width:"+p+"px"];i.color&&m.push("background-color:"+i.color),i.textColor&&m.push("color:"+i.textColor),g.style.cssText=m.join(";");var k=function(S,w,x,T){var E="gantt_left "+s(!w.rtl,S),I=null;return T&&(I={type:"marginRight",value:T}),l(S,x.leftside_text,E,I)}(i,n,r,d);k&&g.appendChild(k),(k=function(S,w,x,T){var E="gantt_right "+s(!!w.rtl,S),I=null;return T&&(I={type:"marginLeft",value:T}),l(S,x.rightside_text,E,I)}(i,n,r,d))&&g.appendChild(k),f._waiAria.setTaskBarAttr(i,g);var b=f.getState();return f.isReadonly(i)||(n.drag_resize&&!f.isSummaryTask(i)&&o!=n.types.milestone&&u(g,"gantt_task_drag",i,function(S){var w=document.createElement("div");return w.className=S,w},n),n.drag_links&&n.show_links&&u(g,"gantt_link_control",i,function(S){var w=document.createElement("div");w.className=S,w.style.cssText=["height:"+c+"px","line-height:"+c+"px"].join(";");var x=document.createElement("div");x.className="gantt_link_point";var T=!1;return b.link_source_id&&n.touch&&(T=!0),x.style.display=T?"block":"",w.appendChild(x),w},n,d)),g}var S,w,x,T}function l(i,a,e,t){if(!a)return null;var n=a(i.start_date,i.end_date,i);if(!n)return null;var r=document.createElement("div");return r.className="gantt_side_content "+e,r.innerHTML=n,t&&(r.style[t.type]=Math.abs(t.value)+"px"),r}function s(i,a){var e=i?{$source:[f.config.links.start_to_start],$target:[f.config.links.start_to_start,f.config.links.finish_to_start]}:{$source:[f.config.links.finish_to_start,f.config.links.finish_to_finish],$target:[f.config.links.finish_to_finish]};for(var t in e)for(var n=a[t],r=0;r<n.length;r++)for(var o=f.getLink(n[r]),c=0;c<e[t].length;c++)if(o.type==e[t][c])return"gantt_link_crossing";return""}function u(i,a,e,t,n,r){var o,c=f.getState();+e.start_date>=+c.min_date&&((o=t([a,n.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),r&&(o.style.marginLeft=r+"px"),i.appendChild(o)),+e.end_date<=+c.max_date&&((o=t([a,n.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),r&&(o.style.marginRight=r+"px"),i.appendChild(o))}return function(i,a,e){var t=(e=a.$getConfig()).type_renderers[f.getTaskType(i.type)],n=_;return t?t.call(f,i,function(r){return n.call(f,r,a,e)},a):n.call(f,i,a,e)}}},function($,C,f){function l(i,a){(null==a||a>i.length)&&(a=i.length);for(var e=0,t=new Array(a);e<a;e++)t[e]=i[e];return t}var s=f(2);function u(i){if(i._delayRender&&i._delayRender.$cancelTimeout(),i.$gantt){var a=i.$gantt.$data.tasksStore,e=i.$config.rowStore,t="_attached_"+e.$config.name;i[t]&&(a.detachEvent(i[t]),i[t]=null),e.$attachedResourceViewHandler&&(e.detachEvent(e.$attachedResourceViewHandler),e.$attachedResourceViewHandler=null,a.detachEvent(e.$attachedTaskStoreHandler),e.$attachedTaskStoreHandler=null)}}$.exports=function(i){var a=i.prototype.init,e=i.prototype.destructor;return{init:function(){a.apply(this,arguments),this._linkToTaskStore()},destructor:function(){u(this),e.apply(this,arguments)},previousDragId:null,relevantResources:null,_linkToTaskStore:function(){if(this.$config.rowStore&&this.$gantt.$data.tasksStore){var t=this.$gantt.$data.tasksStore,n=this.$config.rowStore;u(this);var r=this,o=s.delay(function(){if(r.$gantt.getState().lightbox)o();else{var d=r.$config.rowStore,h=r._getRelevantResources();if(h){if("nothing_to_repaint"==h)return;d._quick_refresh=!0,r.relevantResources.forEach(function(g){d.refresh(g)}),d._quick_refresh=!1}else d.refresh()}},300);this._delayRender=o;var c="_attached_"+n.$config.name;r[c]||(r[c]=t.attachEvent("onStoreUpdated",function(){if(!o.$pending&&!this._skipResourceRepaint){var d=r.$gantt.getState();if("progress"==d.drag_mode)return!0;d.drag_mode&&d.drag_id&&(r.previousDragId=d.drag_id),o()}return!0})),this.$gantt.attachEvent("onDestroy",function(){return u(r),!0}),n.$attachedResourceViewHandler||(n.$attachedResourceViewHandler=n.attachEvent("onBeforeFilter",function(){return!r.$gantt.getState().lightbox&&(o.$pending&&o.$cancelTimeout(),r._updateNestedTasks(),!0)}),n.$attachedTaskStoreHandler=t.attachEvent("onAfterDelete",function(){n._mark_recompute=!0}))}},_getRelevantResources:function(){if(!this.$gantt.getTaskAssignments)return null;var t=this.$gantt.getState(),n=this.$config.rowStore,r=[];if(t.drag_mode&&t.drag_id)if(this.previousDragId==t.drag_id){if(this.relevantResources)return this.relevantResources;r=this.$gantt.getTaskAssignments(this.previousDragId)}else this.previousDragId=t.drag_id,r=this.$gantt.getTaskAssignments(this.previousDragId);else{if(!this.previousDragId)return null;r=this.$gantt.getTaskAssignments(this.previousDragId),this.previousDragId=null}if(!r.length)return this.relevantResources="nothing_to_repaint";var o=[];return r.forEach(function(c){o.push(c.resource_id),n.eachParent(function(d){o.push(d.id)},c.resource_id)}),this.relevantResources=function _(i){return function(a){if(Array.isArray(a))return l(a)}(i)||function(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}(i)||function(a,e){if(a){if("string"==typeof a)return l(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if("Object"===t&&a.constructor&&(t=a.constructor.name),"Map"===t||"Set"===t)return Array.from(a);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(a,e)}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))},_updateNestedTasks:function(){var t=this.$gantt,n=t.getDatastore(t.config.resource_store);n.$config.fetchTasks&&n.silent(function(){var r=[],o={},c={};for(var d in n.eachItem(function(h){if("task"!=h.$role){var g=t.getResourceAssignments(h.id),p={};g.sort(function(y,v){var m=n.pull,k=m["".concat(y.task_id,"_").concat(y.resource_id)],b=m["".concat(v.task_id,"_").concat(v.resource_id)];return k&&b?k.$local_index-b.$local_index:0}),g.forEach(function(y){if(!p[y.task_id]){p[y.task_id]=!0;var v=t.getTask(y.task_id),m=Object.create(v);m.id=v.id+"_"+h.id,m.$task_id=v.id,m.$resource_id=h.id,m[n.$parentProperty]=h.id,m.$role="task",r.push(m),o[m.id]=!0}})}else c[h.id]=!0}),c)o[d]||n.removeItem(d);r.length&&n.parse(r)})}}}},function($,C){$.exports=function(f,_,l){return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:0,right:1/0}}},function($,C){$.exports=function(f){var _=[];return{delegate:function(l,s,u,i){_.push([l,s,u,i]),f.$services.getService("mouseEvents").delegate(l,s,u,i)},destructor:function(){for(var l=f.$services.getService("mouseEvents"),s=0;s<_.length;s++){var u=_[s];l.detach(u[0],u[1],u[2],u[3])}_=[]}}}},function($,C,f){var _=f(1),l=f(0),s=f(5),u=f(223),i=f(47),a=f(221),e=f(220).default,t=function(n,r,o,c){this.$config=l.mixin({},r||{}),this.$gantt=c,this.$parent=n,s(this),this.$state={},l.mixin(this,i(this))};t.prototype={init:function(n){var r=this.$gantt,o=r._waiAria.gridAttrString(),c=r._waiAria.gridDataAttrString(),d=this.$getConfig(),h=d.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(h=this.$config.reorder_grid_columns),n.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+o+"></div>",this.$grid=n.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+r._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+c+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var g=d[this.$config.bind+"_attribute"];if(!g&&this.$config.bind&&(g="data-"+this.$config.bind+"-id"),this.$config.item_attribute=g||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var y=u(r,this);y.init(),this._renderHeaderResizers=y.doOnRender,this._mouseDelegates=f(33)(r),a(r,this).init(),this._addLayers(this.$gantt),this._initEvents(),h&&(this._columnDND=new e(r,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(n,r){var o=n[r];if(o&&"*"!=o){var c=this.$gantt,d=1*o;isNaN(d)?c.assert(!1,"Wrong "+r+" value of column "+n.name):n[r]=d}},setSize:function(n,r){this.$config.width=this.$state.width=n,this.$config.height=this.$state.height=r;for(var o,c=this.getGridColumns(),d=0,h=(k=this.$getConfig()).grid_elastic_columns,g=0,p=c.length;g<p;g++)this._validateColumnWidth(c[g],"min_width"),this._validateColumnWidth(c[g],"max_width"),this._validateColumnWidth(c[g],"width"),d+=1*c[g].width;if(!isNaN(d)&&this.$config.scrollable||(d=o=this._setColumnsWidth(n+1)),this.$config.scrollable&&h&&!isNaN(d)){var y="width";"min_width"==h&&(y="min_width");var v=0;c.forEach(function(S){v+=S[y]||k.min_grid_column_width}),v--;var m=Math.max(v,n);d=this._setColumnsWidth(m),o=n}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var k=this.$getConfig();o!==n&&(void 0!==o?(k.grid_width=o,this.$config.width=o-1):isNaN(d)||(this._setColumnsWidth(d),k.grid_width=d,this.$config.width=d-1));var b=Math.max(this.$state.height-k.scale_height,0);this.$grid_data.style.height=b+"px",this.refresh()},getSize:function(){var n=this.$getConfig(),r=this.$config.rowStore?this.getTotalHeight():0,o=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?o:0,contentY:this.isVisible()?n.scale_height+r:0,scrollHeight:this.isVisible()?r:0,scrollWidth:this.isVisible()?o:0}},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._gridCacheAttached){var r=this;n._gridCacheAttached=n.attachEvent("onBeforeFilter",function(){r._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._gridCacheAttached&&(n.detachEvent(n._gridCacheAttached),n._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var n=this.$config.scrollLeft||0,r=this.$config.scrollTop||0,o=this.$config.height||0,c=this.$config.width||0;return{y:r,y_end:r+o,x:n,x_end:n+c,height:o,width:c}},scrollTo:function(n,r){if(this.isVisible()){var o=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n==n&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=n,o=!0),1*r==r&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=r,o=!0),o&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(n,r){for(var o=this.$getConfig().columns,c=0,d=0;d<o.length;d++)if(r&&o[d].hide&&c++,o[d].name==n)return d-c;return null},getColumn:function(n){var r=this.getColumnIndex(n);return null===r?null:this.$getConfig().columns[r]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var n=this.$gantt,r=this;return[{renderer:n.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return r.isVisible()}]},{renderer:n.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return n.config.resize_rows}]}]},_addLayers:function(n){if(this.$config.bind){this._taskLayers=[];var r=this,o=this.$gantt.$services.getService("layers"),c=o.getDataRender(this.$config.bind);c||(c=o.createDataRender({name:this.$config.bind,defaultContainer:function(){return r.$grid_data}}));for(var d=this.$config.layers,h=0;d&&h<d.length;h++){var g=d[h];g.view=this;var p=c.addLayer(g);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(n){var r=this.$getConfig(),o=this.$config.rowStore;if(o&&null===n&&this.isVisible()&&r.smart_rendering){var c;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(c=d.getScrollState().scrollSize)}if(c||(c=o?this.getTotalHeight():0),c){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var h=this.$rowsPlaceholder=document.createElement("div");h.style.visibility="hidden",h.style.height=c+"px",h.style.width="1px",this.$grid_data.appendChild(h)}}},_initSmartRenderingPlaceholder:function(){var n=this.$config.rowStore;n&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=n.attachEvent("onStoreUpdated",l.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var n=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",n.bind(function(r,o,c){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.close(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",n.bind(function(r,o,c){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.open(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(n){var r=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var o=0;o<this._taskLayers.length;o++)r.removeLayer(this._taskLayers[o]);this._taskLayers=[]},_getColumnWidth:function(n,r,o){var d=Math.max(o,n.min_width||r.min_grid_column_width||10);return n.max_width&&(d=Math.min(d,n.max_width)),d},_checkGridColumnMinWidthLimits:function(n,r){for(var o=0,c=n.length;o<c;o++){var d=1*n[o].width;!n[o].min_width&&d<r.min_grid_column_width&&(n[o].min_width=d)}},_getGridWidthLimits:function(){for(var n=this.$getConfig(),r=this.getGridColumns(),o=0,c=0,d=0;d<r.length;d++)o+=r[d].min_width?r[d].min_width:n.min_grid_column_width,void 0!==c&&(c=r[d].max_width?c+r[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(r,n),[o,c]},_setColumnsWidth:function(n,r){var o=this.$getConfig(),c=this.getGridColumns(),d=0,h=n;r=window.isNaN(r)?-1:r;for(var g=0,p=c.length;g<p;g++)d+=1*c[g].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,g=0,p=c.length;g<p;g++)d+=1*c[g].width;var y=h-d,v=0;for(g=0;g<r+1;g++)v+=c[g].width;for(d-=v,g=r+1;g<c.length;g++){var m=c[g],k=Math.round(y*(m.width/d));y<0?m.min_width&&m.width+k<m.min_width?k=m.min_width-m.width:!m.min_width&&o.min_grid_column_width&&m.width+k<o.min_grid_column_width&&(k=o.min_grid_column_width-m.width):m.max_width&&m.width+k>m.max_width&&(k=m.max_width-m.width),d-=m.width,m.width+=k,y-=k}for(var b=y>0?1:-1;y>0&&1===b||y<0&&-1===b;){var S=y;for(g=r+1;g<c.length;g++){var w;if((w=c[g].width+b)==this._getColumnWidth(c[g],o,w)&&(y-=b,c[g].width=w),!y)break}if(S==y)break}return y&&r>-1&&(w=c[r].width+y)==this._getColumnWidth(c[r],o,w)&&(c[r].width=w),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var n=this.getGridColumns(),r=0,o=0;o<n.length;o++){var c=parseFloat(n[o].width);if(window.isNaN(c))return!1;r+=c}return r},_calculateGridWidth:function(){for(var n=this.$getConfig(),r=this.getGridColumns(),o=0,c=[],d=[],h=0;h<r.length;h++){var g=parseFloat(r[h].width);window.isNaN(g)&&(g=n.min_grid_column_width||10,c.push(h)),d[h]=g,o+=g}var p=this._getGridWidth()+1;if(n.autofit||c.length){var y=p-o;if(n.autofit&&!n.grid_elastic_columns)for(h=0;h<d.length;h++){var v=Math.round(y/(d.length-h));d[h]+=v,(m=this._getColumnWidth(r[h],n,d[h]))!=d[h]&&(v=m-d[h],d[h]=m),y-=v}else if(c.length)for(h=0;h<c.length;h++){v=Math.round(y/(c.length-h));var m,k=c[h];d[k]+=v,(m=this._getColumnWidth(r[k],n,d[k]))!=d[k]&&(v=m-d[k],d[k]=m),y-=v}for(h=0;h<d.length;h++)r[h].width=d[h]}else{var b=p!=o;this.$config.width=o-1,n.grid_width=o,b&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var n=this.$gantt,r=this.$getConfig(),o=this.$gantt.locale,c=this.$gantt.templates,d=this.getGridColumns();r.rtl&&(d=d.reverse());for(var h=[],g=0,p=o.labels,y=r.scale_height-1,v=0;v<d.length;v++){var m=v==d.length-1,k=d[v];k.name||(k.name=n.uid()+"");var b=1*k.width,S=this._getGridWidth();m&&S>g+b&&(k.width=b=S-g),g+=b;var w=n._sort&&k.name==n._sort.name?"<div class='gantt_sort gantt_"+n._sort.direction+"'></div>":"",x=["gantt_grid_head_cell","gantt_grid_head_"+k.name,m?"gantt_last_cell":"",c.grid_header_class(k.name,k)].join(" "),E=k.label||p["column_"+k.name]||p[k.name],I="<div class='"+x+"' style='width:"+(b-(m?1:0))+"px;' "+n._waiAria.gridScaleCellAttrString(k,E=E||"")+" data-column-id='"+k.name+"' column_id='"+k.name+"' data-column-name='"+k.name+"' data-column-index='"+v+"'>"+E+w+"</div>";h.push(I)}this.$grid_scale.style.height=r.scale_height+"px",this.$grid_scale.style.lineHeight=y+"px",this.$grid_scale.innerHTML=h.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},$.exports=t},function($,C,f){(function(_){var l=f(305),s=f(69),u=f(297),i=f(296),a=f(295),e=C;e.request=function(t,n){t="string"==typeof t?a.parse(t):u(t);var r=-1===_.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||r,c=t.hostname||t.host,d=t.port,h=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?o+"//"+c:"")+(d?":"+d:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var g=new l(t);return n&&g.on("response",n),g},e.get=function(t,n){var r=e.request(t,n);return r.end(),r},e.ClientRequest=l,e.IncomingMessage=s.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,f(4))},function($,C,f){"use strict";var _;Object.defineProperty(C,"__esModule",{value:!0}),(_=C.ConstraintTypes||(C.ConstraintTypes={})).ASAP="asap",_.ALAP="alap",_.SNET="snet",_.SNLT="snlt",_.FNET="fnet",_.FNLT="fnlt",_.MSO="mso",_.MFO="mfo"},,function($,C,f){},function($,C,f){var _=f(2);$.exports=function(l){var s={};return l.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(u,i,a,e){var t=u.id+"_"+i+"_"+a.unit+"_"+a.step;return s[t]?s[t]:s[t]=function(n,r,o,c){var d,g,h=!1;l.config.process_resource_assignments&&r===l.config.resource_property?(d="task"==n.$role?l.getResourceAssignments(n.$resource_id,n.$task_id):l.getResourceAssignments(n.id),h=!0):d="task"==n.$role?[]:l.getTaskBy(r,n.id),g=function(I,L,N){for(var z=L.unit,U=L.step,W={},Y={},O=0;O<I.length;O++){var H=I[O],X=H;N&&(X=l.getTask(H.task_id));var Z=H.start_date||X.start_date,K=H.end_date||X.end_date;N&&(H.start_date&&(Z=new Date(Math.max(H.start_date.valueOf(),X.start_date.valueOf()))),H.end_date&&(K=new Date(Math.min(H.end_date.valueOf(),X.end_date.valueOf()))));var tt=_.findBinary(L.trace_x,Z.valueOf()),V=new Date(L.trace_x[tt]||l.date[z+"_start"](new Date(Z))),st=l.config.work_time?l.getTaskCalendar(X):l;for(Y[st.id]={};V<K;){var D=Y[st.id],M=V,P=M.valueOf();V=l.date.add(V,U,z),!1!==D[P]&&(st.isWorkTime({date:M,task:X,unit:z})?(W[P]||(W[P]={tasks:[],assignments:[]}),W[P].tasks.push(X),N&&W[P].assignments.push(H)):D[P]=!1)}}return W}(d,o,h);for(var p,y,v,k,b=o.unit,S=o.step,w=[],x=c.$getConfig(),T=0;T<o.trace_x.length;T++)p=new Date(o.trace_x[T]),y=l.date.add(p,S,b),k=g[p.valueOf()]||{},w.push((v=k.tasks||[]).length||x.resource_render_empty_cells?{start_date:p,end_date:y,tasks:v,assignments:k.assignments||[]}:null);return w}(u,i,a,e)}}},function($,C,f){var _=f(0),l=f(41),s=f(31),u=f(3),i=function(a){function e(t,n,r,o){var c=a.apply(this,arguments)||this;return c.$config.bindLinks=null,c}return u(e,a),_.mixin(e.prototype,{init:function(){void 0===this.$config.bind&&(this.$config.bind=this.$getConfig().resource_store),a.prototype.init.apply(this,arguments)},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceRow(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(e),!0),e}(l);$.exports=i},function($,C,f){var _=f(50),l=f(5),s=f(0),u=f(2),i=f(47),a=f(142),e=function(t,n,r,o){this.$config=s.mixin({},n||{}),this.$scaleHelper=new _(o),this.$gantt=o,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),l(this)};e.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),r=n[this.$config.bind+"_attribute"],o=n[this.$config.bindLinks+"_attribute"];!r&&this.$config.bind&&(r="data-"+this.$config.bind+"-id"),!o&&this.$config.bindLinks&&(o="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=r||null,this.$config.link_attribute=o||null;var c=this._createLayerConfig();this.$config.layers||(this.$config.layers=c.tasks),this.$config.linkLayers||(this.$config.linkLayers=c.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,n){var r=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*n===n){this.$config.height=n;var o=Math.max(this.$config.height-r.scale_height);this.$task_data.style.height=o+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",this.$task_bg.style.height=r.smart_rendering&&this.$config.rowStore?this.getTotalHeight()+"px":"";for(var c=this._tasks,d=this.$task_data.childNodes,h=0,g=d.length;h<g;h++){var p=d[h];p.hasAttribute("data-layer")&&p.style&&(p.style.width=c.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,r=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?r:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?r:0}},scrollTo:function(t,n){if(this.isVisible()){var r=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,r=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),r=!0),r&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort();this.$task_scale.innerHTML=this._getScaleChunkHtml(this._scales,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,r=this.$config.height||0,o=this.$config.width||0;return{y:n,y_end:n+r,x:t,x_end:t+o,height:r,width:o}},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(r,o){return!o.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var n=this,r=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var o=r.getDataRender(this.$config.bind);o||(o=r.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),o.container=function(){return n.$task_data};for(var c=this.$config.layers,d=0;c&&d<c.length;d++){"string"==typeof(y=c[d])&&(y=this.$gantt.$ui.layers[y]()),("function"==typeof y||y&&y.render&&y.update)&&(y={renderer:y}),y.view=this;var h=o.addLayer(y);this._taskLayers.push(h),y.expose&&(this._taskRenderer=o.getLayer(h))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var g=r.getDataRender(this.$config.bindLinks);g||(g=r.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var y;"string"==typeof y&&(y=this.$gantt.$ui.layers[y]()),(y=p[d]).view=this;var v=g.addLayer(y);this._taskLayers.push(v),p[d].expose&&(this._linkRenderer=g.getLayer(v))}}},_initStaticBackgroundRender:function(){var t=this,n=a.create(),r=t.$config.rowStore;r&&(this._staticBgHandler=r.attachEvent("onStoreUpdated",function(o,c,d){if(null===o&&t.isVisible()){var h=t.$getConfig();if(h.static_background||h.timeline_placeholder){var g=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),g){var y=t.getTotalHeight();h.timeline_placeholder&&(y=h.timeline_placeholder.height||t.$task_data.offsetHeight||99999),n.render(p,h,t.getScale(),y,t.getItemHeight(c?c.id:null))}}else h.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){n.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var n=this.$gantt.$services.getService("layers"),r=n.getDataRender(this.$config.bind),o=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var c=0;c<this._taskLayers.length;c++)r.removeLayer(this._taskLayers[c]);if(this._linkLayers)for(c=0;c<this._linkLayers.length;c++)o.removeLayer(this._linkLayers[c]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),n="",r=0,o=0,c=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,h=this._getScales();o=t.scale_height;var g=this.$config.width;"x"!=t.autosize&&"xy"!=t.autosize||(g=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(h,t.min_column_width,g,o-1,c.min_date,c.max_date,t.rtl),y=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},n=this._getScaleChunkHtml(p,0,this.$config.width),r=y.full_width+"px",o+="px"}this.$task_scale.style.height=o,this.$task_data.style.width=this.$task_scale.style.width=r,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(t,n,r){for(var o=[],c=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var h="gantt_scale_line",g=c(t[d]);g&&(h+=" "+g),o.push('<div class="'+h+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],n,r)+"</div>")}return o.join("")},_prepareScaleHtml:function(t,n,r){var o=this.$getConfig(),c=this.$gantt.templates,d=[],h=null,g=null,p=t.format||t.template||t.date;"string"==typeof p&&(p=this.$gantt.date.date_to_str(p));var y=0,v=t.count;!o.smart_scales||isNaN(n)||isNaN(r)||(y=u.findBinary(t.left,n),v=u.findBinary(t.left,r)+1),g=t.css||function(){},!t.css&&o.inherit_scale_class&&(g=c.scale_cell_class);for(var m=y;m<v&&t.trace_x[m];m++){h=new Date(t.trace_x[m]);var k=p.call(this,h),b=t.width[m],x="",T="",E="";if(b){x="width:"+b+"px;height:"+t.height+"px;"+(o.smart_scales?"position:absolute;left:"+t.left[m]+"px":""),E="gantt_scale_cell"+(m==t.count-1?" gantt_last_cell":""),(T=g.call(this,h))&&(E+=" "+T);var I="<div class='"+E+"'"+this.$gantt._waiAria.getTimelineCellAttr(k)+" style='"+x+"'>"+k+"</div>";d.push(I)}}return d.join("")},dateFromPos:function(t){var n=this._tasks;if(t<0||t>n.full_width||!n.full_width)return null;var r=u.findBinary(this._tasks.left,t),c=n.width[r]||n.col_width,d=0;c&&(d=(t-this._tasks.left[r])/c,n.rtl&&(d=1-d));var h=0;return d&&(h=this._getColumnDuration(n,n.trace_x[r])),new Date(n.trace_x[r].valueOf()+Math.round(d*h))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var n=String(t.valueOf());if(void 0!==this._posFromDateCache[n])return this._posFromDateCache[n];var r=this.columnIndexByDate(t);this.$gantt.assert(r>=0,"Invalid day index");var o=Math.floor(r),c=r%1,d=this._tasks.left[Math.min(o,this._tasks.width.length-1)];o==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),c&&(d+=o<this._tasks.width.length?this._tasks.width[o]*(c%1):1);var h=Math.round(d);return this._posFromDateCache[n]=h,Math.round(h)},_getNextVisibleColumn:function(t,n,r){for(var o=+n[t],c=t;r[o];)o=+n[++c];return c},_getPrevVisibleColumn:function(t,n,r){for(var o=+n[t],c=t;r[o];)o=+n[--c];return c},_getClosestVisibleColumn:function(t,n,r){var o=this._getNextVisibleColumn(t,n,r);return n[o]||(o=this._getPrevVisibleColumn(t,n,r)),o},columnIndexByDate:function(t){var n=new Date(t).valueOf(),r=this._tasks.trace_x_ascending,o=this._tasks.ignore_x,c=this.$gantt.getState();if(n<=c.min_date)return this._tasks.rtl?r.length:0;if(n>=c.max_date)return this._tasks.rtl?0:r.length;var d=u.findBinary(r,n),h=this._getClosestVisibleColumn(d,r,o),p=this._tasks.trace_index_transition;if(!r[h])return p?p[0]:0;var y=(t-r[h])/this._getColumnDuration(this._tasks,r[h]);return p?p[h]+(1-y):h+y},getItemPosition:function(t,n,r){var o,c,d;return this._tasks.rtl?(c=this.posFromDate(n||t.start_date),o=this.posFromDate(r||t.end_date)):(o=this.posFromDate(n||t.start_date),c=this.posFromDate(r||t.end_date)),d=Math.max(c-o,0),{left:o,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,n){var r=this.$getConfig(),o=this.$config.rowStore.getItem(t),c=o.task_height||o.bar_height||r.bar_height||r.task_height,d=this.getItemHeight(t);return"full"==c&&(c=d-(r.task_height_offset||5)),c=Math.min(c,d),n&&(c=Math.round(c/Math.sqrt(2))),Math.max(c,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),n=this.$scaleHelper,r=[n.primaryScale(t)].concat(n.getSubScales(t));return n.sortScales(r),r},_getColumnDuration:function(t,n){return this.$gantt.date.add(n,t.step,t.unit)-n},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var n=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){this._clearLayers(this.$gantt),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},$.exports=e},function($,C,f){var _=f(3),l=f(1),s=function(u){"use strict";function i(a,e,t){var n=u.apply(this,arguments)||this;return a&&(n.$root=!0),n._parseConfig(e),n.$name="layout",n}return _(i,u),i.prototype.destructor=function(){this.$container&&this.$view&&l.removeNode(this.$view);for(var a=0;a<this.$cells.length;a++)this.$cells[a].destructor();this.$cells=[],u.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(a,e){var t,n=!1,r=[],o=[],c=[];function d(v){v.$parent.show(),n=!0,r.push(v)}function h(v){v.$parent.hide(),n=!0,o.push(v)}for(var g=0;g<e.length;g++)a[(t=e[g]).$config.scroll]?h(t):t.shouldHide()?c.push(t):t.shouldShow()?d(t):t.isVisible()?r.push(t):o.push(t);var p={};for(g=0;g<r.length;g++)r[g].$config.group&&(p[r[g].$config.group]=!0);for(c.forEach(function(v){v.$config.group&&p[v.$config.group]||h(v)}),g=0;g<o.length;g++)if((t=o[g]).$config.group&&p[t.$config.group]){d(t);for(var y=0;y<r.length;y++)if(r[y]==t){this.$gantt.$scrollbarRepaint=!0;break}}return n},i.prototype._syncCellSizes=function(a,e){if(a){var t={};return this._eachChild(function(n){n.$config.group&&"scrollbar"!=n.$name&&"resizer"!=n.$name&&(t[n.$config.group]||(t[n.$config.group]=[]),t[n.$config.group].push(n))}),t[a]&&this._syncGroupSize(t[a],e),t[a]}},i.prototype._syncGroupSize=function(a,e){if(a.length)for(var t=a[0].$parent._xLayout?"width":"height",n=a[0].$parent.getNextSibling(a[0].$id)?1:-1,r=e.value,o=e.isGravity,c=0;c<a.length;c++){var d=a[c].getSize(),h=n>0?a[c].$parent.getNextSibling(a[c].$id):a[c].$parent.getPrevSibling(a[c].$id);"resizer"==h.$name&&(h=n>0?h.$parent.getNextSibling(h.$id):h.$parent.getPrevSibling(h.$id));var g=h.getSize();if(o)a[c].$config.gravity=r;else if(h[t]){var p=d.gravity+g.gravity,y=d[t]+g[t],v=p/y;a[c].$config.gravity=v*r,h.$config[t]=y-r,h.$config.gravity=p-v*r}else a[c].$config[t]=r;var m=this.$gantt.$ui.getView("grid");!m||a[c].$content!==m||m.$config.scrollable||o||(this.$gantt.config.grid_width=r)}},i.prototype.resize=function(a){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),u.prototype.resize.call(this,!0),u.prototype.resize.call(this,!1),e){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var n=this.getCellsByType("scroller"),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();var o=this._getAutosizeMode(this.$config.autosize),c=this._resizeScrollbars(o,n);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var h=d.$parent,g=h.getContentSize(o);o.x&&(h.$config.$originalWidthStored||(h.$config.$originalWidthStored=!0,h.$config.$originalWidth=h.$config.width),h.$config.width=g.width),o.y&&(h.$config.$originalHeightStored||(h.$config.$originalHeightStored=!0,h.$config.$originalHeight=h.$config.height),h.$config.height=g.height)}),c=!0),c)for(this.resize(),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(a,e){if(a(e=e||this),e.$cells)for(var t=0;t<e.$cells.length;t++)this._eachChild(a,e.$cells[t])},i.prototype.isChild=function(a){var e=!1;return this._eachChild(function(t){t!==a&&t.$content!==a||(e=!0)}),e},i.prototype.getCellsByType=function(a){var e=[];if(a===this.$name&&e.push(this),this.$content&&this.$content.$name==a&&e.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var n=i.prototype.getCellsByType.call(this.$cells[t],a);n.length&&e.push.apply(e,n)}return e},i.prototype.getNextSibling=function(a){var e=this.cellIndex(a);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},i.prototype.getPrevSibling=function(a){var e=this.cellIndex(a);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},i.prototype.cell=function(a){for(var e=0;e<this.$cells.length;e++){var t=this.$cells[e];if(t.$id===a)return t;var n=t.cell(a);if(n)return n}},i.prototype.cellIndex=function(a){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===a)return e;return-1},i.prototype.moveView=function(a,e){if(this.$cells[e]!==a)return window.alert("Not implemented");var t=this.$view;(e+=this.$config.header?1:0)>=t.childNodes.length?t.appendChild(a.$view):t.insertBefore(a.$view,t.childNodes[e])},i.prototype._parseConfig=function(a){this.$cells=[],this._xLayout=!a.rows;for(var e=a.rows||a.cols||a.views,t=0;t<e.length;t++){var n=e[t];n.mode=this._xLayout?"x":"y";var r=this.$factory.initUI(n,this);r?(r.$parent=this,this.$cells.push(r)):(e.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var a=l.insertNode(this.$container,this.$toHTML());this.$fill(a,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(a,e){this.$view=a,this.$parent=e;for(var t=l.getChildNodes(a,"gantt_layout_cell"),n=t.length-1;n>=0;n--){var r=this.$cells[n];r.$fill(t[n],this),r.$config.hidden&&r.$view.parentNode.removeChild(r.$view)}},i.prototype.$toHTML=function(){for(var a=this._xLayout?"x":"y",e=[],t=0;t<this.$cells.length;t++)e.push(this.$cells[t].$toHTML());return u.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+a)},i.prototype.getContentSize=function(a){for(var e,t,n,r=0,o=0,c=0;c<this.$cells.length;c++)(t=this.$cells[c]).$config.hidden||(e=t.getContentSize(a),"scrollbar"===t.$config.view&&a[t.$config.scroll]&&(e.height=0,e.width=0),t.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=t._getBorderSizes(),this._xLayout?(r+=e.width+n.horizontal,o=Math.max(o,e.height+n.vertical)):(r=Math.max(r,e.width+n.horizontal),o+=e.height+n.vertical));return{width:r+=(n=this._getBorderSizes()).horizontal,height:o+=n.vertical}},i.prototype._cleanElSize=function(a){return 1*(a||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(a){var e,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:"border-box"==(e=window.getComputedStyle?window.getComputedStyle(a,null):{width:a.clientWidth,height:a.clientHeight}).boxSizing};e.MozBoxSizing&&(n.boxSizing="border-box"==e.MozBoxSizing);for(var r=0;r<t.length;r++)n[t[r]]=e[t[r]]?this._cleanElSize(e[t[r]]):0;var o={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return o.borderBox?(o.innerWidth-=o.horPaddings,o.innerHeight-=o.vertPaddings):(o.outerWidth+=o.horPaddings,o.outerHeight+=o.vertPaddings),o},i.prototype._getAutosizeMode=function(a){var e={x:!1,y:!1};return"xy"===a?e.x=e.y=!0:"y"===a||!0===a?e.y=!0:"x"===a&&(e.x=!0),e},i.prototype.autosize=function(a){var e=this._getAutosizeMode(a),t=this._getBoxStyles(this.$container),n=this.getContentSize(a),r=this.$container;e.x&&(t.borderBox&&(n.width+=t.horPaddings),r.style.width=n.width+"px"),e.y&&(t.borderBox&&(n.height+=t.vertPaddings),r.style.height=n.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var a=0,e=0,t=1e11,n=0,r=1e11,o=0,c=0;c<this.$cells.length;c++){var d=this._sizes[c]=this.$cells[c].getSize();this.$cells[c].$config.hidden||(this._xLayout?(a+=!d.width&&d.minWidth?d.minWidth:d.width,t+=d.maxWidth,e+=d.minWidth,n=Math.max(n,d.height),r=Math.min(r,d.maxHeight),o=Math.max(o,d.minHeight)):(n+=!d.height&&d.minHeight?d.minHeight:d.height,r+=d.maxHeight,o+=d.minHeight,a=Math.max(a,d.width),t=Math.min(t,d.maxWidth),e=Math.max(e,d.minWidth)))}var h=u.prototype.getSize.call(this);return h.maxWidth>=1e5&&(h.maxWidth=t),h.maxHeight>=1e5&&(h.maxHeight=r),h.minWidth=h.minWidth!=h.minWidth?0:h.minWidth,h.minHeight=h.minHeight!=h.minHeight?0:h.minHeight,this._xLayout?(h.minWidth+=this.$config.margin*this.$cells.length||0,h.minWidth+=2*this.$config.padding||0,h.minHeight+=2*this.$config.padding||0):(h.minHeight+=this.$config.margin*this.$cells.length||0,h.minHeight+=2*this.$config.padding||0),h},i.prototype._calcFreeSpace=function(a,e,t){var n=t?e.minWidth:e.minHeight,r=e.maxWidth,o=a;return o?(o>r&&(o=r),o<n&&(o=n),this._free-=o):((o=Math.floor(this._free/this._gravity*e.gravity))>r&&(this._free-=o=r,this._gravity-=e.gravity),o<n&&(this._free-=o=n,this._gravity-=e.gravity)),o},i.prototype._calcSize=function(a,e,t){var n=a,r=t?e.minWidth:e.minHeight,o=t?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>o&&(n=o),n<r&&(n=r),n},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var a=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,t=e.length-1,n=t;n>=0;n--)if(!e[n].$config.hidden){t=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var r=n>=t,o="";!r&&e[n+1]&&"scrollbar"==e[n+1].$config.view&&(this._xLayout?r=!0:o="gantt_layout_cell_border_transparent"),this._setBorders(r?[]:[a,o],e[n])}},i.prototype._updateCellVisibility=function(){for(var a=this._visibleCells||{},e=!this._visibleCells,t={},n=null,r=[],o=0;o<this._sizes.length;o++)(n=this.$cells[o]).$config.hide_empty&&r.push(n),!e&&n.$config.hidden&&a[n.$id]?n._hide(!0):n.$config.hidden||a[n.$id]||n._hide(!1),n.$config.hidden||(t[n.$id]=!0);for(this._visibleCells=t,o=0;o<r.length;o++){var c=!0;(n=r[o]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(c=!1)}),n.$config.hidden=c}},i.prototype.setSize=function(a,e){this._configureBorders(),u.prototype.setSize.call(this,a,e),e=this.$lastSize.contentY,a=this.$lastSize.contentX;var t,n,r=this.$config.padding||0;this.$view.style.padding=r+"px",this._gravity=0,this._free=this._xLayout?a:e,this._free-=2*r,this._updateCellVisibility();for(var o=0;o<this._sizes.length;o++)if(!(t=this.$cells[o]).$config.hidden){var c=this.$config.margin||0;"resizer"!=t.$name||c||(c=-1),o!==this.$cells.length-1&&(t.$view.style[this._xLayout?"marginRight":"marginBottom"]=c+"px",this._free-=c),n=this._sizes[o],this._xLayout?n.width||(this._gravity+=n.gravity):n.height||(this._gravity+=n.gravity)}for(o=0;o<this._sizes.length;o++)if(!(t=this.$cells[o]).$config.hidden){var g=(n=this._sizes[o]).width,p=n.height;this._xLayout?this._calcFreeSpace(g,n,!0):this._calcFreeSpace(p,n,!1)}for(o=0;o<this.$cells.length;o++)if(!(t=this.$cells[o]).$config.hidden){n=this._sizes[o];var y=void 0,v=void 0;this._xLayout?(y=this._calcSize(n.width,n,!0),v=e-2*r):(y=a-2*r,v=this._calcSize(n.height,n,!1)),t.setSize(y,v)}},i}(f(12));$.exports=s},function($,C){$.exports=function(f,_,l,s,u){var i=l.$gantt.getTask(f.source),a=l.$gantt.getTask(f.target),e=l.getItemTop(i.id),t=l.getItemHeight(i.id),n=l.getItemTop(a.id),r=l.getItemHeight(a.id);if(_.y>e+t&&_.y>n+r||_.y_end<n&&_.y_end<e)return!1;var o=l.posFromDate(i.start_date),c=l.posFromDate(i.end_date),d=l.posFromDate(a.start_date),h=l.posFromDate(a.end_date);if(o>c){var g=c;c=o,o=g}return d>h&&(g=h,h=d,d=g),o+=-100,d+=-100,h+=100,!(_.x>(c+=100)&&_.x>h||_.x_end<o&&_.x_end<d)}},function($,C,f){var _=f(148);$.exports=function(){var l=[],s=!1;function u(){l=[],s=!1}var i=!1;return function(a,e,t,n,r){var g;g=n,i||(i=!0,g.attachEvent("onPreFilter",u),g.attachEvent("onStoreUpdated",u),g.attachEvent("onClearAll",u),g.attachEvent("onBeforeStoreUpdate",u)),s||function(g,p,y){var v=p.$getConfig();g.getVisibleItems().forEach(function(m){var k=_(m,p,v,y);k&&l.push({id:m.id,rec:k})}),l.sort(function(m,k){return m.rec.right<k.rec.right?-1:1}),s=!0}(n,e,a);for(var o=[],c=0;c<l.length;c++){var d=l[c],h=d.rec;h.right<r.x||h.left<r.x_end&&h.right>r.x&&h.top<r.y_end&&h.bottom>r.y&&o.push(d.id)}return{ids:o}}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(210),l=f(209),s=f(208);C.LargerUnitsCache=s.LargerUnitsCache,C.createCacheObject=function(){return typeof Map<"u"?new _.WorkUnitsMapCache:new l.WorkUnitsObjectCache}},function($,C,f){var _=f(0),l=f(2);function s(e,t,n,r,o){return this.date=e,this.unit=t,this.task=n,this.id=r,this.calendar=o,this}function u(e,t,n,r,o,c){return this.date=e,this.dir=t,this.unit=n,this.task=r,this.id=o,this.calendar=c,this}function i(e,t,n,r,o,c,d){return this.start_date=e,this.duration=t,this.unit=n,this.step=r,this.task=o,this.id=c,this.calendar=d,this}function a(e,t,n,r){return this.start_date=e,this.end_date=t,this.task=n,this.calendar=r,this.unit=null,this.step=null,this}$.exports=function(e){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=l.isDate(t)?{date:t}:_.mixin({},t),!l.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,n=arguments[0];if(n instanceof s)return n;if((t=n.date?new s(n.date,n.unit,n.task,null,n.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||e.config.duration_unit,!l.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var n,r=arguments[0];if(r instanceof u)return r;if(n=l.isDate(r)?new u(r):new u(r.date,r.dir,r.unit,r.task,null,r.calendar),r.id&&(n.task=r),n.dir=r.dir||"any",n.unit=r.unit||e.config.duration_unit,!l.isValidDate(n.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(t){var n,r=a;if(t instanceof r)return t;if(l.isDate(t)?n=new r(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new r(t.start_date,t.end_date,t.task),null!=t.id&&(n.task=t)),n.unit=n.unit||e.config.duration_unit,n.step=n.step||e.config.duration_step,n.start_date=n.start_date||n.start||n.date,!l.isValidDate(n.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!l.isValidDate(n.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,n,r,o){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,n,r,o){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,n,r,o){var c,d=arguments[0];if(d instanceof i)return d;if(c=l.isDate(d)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),null!=d.id&&(c.task=d,c.unit=null,c.step=null),c.unit=c.unit||e.config.duration_unit,c.step=c.step||e.config.duration_step,!l.isValidDate(c.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return c}}}},function($,C,f){var _=f(222);$.exports=function(l){var s={},u={},i=null,a=-1,e=null,t=_(l);return{_resetTopPositionHeight:function(){s={},u={},t.resetCache()},_resetHeight:function(){var r=this.getCacheStateTotalHeight(this.$config.rowStore);e?this.shouldClearHeightCache(e,r)&&(e=r,i=null):e=r,a=-1,t.resetCache()},getRowTop:function(n){if(t.canUseSimpleCalculation())return t.getRowTop(n);var r=this.$config.rowStore;if(!r)return 0;if(void 0!==u[n])return u[n];for(var o=r.getIndexRange(),c=0,d=0,h=0;h<o.length;h++)u[h]=c,c+=this.getItemHeight(o[h].id),h<n&&(d=c);return d},getItemTop:function(n){if(this.$config.rowStore){if(void 0!==s[n])return s[n];var r=this.$config.rowStore;if(!r)return 0;var o=r.getIndexById(n);if(-1===o&&r.getParent&&r.exists(n)){var c=r.getParent(n);if(r.exists(c)){var d=r.getItem(c);if(this.$gantt.isSplitTask(d))return this.getItemTop(c)}}return s[n]=this.getRowTop(o),s[n]}return 0},getItemHeight:function(n){if(t.canUseSimpleCalculation())return t.getItemHeight(n);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==i[n])return i[n];var r=this.$getConfig().row_height;if(this.$config.rowStore){var o=this.$config.rowStore;if(!o)return r;var c=o.getItem(n);return i[n]=c&&c.row_height||r}return r},_fillHeightCache:function(n){if(n){i={};var r=this.$getConfig().row_height;n.eachItem(function(o){return i[o.id]=o&&o.row_height||r})}},getCacheStateTotalHeight:function(n){var r=this.$getConfig().row_height,o={},c=[],d=0;return n&&n.eachItem(function(h){c.push(h),o[h.id]=h.row_height,d+=h.row_height||r}),{globalHeight:r,items:c,count:c.length,sumHeight:d}},shouldClearHeightCache:function(n,r){if(n.count!=r.count||n.globalHeight!=r.globalHeight||n.sumHeight!=r.sumHeight)return!0;for(var o in n.items){var c=r.items[o];if(void 0!==c&&c!=n.items[o])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(-1!=a)return a;if(this.$config.rowStore){var n=this.$config.rowStore;this._fillHeightCache(n);var r=this.getItemHeight.bind(this),o=0;return n.getVisibleItems().forEach(function(c){o+=r(c.id)}),a=o,o}return 0},getItemIndexByTopPosition:function(n){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(n);for(var r=this.$config.rowStore,o=0;o<r.countVisible();o++){var c=this.getRowTop(o),d=this.getRowTop(o+1);if(!d){var h=r.getIdByIndex(o);d=c+this.getItemHeight(h)}if(n>=c&&n<d)return o}return r.countVisible()+2}return 0}}}},function($,C){function f(l,s,u){for(var i=0;i<s.length;i++)l.isLinkExists(s[i])&&(u[s[i]]=l.getLink(s[i]))}function _(l,s,u){f(l,s.$source,u),f(l,s.$target,u)}$.exports={getSubtreeLinks:function(l,s){var u={};return l.isTaskExists(s)&&_(l,l.getTask(s),u),l.eachTask(function(i){_(l,i,u)},s),u},getSubtreeTasks:function(l,s){var u={};return l.eachTask(function(i){u[i.id]=i},s),u}}},function($,C,f){var _=f(0);$.exports=function(l){var s=l.date,u=l.$services;return{getSum:function(i,a,e){void 0===e&&(e=i.length-1),void 0===a&&(a=0);for(var t=0,n=a;n<=e;n++)t+=i[n];return t},setSumWidth:function(i,a,e,t){var n=a.width;if(void 0===t&&(t=n.length-1),void 0===e&&(e=0),!(e>n.length-1||t-e+1<=0||t>n.length-1)){var o=i-this.getSum(n,e,t);this.adjustSize(o,n,e,t),this.adjustSize(-o,n,t+1),a.full_width=this.getSum(n)}},splitSize:function(i,a){for(var e=[],t=0;t<a;t++)e[t]=0;return this.adjustSize(i,e),e},adjustSize:function(i,a,e,t){e||(e=0),void 0===t&&(t=a.length-1);for(var n=t-e+1,r=this.getSum(a,e,t),o=e;o<=t;o++){var c=Math.floor(i*(r?a[o]/r:1/n));r-=a[o],i-=c,n--,a[o]+=c}a[a.length-1]+=i},sortScales:function(i){function a(t,n){var r=new Date(1970,0,1);return s.add(r,n,t)-r}i.sort(function(t,n){return a(t.unit,t.step)<a(n.unit,n.step)?1:a(t.unit,t.step)>a(n.unit,n.step)?-1:0});for(var e=0;e<i.length;e++)i[e].index=e},_isLegacyMode:function(i){var a=i||l.config;return a.scale_unit||a.date_scale||a.subscales},_prepareScaleObject:function(i){var a=i.format;return a||(a=i.template||i.date||"%d %M"),"string"==typeof a&&(a=l.date.date_to_str(a)),{unit:i.unit||"day",step:i.step||1,format:a,css:i.css}},primaryScale:function(i){var a,e=u.getService("templateLoader"),t=this._isLegacyMode(i),n=i||l.config;if(t)e.initTemplate("date_scale",void 0,void 0,n,l.config.templates),a={unit:l.config.scale_unit,step:l.config.step,template:l.templates.date_scale,date:l.config.date_scale,css:l.templates.scale_cell_class};else{var r=n.scales[0];a={unit:r.unit,step:r.step,template:r.template,format:r.format,date:r.date,css:r.css||l.templates.scale_cell_class}}return this._prepareScaleObject(a)},getSubScales:function(i){var a=this._isLegacyMode(i),e=i||l.config;return(a?e.subscales||[]:e.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(i,a,e,t,n,r,o){for(var c=this.splitSize(t,i.length),d=e,h=[],g=i.length-1;g>=0;g--){var p=g==i.length-1,y=this.initScaleConfig(i[g],n,r);p&&this.processIgnores(y),this.initColSizes(y,a,d,c[g]),this.limitVisibleRange(y),p&&(d=y.full_width),h.unshift(y)}for(g=0;g<h.length-1;g++)this.alineScaleColumns(h[h.length-1],h[g]);for(g=0;g<h.length;g++)o&&this.reverseScale(h[g]),this.setPosSettings(h[g]);return h},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var a=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var e=0;e<i.trace_x.length;e++)i.trace_indexes[i.trace_x[e].valueOf()]=e,i.trace_index_transition[a[i.trace_x[e].valueOf()]]=e;return i},setPosSettings:function(i){for(var a=0,e=i.trace_x.length;a<e;a++)i.left.push((i.width[a-1]||0)+(i.left[a-1]||0))},_ignore_time_config:function(i,a){if(l.config.skip_off_time){for(var e=!0,t=i,n=0;n<a.step;n++)n&&(t=s.add(i,n,a.unit)),e=e&&!this.isWorkTime(t,a.unit);return e}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,a,e,t){var n=e;i.height=t;var r=void 0===i.display_count?i.count:i.display_count;r||(r=1),i.col_width=Math.floor(n/r),a&&i.col_width<a&&(i.col_width=a,n=i.col_width*r),i.width=[];for(var o=i.ignore_x||{},c=0;c<i.trace_x.length;c++)if(o[i.trace_x[c].valueOf()]||i.display_count==i.count)i.width[c]=0;else{var d=1;"month"==i.unit&&(d=Math.round((s.add(i.trace_x[c],i.step,i.unit)-i.trace_x[c])/864e5)),i.width[c]=d}this.adjustSize(n-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,a,e){var t=_.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(a),max_date:new Date(e)},i);return this.eachColumn(i.unit,i.step,a,e,function(n){t.count++,t.trace_x.push(new Date(n)),t.trace_indexes[n.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,a,e,t,n){for(var r=a.trace_x,c=e||0,d=t||i.trace_x.length-1,h=0,g=1;g<r.length;g++){var p=i.trace_indexes[+r[g]];void 0!==p&&p<=d&&(n&&n.apply(this,[h,g,c,p]),c=p,h=g)}},alineScaleColumns:function(i,a,e,t){this.iterateScales(i,a,e,t,function(n,r,o,c){var d=this.getSum(i.width,o,c-1);this.getSum(a.width,n,r-1)!=d&&this.setSumWidth(d,a,n,r-1)})},eachColumn:function(i,a,e,t,n){var r=new Date(e),o=new Date(t);s[i+"_start"]&&(r=s[i+"_start"](r));var c=new Date(r);for(+c>=+o&&(o=s.add(c,a,i));+c<+o;){n.call(this,new Date(c));var d=c.getTimezoneOffset();c=s.add(c,a,i),c=l._correct_dst_change(c,d,a,i),s[i+"_start"]&&(c=s[i+"_start"](c))}},limitVisibleRange:function(i){var a=i.trace_x,t=0;if(+a[0]<+i.min_date&&0!=i.width.length-1){var n=Math.floor(i.width[0]*((a[1]-i.min_date)/(a[1]-a[0])));t+=i.width[0]-n,i.width[0]=n,a[0]=new Date(i.min_date)}var r=a.length-1,o=a[r],c=s.add(o,i.step,i.unit);if(+c>+i.max_date&&r>0&&(n=i.width[r]-Math.floor(i.width[r]*((c-i.max_date)/(c-o))),t+=i.width[r]-n,i.width[r]=n),t){for(var d=this.getSum(i.width),h=0,g=0;g<i.width.length;g++){var p=Math.floor(t*(i.width[g]/d));i.width[g]+=p,h+=p}this.adjustSize(t-h,i.width)}}}}},function($,C,f){var _=f(49);$.exports=function(l){var s=new _(l);return s.processIgnores=function(u){var i=u.count;if(u.ignore_x={},l.ignore_time||l.config.skip_off_time){var a=l.ignore_time||function(){return!1};i=0;for(var e=0;e<u.trace_x.length;e++)a.call(l,u.trace_x[e])||this._ignore_time_config.call(l,u.trace_x[e],u)?(u.ignore_x[u.trace_x[e].valueOf()]=!0,u.ignored_colls=!0):i++}u.display_count=i},s}},function($,C,f){var _=f(50),l=f(49);$.exports=function(u){var i;(function s(u){var i=function(h){var g=new l(h).primaryScale(),p=g.unit,y=g.step;if(h.config.scale_offset_minimal){var v=new _(h),m=[v.primaryScale()].concat(v.getSubScales());v.sortScales(m),p=m[m.length-1].unit,y=m[m.length-1].step||1}return{unit:p,step:y}}(u),a=i.unit,e=i.step,t=function(h,g){var p={start_date:null,end_date:null};if(g.config.start_date&&g.config.end_date){p.start_date=g.date[h+"_start"](new Date(g.config.start_date));var y=new Date(g.config.end_date),v=g.date[h+"_start"](new Date(y));y=+y!=+v?g.date.add(v,1,h):v,p.end_date=y}return p}(a,u);if(!t.start_date||!t.end_date){for(var n=!0,r=u.getTaskByTime(),o=0;o<r.length;o++)if(r[o].type!==u.config.types.project){n=!1;break}if(r.length&&n){var c=r[0].start_date,d=u.date.add(c,1,u.config.duration_unit);t={start_date:new Date(c),end_date:new Date(d)}}else t=u.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=u.date[a+"_start"](t.start_date),t.start_date=u.calculateEndDate({start_date:u.date[a+"_start"](t.start_date),duration:-1,unit:a,step:e}),t.end_date=u.date[a+"_start"](t.end_date),t.end_date=u.calculateEndDate({start_date:t.end_date,duration:2,unit:a,step:e})}u._min_date=t.start_date,u._max_date=t.end_date})(u),!(i=u).config.fit_tasks||+i._min_date==+i._min_date&&+i._max_date==+i._max_date||(i.render(),i.callEvent("onScaleAdjusted",[]))}},function($,C,f){var _=f(53),l=f(0),s=f(2),u=f(54),i=f(16),a=f(2).replaceValidZeroId;u.default&&(u=u.default);var e=function(t){var h;u.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(h){var g=h;t.initItem&&(g=t.initItem(g));var p=this.getItem(h.id);return p&&p.parent!=g.parent&&this.move(g.id,g.$index||-1,g.parent||this._ganttConfig.root_id),g},this.$parentProperty=t.parentProperty||"parent",this.$getRootId="function"!=typeof t.rootId?(h=t.rootId||0,function(){return h}):t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var n={},r={},o={},c={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,n={},r={},o={},c={},d=!1,this.eachItem(function(h){var g=this.getParent(h.id);o[h.id]=!(!h.$open||!1===o[g]),this._isSplitItem(h)&&(d=!0,n[h.id]=!0,r[h.id]=!0),d&&r[g]&&(r[h.id]=!0),c[h.id]=!(!o[g]&&void 0!==o[g])})}),this.attachEvent("onFilterItem",function(h,g){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var y=c[g.id];return d&&(y&&r[g.id]&&!n[g.id]&&(y=!!p),r[g.id]&&!n[g.id]&&(g.$split_subtask=!0)),g.$expanded_branch=!!c[g.id],!!y}),this.attachEvent("onFilter",function(){n={},r={},o={},c={}}),this};e.prototype=l.mixin({_buildTree:function(t){for(var n=null,r=this.$getRootId(),o=0,c=t.length;o<c;o++)this.setParent(n=t[o],a(this.getParent(n),r)||r);for(o=0,c=t.length;o<c;o++)this._add_branch(n=t[o]),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),l.defined(n.$open)||(n.$open=l.defined(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return"split"==t.render&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var n=this._parseInner(t);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(t,n){var r=this.getParent(t);l.defined(r)||(r=this.$getRootId(),this.setParent(t,r));var o=this.getIndexById(r)+Math.min(Math.max(n,0),this.visibleOrder.length);1*o!==o&&(o=void 0),u.prototype._addItemInner.call(this,t,o),this.setParent(t,r),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,n)},_changeIdInner:function(t,n){var r=this.getChildren(t),o=this._searchVisibleOrder[t];u.prototype._changeIdInner.call(this,t,n);var c=this.getParent(n);this._replace_branch_child(c,t,n),this._branches[t]&&(this._branches[n]=this._branches[t]);for(var d=0;d<r.length;d++){var h=this.getItem(r[d]);h[this.$parentProperty]=n,h.$rendered_parent=n}this._searchVisibleOrder[n]=o,delete this._branches[t]},_traverseBranches:function(t,n){l.defined(n)||(n=this.$getRootId());var r=this._branches[n];if(r)for(var o=0;o<r.length;o++){var c=r[o];t.call(this,c),this._branches[c]&&this._traverseBranches(t,c)}},_updateOrder:function(t){this.fullOrder=_.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),t&&u.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var n=[];this.eachItem(function(o){n.push(o)},t),n.push(this.getItem(t));for(var r=0;r<n.length;r++)this._move_branch(n[r],this.getParent(n[r]),null),u.prototype._removeItemInner.call(this,n[r].id),this._move_branch(n[r],this.getParent(n[r]),null)},move:function(t,n,r){var o=arguments[3],c=(this._ganttConfig||{}).root_id||0;if(o=a(o,c)){if(o===t)return;r=this.getParent(o),n=this.getBranchIndex(o)}if(t!=r){l.defined(r)||(r=this.$getRootId());var d=this.getItem(t),h=this.getParent(d.id),g=this.getChildren(r);if(-1==n&&(n=g.length+1),h==r&&this.getBranchIndex(t)==n)return;if(!1===this.callEvent("onBeforeItemMove",[t,r,n]))return!1;for(var p=[],y=0;y<g.length;y++)i(g[y],null,this,this._ganttConfig)&&(p.push(g[y]),g.splice(y,1),y--);this._replace_branch_child(h,t);var v=(g=this.getChildren(r))[n];(v=a(v,c))?g=g.slice(0,n).concat([t]).concat(g.slice(n)):g.push(t),p.length&&(g=g.concat(p)),this.setParent(d,r),this._branches[r]=g;var m=this.calculateItemLevel(d)-d.$level;d.$level+=m,this.eachItem(function(k){k.$level+=m},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(r)+n),this.callEvent("onAfterItemMove",[t,r,n]),this.refresh()}},getBranchIndex:function(t){var n=this.getChildren(this.getParent(t)),r=n.indexOf(t+"");return-1==r&&(r=n.indexOf(+t)),r},hasChild:function(t){var n=this._branches[t];return n&&n.length},getChildren:function(t){return this._branches[t]||_.$create()},isChildOf:function(t,n){if(!this.exists(t))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var r=this.getItem(t),o=this.getParent(t);if(this.getItem(n).$level>=r.$level)return!1;for(;r&&this.exists(o);){if((r=this.getItem(o))&&r.id==n)return!0;o=this.getParent(r)}return!1},getSiblings:function(t){if(!this.exists(t))return _.$create();var n=this.getParent(t);return this.getChildren(n)},getNextSibling:function(t){for(var n=this.getSiblings(t),r=0,o=n.length;r<o;r++)if(n[r]==t){var c=n[r+1];return 0===c&&r>0&&(c="0"),c||null}return null},getPrevSibling:function(t){for(var n=this.getSiblings(t),r=0,o=n.length;r<o;r++)if(n[r]==t){var c=n[r-1];return 0===c&&r>0&&(c="0"),c||null}return null},getParent:function(t){var n;return(n=void 0!==t.id?t:this.getItem(t))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},u.prototype.clearAll.call(this)},calculateItemLevel:function(t){var n=0;return this.eachParent(function(){n++},t),n},_setParentInner:function(t,n,r){r||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,n):this._move_branch(t,t[this.$parentProperty],n))},setParent:function(t,n,r){this._setParentInner(t,n,r),t[this.$parentProperty]=n},_eachItemCached:function(t,n){for(var r=0,o=n.length;r<o;r++)t.call(this,n[r])},_eachItemIterate:function(t,n,r){var o=this.getChildren(n);for(o.length&&(o=o.slice().reverse());o.length;){var c=o.pop(),d=this.getItem(c);if(t.call(this,d),r&&r.push(d),this.hasChild(d.id))for(var h=this.getChildren(d.id),g=h.length-1;g>=0;g--)o.push(h[g])}},eachItem:function(t,n){var r=this.$getRootId();l.defined(n)||(n=r);var o=a(n,r)||r,c=!1,d=!1,h=null;o===r&&(this._eachItemMainRangeCache?(c=!0,h=this._eachItemMainRangeCache):(d=!0,h=this._eachItemMainRangeCache=[])),c?this._eachItemCached(t,h):this._eachItemIterate(t,o,d?h:null)},eachParent:function(t,n){for(var r={},o=n,c=this.getParent(o);this.exists(c);){if(r[c])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+c);r[c]=!0,o=this.getItem(c),t.call(this,o),c=this.getParent(o)}},_add_branch:function(t,n,r){var o=void 0===r?this.getParent(t):r;this.hasChild(o)||(this._branches[o]=_.$create());var c=this.getChildren(o);c.indexOf(t.id+"")>-1||c.indexOf(+t.id)>-1||(1*n==n?c.splice(n,0,t.id):c.push(t.id),t.$rendered_parent=o)},_move_branch:function(t,n,r){this._eachItemMainRangeCache=null,this._replace_branch_child(n,t.id),this.exists(r)||r==this.$getRootId()?this._add_branch(t,void 0,r):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(o){o.$level=this.calculateItemLevel(o)},t.id)},_replace_branch_child:function(t,n,r){var o=this.getChildren(t);if(o&&void 0!==t){_.$create();var d=o.indexOf(n+"");-1!=d||isNaN(+n)||(d=o.indexOf(+n)),d>-1&&(r?o.splice(d,1,r):o.splice(d,1)),this._branches[t]=o}},sort:function(t,n,r){this.exists(r)||(r=this.$getRootId()),t||(t="order");var o="string"==typeof t?function(p,y){return p[t]==y[t]||s.isDate(p[t])&&s.isDate(y[t])&&p[t].valueOf()==y[t].valueOf()?0:p[t]>y[t]?1:-1}:t;if(n){var c=o;o=function(p,y){return c(y,p)}}var d=this.getChildren(r);if(d){for(var h=[],g=d.length-1;g>=0;g--)h[g]=this.getItem(d[g]);for(h.sort(o),g=0;g<h.length;g++)d[g]=h[g].id,this.sort(t,n,d[g])}},filter:function(t){for(var n in this.pull){var r=this.pull[n].$rendered_parent,o=this.getParent(this.pull[n]);r!==o&&this._move_branch(this.pull[n],r,o)}return u.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){u.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},u.prototype),$.exports=e},function($,C,f){var _=f(0);$.exports={$create:function(s){return _.mixin(s||[],this)},$removeAt:function(s,u){s>=0&&this.splice(s,u||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,u){if(u||0===u){var i=this.splice(u,this.length-u);this[u]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var u=0;u<this.length;u++)if(s==this[u])return u;return-1},$each:function(s,u){for(var i=0;i<this.length;i++)s.call(u||this,this[i])},$map:function(s,u){for(var i=0;i<this.length;i++)this[i]=s.call(u||this,this[i]);return this},$filter:function(s,u){for(var i=0;i<this.length;i++)s.call(u||this,this[i])||(this.splice(i,1),i--);return this}}},function($,C,f){var _=f(53),l=f(0),s=f(5),u=f(16),i=function(a){return this.pull={},this.$initItem=a.initItem,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=a,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(a){this.attachEvent("onClearAll",a),this.attachEvent("onBeforeParse",a),this.attachEvent("onBeforeUpdate",a),this.attachEvent("onBeforeDelete",a),this.attachEvent("onBeforeAdd",a),this.attachEvent("onParse",a),this.attachEvent("onBeforeFilter",a)},_parseInner:function(a){for(var e=null,t=[],n=0,r=a.length;n<r;n++)e=a[n],this.$initItem&&(this.$config.copyOnParse()&&(e=l.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),t.push(e),this.pull[e.id]=e);return t},parse:function(a){this.isSilent()||this.callEvent("onBeforeParse",[a]);var e=this._parseInner(a);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(a){return this.pull[a]},_updateOrder:function(a){a.call(this.visibleOrder),a.call(this.fullOrder)},updateItem:function(a,e){if(l.defined(e)||(e=this.getItem(a)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[e.id,e]))return!1;l.mixin(this.pull[a],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(a){this._updateOrder(function(){this.$remove(a)}),delete this.pull[a]},removeItem:function(a){var e=this.getItem(a);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[e.id,e]))return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(a),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(a,e){if(this.exists(a.id))this.silent(function(){this.updateItem(a.id,a)});else{var t=this.visibleOrder,n=t.length;(!l.defined(e)||e<0)&&(e=n),e>n&&(e=Math.min(t.length,e))}this.pull[a.id]=a,this.isSilent()||this._updateOrder(function(){-1===this.$find(a.id)&&this.$insertAt(a.id,e)}),this.filter()},isVisible:function(a){return this.visibleOrder.$find(a)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(a,e){return l.defined(a.id)||(a.id=l.uid()),this.$initItem&&(a=this.$initItem(a)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[a.id,a]))&&(this._addItemInner(a,e),this.isSilent()||(this.callEvent("onAfterAdd",[a.id,a]),this.callEvent("onStoreUpdated",[a.id,a,"add"])),a.id)},_changeIdInner:function(a,e){this.pull[a]&&(this.pull[e]=this.pull[a]);var t=this._searchVisibleOrder[a];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(a)]=e}),this._searchVisibleOrder[e]=t,delete this._searchVisibleOrder[a],delete this.pull[a]},changeId:function(a,e){this._changeIdInner(a,e),this.callEvent("onIdChange",[a,e])},exists:function(a){return!!this.pull[a]},_moveInner:function(a,e){var t=this.getIdByIndex(a);this._updateOrder(function(){this.$removeAt(a),this.$insertAt(t,Math.min(this.length,e))})},move:function(a,e){var t=this.getIdByIndex(a),n=this.getItem(t);this._moveInner(a,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(a,e){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,a.call(e||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(a,e){if(a.length!==e.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==e[t])return!1;return!0},refresh:function(a,e){var t;if(!this.isSilent()&&(a&&(t=this.getItem(a)),!1!==this.callEvent("onBeforeStoreUpdate",a?[a,t,"paint"]:[null,null,null]))){var r=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,a){if(!e&&!r){var o=this.visibleOrder;this.filter(),this.arraysEqual(o,this.visibleOrder)||(a=void 0)}}else r||this.filter();this.callEvent("onStoreUpdated",a?[a,t,"paint"]:[null,null,null])}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(a){},serialize:function(){},eachItem:function(a){for(var e=0;e<this.fullOrder.length;e++){var t=this.getItem(this.fullOrder[e]);a.call(this,t)}},find:function(a){var e=[];return this.eachItem(function(t){a(t)&&e.push(t)}),e},filter:function(a){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=_.$create(),t=[];this.eachItem(function(r){this.callEvent("onFilterItem",[r.id,r])&&(u(r.id,null,this,this._ganttConfig)?t.push(r.id):e.push(r.id))});for(var n=0;n<t.length;n++)e.push(t[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(a,e){var t=Math.min(e||1/0,this.countVisible()-1),n=a||0,r=n+"-"+t;if(this._indexRangeCache[r])return this._indexRangeCache[r].slice();for(var o=[],c=n;c<=t;c++)o.push(this.getItem(this.visibleOrder[c]));return this._indexRangeCache[r]=o.slice(),o},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var a=[];for(var e in this.pull)a.push(this.pull[e]);return this._getItemsCache=a.slice(),a},getIdByIndex:function(a){return this.visibleOrder[a]},getIndexById:function(a){var e=this._searchVisibleOrder[a];return void 0===e&&(e=-1),e},_getNullIfUndefined:function(a){return void 0===a?null:a},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(a){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(a)+1])},getPrev:function(a){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(a)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},$.exports=i},function($,C){$.exports=function(f,_){if(!_)return!0;if(f._on_timeout)return!1;var l=Math.ceil(1e3/_);return l<2||(setTimeout(function(){delete f._on_timeout},l),f._on_timeout=!0,!0)}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(l){var s=this;for(var u in this.addExtension=function(i,a){s._extensions[i]=a},this.getExtension=function(i){return s._extensions[i]},this._extensions={},l)this._extensions[u]=l[u]}},function($,C,f){var _=f(0);$.exports=function l(s,u){s=s||_.event,u=u||_.eventRemove;var i=[],a={attach:function(e,t,n,r){i.push({element:e,event:t,callback:n,capture:r}),s(e,t,n,r)},detach:function(e,t,n,r){u(e,t,n,r);for(var o=0;o<i.length;o++){var c=i[o];c.element===e&&c.event===t&&c.callback===n&&c.capture===r&&(i.splice(o,1),o--)}},detachAll:function(){for(var e=i.slice(),t=0;t<e.length;t++){var n=e[t];a.detach(n.element,n.event,n.callback,n.capture),a.detach(n.element,n.event,n.callback,void 0),a.detach(n.element,n.event,n.callback,!1),a.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return l(this.event,this.eventRemove)}};return a}},function($,C){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(_)}$.exports="object"==(typeof self>"u"?"undefined":f(self))?self.FormData:window.FormData},function($,C){(function(f){$.exports=f}).call(this,{})},function($,C,f){"use strict";$.exports=s;var _=f(13),l=f(18);function s(a){if(!(this instanceof s))return new s(a);_.call(this,a),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",u)}function u(){var a=this;"function"==typeof this._flush?this._flush(function(e,t){i(a,e,t)}):i(this,null,null)}function i(a,e,t){if(e)return a.emit("error",e);if(null!=t&&a.push(t),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}l.inherits=f(9),l.inherits(s,_),s.prototype.push=function(a,e){return this._transformState.needTransform=!1,_.prototype.push.call(this,a,e)},s.prototype._transform=function(a,e,t){throw new Error("_transform() is not implemented")},s.prototype._write=function(a,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=a,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(a){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(a,e){var t=this;_.prototype._destroy.call(this,a,function(n){e(n),t.emit("close")})}},function($,C,f){"use strict";var _=f(21).Buffer,l=_.isEncoding||function(c){switch((c=""+c)&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(c){var d;switch(this.encoding=function(h){var g=function(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}(h);if("string"!=typeof g&&(_.isEncoding===l||!l(h)))throw new Error("Unknown encoding: "+h);return g||h}(c),this.encoding){case"utf16le":this.text=a,this.end=e,d=4;break;case"utf8":this.fillLast=i,d=4;break;case"base64":this.text=t,this.end=n,d=3;break;default:return this.write=r,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(d)}function u(c){return c<=127?0:c>>5==6?2:c>>4==14?3:c>>3==30?4:c>>6==2?-1:-2}function i(c){var d=this.lastTotal-this.lastNeed,h=function(g,p,y){if(128!=(192&p[0]))return g.lastNeed=0,"\ufffd";if(g.lastNeed>1&&p.length>1){if(128!=(192&p[1]))return g.lastNeed=1,"\ufffd";if(g.lastNeed>2&&p.length>2&&128!=(192&p[2]))return g.lastNeed=2,"\ufffd"}}(this,c);return void 0!==h?h:this.lastNeed<=c.length?(c.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(c.copy(this.lastChar,d,0,c.length),void(this.lastNeed-=c.length))}function a(c,d){if((c.length-d)%2==0){var h=c.toString("utf16le",d);if(h){var g=h.charCodeAt(h.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",d,c.length-1)}function e(c){var d=c&&c.length?this.write(c):"";return this.lastNeed?d+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):d}function t(c,d){var h=(c.length-d)%3;return 0===h?c.toString("base64",d):(this.lastNeed=3-h,this.lastTotal=3,1===h?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",d,c.length-h))}function n(c){var d=c&&c.length?this.write(c):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function r(c){return c.toString(this.encoding)}function o(c){return c&&c.length?this.write(c):""}C.StringDecoder=s,s.prototype.write=function(c){if(0===c.length)return"";var d,h;if(this.lastNeed){if(void 0===(d=this.fillLast(c)))return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<c.length?d?d+this.text(c,h):this.text(c,h):d||""},s.prototype.end=function(c){var d=c&&c.length?this.write(c):"";return this.lastNeed?d+"\ufffd":d},s.prototype.text=function(c,d){var h=function(p,y,v){var m=y.length-1;if(m<v)return 0;var k=u(y[m]);return k>=0?(k>0&&(p.lastNeed=k-1),k):--m<v||-2===k?0:(k=u(y[m]))>=0?(k>0&&(p.lastNeed=k-2),k):--m<v||-2===k?0:(k=u(y[m]))>=0?(k>0&&(2===k?k=0:p.lastNeed=k-3),k):0}(this,c,d);if(!this.lastNeed)return c.toString("utf8",d);this.lastTotal=h;var g=c.length-(h-this.lastNeed);return c.copy(this.lastChar,0,g),c.toString("utf8",d,g)},s.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length}},function($,C,f){(function(_){var l=void 0!==_&&_||typeof self<"u"&&self||window,s=Function.prototype.apply;function u(i,a){this._id=i,this._clearFn=a}C.setTimeout=function(){return new u(s.call(setTimeout,l,arguments),clearTimeout)},C.setInterval=function(){return new u(s.call(setInterval,l,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(i){i&&i.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(l,this._id)},C.enroll=function(i,a){clearTimeout(i._idleTimeoutId),i._idleTimeout=a},C.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},C._unrefActive=C.active=function(i){clearTimeout(i._idleTimeoutId);var a=i._idleTimeout;a>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},a))},f(301),C.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==_&&_.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==_&&_.clearImmediate||this&&this.clearImmediate}).call(this,f(4))},function($,C,f){"use strict";(function(_,l,s){var u=f(22);function i(x){var T=this;this.next=null,this.entry=null,this.finish=function(){!function(E,I,L){var N=E.entry;for(E.entry=null;N;){var z=N.callback;I.pendingcb--,z(undefined),N=N.next}I.corkedRequestsFree?I.corkedRequestsFree.next=E:I.corkedRequestsFree=E}(T,x)}}$.exports=y;var a,e=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?l:u.nextTick;y.WritableState=p;var t=f(18);t.inherits=f(9);var d,n={deprecate:f(300)},r=f(65),o=f(21).Buffer,c=s.Uint8Array||function(){},h=f(64);function g(){}function p(x,T){a=a||f(13);var E=T instanceof a;this.objectMode=!!(x=x||{}).objectMode,E&&(this.objectMode=this.objectMode||!!x.writableObjectMode);var I=x.highWaterMark,L=x.writableHighWaterMark;this.highWaterMark=I||0===I?I:E&&(L||0===L)?L:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===x.decodeStrings),this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){!function(W,Y){var K,O=W._writableState,H=O.sync,X=O.writecb;if((K=O).writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0,Y)!function(K,tt,V,st,D){--tt.pendingcb,V?(u.nextTick(D,st),u.nextTick(w,K,tt),K._writableState.errorEmitted=!0,K.emit("error",st)):(D(st),K._writableState.errorEmitted=!0,K.emit("error",st),w(K,tt))}(W,O,H,Y,X);else{var Z=b(O);Z||O.corked||O.bufferProcessing||!O.bufferedRequest||k(W,O),H?e(m,W,O,Z,X):m(W,O,Z,X)}}(T,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function y(x){if(a=a||f(13),!(d.call(y,this)||this instanceof a))return new y(x);this._writableState=new p(x,this),this.writable=!0,x&&("function"==typeof x.write&&(this._write=x.write),"function"==typeof x.writev&&(this._writev=x.writev),"function"==typeof x.destroy&&(this._destroy=x.destroy),"function"==typeof x.final&&(this._final=x.final)),r.call(this)}function v(x,T,E,I,L,N,z){T.writelen=I,T.writecb=z,T.writing=!0,T.sync=!0,E?x._writev(L,T.onwrite):x._write(L,N,T.onwrite),T.sync=!1}function m(x,T,E,I){var L,N;E||(L=x,0===(N=T).length&&N.needDrain&&(N.needDrain=!1,L.emit("drain"))),T.pendingcb--,I(),w(x,T)}function k(x,T){T.bufferProcessing=!0;var E=T.bufferedRequest;if(x._writev&&E&&E.next){var L=new Array(T.bufferedRequestCount),N=T.corkedRequestsFree;N.entry=E;for(var z=0,U=!0;E;)L[z]=E,E.isBuf||(U=!1),E=E.next,z+=1;L.allBuffers=U,v(x,T,!0,T.length,L,"",N.finish),T.pendingcb++,T.lastBufferedRequest=null,N.next?(T.corkedRequestsFree=N.next,N.next=null):T.corkedRequestsFree=new i(T),T.bufferedRequestCount=0}else{for(;E;){var W=E.chunk;if(v(x,T,!1,T.objectMode?1:W.length,W,E.encoding,E.callback),E=E.next,T.bufferedRequestCount--,T.writing)break}null===E&&(T.lastBufferedRequest=null)}T.bufferedRequest=E,T.bufferProcessing=!1}function b(x){return x.ending&&0===x.length&&null===x.bufferedRequest&&!x.finished&&!x.writing}function S(x,T){x._final(function(E){T.pendingcb--,E&&x.emit("error",E),T.prefinished=!0,x.emit("prefinish"),w(x,T)})}function w(x,T){var I,L,E=b(T);return E&&(I=x,(L=T).prefinished||L.finalCalled||("function"==typeof I._final?(L.pendingcb++,L.finalCalled=!0,u.nextTick(S,I,L)):(L.prefinished=!0,I.emit("prefinish"))),0===T.pendingcb&&(T.finished=!0,x.emit("finish"))),E}t.inherits(y,r),p.prototype.getBuffer=function(){for(var x=this.bufferedRequest,T=[];x;)T.push(x),x=x.next;return T},function(){try{Object.defineProperty(p.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(x){return!!d.call(this,x)||this===y&&x&&x._writableState instanceof p}})):d=function(x){return x instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(x,T,E){var z,I=this._writableState,L=!1,N=!I.objectMode&&(o.isBuffer(z=x)||z instanceof c);return N&&!o.isBuffer(x)&&(x=function(z){return o.from(z)}(x)),"function"==typeof T&&(E=T,T=null),N?T="buffer":T||(T=I.defaultEncoding),"function"!=typeof E&&(E=g),I.ended?function(z,U){var W=new Error("write after end");z.emit("error",W),u.nextTick(U,W)}(this,E):(N||function(z,U,W,Y){var O=!0,H=!1;return null===W?H=new TypeError("May not write null values to stream"):"string"==typeof W||void 0===W||U.objectMode||(H=new TypeError("Invalid non-string/buffer chunk")),H&&(z.emit("error",H),u.nextTick(Y,H),O=!1),O}(this,I,x,E))&&(I.pendingcb++,L=function(z,U,W,Y,O,H){if(!W){var X=(st=Y,(V=U).objectMode||!1===V.decodeStrings||"string"!=typeof st||(st=o.from(st,O)),st);Y!==X&&(W=!0,O="buffer",Y=X)}var V,st,Z=U.objectMode?1:Y.length;U.length+=Z;var K=U.length<U.highWaterMark;if(K||(U.needDrain=!0),U.writing||U.corked){var tt=U.lastBufferedRequest;U.lastBufferedRequest={chunk:Y,encoding:O,isBuf:W,callback:H,next:null},tt?tt.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else v(z,U,!1,Z,Y,O,H);return K}(this,I,N,x,T,E)),L},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.finished||x.bufferProcessing||!x.bufferedRequest||k(this,x))},y.prototype.setDefaultEncoding=function(x){if("string"==typeof x&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(x,T,E){E(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(x,T,E){var L,N,z,I=this._writableState;"function"==typeof x?(E=x,x=null,T=null):"function"==typeof T&&(E=T,T=null),null!=x&&this.write(x,T),I.corked&&(I.corked=1,this.uncork()),I.ending||I.finished||(L=this,z=E,(N=I).ending=!0,w(L,N),z&&(N.finished?u.nextTick(z):L.once("finish",z)),N.ended=!0,L.writable=!1)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(x,T){this.end(),T(x)}}).call(this,f(10),f(62).setImmediate,f(4))},function($,C,f){"use strict";var _=f(22);function l(s,u){s.emit("error",u)}$.exports={destroy:function(s,u){var i=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(u?u(s):!s||this._writableState&&this._writableState.errorEmitted||_.nextTick(l,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(t){!u&&t?(_.nextTick(l,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):u&&u(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function($,C,f){$.exports=f(66).EventEmitter},function($,C){function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(i){return"function"==typeof i}function s(i){return"object"===f(i)&&null!==i}function u(i){return void 0===i}$.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.prototype.setMaxListeners=function(i){if("number"!=typeof i||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},_.prototype.emit=function(i){var a,e,t,n,r,o;if(this._events||(this._events={}),"error"===i&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var c=new Error('Uncaught, unspecified "error" event. ('+a+")");throw c.context=a,c}if(u(e=this._events[i]))return!1;if(l(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(s(e))for(n=Array.prototype.slice.call(arguments,1),t=(o=e.slice()).length,r=0;r<t;r++)o[r].apply(this,n);return!0},_.prototype.on=_.prototype.addListener=function(i,a){var e;if(!l(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,l(a.listener)?a.listener:a),this._events[i]?s(this._events[i])?this._events[i].push(a):this._events[i]=[this._events[i],a]:this._events[i]=a,s(this._events[i])&&!this._events[i].warned&&(e=u(this._maxListeners)?_.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[i].length>e&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),"function"==typeof console.trace&&console.trace()),this},_.prototype.once=function(i,a){if(!l(a))throw TypeError("listener must be a function");var e=!1;function t(){this.removeListener(i,t),e||(e=!0,a.apply(this,arguments))}return t.listener=a,this.on(i,t),this},_.prototype.removeListener=function(i,a){var e,t,n,r;if(!l(a))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=(e=this._events[i]).length,t=-1,e===a||l(e.listener)&&e.listener===a)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,a);else if(s(e)){for(r=n;r-- >0;)if(e[r]===a||e[r].listener&&e[r].listener===a){t=r;break}if(t<0)return this;1===e.length?(e.length=0,delete this._events[i]):e.splice(t,1),this._events.removeListener&&this.emit("removeListener",i,a)}return this},_.prototype.removeAllListeners=function(i){var a,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[i]&&delete this._events[i],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(l(e=this._events[i]))this.removeListener(i,e);else if(e)for(;e.length;)this.removeListener(i,e[e.length-1]);return delete this._events[i],this},_.prototype.listeners=function(i){return this._events&&this._events[i]?l(this._events[i])?[this._events[i]]:this._events[i].slice():[]},_.prototype.listenerCount=function(i){if(this._events){var a=this._events[i];if(l(a))return 1;if(a)return a.length}return 0},_.listenerCount=function(i,a){return i.listenerCount(a)}},function($,C,f){"use strict";(function(_,l){var s=f(22);$.exports=v;var u,i=f(71);v.ReadableState=y,f(66);var a=function(O,H){return O.listeners(H).length},e=f(65),t=f(21).Buffer,n=_.Uint8Array||function(){},r=f(18);r.inherits=f(9);var o=f(304),c=void 0;c=o&&o.debuglog?o.debuglog("stream"):function(){};var d,h=f(303),g=f(64);r.inherits(v,e);var p=["error","close","destroy","pause","resume"];function y(O,H){var X=H instanceof(u=u||f(13));this.objectMode=!!(O=O||{}).objectMode,X&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var Z=O.highWaterMark,K=O.readableHighWaterMark;this.highWaterMark=Z||0===Z?Z:X&&(K||0===K)?K:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(d||(d=f(61).StringDecoder),this.decoder=new d(O.encoding),this.encoding=O.encoding)}function v(O){if(u=u||f(13),!(this instanceof v))return new v(O);this._readableState=new y(O,this),this.readable=!0,O&&("function"==typeof O.read&&(this._read=O.read),"function"==typeof O.destroy&&(this._destroy=O.destroy)),e.call(this)}function m(O,H,X,Z,K){var tt,st,D,M,P,V=O._readableState;return null===H?(V.reading=!1,function(st,D){if(!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,w(st)}}(O,V)):(K||(st=V,t.isBuffer(P=D=H)||P instanceof n||"string"==typeof D||void 0===D||st.objectMode||(M=new TypeError("Invalid non-string/buffer chunk")),tt=M),tt?O.emit("error",tt):V.objectMode||H&&H.length>0?("string"==typeof H||V.objectMode||Object.getPrototypeOf(H)===t.prototype||(H=function(st){return t.from(st)}(H)),Z?V.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):k(O,V,H,!0):V.ended?O.emit("error",new Error("stream.push() after EOF")):(V.reading=!1,V.decoder&&!X?(H=V.decoder.write(H),V.objectMode||0!==H.length?k(O,V,H,!1):T(O,V)):k(O,V,H,!1))):Z||(V.reading=!1)),function(st){return!st.ended&&(st.needReadable||st.length<st.highWaterMark||0===st.length)}(V)}function k(O,H,X,Z){H.flowing&&0===H.length&&!H.sync?(O.emit("data",X),O.read(0)):(H.length+=H.objectMode?1:X.length,Z?H.buffer.unshift(X):H.buffer.push(X),H.needReadable&&w(O)),T(O,H)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(O,H){this.push(null),H(O)},v.prototype.push=function(O,H){var X,Z=this._readableState;return Z.objectMode?X=!0:"string"==typeof O&&((H=H||Z.defaultEncoding)!==Z.encoding&&(O=t.from(O,H),H=""),X=!0),m(this,O,H,!1,X)},v.prototype.unshift=function(O){return m(this,O,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(O){return d||(d=f(61).StringDecoder),this._readableState.decoder=new d(O),this._readableState.encoding=O,this};var b=8388608;function S(O,H){return O<=0||0===H.length&&H.ended?0:H.objectMode?1:O!=O?H.flowing&&H.length?H.buffer.head.data.length:H.length:(O>H.highWaterMark&&(H.highWaterMark=((X=O)>=b?X=b:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X)),O<=H.length?O:H.ended?H.length:(H.needReadable=!0,0));var X}function w(O){var H=O._readableState;H.needReadable=!1,H.emittedReadable||(c("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?s.nextTick(x,O):x(O))}function x(O){c("emit readable"),O.emit("readable"),N(O)}function T(O,H){H.readingMore||(H.readingMore=!0,s.nextTick(E,O,H))}function E(O,H){for(var X=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(c("maybeReadMore read 0"),O.read(0),X!==H.length);)X=H.length;H.readingMore=!1}function I(O){c("readable nexttick read 0"),O.read(0)}function L(O,H){H.reading||(c("resume read 0"),O.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,O.emit("resume"),N(O),H.flowing&&!H.reading&&O.read(0)}function N(O){var H=O._readableState;for(c("flow",H.flowing);H.flowing&&null!==O.read(););}function z(O,H){return 0===H.length?null:(H.objectMode?X=H.buffer.shift():!O||O>=H.length?(X=H.decoder?H.buffer.join(""):1===H.buffer.length?H.buffer.head.data:H.buffer.concat(H.length),H.buffer.clear()):(tt=H.decoder,(Z=O)<(K=H.buffer).head.data.length?(V=K.head.data.slice(0,Z),K.head.data=K.head.data.slice(Z)):V=Z===K.head.data.length?K.shift():tt?function(st,D){var M=D.head,P=1,F=M.data;for(st-=F.length;M=M.next;){var B=M.data,q=st>B.length?B.length:st;if(F+=q===B.length?B:B.slice(0,st),0==(st-=q)){q===B.length?(++P,D.head=M.next?M.next:D.tail=null):(D.head=M,M.data=B.slice(q));break}++P}return D.length-=P,F}(Z,K):function(st,D){var M=t.allocUnsafe(st),P=D.head,F=1;for(P.data.copy(M),st-=P.data.length;P=P.next;){var B=P.data,q=st>B.length?B.length:st;if(B.copy(M,M.length-st,0,q),0==(st-=q)){q===B.length?(++F,D.head=P.next?P.next:D.tail=null):(D.head=P,P.data=B.slice(q));break}++F}return D.length-=F,M}(Z,K),X=V),X);var Z,K,tt,V,X}function U(O){var H=O._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,s.nextTick(W,H,O))}function W(O,H){O.endEmitted||0!==O.length||(O.endEmitted=!0,H.readable=!1,H.emit("end"))}function Y(O,H){for(var X=0,Z=O.length;X<Z;X++)if(O[X]===H)return X;return-1}v.prototype.read=function(O){c("read",O),O=parseInt(O,10);var H=this._readableState,X=O;if(0!==O&&(H.emittedReadable=!1),0===O&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return c("read: emitReadable",H.length,H.ended),0===H.length&&H.ended?U(this):w(this),null;if(0===(O=S(O,H))&&H.ended)return 0===H.length&&U(this),null;var Z,K=H.needReadable;return c("need readable",K),(0===H.length||H.length-O<H.highWaterMark)&&c("length less than watermark",K=!0),H.ended||H.reading?c("reading or ended",K=!1):K&&(c("do read"),H.reading=!0,H.sync=!0,0===H.length&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(O=S(X,H))),null===(Z=O>0?z(O,H):null)?(H.needReadable=!0,O=0):H.length-=O,0===H.length&&(H.ended||(H.needReadable=!0),X!==O&&H.ended&&U(this)),null!==Z&&this.emit("data",Z),Z},v.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(O,H){var X=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=O;break;case 1:Z.pipes=[Z.pipes,O];break;default:Z.pipes.push(O)}Z.pipesCount+=1,c("pipe count=%d opts=%j",Z.pipesCount,H);var K=H&&!1===H.end||O===l.stdout||O===l.stderr?nt:V;function V(){c("onend"),O.end()}Z.endEmitted?s.nextTick(K):X.once("end",K),O.on("unpipe",function tt(at,ct){c("onunpipe"),at===X&&ct&&!1===ct.hasUnpiped&&(ct.hasUnpiped=!0,c("cleanup"),O.removeListener("close",B),O.removeListener("finish",q),O.removeListener("drain",st),O.removeListener("error",F),O.removeListener("unpipe",tt),X.removeListener("end",V),X.removeListener("end",nt),X.removeListener("data",P),D=!0,!Z.awaitDrain||O._writableState&&!O._writableState.needDrain||st())});var at,st=(at=X,function(){var ct=at._readableState;c("pipeOnDrain",ct.awaitDrain),ct.awaitDrain&&ct.awaitDrain--,0===ct.awaitDrain&&a(at,"data")&&(ct.flowing=!0,N(at))});O.on("drain",st);var D=!1,M=!1;function P(at){c("ondata"),M=!1,!1!==O.write(at)||M||((1===Z.pipesCount&&Z.pipes===O||Z.pipesCount>1&&-1!==Y(Z.pipes,O))&&!D&&(c("false write response, pause",X._readableState.awaitDrain),X._readableState.awaitDrain++,M=!0),X.pause())}function F(at){c("onerror",at),nt(),O.removeListener("error",F),0===a(O,"error")&&O.emit("error",at)}function B(){O.removeListener("finish",q),nt()}function q(){c("onfinish"),O.removeListener("close",B),nt()}function nt(){c("unpipe"),X.unpipe(O)}return X.on("data",P),function(at,ct,gt){if("function"==typeof at.prependListener)return at.prependListener(ct,gt);at._events&&at._events[ct]?i(at._events[ct])?at._events[ct].unshift(gt):at._events[ct]=[gt,at._events[ct]]:at.on(ct,gt)}(O,"error",F),O.once("close",B),O.once("finish",q),O.emit("pipe",X),Z.flowing||(c("pipe resume"),X.resume()),O},v.prototype.unpipe=function(O){var H=this._readableState,X={hasUnpiped:!1};if(0===H.pipesCount)return this;if(1===H.pipesCount)return O&&O!==H.pipes||(O||(O=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,O&&O.emit("unpipe",this,X)),this;if(!O){var Z=H.pipes,K=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var tt=0;tt<K;tt++)Z[tt].emit("unpipe",this,X);return this}var V=Y(H.pipes,O);return-1===V||(H.pipes.splice(V,1),H.pipesCount-=1,1===H.pipesCount&&(H.pipes=H.pipes[0]),O.emit("unpipe",this,X)),this},v.prototype.addListener=v.prototype.on=function(O,H){var X=e.prototype.on.call(this,O,H);if("data"===O)!1!==this._readableState.flowing&&this.resume();else if("readable"===O){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&w(this):s.nextTick(I,this))}return X},v.prototype.resume=function(){var X,O=this._readableState;return O.flowing||(c("resume"),O.flowing=!0,this,(X=O).resumeScheduled||(X.resumeScheduled=!0,s.nextTick(L,this,X))),this},v.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(O){var H=this,X=this._readableState,Z=!1;for(var K in O.on("end",function(){if(c("wrapped end"),X.decoder&&!X.ended){var V=X.decoder.end();V&&V.length&&H.push(V)}H.push(null)}),O.on("data",function(V){c("wrapped data"),X.decoder&&(V=X.decoder.write(V)),(!X.objectMode||null!=V)&&(X.objectMode||V&&V.length)&&(H.push(V)||(Z=!0,O.pause()))}),O)void 0===this[K]&&"function"==typeof O[K]&&(this[K]=function(V){return function(){return O[V].apply(O,arguments)}}(K));for(var tt=0;tt<p.length;tt++)O.on(p[tt],this.emit.bind(this,p[tt]));return this._read=function(V){c("wrapped _read",V),Z&&(Z=!1,O.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=z}).call(this,f(4),f(10))},function($,C,f){(C=$.exports=f(67)).Stream=C,C.Readable=C,C.Writable=f(63),C.Duplex=f(13),C.Transform=f(60),C.PassThrough=f(299)},function($,C,f){(function(_,l,s){var u=f(70),i=f(9),a=f(68),e=C.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=C.IncomingMessage=function(n,r,o,c){var d=this;if(a.Readable.call(d),d._mode=o,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){_.nextTick(function(){d.emit("close")})}),"fetch"===o){if(d._fetchResponse=r,d.url=r.url,d.statusCode=r.status,d.statusMessage=r.statusText,r.headers.forEach(function(v,m){d.headers[m.toLowerCase()]=v,d.rawHeaders.push(m,v)}),u.writableStream){var h=new WritableStream({write:function(v){return new Promise(function(m,k){d._destroyed?k():d.push(new s(v))?m():d._resumeFetch=m})},close:function(){l.clearTimeout(c),d._destroyed||d.push(null)},abort:function(v){d._destroyed||d.emit("error",v)}});try{return void r.body.pipeTo(h).catch(function(v){l.clearTimeout(c),d._destroyed||d.emit("error",v)})}catch{}}var g=r.body.getReader();!function v(){g.read().then(function(m){if(!d._destroyed){if(m.done)return l.clearTimeout(c),void d.push(null);d.push(new s(m.value)),v()}}).catch(function(m){l.clearTimeout(c),d._destroyed||d.emit("error",m)})}()}else if(d._xhr=n,d._pos=0,d.url=n.responseURL,d.statusCode=n.status,d.statusMessage=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).forEach(function(v){var m=v.match(/^([^:]+):\s*(.*)/);if(m){var k=m[1].toLowerCase();"set-cookie"===k?(void 0===d.headers[k]&&(d.headers[k]=[]),d.headers[k].push(m[2])):void 0!==d.headers[k]?d.headers[k]+=", "+m[2]:d.headers[k]=m[2],d.rawHeaders.push(m[1],m[2])}}),d._charset="x-user-defined",!u.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var y=p.match(/;\s*charset=([^;])(;|$)/);y&&(d._charset=y[1].toLowerCase())}d._charset||(d._charset="utf-8")}};i(t,a.Readable),t.prototype._read=function(){var n=this._resumeFetch;n&&(this._resumeFetch=null,n())},t.prototype._onXHRProgress=function(){var n=this,r=n._xhr,o=null;switch(n._mode){case"text:vbarray":if(r.readyState!==e.DONE)break;try{o=new l.VBArray(r.responseBody).toArray()}catch{}if(null!==o){n.push(new s(o));break}case"text":try{o=r.responseText}catch{n._mode="text:vbarray";break}if(o.length>n._pos){var c=o.substr(n._pos);if("x-user-defined"===n._charset){for(var d=new s(c.length),h=0;h<c.length;h++)d[h]=255&c.charCodeAt(h);n.push(d)}else n.push(c,n._charset);n._pos=o.length}break;case"arraybuffer":if(r.readyState!==e.DONE||!r.response)break;o=r.response,n.push(new s(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=r.response,r.readyState!==e.LOADING||!o)break;n.push(new s(new Uint8Array(o)));break;case"ms-stream":if(o=r.response,r.readyState!==e.LOADING)break;var g=new l.MSStreamReader;g.onprogress=function(){g.result.byteLength>n._pos&&(n.push(new s(new Uint8Array(g.result.slice(n._pos)))),n._pos=g.result.byteLength)},g.onload=function(){n.push(null)},g.readAsArrayBuffer(o)}n._xhr.readyState===e.DONE&&"ms-stream"!==n._mode&&n.push(null)}}).call(this,f(10),f(4),f(14).Buffer)},function($,C,f){(function(_){C.fetch=e(_.fetch)&&e(_.ReadableStream),C.writableStream=e(_.WritableStream),C.abortController=e(_.AbortController),C.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),C.blobConstructor=!0}catch{}var l;function s(){if(void 0!==l)return l;if(_.XMLHttpRequest){l=new _.XMLHttpRequest;try{l.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{l=null}}else l=null;return l}function u(t){var n=s();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch{}return!1}var i=void 0!==_.ArrayBuffer,a=i&&e(_.ArrayBuffer.prototype.slice);function e(t){return"function"==typeof t}C.arraybuffer=C.fetch||i&&u("arraybuffer"),C.msstream=!C.fetch&&a&&u("ms-stream"),C.mozchunkedarraybuffer=!C.fetch&&i&&u("moz-chunked-arraybuffer"),C.overrideMimeType=C.fetch||!!s()&&e(s().overrideMimeType),C.vbArray=e(_.VBArray),l=null}).call(this,f(4))},function($,C){var f={}.toString;$.exports=Array.isArray||function(_){return"[object Array]"==f.call(_)}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){this._gantt=s}return l.prototype.isEqual=function(s,u,i){return!this._gantt._hasDuration(s,u,i)},l.prototype.isFirstSmaller=function(s,u,i){return s.valueOf()<u.valueOf()&&!this.isEqual(s,u,i)},l.prototype.isSmallerOrDefault=function(s,u,i){return!(s&&!this.isFirstSmaller(s,u,i))},l.prototype.isGreaterOrDefault=function(s,u,i){return!(s&&!this.isFirstSmaller(u,s,i))},l}();C.default=_},function($,C,f){var _=f(2);$.exports=function(){return{getVertices:function(l){for(var s,u={},i=0,a=l.length;i<a;i++)u[(s=l[i]).target]=s.target,u[s.source]=s.source;var t=[];for(var i in u)t.push(u[i]);return t},topologicalSort:function(l){for(var s=this.getVertices(l),u={},i=0,a=s.length;i<a;i++)u[s[i]]={id:s[i],$source:[],$target:[],$incoming:0};for(i=0,a=l.length;i<a;i++){var e=u[l[i].target];e.$target.push(i),e.$incoming=e.$target.length,u[l[i].source].$source.push(i)}for(var t=s.filter(function(d){return!u[d].$incoming}),n=[];t.length;){var r=t.pop();n.push(r);var o=u[r];for(i=0;i<o.$source.length;i++){var c=u[l[o.$source[i]].target];c.$incoming--,c.$incoming||t.push(c.id)}}return n},groupAdjacentEdges:function(l){for(var s,u={},i=0,a=l.length;i<a;i++)u[(s=l[i]).source]||(u[s.source]=[]),u[s.source].push(s);return u},tarjanStronglyConnectedComponents:function(l,s){for(var u={},i=[],a=this.groupAdjacentEdges(s),e=!1,t=[],n=0;n<l.length;n++){var r=y(l[n]);if(!r.visited)for(var o=[r],c=0;o.length;){var d=o.pop();d.visited||(d.index=c,d.lowLink=c,c++,i.push(d),d.onStack=!0,d.visited=!0),e=!1,s=a[d.id]||[];for(var h=0;h<s.length;h++){var g=y(s[h].target);if(g.edge=s[h],void 0===g.index){o.push(d),o.push(g),e=!0;break}g.onStack&&(d.lowLink=Math.min(d.lowLink,g.index))}if(!e){if(d.index==d.lowLink){for(var p={tasks:[],links:[],linkKeys:[]};(g=i.pop()).onStack=!1,p.tasks.push(g.id),g.edge&&(p.links.push(g.edge.id),p.linkKeys.push(g.edge.hashSum)),g!=d;);t.push(p)}o.length&&(g=d,(d=o[o.length-1]).lowLink=Math.min(d.lowLink,g.lowLink))}}}return t;function y(v){return u[v]||(u[v]={id:v,onStack:!1,index:void 0,lowLink:void 0,edge:void 0}),u[v]}},findLoops:function(l){var s=[];_.forEach(l,function(a){a.target==a.source&&s.push([a.target,a.source])});var u=this.getVertices(l),i=this.tarjanStronglyConnectedComponents(u,l);return _.forEach(i,function(a){a.tasks.length>1&&s.push(a)}),s}}}},function($,C){$.exports=function(f){return{getVirtualRoot:function(){return f.mixin(f.getSubtaskDates(),{id:f.config.root_id,type:f.config.types.project,$source:[],$target:[],$virtual:!0})},getLinkedTasks:function(_,l){var s=[_],u=!1;f._isLinksCacheEnabled()||(f._startLinksCache(),u=!0);for(var i=[],a={},e={},t=0;t<s.length;t++)this._getLinkedTasks(s[t],a,l,e);for(var t in e)i.push(e[t]);return u&&f._endLinksCache(),i},_collectRelations:function(_,l,s,u){var i,a=f._getSuccessors(_,l),e=[];s&&(e=f._getPredecessors(_,l));for(var t=[],n=0;n<a.length;n++)u[i=a[n].hashSum]||(u[i]=!0,t.push(a[n]));for(n=0;n<e.length;n++)u[i=e[n].hashSum]||(u[i]=!0,t.push(e[n]));return t},_getLinkedTasks:function(_,l,s,u){for(var i,a=void 0===_?f.config.root_id:_,e=(l={},{}),t=[{from:a,includePredecessors:s,isChild:!1}];t.length;){var n=t.pop(),r=n.isChild;if(!l[a=n.from]){i=f.isTaskExists(a)?f.getTask(a):this.getVirtualRoot(),l[a]=!0;for(var o=this._collectRelations(i,r,s,e),c=0;c<o.length;c++){var d=o[c],h=!0;f.config.auto_scheduling_use_progress&&1==f.getTask(d.target).progress&&(h=!1),h&&(u[d.hashSum]=d),l[d.target]||t.push({from:d.target,includePredecessors:!0,isChild:d.sourceParent==d.targetParent})}if(f.hasChild(i.id)){var p=f.getChildren(i.id);for(c=0;c<p.length;c++)l[p[c]]||t.push({from:p[c],includePredecessors:!0,isChild:!0})}}}return u}}}},function($,C){$.exports=function(f){f._get_linked_task=function(a,e){var t=null,n=e?a.target:a.source;return f.isTaskExists(n)&&(t=f.getTask(n)),t},f._get_link_target=function(a){return f._get_linked_task(a,!0)},f._get_link_source=function(a){return f._get_linked_task(a,!1)};var _=!1,l={},s={},u={},i={};f._isLinksCacheEnabled=function(){return _},f._startLinksCache=function(){l={},s={},u={},i={},_=!0},f._endLinksCache=function(){l={},s={},u={},i={},_=!1},f._formatLink=function(a){if(_&&l[a.id])return l[a.id];var e=[],t=this._get_link_target(a),n=this._get_link_source(a);if(!n||!t||f.isSummaryTask(t)&&f.isChildOf(n.id,t.id)||f.isSummaryTask(n)&&f.isChildOf(t.id,n.id))return e;var r=f.config.schedule_from_end&&f.config.project_end,o=f.config.auto_scheduling_move_projects;!f.config.auto_scheduling_compatibility&&f.config.auto_scheduling_strict&&(o=!1);for(var c=this.isSummaryTask(n)?this.getSubtaskDates(n.id):{start_date:n.start_date,end_date:n.end_date},d=this._getImplicitLinks(a,n,function(x){return o&&r?x.$source.length||f.getState("tasksDnd").drag_id==x.id?0:f.calculateDuration({start_date:x.end_date,end_date:c.end_date,task:n}):0},!0),h=this.isSummaryTask(t)?this.getSubtaskDates(t.id):{start_date:t.start_date,end_date:t.end_date},g=this._getImplicitLinks(a,t,function(x){return!o||r||x.$target.length||f.getState("tasksDnd").drag_id==x.id?0:f.calculateDuration({start_date:h.start_date,end_date:x.start_date,task:n})}),p=0,y=d.length;p<y;p++)for(var v=d[p],m=0,k=g.length;m<k;m++){var b=g[m];e.push(f._convertToFinishToStartLink(b.task,{id:a.id,type:a.type,source:v.task,target:b.task,subtaskLink:v.subtaskLink,lag:(1*a.lag||0)+(1*v.lag+1*b.lag)},n,t,v.taskParent,b.taskParent))}return _&&(l[a.id]=e),e},f._isAutoSchedulable=function(a){return!1!==a.auto_scheduling},f._getImplicitLinks=function(a,e,t,n){var r=[];if(this.isSummaryTask(e)){var o,c={};for(var d in this.eachTask(function(k){this.isSummaryTask(k)||(c[k.id]=k)},e.id),c){var h=c[d],g=n?h.$source:h.$target;o=!1;for(var p=0;p<g.length;p++){var y=f.getLink(g[p]),m=c[n?y.target:y.source];if(m&&!1!==h.auto_scheduling&&!1!==m.auto_scheduling&&(y.target==m.id&&Math.abs(y.lag)<=m.duration||y.target==h.id&&Math.abs(y.lag)<=h.duration)){o=!0;break}}o||r.push({task:h.id,taskParent:h.parent,lag:t(h),subtaskLink:!0})}}else r.push({task:e.id,taskParent:e.parent,lag:0});return r},f._getDirectDependencies=function(a,e){for(var t=[],n=[],r=e?a.$source:a.$target,o=0;o<r.length;o++){var c=this.getLink(r[o]);if(this.isTaskExists(c.source)&&this.isTaskExists(c.target)){var d=this.getTask(c.target);if(!this._isAutoSchedulable(d))continue;if(f.config.auto_scheduling_use_progress){if(1==d.progress)continue;t.push(c)}else t.push(c)}}for(o=0;o<t.length;o++)n=n.concat(this._formatLink(t[o]));return n},f._getInheritedDependencies=function(a,e){var t,n=!1,r=[];return this.isTaskExists(a.id)&&this.eachParent(function(o){var c;n||(_&&(t=e?s:u)[o.id]?r=r.concat(t[o.id]):this.isSummaryTask(o)&&(this._isAutoSchedulable(o)?(c=this._getDirectDependencies(o,e),_&&(t[o.id]=c),r=r.concat(c)):n=!0))},a.id,this),r},f._getDirectSuccessors=function(a){return this._getDirectDependencies(a,!0)},f._getInheritedSuccessors=function(a){return this._getInheritedDependencies(a,!0)},f._getDirectPredecessors=function(a){return this._getDirectDependencies(a,!1)},f._getInheritedPredecessors=function(a){return this._getInheritedDependencies(a,!1)},f._getSuccessors=function(a,e){var t=this._getDirectSuccessors(a);return e?t:t.concat(this._getInheritedSuccessors(a))},f._getPredecessors=function(a,e){var t,n=String(a.id)+"-"+String(e);if(_&&i[n])return i[n];var r=this._getDirectPredecessors(a);return t=e?r:r.concat(this._getInheritedPredecessors(a)),_&&(i[n]=t),t},f._convertToFinishToStartLink=function(a,e,t,n,r,o){var c={target:a,link:f.config.links.finish_to_start,id:e.id,lag:e.lag||0,sourceLag:0,targetLag:0,trueLag:e.lag||0,source:e.source,preferredStart:null,sourceParent:r,targetParent:o,hashSum:null,subtaskLink:e.subtaskLink},d=0;switch(String(e.type)){case String(f.config.links.start_to_start):c.sourceLag=d=-t.duration;break;case String(f.config.links.finish_to_finish):c.targetLag=d=-n.duration;break;case String(f.config.links.start_to_finish):d=-t.duration-n.duration,c.sourceLag=-t.duration,c.targetLag=-n.duration;break;default:d=0}return c.lag+=d,c.hashSum=c.lag+"_"+c.link+"_"+c.source+"_"+c.target,c}}},function($,C){$.exports=function(f){f.config.auto_scheduling_use_progress=!1,f.config.auto_scheduling_project_constraint=!1}},function($,C,f){"use strict";var _=["sZqDF","KKTya","HQmNL","KloSA","evaluation-warning","HRCQX","tqlZN","join","error","now","uEjRS","95913ssuQrm","FKFxb","3003233MOflhj","304931AJnXuj","BXtnr","expire","type","tvSUI","mYzvC","Your evaluation period for dhtmlxGantt has expired.","JkRir","1nkYGUQ","lsmVA","jyJWD","floor","TlHDQ","QaCab","fkCIT","BKubT","rDQUS","kuKWK","NdYsN","1563965dfUIea","625826TFZGiL","16YoZhwd","default","jfbFF","value","EprRg","__esModule","Qolgb","20709AXvdrB","jDfjc","utHwA","19axKonC","lggQV","SGTCX","UqaAc","LDqnY","ZGlUY","IYMei","message","EEygc","uAHWZ","rryFh","aJdOv","defineProperty","xzRCw","jWaZL","BZDbz","JLKmU","aOBJm","text","YKEAc","833631IvfjcE","fpxUp","akNFt","undefined","<br>","Please contact us at <a href='mailto:contact@dhtmlx.com?subject=dhtmlxGantt licensing' target='_blank'>contact@dhtmlx.com</a> or visit","NJhJB","random","HzHbc","JDphN","EXWhD","ivllK","pHJAQ","TqnAp","<a href='https://dhtmlx.com/docs/products/dhtmlxGantt' target='_blank'>dhtmlx.com</a> in order to obtain a license.","BvjnB","bUIsJ"],l=function(i,a){return _[i-=243]},s=l;!function(i,a){for(var e=l;;)try{if(-parseInt(e(306))-parseInt(e(243))-parseInt(e(275))+-parseInt(e(255))*parseInt(e(252))+parseInt(e(245))*parseInt(e(303))-parseInt(e(244))+-parseInt(e(305))*-parseInt(e(314))==816017)break;i.push(i.shift())}catch{i.push(i.shift())}}(_);var u={};u[s(248)]=!0,Object[s(267)](C,s(250),u),C[s(246)]=function(i){var a=s,e={};e[a(286)]=function(n,r){return n===r},e[a(320)]=a(292),e[a(260)]=function(n,r){return n>r},e[a(321)]=function(n,r){return n-r},e[a(294)]=a(300),e[a(268)]=a(296),e[a(274)]=function(n){return n()},e[a(288)]=function(n,r){return n===r},e[a(253)]=a(277),e[a(266)]=a(283),e[a(259)]=function(n,r){return n+r},e[a(265)]=function(n,r){return n*r},e[a(271)]=function(n,r){return n>r},e[a(304)]=a(284),e[a(261)]=function(n,r){return n!==r},e[a(269)]=a(285),e[a(249)]=a(297),e[a(310)]=a(312),e[a(290)]=a(280),e[a(263)]=a(289),e[a(315)]=a(279),e[a(281)]=function(n,r){return n*r},e[a(293)]=function(n,r){return n*r},e[a(247)]=function(n,r){return n*r},e[a(307)]=a(278),e[a(316)]=function(n,r){return n!==r},e[a(291)]=a(270),e[a(264)]=function(n,r,o){return n(r,o)},e[a(324)]=function(n,r){return n*r},e[a(254)]=function(n,r,o){return n(r,o)};var t=e;t[a(254)](setTimeout,function(){var n=a,r={};r[n(258)]=t[n(294)],r[n(257)]=t[n(268)],r[n(298)]=function(v){return t[n(274)](v)},r[n(323)]=function(v,m){return t[n(288)](v,m)},r[n(272)]=t[n(253)],r[n(322)]=t[n(266)],r[n(318)]=function(v,m){return t[n(259)](v,m)},r[n(276)]=function(v,m){return t[n(265)](v,m)},r[n(319)]=function(v,m){return t[n(259)](v,m)},r[n(313)]=function(v,m){return t[n(321)](v,m)},r[n(251)]=function(v,m){return t[n(259)](v,m)},r[n(311)]=function(v,m){return t[n(271)](v,m)},r[n(287)]=t[n(304)],r[n(295)]=function(v,m){return t[n(261)](v,m)},r[n(302)]=t[n(269)],r[n(256)]=t[n(249)];var o=r,c=[t[n(310)],t[n(290)],t[n(263)]][n(299)](t[n(315)]),d=t[n(281)](1e3,60),h=t[n(281)](d,60),g=t[n(293)](h,24),p=t[n(247)](g,32);if(!t[n(288)]("number",t[n(307)])||t[n(316)](t[n(291)],t[n(291)])){var y=function(){var v=n;if(t[v(286)](t[v(320)],t[v(320)]))return t[v(260)](t[v(321)](Date[v(301)](),1691131504e3),p)};t[n(264)](setInterval,function(){var v=n;if(o[v(323)](o[v(287)],o[v(287)])&&o[v(298)](y)&&o[v(295)](o[v(302)],o[v(256)])){var m={};m[v(309)]=o[v(258)],m[v(273)]=c,m[v(308)]=-1,m.id=o[v(257)],i[v(262)](m)}},t[n(264)](function(v,m){var k=n;if(!o[k(323)](o[k(272)],o[k(322)]))return o[k(318)](Math[k(317)](o[k(276)](Math[k(282)](),o[k(319)](o[k(313)](m,v),1))),v)},t[n(324)](1,d),t[n(324)](3,d)))}},1)}},function($,C){$.exports=function(f){var _=new RegExp("<(?:.|\n)*?>","gm"),l=new RegExp(" +","gm");function s(e){return(e+"").replace(_," ").replace(l," ")}var u=new RegExp("'","gm");function i(e){return(e+"").replace(u,"&#39;")}for(var a in f._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e){var r=i(s(e[n]));t.push(n+"='"+r+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(e){return f._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,t){e.start_date&&e.end_date&&(t.setAttribute("aria-label",s(f.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",f.isSelectedTask(e.id)?"true":"false"))},setTaskBarAttr:function(e,t){this._taskCommonAttr(e,t),!f.isReadonly(e)&&f.config.drag_move&&(e.id!=f.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,t){this._taskCommonAttr(e,t),!f.isReadonly(e)&&f.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-level",e.$level),f.hasChild(e.id)&&t.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,t){var n=f.config.links,c=f.locale.labels.link+" "+f.templates.drag_link(e.source,e.type==n.start_to_start||e.type==n.start_to_finish,e.target,e.type==n.finish_to_start||e.type==n.start_to_start);t.setAttribute("aria-label",s(c)),f.isReadonly(e)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(e){e.setAttribute("role","separator")},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":f.locale.labels[e],tabindex:"0"})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=f.locale.labels.years;break;case"%m":t=f.locale.labels.months;break;case"%d":t=f.locale.labels.days;break;case"%H:%i":t=f.locale.labels.hours+f.locale.labels.minutes}return f._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":f.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",f.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,t){var n="";if("add"==e.name)n=this.getAttributeString({role:"button","aria-label":f.locale.labels.new_task});else{var r={role:"columnheader","aria-label":t};f._sort&&f._sort.name==e.name&&(r["aria-sort"]="asc"==f._sort.direction?"ascending":"descending"),n=this.getAttributeString(r)}return n},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(e,t,n){var r={role:"gridcell","aria-label":t};return e.editor&&!f.isReadonly(n)||(r["aria-readonly"]=!0),this.getAttributeString(r)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":f.locale.labels.new_task})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return f._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},f._waiAria)f._waiAria[a]=function(e){return function(){return f.config.wai_aria_attributes?e.apply(this,arguments):""}}(f._waiAria[a])}},function($,C){$.exports=function(f){f._extend_to_optional=function(_){var l=_,s={render:l.render,focus:l.focus,set_value:function(u,i,a,e){var t=f._resolve_default_mapping(e);if(!a[t.start_date]||"start_date"==t.start_date&&this._isAllowedUnscheduledTask(a)){s.disable(u,e);var n={};for(var r in t)n[t[r]]=a[r];return l.set_value.call(f,u,i,n,e)}return s.enable(u,e),l.set_value.call(f,u,i,a,e)},get_value:function(u,i,a){return a.disabled?{start_date:null}:l.get_value.call(f,u,i,a)},update_block:function(u,i){if(f.callEvent("onSectionToggle",[f._lightbox_id,i]),u.style.display=i.disabled?"none":"block",i.button){var a=u.previousSibling.querySelector(".gantt_custom_button_label"),e=f.locale.labels;a.innerHTML=i.disabled?e[i.name+"_enable_button"]:e[i.name+"_disable_button"]}f.resizeLightbox()},disable:function(u,i){i.disabled=!0,s.update_block(u,i)},enable:function(u,i){i.disabled=!1,s.update_block(u,i)},button_click:function(u,i,a,e){if(!1!==f.callEvent("onSectionButton",[f._lightbox_id,a])){var t=f._get_typed_lightbox_config()[u];t.disabled?s.enable(e,t):s.disable(e,t)}}};return s},f.form_blocks.duration_optional=f._extend_to_optional(f.form_blocks.duration),f.form_blocks.time_optional=f._extend_to_optional(f.form_blocks.time)}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(25)(l);function u(){return s.apply(this,arguments)||this}return _(u,s),u.prototype.render=function(i){var a=l.config.types,e=l.locale.labels,t=[],n=i.filter||function(c,d){return!a.placeholder||d!==a.placeholder};for(var r in a)n(r,a[r])&&t.push({key:a[r],label:e["type_"+r]});i.options=t;var o=i.onchange;return i.onchange=function(){l.changeLightboxType(this.value),this.value===l.config.types.task&&(l._lightbox_new_type="task"),"function"==typeof o&&o.apply(this,arguments)},s.prototype.render.apply(this,arguments)},u}},function($,C,f){var _=f(3),l=f(24);$.exports=function(s){var u=f(7)(s);function i(){return u.apply(this,arguments)||this}function a(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function e(t,n){for(var r=a(n),o=0;o<t.length;o++)t[o].disabled=r}return _(i,u),i.prototype.render=function(t){var r="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+(t.height||30)+"px;'>",o=[];for(var c in s.config.constraint_types)o.push({key:s.config.constraint_types[c],label:s.locale.labels[s.config.constraint_types[c]]});return t.options=t.options||o,r+="<span data-constraint-type-select>"+l.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(r+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>")+"</div>"},i.prototype.set_value=function(t,n,r,o){var c=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),h=o._time_format_order,g=s._resolve_default_mapping(o);c._eventsInitialized||(c.addEventListener("change",function(v){e(d,v.target.value)}),c._eventsInitialized=!0),s.form_blocks._fill_lightbox_select(d,0,r[g.constraint_date]||new Date,h,o);var y=r[g.constraint_type]||s.getConstraintType(r);c.value=y,e(d,y)},i.prototype.get_value=function(t,n,r){var o=t.querySelector("[data-constraint-type-select] select"),c=t.querySelectorAll("[data-constraint-time-select] select"),d=o.value,h=null;return a(d)||(h=s.form_blocks.getTimePickerValue(c,r)),{constraint_type:d,constraint_date:h}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function($,C,f){var _=f(2),l=f(1),s=f(24),u=f(3);$.exports=function(i){var a=f(7)(i),e={resources:{},resourcesValues:{},filter:{},eventsInitialized:{},changed:!1};function t(){return a.apply(this,arguments)||this}function n(c){return void 0===c?".gantt_resource_amount_input":"[data-checked='"+(c?"true":"false")+"'] .gantt_resource_amount_input"}function r(c){return e.resources[c.id]}function o(c){return e.filter[c.id]}return i.attachEvent("onAfterLightbox",function(){for(var c in e.filter)e.filter[c].checkbox.checked=!1,e.filter[c].input.value="",e.filter[c].filterApplied=!1;e.resourcesValues={}}),u(t,a),t.prototype.render=function(c){var d;c.options||(c.options=i.serverList("resourceOptions")),c.map_to&&"auto"!=c.map_to||(c.map_to=i.config.resource_property);var h=i.locale.labels.resources_filter_placeholder||c.filter_placeholder||"type to filter",g=i.locale.labels.resources_filter_label||"hide empty";return d="<div"+(isNaN(c.height)?"":" style='height: "+c.height+"px;'")+">",d+="<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='"+h+"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>"+g+"</label></div>",(d+="<div class='gantt_cal_ltext gantt_resources' data-name='"+c.name+"'></div>")+"</div>"},t.prototype.set_value=function(c,d,h,g){var p,k,y=(e.resources[(k=g).id]||(e.resources[k.id]=c.querySelector(".gantt_resources")),e.resources[k.id]),v="";(function(m,k){if(!e.filter[k.id]){var b=m.querySelector(".gantt_resources_filter"),S=b.querySelector(".gantt_resources_filter_input"),w=b.querySelector(".switch_unsetted");e.filter[k.id]={container:b,input:S,checkbox:w,filterApplied:!1}}})(c,g),function(m,k,b,S){if(!e.eventsInitialized[b.id]){var w=function(E){var I,L,N;T(b,m);var W=o(b);N=W.checkbox.checked,L=W.input.value.trim(),W.filterApplied=!!L,i.getState().lightbox&&(k=i.getLightboxValues()),I=function(O,H,X,Z){var K,tt;if(Z){var V=H[O.map_to]||[];if(_.isArray(V)||(V=[V]),0===(V=V.slice()).length){for(var st in V=[],(tt=i.copy(O)).options=[],e.resourcesValues[O.id])""!==(D=e.resourcesValues[O.id][st]).value&&V.push({resource_id:st,value:D.value,id:D.id});if(0===V.length)return tt}else for(var st in e.resourcesValues[O.id]){var D;""!==(D=e.resourcesValues[O.id][st]).value&&(_.arrayFind(V,function(nt){return nt.id==st})||V.push({resource_id:st,value:D.value,id:D.id}))}for(var P={},F=0;F<V.length;F++)P[V[F].resource_id]=!0;K=function(B){if(P[String(B.key)]&&(""===X||B.label.toLowerCase().indexOf(X.toLowerCase())>=0))return B}}else{if(""===X)return O;K=function(B){if(B.label.toLowerCase().indexOf(X.toLowerCase())>=0)return B}}return(tt=i.copy(O)).options=_.arrayFilter(tt.options,K),tt}(b,k,L,N),S.form_blocks.resources.set_value(m,k[b.map_to],k,I)};w=_.throttle(w,100),o(b).container.addEventListener("keyup",w),o(b).container.addEventListener("input",w,!0),o(b).container.addEventListener("change",w,!0),r(b).addEventListener("input",x),r(b).addEventListener("change",x),i.attachEvent("onResourcesSelectActivated",i.bind(x,r(b))),e.eventsInitialized[b.id]=!0}function x(E){var L,N=E.target;if(e.changed=!0,"checkbox"===E.target.type){(L=N.parentNode.querySelector(n())).disabled=!N.checked;var z=L.getAttribute("data-item-id"),U=l.locateClassName(E,"gantt_resource_row"),W=U.querySelector(".gantt_resource_amount_input");if(U.setAttribute("data-checked",N.checked),N.checked){"select"===L.nodeName.toLowerCase()&&i.callEvent("onResourcesSelectActivated",[{target:L}]);var Y=z,O=b.default_value;b.options.forEach(function(H){H.key==Y&&H.default_value&&(O=H.default_value)}),W&&!W.value&&void 0!==O&&(W.value=O,T(b,this)),W.select?W.select():W.focus&&W.focus()}else e.resourcesValues[b.id]&&delete e.resourcesValues[b.id][z]}else"text"!==E.target.type&&"select"!==E.target.nodeName.toLowerCase()||(L=E.target,T(b,this))}function T(E,I){var L=n(),N=I.querySelectorAll(L);e.resourcesValues[E.id]=e.resourcesValues[E.id]||{};for(var z=0;z<N.length;z++){var U=N[z].getAttribute("data-item-id"),W=N[z].getAttribute("data-assignment-id");N[z].disabled?delete e.resourcesValues[E.id][U]:e.resourcesValues[E.id][U]={value:N[z].value,id:W}}}}(c,h,g,this),_.forEach(g.options,function(m,k){var b,S,w,T,x;g.unassigned_value!=m.key&&(b=g,w=m,x={},(S=d)&&(_.isArray(S)?T=_.arrayFind(S,function(E){return E.resource_id==w.key}):S.resource_id==w.key&&(T=S),T&&(x.value=T.value,x.id=T.id)),e.resourcesValues[b.id]&&e.resourcesValues[b.id][w.key]&&(x.value=e.resourcesValues[b.id][w.key].value,x.id=e.resourcesValues[b.id][w.key].id),v+=["<label class='gantt_resource_row' data-item-id='"+m.key+"' data-checked="+((p=x).value?"true":"false")+">","<input class='gantt_resource_toggle' type='checkbox'",p.value?" checked='checked'":"","><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>","<div class='gantt_resource_cell gantt_resource_cell_label'>",m.label,"</div>","<div class='gantt_resource_cell gantt_resource_cell_value'>",function(b,S,w,x){var T,E="";if(b)return T=[{key:"data-item-id",value:b.key},{key:"data-assignment-id",value:x||""},{key:"class",value:"gantt_resource_amount_input"}],w&&T.push({key:"disabled",value:"disabled"}),b.options?E+=s.getHtmlSelect(b.options,T,S):(T[T.length]={key:"value",value:S||""},E+=s.getHtmlInput(T)),E}(m,p.value,!p.value,p.id),"</div>","<div class='gantt_resource_cell gantt_resource_cell_unit'>",m.unit,"</div>","</label>"].join(""))}),y.innerHTML=v,y.style.zoom="1",y._offsetSizes=y.offsetHeight,y.style.zoom="",i.resizeLightbox(),i._center_lightbox(i.getLightbox()),e.changed=!1},t.prototype.get_value=function(c,d,h){if(!e.changed)return d[h.map_to||i.config.resource_property]||[];for(var g=r(h),p=[],y=n(!0),v=n(!1),m=o(h),k=i.copy(e.resourcesValues[h.id])||{},b=g.querySelectorAll(y),S=g.querySelectorAll(v),w=0;w<S.length;w++)delete k[S[w].getAttribute("data-item-id")];for(w=0;w<b.length;w++){var x=b[w].getAttribute("data-assignment-id"),T=b[w].getAttribute("data-item-id"),E=b[w].value.trim();""!==E&&"0"!==E&&(delete k[T],p[p.length]={resource_id:T,value:E,id:x})}if(m.filterApplied)for(var I in k)p[p.length]={resource_id:I,value:k[I].value,id:k[I].id};return p},t.prototype.focus=function(c){i._focus(c.querySelector(".gantt_resources"))},t}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(25)(l);function u(){return s.apply(this,arguments)||this}function i(a,e){var t=[],n=[];e&&(t=l.getTaskByTime(),a.allow_root&&t.unshift({id:l.config.root_id,text:a.root_label||""}),t=function(d,h,g){var p=h.filter||function(){return!0};d=d.slice(0);for(var y=0;y<d.length;y++){var v=d[y];(v.id==g||l.isChildOf(v.id,g)||!1===p(v.id,v))&&(d.splice(y,1),y--)}return d}(t,a,e),a.sort&&t.sort(a.sort));for(var r=a.template||l.templates.task_text,o=0;o<t.length;o++){var c=r.apply(l,[t[o].start_date,t[o].end_date,t[o]]);void 0===c&&(c=""),n.push({key:t[o].id,label:c})}return a.options=n,a.map_to=a.map_to||"parent",l.form_blocks.select.render.apply(this,arguments)}return _(u,s),u.prototype.render=function(a){return i(a,!1)},u.prototype.set_value=function(a,e,t,n){0===e&&(e="0");var r=document.createElement("div");r.innerHTML=i(n,t.id);var o=r.removeChild(r.firstChild);return a.onselect=null,a.parentNode.replaceChild(o,a),l.form_blocks.select.set_value.apply(l,[o,e,t,n])},u}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(){var s=this;this.canParse=function(u){return!isNaN(s.parse(u))},this.format=function(u){return String(u)},this.parse=function(u){return parseInt(u,10)}}return l.create=function(s){return void 0===s&&(s=null),new l},l}();C.default=_},function($,C,f){var _=f(3),l=f(84).default;$.exports=function(s){var u=f(7)(s);function i(){return u.apply(this,arguments)||this}function a(n){return n.formatter||new l}function e(n,r){var o=n.getElementsByTagName("select"),c=r._time_format_order,d=0,h=0;if(s.defined(c[3])){var g=o[c[3]],p=parseInt(g.value,10);isNaN(p)&&g.hasAttribute("data-value")&&(p=parseInt(g.getAttribute("data-value"),10)),d=Math.floor(p/60),h=p%60}return new Date(o[c[2]].value,o[c[1]].value,o[c[0]].value,d,h)}function t(n,r){var o=n.getElementsByTagName("input")[1];return(o=a(r).parse(o.value))&&!window.isNaN(o)||(o=1),o<0&&(o*=-1),o}return _(i,u),i.prototype.render=function(n){var r="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,n)+"</div>",o=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",c=n.single_date?" style='display:none'":"",d=n.readonly?" disabled='disabled'":"",h=s._waiAria.lightboxDurationInputAttrString(n),g="gantt_duration_value";return n.formatter&&(o="",g+=" gantt_duration_value_formatted"),"<div style='height:"+(n.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+r+" <div class='gantt_duration' "+c+"><input type='button' class='gantt_duration_dec' value='\u2212'"+d+"><input type='text' value='5days' class='"+g+"'"+d+" "+h+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+o+"<span></span></div></div>"},i.prototype.set_value=function(n,r,o,c){var d,h,g,p,y=n.getElementsByTagName("select"),v=n.getElementsByTagName("input"),m=v[1],k=[v[0],v[2]],b=n.getElementsByTagName("span")[0],S=c._time_format_order;function w(){var T=e.call(s,n,c),E=t.call(s,n,c),I=s.calculateEndDate({start_date:T,duration:E,task:o});b.innerHTML=(s.templates.task_end_date||s.templates.task_date)(I)}function x(T){var E=m.value;E=a(c).parse(E),window.isNaN(E)&&(E=0),(E+=T)<1&&(E=1),m.value=a(c).format(E),w()}k[0].onclick=s.bind(function(){x(-1*s.config.duration_step)},this),k[1].onclick=s.bind(function(){x(1*s.config.duration_step)},this),y[0].onchange=w,y[1].onchange=w,y[2].onchange=w,y[3]&&(y[3].onchange=w),m.onkeydown=s.bind(function(T){var E;return(E=(T=T||window.event).charCode||T.keyCode||T.which)==s.constants.KEY_CODES.DOWN?(x(-1*s.config.duration_step),!1):E==s.constants.KEY_CODES.UP?(x(1*s.config.duration_step),!1):void window.setTimeout(w,1)},this),m.onchange=s.bind(w,this),"string"==typeof(d=s._resolve_default_mapping(c))&&(d={start_date:d}),h=o[d.start_date]||new Date,g=o[d.end_date]||s.calculateEndDate({start_date:h,duration:1,task:o}),p=Math.round(o[d.duration])||s.calculateDuration({start_date:h,end_date:g,task:o}),p=a(c).format(p),s.form_blocks._fill_lightbox_select(y,0,h,S,c),m.value=p,w()},i.prototype.get_value=function(n,r,o){var c=e(n,o),d=t(n,o),h=s.calculateEndDate({start_date:c,duration:d,task:r});return"string"==typeof s._resolve_default_mapping(o)?c:{start_date:c,end_date:h,duration:d}},i.prototype.focus=function(n){s._focus(n.getElementsByTagName("select")[0])},i}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(7)(l);function u(){return s.apply(this,arguments)||this}return _(u,s),u.prototype.render=function(i){var a="<div class='gantt_cal_ltext' style='height:"+(i.height||"23")+"px;'>";if(i.options&&i.options.length)for(var e=0;e<i.options.length;e++)a+="<label><input type='radio' value='"+i.options[e].key+"' name='"+i.name+"'>"+i.options[e].label+"</label>";return a+"</div>"},u.prototype.set_value=function(i,a,e,t){var n;t.options&&t.options.length&&(n=i.querySelector("input[type=radio][value='"+a+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),n.checked=!0)},u.prototype.get_value=function(i,a){var e=i.querySelector("input[type=radio]:checked");return e?e.value:""},u.prototype.focus=function(i){l._focus(i.querySelector("input[type=radio]"))},u}},function($,C,f){var _=f(2),l=f(3);$.exports=function(s){var u=f(7)(s);function i(){return u.apply(this,arguments)||this}return l(i,u),i.prototype.render=function(a){var e="<div class='gantt_cal_ltext' style='height:"+(a.height||"23")+"px;'>";if(a.options&&a.options.length)for(var t=0;t<a.options.length;t++)e+="<label><input type='checkbox' value='"+a.options[t].key+"' name='"+a.name+"'>"+a.options[t].label+"</label>";else a.single_value=!0,e+="<label><input type='checkbox' name='"+a.name+"'></label>";return e+"</div>"},i.prototype.set_value=function(a,e,t,n){var r=Array.prototype.slice.call(a.querySelectorAll("input[type=checkbox]"));!a._dhx_onchange&&n.onchange&&(a.onchange=n.onchange,a._dhx_onchange=!0),n.single_value?r[0].checked=!!e:_.forEach(r,function(o){o.checked=!!e&&e.indexOf(o.value)>=0})},i.prototype.get_value=function(a,e,t){return t.single_value?a.querySelector("input[type=checkbox]").checked:_.arrayMap(Array.prototype.slice.call(a.querySelectorAll("input[type=checkbox]:checked")),function(n){return n.value})},i.prototype.focus=function(a){s._focus(a.querySelector("input[type=checkbox]"))},i}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(7)(l);function u(){return s.apply(this,arguments)||this}return _(u,s),u.prototype.render=function(i){var a=l.form_blocks.getTimePicker.call(this,i),e="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return e+=a,i.single_date?(a=l.form_blocks.getTimePicker.call(this,i,!0),e+="<span></span>"):e+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(e+=a)+"</div>"},u.prototype.set_value=function(i,a,e,t){var n=t,r=i.getElementsByTagName("select"),o=t._time_format_order;if(n.auto_end_date)for(var c=function(){g=new Date(r[o[2]].value,r[o[1]].value,r[o[0]].value,0,0),p=l.calculateEndDate({start_date:g,duration:1,task:e}),l.form_blocks._fill_lightbox_select(r,o.size,p,o,n)},d=0;d<4;d++)r[d].onchange=c;var h=l._resolve_default_mapping(t);"string"==typeof h&&(h={start_date:h});var g=e[h.start_date]||new Date,p=e[h.end_date]||l.calculateEndDate({start_date:g,duration:1,task:e});l.form_blocks._fill_lightbox_select(r,0,g,o,n),l.form_blocks._fill_lightbox_select(r,o.size,p,o,n)},u.prototype.get_value=function(i,a,e){var t,o,c,d,h,n=i.getElementsByTagName("select"),r=e._time_format_order;return t=l.form_blocks.getTimePickerValue(n,e),"string"==typeof l._resolve_default_mapping(e)?t:{start_date:t,end_date:(o=n,c=r,d=t,h=l.form_blocks.getTimePickerValue(o,e,c.size),h<=d&&(!1!==e.autofix_end||e.single_date)?l.date.add(d,l._get_timepicker_step(),"minute"):h)}},u.prototype.focus=function(i){l._focus(i.getElementsByTagName("select")[0])},u}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(7)(l);function u(){return s.apply(this,arguments)||this}return _(u,s),u.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+(i.height||"130")+"px;'><textarea></textarea></div>"},u.prototype.set_value=function(i,a){l.form_blocks.textarea._get_input(i).value=a||""},u.prototype.get_value=function(i){return l.form_blocks.textarea._get_input(i).value},u.prototype.focus=function(i){var a=l.form_blocks.textarea._get_input(i);l._focus(a,!0)},u.prototype._get_input=function(i){return i.querySelector("textarea")},u}},function($,C,f){var _=f(3);$.exports=function(l){var s=f(7)(l);function u(){return s.apply(this,arguments)||this}return _(u,s),u.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(i.height||"30")+"px;'></div>"},u.prototype.set_value=function(i,a){i.innerHTML=a||""},u.prototype.get_value=function(i){return i.innerHTML||""},u.prototype.focus=function(){},u}},function($,C,f){function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(l)}$.exports=function(l){var s=f(1),u=f(2),i=f(90)(l),a=f(89)(l),e=f(88)(l),t=f(25)(l),n=f(87)(l),r=f(86)(l),o=f(85)(l),c=f(83)(l),d=f(82)(l),h=f(81)(l),g=f(80)(l);function p(v,m){var k,b,S="";for(b=0;b<v.length;b++)S+="<div "+l._waiAria.lightboxButtonAttrString(k=l.config._migrate_buttons[v[b]]?l.config._migrate_buttons[v[b]]:v[b])+" class='gantt_btn_set gantt_left_btn_set "+k+"_set'"+(m?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+k+"'></div><div>"+l.locale.labels[k]+"</div></div>";return S}function y(v,m,k){var b,S,w,x,T,E,I="";switch(k.timeFormat[m]){case"%Y":for(v._time_format_order[2]=m,v._time_format_order.size++,v.year_range&&(isNaN(v.year_range)?v.year_range.push&&(w=v.year_range[0],x=v.year_range[1]):b=v.year_range),b=b||10,S=S||Math.floor(b/2),w=w||k.date.getFullYear()-S,x=x||l.getState().max_date.getFullYear()+S,T=w;T<x;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%m":for(v._time_format_order[1]=m,v._time_format_order.size++,T=0;T<12;T++)I+="<option value='"+T+"'>"+l.locale.date.month_full[T]+"</option>";break;case"%d":for(v._time_format_order[0]=m,v._time_format_order.size++,T=1;T<32;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%H:%i":for(v._time_format_order[3]=m,v._time_format_order.size++,T=k.first,E=k.date.getDate(),v._time_values=[];T<k.last;)I+="<option value='"+T+"'>"+l.templates.time_picker(k.date)+"</option>",v._time_values.push(T),k.date.setTime(k.date.valueOf()+60*l._get_timepicker_step()*1e3),T=24*(k.date.getDate()!=E?1:0)*60+60*k.date.getHours()+k.date.getMinutes()}return I}l._lightbox_methods={},l._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",l._lightbox_root=l.$root,l.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:l._lightbox_id}}),l.showLightbox=function(v){if(this.callEvent("onBeforeLightbox",[v])){var m=this.getTask(v),k=this.getLightbox(this.getTaskType(m.type));this._center_lightbox(k),this.showCover(),this._fill_lightbox(v,k),this._waiAria.lightboxVisibleAttr(k),this.callEvent("onLightbox",[v])}},l._get_timepicker_step=function(){if(this.config.round_dnd_dates){var v;if((b=this.$ui.getView("timeline"))&&b.isVisible()){var m=l.getScale();v=u.getSecondsInUnit(m.unit)*m.step/60}return(!v||v>=1440)&&(v=this.config.time_step),v}var b;return this.config.time_step},l.getLabel=function(v,m){for(var k=this._get_typed_lightbox_config(),b=0;b<k.length;b++)if(k[b].map_to==v)for(var S=k[b].options,w=0;w<S.length;w++)if(S[w].key==m)return S[w].label;return""},l.updateCollection=function(v,m){m=m.slice(0);var k=l.serverList(v);if(!k)return!1;k.splice(0,k.length),k.push.apply(k,m||[]),l.resetLightbox()},l.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},l.getLightbox=function(v){var m,k,b,S,w,I,x="";if(I=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body,l._lightbox_root=!0===l.config.csp||I?l.$root:document.body,void 0===v&&(v=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(v)){this._lightbox_type=this.getTaskType(v),m=document.createElement("div"),x="gantt_cal_light",k=this._is_lightbox_timepicker(),(l.config.wide_form||k)&&(x+=" gantt_cal_light_wide"),k&&(l.config.wide_form=!0,x+=" gantt_cal_light_full"),m.className=x,m.style.visibility="hidden",b=this._lightbox_template,b+=p(this.config.buttons_left),b+=p(this.config.buttons_right,!0),m.innerHTML=b,l._waiAria.lightboxAttr(m),l.config.drag_lightbox&&(m.firstChild.onmousedown=l._ready_to_dnd,m.firstChild.onselectstart=function(){return!1},m.firstChild.style.cursor="pointer",l._init_dnd_events()),this._lightbox&&this.resetLightbox(),l._lightbox_root.insertBefore(m,l._lightbox_root.firstChild),this._lightbox=m,S=this._get_typed_lightbox_config(v),b=this._render_sections(S);var T=(w=m.querySelector("div.gantt_cal_larea")).style.overflow;w.style.overflow="hidden",w.innerHTML=b,function(E){var I,L,N,z,U,W;for(W=0;W<E.length;W++)N=l._lightbox_root.querySelector("#"+(I=E[W]).id),I.id&&N&&(L=N.querySelector("label"),(z=N.nextSibling)&&(U=z.querySelector("input, select, textarea"))&&(U.id=U.id||"input_"+l.uid(),I.inputId=U.id,L.setAttribute("for",I.inputId)))}(S),this.resizeLightbox(),w.style.overflow=T,this._init_lightbox_events(this),m.style.display="none",m.style.visibility="visible"}return this._lightbox},l._render_sections=function(v){for(var m="",k=0;k<v.length;k++){var b=this.form_blocks[v[k].type];if(b){v[k].id="area_"+this.uid();var w="";v[k].button&&(w="<div class='gantt_custom_button' data-index='"+k+"'><div class='gantt_custom_button_"+v[k].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+v[k].button]+"</div></div>"),this.config.wide_form&&(m+="<div class='gantt_wrap_section' "+(v[k].hidden?" style='display:none'":"")+">"),m+="<div id='"+v[k].id+"' class='gantt_cal_lsection'><label>"+w+this.locale.labels["section_"+v[k].name]+"</label></div>"+b.render.call(this,v[k]),m+="</div>"}}return m},l.resizeLightbox=function(){if(this._lightbox){var v=this._lightbox.querySelector(".gantt_cal_larea");v.style.height="0px",v.style.height=v.scrollHeight+"px",this._lightbox.style.height=v.scrollHeight+this.config.lightbox_additional_height+"px",v.style.height=v.scrollHeight+"px"}},l._center_lightbox=function(v){if(v){v.style.display="block";var m=window.pageYOffset||l._lightbox_root.scrollTop||document.documentElement.scrollTop,k=window.pageXOffset||l._lightbox_root.scrollLeft||document.documentElement.scrollLeft,b=window.innerHeight||document.documentElement.clientHeight;v.style.top=m?Math.round(m+Math.max((b-v.offsetHeight)/2,0))+"px":Math.round(Math.max((b-v.offsetHeight)/2,0)+9)+"px",v.style.left=document.documentElement.scrollWidth>l._lightbox_root.offsetWidth?Math.round(k+(l._lightbox_root.offsetWidth-v.offsetWidth)/2)+"px":Math.round((l._lightbox_root.offsetWidth-v.offsetWidth)/2)+"px"}},l.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(l._lightbox_root||l.$root).appendChild(this._cover))},l.event(window,"deviceorientation",function(){l.getState().lightbox&&l._center_lightbox(l.getLightbox())}),l._init_lightbox_events=function(){l.lightbox_events={},l.lightbox_events.gantt_save_btn=function(){l._save_lightbox()},l.lightbox_events.gantt_delete_btn=function(){l._lightbox_new_type=null,l.callEvent("onLightboxDelete",[l._lightbox_id])&&(l.isTaskExists(l._lightbox_id)?l.$click.buttons.delete(l._lightbox_id):l.hideLightbox())},l.lightbox_events.gantt_cancel_btn=function(){l._cancel_lightbox()},l.lightbox_events.default=function(v,m){if(m.getAttribute("data-dhx-button"))l.callEvent("onLightboxButton",[m.className,m,v]);else{var k,b,S=s.getClassName(m);if(-1!=S.indexOf("gantt_custom_button"))if(-1!=S.indexOf("gantt_custom_button_"))for(k=m.parentNode.getAttribute("data-index"),b=m;b&&-1==s.getClassName(b).indexOf("gantt_cal_lsection");)b=b.parentNode;else k=m.getAttribute("data-index"),b=m.parentNode,m=m.firstChild;var w=l._get_typed_lightbox_config();k&&l.form_blocks[w[1*(k*=1)].type].button_click(k,m,b,b.nextSibling)}},this.event(l.getLightbox(),"click",function(v){v=v||window.event;var m=s.getTargetNode(v),k=s.getClassName(m);return k||(k=s.getClassName(m=m.previousSibling)),m&&k&&0===k.indexOf("gantt_btn_set")&&(k=s.getClassName(m=m.firstChild)),!(!m||!k)&&(l.defined(l.lightbox_events[m.className])?l.lightbox_events[m.className]:l.lightbox_events.default)(v,m)}),l.getLightbox().onkeydown=function(v){var m=v||window.event,k=v.target||v.srcElement,b=s.getClassName(k).indexOf("gantt_btn_set")>-1;switch((v||m).keyCode){case l.constants.KEY_CODES.SPACE:if((v||m).shiftKey)return;b&&k.click&&k.click();break;case l.keys.edit_save:if((v||m).shiftKey)return;b&&k.click?k.click():l._save_lightbox();break;case l.keys.edit_cancel:l._cancel_lightbox()}}},l._cancel_lightbox=function(){var v=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,v.$new]),l.isTaskExists(v.id)&&v.$new&&(this.silent(function(){l.$data.tasksStore.removeItem(v.id),l._update_flags(v.id,null)}),this.refreshData()),this.hideLightbox()},l._save_lightbox=function(){var v=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,v,!!v.$new])&&(l.$data.tasksStore._skipTaskRecalculation="lightbox",v.$new?(delete v.$new,this.addTask(v,v.parent,this.getTaskIndex(v.id))):this.isTaskExists(v.id)&&(this.mixin(this.getTask(v.id),v,!0),this.refreshTask(v.id),this.updateTask(v.id)),l.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},l._resolve_default_mapping=function(v){var m=v.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[v.type]?"auto"==v.map_to?m={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof v.map_to&&(m={start_date:v.map_to}):"constraint"===v.type&&(v.map_to&&"string"!=typeof v.map_to||(m={constraint_type:"constraint_type",constraint_date:"constraint_date"})),m},l.getLightboxValues=function(){var v={};l.isTaskExists(this._lightbox_id)&&(v=this.mixin({},this.getTask(this._lightbox_id)));for(var m=this._get_typed_lightbox_config(),k=0;k<m.length;k++){var b=l._lightbox_root.querySelector("#"+m[k].id);b=b&&b.nextSibling;var S=this.form_blocks[m[k].type];if(S){var w=S.get_value.call(this,b,v,m[k]),x=l._resolve_default_mapping(m[k]);if("string"==typeof x&&"auto"!=x)v[x]=w;else if("object"==_(x))for(var T in x)x[T]&&(v[x[T]]=w[T])}}return"task"==l._lightbox_new_type&&(v.type=l.config.types.task,l._lightbox_new_type=null),v},l.hideLightbox=function(){var v=this.getLightbox();v&&(v.style.display="none"),this._waiAria.lightboxHiddenAttr(v),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},l.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},l.resetLightbox=function(){l._lightbox&&!l._custom_lightbox&&l._lightbox.parentNode.removeChild(l._lightbox),l._lightbox=null,l.hideCover()},l._set_lightbox_values=function(v,m){var k=v,b=m.getElementsByTagName("span"),S=[];l.templates.lightbox_header?(S.push(""),S.push(l.templates.lightbox_header(k.start_date,k.end_date,k)),b[1].innerHTML="",b[2].innerHTML=l.templates.lightbox_header(k.start_date,k.end_date,k)):(S.push(this.templates.task_time(k.start_date,k.end_date,k)),S.push(String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=this.templates.task_time(k.start_date,k.end_date,k),b[2].innerHTML=String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=S[0],b[2].innerHTML=S[1],l._waiAria.lightboxHeader(m,S.join(" "));for(var w=this._get_typed_lightbox_config(this.getLightboxType()),x=0;x<w.length;x++){var T=w[x];if(this.form_blocks[T.type]){var E=l._lightbox_root.querySelector("#"+T.id).nextSibling,I=this.form_blocks[T.type],L=l._resolve_default_mapping(w[x]),N=this.defined(k[L])?k[L]:T.default_value;I.set_value.call(l,E,N,k,T),T.focus&&I.focus.call(l,E)}}l.isTaskExists(v.id)&&(l._lightbox_id=v.id)},l._fill_lightbox=function(v,m){var k=this.getTask(v);this._set_lightbox_values(k,m)},l.getLightboxSection=function(v){for(var m=this._get_typed_lightbox_config(),k=0;k<m.length&&m[k].name!=v;k++);var b=m[k];if(!b)return null;this._lightbox||this.getLightbox();var S=l._lightbox_root.querySelector("#"+b.id),w=S.nextSibling,x={section:b,header:S,node:w,getValue:function(E){return l.form_blocks[b.type].get_value.call(l,w,E||{},b)},setValue:function(E,I){return l.form_blocks[b.type].set_value.call(l,w,E,I||{},b)}},T=this._lightbox_methods["get_"+b.type+"_control"];return T?T(x):x},l._lightbox_methods.get_template_control=function(v){return v.control=v.node,v},l._lightbox_methods.get_select_control=function(v){return v.control=v.node.getElementsByTagName("select")[0],v},l._lightbox_methods.get_textarea_control=function(v){return v.control=v.node.getElementsByTagName("textarea")[0],v},l._lightbox_methods.get_time_control=function(v){return v.control=v.node.getElementsByTagName("select"),v},l._init_dnd_events=function(){var v=l._lightbox_root;this.event(v,"mousemove",l._move_while_dnd),this.event(v,"mouseup",l._finish_dnd)},l._move_while_dnd=function(v){if(l._dnd_start_lb){document.gantt_unselectable||(l._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var m=l.getLightbox(),k=[v.pageX,v.pageY];m.style.top=l._lb_start[1]+k[1]-l._dnd_start_lb[1]+"px",m.style.left=l._lb_start[0]+k[0]-l._dnd_start_lb[0]+"px"}},l._ready_to_dnd=function(v){var m=l.getLightbox();l._lb_start=[parseInt(m.style.left,10),parseInt(m.style.top,10)],l._dnd_start_lb=[v.pageX,v.pageY]},l._finish_dnd=function(){l._lb_start&&(l._lb_start=l._dnd_start_lb=!1,l._lightbox_root.className=l._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},l._focus=function(v,m){if(v&&v.focus&&!l.config.touch)try{m&&v.select&&v.select(),v.focus()}catch{}},l.form_blocks={getTimePicker:function(v,m){var k,b,S,E,I,N,w="",x=this.config,T={first:0,last:1440,date:this.date.date_part(new Date(l._min_date.valueOf())),timeFormat:(E=v,E.time_format?E.time_format:(N=["%d","%m","%Y"],I=l.getScale(),u.getSecondsInUnit(I?I.unit:l.config.duration_unit)<u.getSecondsInUnit("day")&&N.push("%H:%i"),N))};for(v._time_format_order={size:0},l.config.limit_time_select&&(T.first=60*x.first_hour,T.last=60*x.last_hour+1,T.date.setHours(x.first_hour)),k=0;k<T.timeFormat.length;k++)k>0&&(w+=" "),(b=y(v,k,T))&&(S=l._waiAria.lightboxSelectAttrString(T.timeFormat[k]),w+="<select "+(v.readonly?"disabled='disabled'":"")+(m?" style='display:none' ":"")+S+">"+b+"</select>");return w},getTimePickerValue:function(v,m,k){var b,S=m._time_format_order,x=0,T=0,E=k||0;return l.defined(S[3])&&(b=parseInt(v[S[3]+E].value,10),x=Math.floor(b/60),T=b%60),new Date(v[S[2]+E].value,v[S[1]+E].value,v[S[0]+E].value,x,T)},_fill_lightbox_select:function(v,m,k,b){if(v[m+b[0]].value=k.getDate(),v[m+b[1]].value=k.getMonth(),v[m+b[2]].value=k.getFullYear(),l.defined(b[3])){var S=60*k.getHours()+k.getMinutes();S=Math.round(S/l._get_timepicker_step())*l._get_timepicker_step();var w=v[m+b[3]];w.value=S,w.setAttribute("data-value",S)}},template:new i,textarea:new a,select:new t,time:new e,duration:new o,parent:new c,radio:new r,checkbox:new n,resources:new d,constraint:new h,typeselect:new g},l._is_lightbox_timepicker=function(){for(var v=this._get_typed_lightbox_config(),m=0;m<v.length;m++)if("time"==v[m].name&&"time"==v[m].type)return!0;return!1},l._simple_confirm=function(v,m,k,b){if(!v)return k();var S={text:v};m&&(S.title=m),b&&(S.ok=b),k&&(S.callback=function(w){w&&k()}),l.confirm(S)},l._get_typed_lightbox_config=function(v){void 0===v&&(v=this.getLightboxType());var m=function(k){for(var b in this.config.types)if(this.config.types[b]==k)return b;return"task"}.call(this,v);return l.config.lightbox[m+"_sections"]?l.config.lightbox[m+"_sections"]:l.config.lightbox.sections},l._silent_redraw_lightbox=function(v){var m=this.getLightboxType();if(this.getState().lightbox){var k=this.getState().lightbox,b=this.getLightboxValues(),S=this.copy(this.getTask(k));this.resetLightbox();var w=this.mixin(S,b,!0),x=this.getLightbox(v||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(w,x),this.showCover()}else this.resetLightbox(),this.getLightbox(v||void 0);this.callEvent("onLightboxChange",[m,this.getLightboxType()])}}},function($,C){$.exports=function(f){function _(u){var i=u.$config.scrollX?f.$ui.getView(u.$config.scrollX):null,a=u.$config.scrollY?f.$ui.getView(u.$config.scrollY):null,e={x:null,y:null};return i&&i.getScrollState().visible&&(e.x=i.$view.scrollLeft),a&&a.getScrollState().visible&&(e.y=a.$view.scrollTop),e}function l(){var u;return f.$ui.getView("timeline")&&(u=f.$ui.getView("timeline")._tasks_dnd),u}f.config.touch_drag=500,f.config.touch=!0,f.config.touch_feedback=!0,f.config.touch_feedback_duration=1,f._prevent_touch_scroll=!1,f._touch_feedback=function(){f.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(f.config.touch_feedback_duration)},f.attachEvent("onGanttReady",f.bind(function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),this.config.touch){var u=!0;try{document.createEvent("TouchEvent")}catch{u=!1}u?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return"mouse"==i.pointerType?null:i},function(i){return!i||"mouse"==i.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},f));var s=[];f._touch_events=function(u,i,a){for(var e,t=0,n=!1,r=!1,o=null,c=null,d=null,h=[],g=null,p=0;p<s.length;p++)f.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([f.$container,u[0],function(v){var E,I,L,N,z,m=l();if(!a(v)&&n){c&&clearTimeout(c);var k=i(v);if(m&&(m.drag.id||m.drag.start_drag))return m.on_mouse_move(k),v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,!1;if(!f._prevent_touch_scroll){if(k&&o){var b=o.pageX-k.pageX,S=o.pageY-k.pageY;if(!r&&(Math.abs(b)>5||Math.abs(S)>5)&&(r=!0,t=0,e=g?_(g):f.getScrollState()),r){var w,x=e.x+b,T=e.y+S;if(g?(I=x,L=T,N=(E=g).$config.scrollX?f.$ui.getView(E.$config.scrollX):null,z=E.$config.scrollY?f.$ui.getView(E.$config.scrollY):null,N&&N.scrollTo(I,null),z&&z.scrollTo(null,L),w=_(g)):(f.scrollTo(x,T),w=f.getScrollState()),e.x!=w.x&&S>2*b||e.y!=w.y&&b>2*S)return y(v)}}return y(v)}return!0}}]),s.push([this.$container,"contextmenu",function(v){if(n)return y(v)}]),s.push([this.$container,u[1],function(v){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!a(v))if(v.touches&&v.touches.length>1)n=!1;else{o=i(v),g=function(k){for(var b=f.$layout.getCellsByType("viewCell"),S=0;S<b.length;S++){var w=b[S].$view.getBoundingClientRect();if(k.clientX>=w.left&&k.clientX<=w.right&&k.clientY<=w.bottom&&k.clientY>=w.top)return b[S]}}(o),f._locate_css(o,"gantt_hor_scroll")||f._locate_css(o,"gantt_ver_scroll")||(n=!0);var m=l();c=setTimeout(function(){var k=f.locate(o);m&&k&&!f._locate_css(o,"gantt_link_control")&&!f._locate_css(o,"gantt_grid_data")&&(m.on_mouse_down(o),m.drag&&m.drag.start_drag&&(function(b){var S=f._getTaskLayers(),w=f.getTask(b);if(w&&f.isTaskVisible(b)){d=b;for(var x=0;x<S.length;x++)if((w=S[x].rendered[b])&&w.getAttribute(f.config.task_attribute)&&w.getAttribute(f.config.task_attribute)==b){var T=w.cloneNode(!0);h.push(w),S[x].rendered[b]=T,w.style.display="none",T.className+=" gantt_drag_move ",w.parentNode.appendChild(T)}}}(k),m._start_dnd(o),f._touch_drag=!0,f.refreshTask(k),f._touch_feedback())),c=null},f.config.touch_drag)}}]),s.push([this.$container,u[2],function(v){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!a(v)){c&&clearTimeout(c),f._touch_drag=!1,n=!1;var m=i(v),k=l();if(k&&k.on_mouse_up(m),d&&f.isTaskExists(d)&&(f.refreshTask(d),h.length&&(h.forEach(function(S){S.parentNode&&S.parentNode.removeChild(S)}),f._touch_feedback())),n=r=!1,h=[],d=null,o&&t){var b=new Date;b-t<500?(f.$services.getService("mouseEvents").onDoubleClick(o),y(v)):t=b}else t=new Date}}]),p=0;p<s.length;p++)f.event(s[p][0],s[p][1],s[p][2]);function y(v){return v&&v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,!1}}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(8),l=f(5),s=["ctrlKey","altKey","shiftKey","metaKey"],u=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function a(e){var t=this;this.zoomIn=function(){var n=t.getCurrentLevel()-1;n<0||t.setLevel(n)},this.zoomOut=function(){var n=t.getCurrentLevel()+1;n>t._levels.length-1||t.setLevel(n)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(n){var r=t._getZoomIndexByName(n);-1===r&&t.$gantt.assert(-1!==r,"Invalid zoom level for gantt.ext.zoom.setLevel. "+n+" is not an expected value."),t._setLevel(r,0)},this._getZoomIndexByName=function(n){var r=-1;if("string"==typeof n){if(!isNaN(Number(n))&&t._levels[Number(n)])r=Number(n);else for(var o=0;o<t._levels.length;o++)if(t._levels[o].name===n){r=o;break}}else r=n;return r},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var n=t.$gantt.getScrollState().x;t._visibleDate=t.$gantt.dateFromPos(n+t.$gantt.$task.offsetWidth/2)},this._setLevel=function(n,r){t._activeLevelIndex=n;var o=t.$gantt,c=o.copy(t._levels[t._activeLevelIndex]),d=o.copy(c);if(delete d.name,o.mixin(o.config,d,!0),o.$root&&o.$task){if(r){var h=t.$gantt.dateFromPos(r+t.$gantt.getScrollState().x);t.$gantt.render();var g=t.$gantt.posFromDate(h);t.$gantt.scrollTo(g-r)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var y=t._visibleDate;t.$gantt.render(),g=t.$gantt.posFromDate(y),t.$gantt.scrollTo(g-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,c])}},this._attachWheelEvent=function(n){var r,o=_.isFF?"wheel":"mousewheel";(r="function"==typeof n.element?n.element():n.element)&&t._domEvents.attach(r,o,t.$gantt.bind(function(c){return!(this._useKey&&(s.indexOf(this._useKey)<0||!c[this._useKey]))&&("function"==typeof this._handler?(this._handler.apply(this,[c]),!0):void 0)},t),{passive:!1})},this._defaultHandler=function(n){var r=t.$gantt.$task.getBoundingClientRect().x,o=n.clientX-r,c=!1;(t.$gantt.env.isFF?-40*n.deltaY:n.wheelDelta)>0&&(c=!0),n.preventDefault(),n.stopPropagation(),t._setScaleSettings(c,o)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=e,this._domEvents=this.$gantt._createDomEventScope()}return a.prototype.init=function(e){var t=this;this.$gantt.env.isNode||(this._initialStartDate=e.startDate,this._initialEndDate=e.endDate,this._activeLevelIndex=e.activeLevelIndex?e.activeLevelIndex:0,this._levels=this._mapScales(e.levels||u),this._handler=e.handler||this._defaultHandler,this._minColumnWidth=e.minColumnWidth||60,this._maxColumnWidth=e.maxColumnWidth||240,this._widthStep=e.widthStep||3/8*e.minColumnWidth,this._useKey=e.useKey,this._initialized||(l(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),"wheel"===e.trigger&&(this.$gantt.$root?this._attachWheelEvent(e):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(e)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},a.prototype._mapScales=function(e){return e.map(function(t){return Array.isArray(t)?{scales:t}:t})},a.prototype._setScaleSettings=function(e,t){e?this._stepUp(t):this._stepDown(t)},a.prototype._stepUp=function(e){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,t++),this.$gantt.config.min_column_width=n}else t++;this._setLevel(t,e)}},a.prototype._stepDown=function(e){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=n}else t--;this._setLevel(t,e)}},a}();C.default=i},function($,C){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(f,_,l){var s=document.createElement("DIV");l=l||window.gantt,s.id="gantt_"+l.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=l;var u=this.vs[this.av];return u.grid=l,l.init(s.id,f,_),s.firstChild.style.border="none",u.gridId=s.id,u.gridObj=s,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(f,_,l){l=l||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+l.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=l,l.init(s.id,f,_),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),$.exports=null},function($,C){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(_)}var _,l;window.jQuery&&(_=window.jQuery,l=[],_.fn.dhx_gantt=function(s){if("string"!=typeof(s=s||{})){var u=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)u.push("object"==f(this.gantt)?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var a in s)"data"!=a&&(i.config[a]=s[a]);i.init(this),s.data&&i.parse(s.data),u.push(i)}}),1===u.length?u[0]:u}if(l[s])return l[s].apply(this,[]);_.error("Method "+s+" does not exist on jQuery.dhx_gantt")}),$.exports=null},function($,C,f){var _=f(1),l=f(15);$.exports=function(s){var u=50,i=30,a=10,e=50,t=null,n=!1,r=null,o={started:!1},c={};function d(k){return k&&_.isChildOf(k,s.$root)&&k.offsetHeight}function h(){var k=!!document.querySelector(".gantt_drag_marker"),b=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),S=!!document.querySelector(".gantt_link_direction"),w=s.getState();return n=k&&!b&&!S,!(!w.drag_mode&&!k||b)||w.autoscroll}function g(k){if(r&&(clearTimeout(r),r=null),k){var b=s.config.autoscroll_speed;b&&b<10&&(b=10),r=setTimeout(function(){t=setInterval(v,b||e)},s.config.autoscroll_delay||a)}}function p(k){k?(g(!0),o.started||(o.x=c.x,o.y=c.y,o.started=!0)):(t&&(clearInterval(t),t=null),g(!1),o.started=!1)}function y(k){var b=h();if(!t&&!r||b||p(!1),!s.config.autoscroll||!b)return!1;c={x:k.clientX,y:k.clientY},"touchmove"==k.type&&(c.x=k.targetTouches[0].clientX,c.y=k.targetTouches[0].clientY),!t&&b&&p(!0)}function v(){if(!h())return p(!1),!1;var H,X,Z,K,tt,k=d(s.$task)?s.$task:d(s.$grid)?s.$grid:s.$root;if(k){var b=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(H){b=b||!!document.querySelector(H)}),b&&(k=s.$grid);var S=_.getNodePosition(k),x=c.y-S.y+window.scrollY,T=n?0:m(c.x-S.x,S.width,o.x-S.x),E=m(x,S.height,o.y-S.y+window.scrollY),I=s.getScrollState(),L=I.y,N=I.inner_height,U=I.x,W=I.inner_width;(E&&!N||E<0&&!L||E>0&&L+N>=I.height+2)&&(E=0),(T&&!W||T<0&&!U||T>0&&U+W>=I.width)&&(T=0);var O=s.config.autoscroll_step;O&&O<2&&(O=2),E*=O||i,((T*=O||i)||E)&&(H=T,X=E,Z=s.getScrollState(),K=null,tt=null,H&&(K=Z.x+H,K=Math.min(Z.width,K),K=Math.max(0,K)),X&&(tt=Z.y+X,tt=Math.min(Z.height,tt),tt=Math.max(0,tt)),s.scrollTo(K,tt))}}function m(k,b,S){return k-u<0&&k<S?-1:k>b-u&&k>S?1:0}s.attachEvent("onGanttReady",function(){if(!l(s)){var k=_.getRootNode(s.$root)||document.body;s.eventRemove(k,"mousemove",y),s.event(k,"mousemove",y),s.eventRemove(k,"touchmove",y),s.event(k,"touchmove",y),s.eventRemove(k,"pointermove",y),s.event(k,"pointermove",y)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function($,C,f){$.exports=function(_){_.ext||(_.ext={});for(var l=[f(96),f(95),f(94)],s=0;s<l.length;s++)l[s]&&l[s](_);var u=f(93).default;_.ext.zoom=new u(_)}},function($,C){$.exports=function(f){f.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function($,C){$.exports=function(f){f.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function($,C){$.exports=function(f){f.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},f.attachEvent("onAfterTaskDrag",function(_){var l=f.getTaskNode(_);l&&(l.className+=" gantt_drag_animation",setTimeout(function(){var s=l.className.indexOf(" gantt_drag_animation");s>-1&&(l.className=l.className.slice(0,s))},200))})}},function($,C){$.exports=function(f){f.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function($,C){$.exports=function(f){f.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function($,C){$.exports=function(f){f.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function($,C){$.exports=function(f){f.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function($,C){function f(_,l){var s=l.skin;if(!s||_)for(var u=document.getElementsByTagName("link"),i=0;i<u.length;i++){var a=u[i].href.match("dhtmlxgantt_([a-z_]+).css");if(a&&(l.skins[a[1]]||!s)){s=a[1];break}}l.skin=s||"terrace";var e=l.skins[l.skin]||l.skins.terrace;!function(r,o,c){for(var d in o)(void 0===r[d]||c)&&(r[d]=o[d])}(l.config,e.config,_);var t=l.getGridColumns();for(t[1]&&!l.defined(t[1].width)&&(t[1].width=e._second_column_width),t[2]&&!l.defined(t[2].width)&&(t[2].width=e._third_column_width),i=0;i<t.length;i++){var n=t[i];"add"==n.name&&(n.width||(n.width=44),l.defined(n.min_width)&&l.defined(n.max_width)||(n.min_width=n.min_width||n.width,n.max_width=n.max_width||n.width),n.min_width&&(n.min_width=+n.min_width),n.max_width&&(n.max_width=+n.max_width),n.width&&(n.width=+n.width,n.width=n.min_width&&n.min_width>n.width?n.min_width:n.width,n.width=n.max_width&&n.max_width<n.width?n.max_width:n.width))}e.config.task_height&&(l.config.task_height=e.config.task_height||"full"),e.config.bar_height&&(l.config.bar_height=e.config.bar_height||"full"),e._lightbox_template&&(l._lightbox_template=e._lightbox_template),e._redefine_lightbox_buttons&&(l.config.buttons_right=e._redefine_lightbox_buttons.buttons_right,l.config.buttons_left=e._redefine_lightbox_buttons.buttons_left),l.resetLightbox()}$.exports=function(_){_.resetSkin||(_.resetSkin=function(){this.skin="",f(!0,this)},_.skins={},_.attachEvent("onGanttLayoutReady",function(){f(!1,this)}))}},function($,C){$.exports=function(){function f(t){return t.$ui.getView("timeline")}function _(t){return t.$ui.getView("grid")}function l(t){var n=f(t);if(n&&!n.$config.hidden)return n;var r=_(t);return r&&!r.$config.hidden?r:null}function s(t){var n,r=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(o){r=r||!!document.querySelector(o)}),(n=r?_(t):l(t))?i(t,n,"scrollY"):null}function u(t){var n=l(t);return n&&"grid"!=n.id?i(t,n,"scrollX"):null}function i(t,n,r){return t.$ui.getView(n.$config[r])}var a="DEFAULT_VALUE";function e(t,n,r,o){var c=t(this);return c&&c.isVisible()?c[n].apply(c,r):o?o():a}return{getColumnIndex:function(t){var n=e.call(this,_,"getColumnIndex",[t]);return n===a?0:n},dateFromPos:function(t){var n=e.call(this,f,"dateFromPos",Array.prototype.slice.call(arguments));return n===a?this.getState().min_date:n},posFromDate:function(t){var n=e.call(this,f,"posFromDate",[t]);return n===a?0:n},getRowTop:function(t){var n=this,r=e.call(n,f,"getRowTop",[t],function(){return e.call(n,_,"getRowTop",[t])});return r===a?0:r},getTaskTop:function(t){var n=this,r=e.call(n,f,"getItemTop",[t],function(){return e.call(n,_,"getItemTop",[t])});return r===a?0:r},getTaskPosition:function(t,n,r){var o=e.call(this,f,"getItemPosition",[t,n,r]);return o===a?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:o},getTaskBarHeight:function(t,n){var r=this,o=e.call(r,f,"getBarHeight",[t,n],function(){return e.call(r,_,"getItemHeight",[t])});return o===a?0:o},getTaskHeight:function(t){var n=this,r=e.call(n,f,"getItemHeight",[t],function(){return e.call(n,_,"getItemHeight",[t])});return r===a?0:r},columnIndexByDate:function(t){var n=e.call(this,f,"columnIndexByDate",[t]);return n===a?0:n},roundTaskDates:function(){e.call(this,f,"roundTaskDates",[])},getScale:function(){var t=e.call(this,f,"getScale",[]);return t===a?null:t},getTaskNode:function(t){var n=f(this);if(n&&n.isVisible()){var r=n._taskRenderer.rendered[t];return r||(r=n.$task_bars.querySelector("["+n.$config.item_attribute+"='"+t+"']")),r||null}return null},getLinkNode:function(t){var n=f(this);return n.isVisible()?n._linkRenderer.rendered[t]:null},scrollTo:function(t,n){var r=s(this),o=u(this),c={position:0},d={position:0};r&&(d=r.getScrollState()),o&&(c=o.getScrollState());var h=o&&1*t==t,g=r&&1*n==n;if(h&&g)for(var p=r._getLinkedViews(),y=o._getLinkedViews(),v=[],m=0;m<p.length;m++)for(var k=0;k<y.length;k++)p[m].$config.id&&y[k].$config.id&&p[m].$config.id===y[k].$config.id&&v.push(p[m].$config.id);h&&(v&&v.forEach(function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!0}.bind(this)),o.scroll(t),v&&v.forEach(function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!1}.bind(this))),g&&r.scroll(n);var b={position:0},S={position:0};r&&(b=r.getScrollState()),o&&(S=o.getScrollState()),this.callEvent("onGanttScroll",[c.position,d.position,S.position,b.position])},showDate:function(t){var n=this.posFromDate(t),r=Math.max(n-this.config.task_scroll_offset,0);this.scrollTo(r)},showTask:function(t){var n=this.getTaskPosition(this.getTask(t)),r=n.left;this.config.rtl&&(r=n.left+n.width);var o,c=Math.max(r-this.config.task_scroll_offset,0),d=this._scroll_state().y;o=d?n.top-(d-this.getTaskBarHeight(t))/2:n.top,this.scrollTo(c,o);var h=_(this),g=f(this);h&&g&&h.$config.scrollY!=g.$config.scrollY&&i(this,h,"scrollY").scrollTo(null,o)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},n=s(this),r=u(this);if(r){var o=r.getScrollState();o.visible&&(t.x=o.size,t.x_inner=o.scrollSize),t.x_pos=o.position||0}if(n){var c=n.getScrollState();c.visible&&(t.y=c.size,t.y_inner=c.scrollSize),t.y_pos=c.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,n,r){var o=this.$ui.getView(t);if(!o)return!1;if(null!==n){var c=this.$ui.getView(o.$config.scrollX);c&&c.scrollTo(n,null)}if(null!==r){var d=this.$ui.getView(o.$config.scrollY);d&&d.scrollTo(null,r)}}}}},function($,C){$.exports=function(f){}},function($,C,f){var _=f(1);$.exports=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(u){for(var i=u.getCellsByType("resizer"),a=0;a<i.length;a++){var e=i[a],t=!1,n=e.$parent.getPrevSibling(e.$id);if(n&&n.$config&&"grid"===n.$config.id)t=!0;else{var r=e.$parent.getNextSibling(e.$id);r&&r.$config&&"grid"===r.$config.id&&(t=!0)}t&&(e.$config.css=(e.$config.css?e.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(u){var i=!0;this._legacyGridResizerClass(u),u.attachEvent("onBeforeResize",function(){var a=s.$ui.getView("timeline");a&&(a.$config.hidden=a.$parent.$config.hidden=!s.config.show_chart);var e=s.$ui.getView("grid");if(e){var t=e._getColsTotalWidth(),n=!s.config.show_grid||!s.config.grid_width||0===t;if(i&&!n&&!1!==t&&(s.config.grid_width=t),e.$config.hidden=e.$parent.$config.hidden=n,!e.$config.hidden){var r=e._getGridWidthLimits();if(r[0]&&s.config.grid_width<r[0]&&(s.config.grid_width=r[0]),r[1]&&s.config.grid_width>r[1]&&(s.config.grid_width=r[1]),a&&s.config.show_chart){if(e.$config.width=s.config.grid_width-1,!e.$config.scrollable&&e.$config.scrollY&&s.$root.offsetWidth){var o=e.$gantt.$layout.$container.offsetWidth,c=s.$ui.getView(e.$config.scrollY).$config.width,d=o-(e.$config.width+c);d<0&&(e.$config.width+=d,s.config.grid_width+=d)}if(i)e.$parent.$config.width=s.config.grid_width,e.$parent.$config.group&&s.$layout._syncCellSizes(e.$parent.$config.group,{value:e.$parent.$config.width,isGravity:!1});else if(a&&!_.isChildOf(a.$task,u.$view)){if(!e.$config.original_grid_width){var h=s.skins[s.skin];e.$config.original_grid_width=h&&h.config&&h.config.grid_width?h.config.grid_width:0}s.config.grid_width=e.$config.original_grid_width,e.$parent.$config.width=s.config.grid_width}else e.$parent._setContentSize(e.$config.width,null),s.$layout._syncCellSizes(e.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else a&&_.isChildOf(a.$task,u.$view)&&(e.$config.original_grid_width=s.config.grid_width),i||(e.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(u)},_initScrollStateEvents:function(u){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),a=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(e,t,n){var r=s.getScrollState();s.callEvent("onGanttScroll",[r.x,e,r.x,t])}),a&&a.attachEvent("onScroll",function(e,t,n){var r=s.getScrollState();s.callEvent("onGanttScroll",[e,r.y,t,r.y]);var o=s.$ui.getView("grid");o&&o.$grid_data&&!o.$config.scrollable&&(o.$grid_data.style.left=o.$grid.scrollLeft+"px",o.$grid_data.scrollLeft=o.$grid.scrollLeft)}),u.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),a&&!s.$scroll_hor&&(s.$scroll_hor=a.$scroll_hor)})},_findGridResizer:function(u,i){for(var a,e=u.getCellsByType("resizer"),t=!0,n=0;n<e.length;n++){var r=e[n];r._getSiblings();var o=r._behind,c=r._front;if(o&&o.$content===i||o.isChild&&o.isChild(i)){a=r,t=!0;break}if(c&&c.$content===i||c.isChild&&c.isChild(i)){a=r,t=!1;break}}return{resizer:a,gridFirst:t}},onInitialized:function(u){var i=s.$ui.getView("grid"),a=this._findGridResizer(u,i);if(a.resizer){var e,t=a.gridFirst,n=a.resizer;if("x"!==n.$config.mode)return;n.attachEvent("onResizeStart",function(r,o){var c=s.$ui.getView("grid"),d=c?c.$parent:null;if(d){var h=c._getGridWidthLimits();c.$config.scrollable||(d.$config.minWidth=h[0]),d.$config.maxWidth=h[1]}return s.callEvent("onGridResizeStart",[e=t?r:o])}),n.attachEvent("onResize",function(r,o){return s.callEvent("onGridResize",[e,t?r:o])}),n.attachEvent("onResizeEnd",function(r,o,c,d){var h=t?r:o,g=t?c:d,p=s.$ui.getView("grid"),y=p?p.$parent:null;y&&(y.$config.minWidth=void 0);var v=s.callEvent("onGridResizeEnd",[h,g]);return v&&0!==g&&(s.config.grid_width=g),v})}},onDestroyed:function(u){}}}},function($,C,f){var _=f(1),l=function(s,u){var i,a,e,t,n;function c(){return{link_source_id:t,link_target_id:a,link_from_start:n,link_to_start:e,link_landing_area:i}}var d=u.$services,h=d.getService("state"),g=d.getService("dnd");h.registerProvider("linksDnD",c);var p=new g(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:u.$root,selector:".gantt_link_point",preventDefault:!0});function y(w,x,T,E,I){var L=function(U,W,Y){var K,O=function(U){return u.getTaskPosition(U)}(U),H={x:O.left,y:O.top,width:O.width,height:O.height};if(Y.rtl?(H.xEnd=H.x,H.x=H.xEnd+H.width):H.xEnd=H.x+H.width,H.yEnd=H.y+H.height,u.getTaskType(U.type)==u.config.types.milestone){var X=(K=s.getBarHeight(U.id,!0),Math.round(Math.sqrt(2*K*K))-2);H.x+=X/2*(Y.rtl?1:-1),H.xEnd+=X/2*(Y.rtl?-1:1),H.width=O.xEnd-O.x}return H}(w,0,E),N={x:L.x,y:L.y};x||(N.x=L.xEnd),N.y+=u.getTaskHeight(w.id)/2;var z=u.getTaskType(w.type)==u.config.types.milestone&&I?2:0;return T=T||0,E.rtl&&(T*=-1),N.x+=(x?-1:1)*T-z,N}function m(w){var x=c(),T=["gantt_link_tooltip"];x.link_source_id&&x.link_target_id&&(u.isLinkAllowed(x.link_source_id,x.link_target_id,x.link_from_start,x.link_to_start)?T.push("gantt_allowed_link"):T.push("gantt_invalid_link"));var E=u.templates.drag_link_class(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start);E&&T.push(E);var I="<div class='"+E+"'>"+u.templates.drag_link(x.link_source_id,x.link_from_start,x.link_target_id,x.link_to_start)+"</div>";w.innerHTML=I}function k(){t=n=a=null,e=!0}function b(w,x,T,E){var I=(p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction),L=c(),N=["gantt_link_direction"];u.templates.link_direction_class&&N.push(u.templates.link_direction_class(L.link_source_id,L.link_from_start,L.link_target_id,L.link_to_start));var V,st,z=Math.sqrt(Math.pow(T-w,2)+Math.pow(E-x,2));if(z=Math.max(0,z-3)){I.className=N.join(" ");var W=Math.atan((E-x)/(T-w));2==S(w,T,x,E)?W+=Math.PI:3==S(w,T,x,E)&&(W-=Math.PI);var Y=Math.sin(W),O=Math.cos(W),H=Math.round(x),X=Math.round(w),Z=["-webkit-transform: rotate("+W+"rad)","-moz-transform: rotate("+W+"rad)","-ms-transform: rotate("+W+"rad)","-o-transform: rotate("+W+"rad)","transform: rotate("+W+"rad)","width:"+Math.round(z)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){Z.push('-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11 = '+(st=O)+",M12 = -"+(V=Y)+",M21 = "+V+",M22 = "+st+",SizingMethod = 'auto expand')\"");var K=Math.abs(Math.round(w-T)),tt=Math.abs(Math.round(E-x));switch(S(w,T,x,E)){case 1:H-=tt;break;case 2:X-=K,H-=tt;break;case 3:X-=K}}Z.push("top:"+H+"px"),Z.push("left:"+X+"px"),I.style.cssText=Z.join(";")}}function S(w,x,T,E){return x>=w?E<=T?1:4:E<=T?2:3}p.attachEvent("onBeforeDragStart",u.bind(function(w,x){var T=x.target||x.srcElement;if(k(),u.getState("tasksDnd").drag_id)return!1;if(_.locateClassName(T,"gantt_link_point")){_.locateClassName(T,"task_start_date")&&(n=!0);var E=u.locate(x);t=E;var I=u.getTask(E);return u.isReadonly(I)?(k(),!1):(this._dir_start=y(I,!!n,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",u.bind(function(w,x){u.config.touch&&u.refreshData(),m(p.config.marker)},this)),p.attachEvent("onDragMove",u.bind(function(w,x){var tt,V,T=p.config,E=function v(w,x){var Y,O,H,T=p.getPosition(w),E=(O=0,H=0,(Y=x)&&(O=Y.offsetWidth||0,H=Y.offsetHeight||0),{width:O,height:H}),I=function(){var Y=u.$root;return{right:Y.offsetWidth,bottom:Y.offsetHeight}}(),L=u.config.tooltip_offset_x||10,N=u.config.tooltip_offset_y||10,z=u.config.scroll_size||18,U=u.$container.getBoundingClientRect().y+window.scrollY,W={y:T.y+N,x:T.x+L,bottom:T.y+E.height+N+z,right:T.x+E.width+L+z};return W.bottom>I.bottom+U&&(W.y=I.bottom+U-E.height-N),W.right>I.right&&(W.x=I.right-E.width-L),W}(x,T.marker);(tt=T.marker).style.left=(V=E).x+"px",tt.style.top=V.y+"px";var I=!!_.locateClassName(x,"gantt_link_control"),L=a,N=i,z=e,U=u.locate(x),W=!0,Y=_.getTargetNode(x);if(_.isChildOf(Y,u.$root)||(I=!1,U=null),I&&(W=!_.locateClassName(x,"task_end_date"),I=!!U),a=U,i=I,e=W,I){var O=u.getTask(U),H=s.$getConfig(),X=_.locateClassName(x,"gantt_link_control"),Z=0;X&&(Z=Math.floor(X.offsetWidth/2)),this._dir_end=y(O,!!e,Z,H)}else this._dir_end=_.getRelativeEventPosition(x,s.$task_data),u.env.isEdge&&(this._dir_end.y+=window.scrollY);var K=!(N==I&&L==U&&z==W);return K&&(L&&u.refreshTask(L,!1),U&&u.refreshTask(U,!1)),K&&m(T.marker),b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",u.bind(function(){var w=c();if(w.link_source_id&&w.link_target_id&&w.link_source_id!=w.link_target_id){var x=u._get_link_type(w.link_from_start,w.link_to_start),T={source:w.link_source_id,target:w.link_target_id,type:x};T.type&&u.isLinkAllowed(T)&&u.callEvent("onLinkCreated",[T])&&u.addLink(T)}k(),u.config.touch?u.refreshData():(w.link_source_id&&u.refreshTask(w.link_source_id,!1),w.link_target_id&&u.refreshTask(w.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),u.attachEvent("onGanttRender",u.bind(function(){p._direction&&b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};$.exports={createLinkDND:function(){return{init:l}}}},function($,C,f){var _=f(1),l=f(0),s=f(55),u=f(2);$.exports={createTaskDND:function(){var i;return{extend:function(a){a.roundTaskDates=function(e){i.round_task_dates(e)}},init:function(a,e){return t=a,r=(n=e).$services,a._tasks_dnd=i={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=n._createDomEventScope(),this.clear_drag_state();var o=n.config.drag_mode;this.set_actions(),r.getService("state").registerProvider("tasksDnd",l.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var c={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var h in o)this._events[d][h]=c[d];this._handlers[o.move]=this._move,this._handlers[o.resize]=this._resize,this._handlers[o.progress]=this._resize_progress},set_actions:function(){var o=t.$task_data;this._domEvents.attach(o,"mousemove",n.bind(function(c){this.on_mouse_move(c)},this)),this._domEvents.attach(o,"mousedown",n.bind(function(c){this.on_mouse_down(c)},this)),this._domEvents.attach(document.body,"mouseup",n.bind(function(c){this.on_mouse_up(c)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(o,c,d){var h=t.$getConfig(),g=this._drag_task_coords(o,d);d.left?(o.start_date=n.dateFromPos(g.start+c),o.start_date||(o.start_date=new Date(n.getState().min_date))):(o.end_date=n.dateFromPos(g.end+c),o.end_date||(o.end_date=new Date(n.getState().max_date)));var p=this._calculateMinDuration(h.min_duration,h.duration_unit);o.end_date-o.start_date<h.min_duration&&(d.left?o.start_date=n.calculateEndDate(o.end_date,-p,h.duration_unit,o):o.end_date=n.calculateEndDate(o.start_date,p,h.duration_unit,o)),n._init_task_timing(o)},_calculateMinDuration:function(o,c){return Math.ceil(o/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[c])},_resize_progress:function(o,c,d){var h=this._drag_task_coords(o,d),g=t.$getConfig().rtl?h.start-d.pos.x:d.pos.x-h.start,p=Math.max(0,g);o.progress=Math.min(1,p/Math.abs(h.end-h.start))},_find_max_shift:function(o,c){var d;for(var h in o){var g=o[h],p=n.getTask(g.id),y=this._drag_task_coords(p,g),v=n.posFromDate(new Date(n.getState().min_date)),m=n.posFromDate(new Date(n.getState().max_date));if(y.end+c>m){var k=m-y.end;(k<d||void 0===d)&&(d=k)}else if(y.start+c<v){var b=v-y.start;(b>d||void 0===d)&&(d=b)}}return d},_move:function(o,c,d,h){var g=this._drag_task_coords(o,d),p=null,y=null;h?(p=new Date(+d.obj.start_date+h),y=new Date(+d.obj.end_date+h)):(p=n.dateFromPos(g.start+c),y=n.dateFromPos(g.end+c)),p?y?(o.start_date=p,o.end_date=y):(o.end_date=new Date(n.getState().max_date),o.start_date=n.dateFromPos(n.posFromDate(o.end_date)-(g.end-g.start))):(o.start_date=new Date(n.getState().min_date),o.end_date=n.dateFromPos(n.posFromDate(o.start_date)+(g.end-g.start)))},_drag_task_coords:function(o,c){return{start:c.obj_s_x=c.obj_s_x||n.posFromDate(o.start_date),end:c.obj_e_x=c.obj_e_x||n.posFromDate(o.end_date)}},_mouse_position_change:function(o,c){var d=o.x-c.x,h=o.y-c.y;return Math.sqrt(d*d+h*h)},_is_number:function(o){return!isNaN(parseFloat(o))&&isFinite(o)},on_mouse_move:function(o){if(this.drag.start_drag){var c=_.getRelativeEventPosition(o,n.$task_data),d=this.drag.start_drag.start_x,h=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(h)&&this._mouse_position_change({x:d,y:h},c)>20)&&this._start_dnd(o)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(o)}},_update_item_on_move:function(o,c,d,h,g,p){var y=n.getTask(c),v=n.mixin({},y),m=n.mixin({},y);this._handlers[d].apply(this,[m,o,h,p]),n.mixin(y,m,!0),n.callEvent("onTaskDrag",[y.id,d,m,v,g]),n.mixin(y,m,!0),n.refreshTask(c)},_update_on_move:function(o){var c=this.drag,d=t.$getConfig();if(c.mode){var h=_.getRelativeEventPosition(o,t.$task_data);if(c.pos&&c.pos.x==h.x)return;c.pos=h;var g=n.dateFromPos(h.x);if(!g||isNaN(g.getTime()))return;var p=h.x-c.start_x,y=n.getTask(c.id);if(this._handlers[c.mode]){if(c.mode===d.drag_mode.move){var v={};this._isMultiselect()&&n.getSelectedTasks().indexOf(c.id)>=0&&(v=this.dragMultiple);var m=!1;if(n.isSummaryTask(y)&&n.config.drag_project){var k={};k[c.id]=l.copy(c),m=!0,v=l.mixin(k,this.dragMultiple)}var b=this._find_max_shift(v,p);for(var S in void 0!==b&&(p=b),this._update_item_on_move(p,c.id,c.mode,c,o),v){var w=v[S];if(m&&w.id!=c.id&&(n._bulk_dnd=!0),void 0===b&&(m||Object.keys(v).length>1))var x=g-n.dateFromPos(c.start_x);this._update_item_on_move(p,w.id,w.mode,w,o,x)}n._bulk_dnd=!1}else this._update_item_on_move(p,c.id,c.mode,c,o);n._update_parents(c.id)}}},on_mouse_down:function(o,c){if(2!=o.button||void 0===o.button){var d=t.$getConfig(),h=n.locate(o),g=null;if(n.isTaskExists(h)&&(g=n.getTask(h)),!n.isReadonly(g)&&!this.drag.mode){this.clear_drag_state();var p=_.getClassName(c=c||o.target||o.srcElement),y=this._get_drag_mode(p,c);if(!p||!y)return c.parentNode?this.on_mouse_down(o,c.parentNode):void 0;if(y)if(y.mode&&y.mode!=d.drag_mode.ignore&&d["drag_"+y.mode]){if(h=n.locate(c),g=n.copy(n.getTask(h)||{}),n.isReadonly(g))return this.clear_drag_state(),!1;if(n.isSummaryTask(g)&&!d.drag_project&&y.mode!=d.drag_mode.progress)return void this.clear_drag_state();y.id=h;var v=_.getRelativeEventPosition(o,n.$task_data);y.start_x=v.x,y.start_y=v.y,y.obj=g,this.drag.start_drag=y,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(n.checkEvent("onMouseDown")&&n.callEvent("onMouseDown",[p.split(" ")[0]])&&c.parentNode)return this.on_mouse_down(o,c.parentNode)}}},_fix_dnd_scale_time:function(o,c){var d=t.$getConfig(),h=n.getScale().unit,g=n.getScale().step;function p(y){if(n.config.correct_work_time){var v=t.$getConfig();n.isWorkTime(y.start_date,void 0,y)||(y.start_date=n.calculateEndDate({start_date:y.start_date,duration:-1,unit:v.duration_unit,task:y}))}}d.round_dnd_dates||(h="minute",g=d.time_step),c.mode==d.drag_mode.resize?c.left?(o.start_date=n.roundDate({date:o.start_date,unit:h,step:g}),p(o)):(o.end_date=n.roundDate({date:o.end_date,unit:h,step:g}),function(y){if(n.config.correct_work_time){var v=t.$getConfig();n.isWorkTime(new Date(y.end_date-1),void 0,y)||(y.end_date=n.calculateEndDate({start_date:y.end_date,duration:1,unit:v.duration_unit,task:y}))}}(o)):c.mode==d.drag_mode.move&&(o.start_date=n.roundDate({date:o.start_date,unit:h,step:g}),p(o),o.end_date=n.calculateEndDate(o))},_fix_working_times:function(o,c){var d=t.$getConfig();(c=c||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?c.left?o.start_date=n.getClosestWorkTime({date:o.start_date,dir:"future",task:o}):o.end_date=n.getClosestWorkTime({date:o.end_date,dir:"past",task:o}):c.mode==d.drag_mode.move&&n.correctTaskWorkTime(o)},_finalize_mouse_up:function(o,c,d,h){var g=n.getTask(o);if(c.work_time&&c.correct_work_time&&this._fix_working_times(g,d),this._fix_dnd_scale_time(g,d),this._fireEvent("before_finish",d.mode,[o,d.mode,n.copy(d.obj),h])){var p=o;n._init_task_timing(g),this.clear_drag_state(),n.updateTask(g.id),this._fireEvent("after_finish",d.mode,[p,d.mode,h])}else this.clear_drag_state(),o==d.id&&(d.obj._dhx_changed=!1,n.mixin(g,d.obj,!0)),n.refreshTask(g.id)},on_mouse_up:function(o){var c=this.drag;if(c.mode&&c.id){var d=t.$getConfig(),h=n.getTask(c.id),g=this.dragMultiple,p=!1,y=0;c.mode===d.drag_mode.move&&(n.isSummaryTask(h)&&d.drag_project||this._isMultiselect())&&(p=!0,y=Object.keys(g).length);var v=function(){if(p)for(var m in g)this._finalize_mouse_up(g[m].id,d,g[m],o);this._finalize_mouse_up(c.id,d,c,o)};p&&y>10?n.batchUpdate(function(){v.call(this)}.bind(this)):v.call(this)}this.clear_drag_state()},_get_drag_mode:function(o,c){var d=t.$getConfig().drag_mode,h={mode:null,left:null};switch((o||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":h.mode=d.move;break;case"gantt_task_drag":h.mode=d.resize;var g=c.getAttribute("data-bind-property");h.left="start_date"==g;break;case"gantt_task_progress_drag":h.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":h.mode=d.ignore;break;default:h=null}return h},_start_dnd:function(o){var c=this.drag=this.drag.start_drag;delete c.start_drag;var d=t.$getConfig(),h=c.id;if(d["drag_"+c.mode]&&n.callEvent("onBeforeDrag",[h,c.mode,o])&&this._fireEvent("before_start",c.mode,[h,c.mode,o])){delete c.start_drag;var g=n.getTask(h);if(n.isReadonly(g))return void this.clear_drag_state();if(this._isMultiselect()){var p=n.getSelectedTasks();p.indexOf(c.id)>=0&&u.forEach(p,n.bind(function(y){var v=n.getTask(y);n.isSummaryTask(v)&&n.config.drag_project&&c.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(v.id),this.dragMultiple[y]=n.mixin({id:v.id,obj:n.copy(v)},this.drag)},this))}n.isSummaryTask(g)&&n.config.drag_project&&c.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(g.id),n.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(o,c,d){n.assert(this._events[o],"Invalid stage:{"+o+"}");var h=this._events[o][c];return n.assert(h,"Unknown after drop mode:{"+c+"}"),n.assert(d,"Invalid event arguments"),!n.checkEvent(h)||n.callEvent(h,d)},round_task_dates:function(o){var c=this.drag,d=t.$getConfig();c||(c={mode:d.drag_mode.move}),this._fix_dnd_scale_time(o,c)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return n.config.drag_multiple&&!!(n.getSelectedTasks&&n.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(o){n.eachTask(function(c){this.dragMultiple[c.id]=n.mixin({id:c.id,obj:n.copy(c)},this.drag)},o,this)}},i.init(e);var t,n,r},destructor:function(){i&&(i.destructor(),i=null)}}}}},function($,C,f){var _=f(0),l=f(110),s=f(109),u=f(1);$.exports=function(a){var e=a.$services;return{onCreated:function(t){var n=t.$config;n.bind=_.defined(n.bind)?n.bind:"task",n.bindLinks=_.defined(n.bindLinks)?n.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=l.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=f(33)(a)},onInitialized:function(t){this._attachDomEvents(a),this._attachStateProvider(a,t),t._tasksDnD.init(t,a),t._linksDnD.init(t,a),"timeline"==t.$config.id&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(a),this._clearStateProvider(a),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){a.$task=t.$task,a.$task_scale=t.$task_scale,a.$task_data=t.$task_data,a.$task_bg=t.$task_bg,a.$task_links=t.$task_links,a.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function n(r,o){if(r&&this.callEvent("onLinkDblClick",[r,o])){var c=this.getLink(r);if(this.isReadonly(c))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(r))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(r)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(r,o){var c=this.locate(r,this.config.link_attribute);c&&this.callEvent("onLinkClick",[c,r])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(r,o){var c=u.getRelativeEventPosition(r,t.$task_data),d=t.dateFromPos(c.x),h=Math.floor(t.columnIndexByDate(d)),g=t.getScale().trace_x[h];t.callEvent("onScaleClick",[r,g])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(r,o,c){o=this.locate(r,t.config.link_attribute),n.call(this,o,r)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(r,o,c){o=this.locate(r);var d=this.getTask(o),h=null;return c.parentNode&&u.getClassName(c.parentNode)&&(h=u.getClassName(c.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),h&&n.call(this,h,r),!1},t),this.$task)},_attachStateProvider:function(t,n){var r=n;e.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:r._tasks?r._tasks.unit:void 0,scale_step:r._tasks?r._tasks.step:void 0}})},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}}},function($,C,f){var _=f(1);function l(u,i){var a=_.getNodePosition(i.$grid_data);return u.x+=a.x+i.$grid.scrollLeft,u.y+=a.y-i.$grid_data.scrollTop,u}function s(u,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=_.getNodePosition(u.$root);return i>e.width&&(i=e.width-a-2),i}$.exports={removeLineHighlight:function(u){u.markerLine&&u.markerLine.parentNode&&u.markerLine.parentNode.removeChild(u.markerLine),u.markerLine=null},highlightPosition:function(u,i,a){var e=function(n,r){var o=_.getNodePosition(r.$grid_data),c=_.getRelativeEventPosition(n,r.$grid_data),d=o.x+r.$grid.scrollLeft,h=c.y-10,g=r.getItemHeight(n.targetId);h<o.y&&(h=o.y);var p=r.getTotalHeight();return h>o.y+p-g&&(h=o.y+p-g),o.x=d,o.y=h,o.width=s(r.$gantt,o.width,9),o}(u,a);i.marker.style.left=e.x+9+"px",i.marker.style.width=e.width+"px",i.marker.style.overflow="hidden";var r,o,c,d,h,g,t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),u.child?(r=t,d=l({x:0,y:(o=a).getItemTop(c=u.targetParent)},o),h=o.$grid_data.getBoundingClientRect().bottom+window.scrollY,g=s(o.$gantt,o.$grid_data.offsetWidth),r.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",r.style.width=g+"px",r.style.top=d.y+"px",r.style.left=d.x+"px",r.style.height=o.getItemHeight(c)+"px",d.y>h&&(r.style.top=h+"px")):function(n,r,o){var c=function(g,p){var y=p.$config.rowStore,v={x:0,y:0},m=p.$grid_data.querySelector(".gantt_tree_indent"),k=15,b=0;if(m&&(k=m.offsetWidth),g.targetId!==y.$getRootId()){var S=p.getItemTop(g.targetId),w=p.getItemHeight(g.targetId);if(b=y.exists(g.targetId)?y.calculateItemLevel(y.getItem(g.targetId)):0,g.prevSibling)v.y=S;else if(g.nextSibling){var x=0;y.eachItem(function(T){-1!==y.getIndexById(T.id)&&x++},g.targetId),v.y=S+w+x*w}else v.y=S+w,b+=1}return v.x=40+b*k,v.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-v.x,0),v.x),l(v,p)}(n,o),d=o.$grid_data.getBoundingClientRect().bottom+window.scrollY;r.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",r.style.left=c.x+"px",r.style.height="4px";var h=c.y-2;r.style.top=h+"px",r.style.width=c.width+"px",h>d&&(r.style.top=d+"px")}(u,t,a),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function($,C,f){var _=f(26);$.exports=function(l,s,u,i,a){var e;if(s!==a.$getRootId())e=u<.25?_.prevSiblingTarget(l,s,a):!(u>.6)||a.hasChild(s)&&a.getItem(s).$open?_.firstChildTarget(l,s,a):_.nextSiblingTarget(l,s,a);else{var t=a.$getRootId();e=a.hasChild(t)&&i>=0?_.lastChildTarget(l,t,a):_.firstChildTarget(l,t,a)}return e}},function($,C,f){var _=f(26);function l(i,a,e,t,n){for(var r=a;t.exists(r);){var o=t.calculateItemLevel(t.getItem(r));if((o===e||o===e-1)&&t.getBranchIndex(r)>-1)break;r=n?t.getPrev(r):t.getNext(r)}return t.exists(r)?t.calculateItemLevel(t.getItem(r))===e?n?_.nextSiblingTarget(i,r,t):_.prevSiblingTarget(i,r,t):_.firstChildTarget(i,r,t):null}function s(i,a,e,t){return l(i,a,e,t,!0)}function u(i,a,e,t){return l(i,a,e,t,!1)}$.exports=function(i,a,e,t,n,r){var o;if(a!==n.$getRootId()){var c=n.getItem(a),d=n.calculateItemLevel(c);if(d===r){var h=n.getPrevSibling(a);e<.5&&!h?o=_.prevSiblingTarget(i,a,n):(e<.5&&(a=h),o=_.nextSiblingTarget(i,a,n))}else if(d>r)n.eachParent(function(m){n.calculateItemLevel(m)===r&&(a=m.id)},c),o=s(i,a,r,n);else{var g=s(i,a,r,n),p=u(i,a,r,n);o=e<.5?g:p}}else{var y=n.$getRootId(),v=n.getChildren(y);o=_.createDropTargetObject(),o=v.length&&t>=0?s(i,function(m){for(var k=m.getNext();m.exists(k);){var b=m.getNext(k);if(!m.exists(b))return k;k=b}return null}(n),r,n):u(i,y,r,n)}return o}},function($,C,f){var _=f(1),l=f(26),s=f(114),u=f(113),i=f(112),a=f(16);$.exports={init:function(e,t){var n=e.$services.getService("dnd");if(t.$config.bind&&e.getDatastore(t.$config.bind)){var r=new n(t.$grid_data,{updates_per_second:60});e.defined(t.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=t.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",e.bind(function(h,g){var p=o(g);if(!p||(e.hideQuickInfo&&e._hideQuickInfo(),_.closest(g.target,".gantt_grid_editor_placeholder")))return!1;var y=p.getAttribute(t.$config.item_attribute),v=t.$config.rowStore.getItem(y);return!e.isReadonly(v)&&!c(y)&&(r.config.initial_open_state=v.$open,!!e.callEvent("onRowDragStart",[y,g.target||g.srcElement,g])&&void 0)},e)),r.attachEvent("onAfterDragStart",e.bind(function(h,g){var p=o(g);r.config.marker.innerHTML=p.outerHTML;var y=r.config.marker.firstChild;y&&(r.config.marker.style.opacity=.4,y.style.position="static",y.style.pointerEvents="none"),r.config.id=p.getAttribute(t.$config.item_attribute);var v=t.$config.rowStore,m=v.getItem(r.config.id);r.config.level=v.calculateItemLevel(m),r.config.drop_target=l.createDropTargetObject({targetParent:v.getParent(m.id),targetIndex:v.getBranchIndex(m.id),targetId:m.id,nextSibling:!0}),m.$open=!1,m.$transparent=!0,this.refreshData()},e)),r.attachEvent("onDragMove",e.bind(function(h,g){var p=function d(h){var g,p=function(b){var S=_.getRelativeEventPosition(b,t.$grid_data).y,w=t.$config.rowStore;document.doctype||(S+=window.scrollY),S=S||0;var x=t.$state.scrollTop||0,T=e.$grid_data.getBoundingClientRect().height+x+window.scrollY,E=x,I=t.getItemIndexByTopPosition(t.$state.scrollTop);if(w.exists(I)||(I=w.countVisible()-1),I<0)return w.$getRootId();var L=w.getIdByIndex(I),N=t.$state.scrollTop/t.getItemHeight(L),z=N-Math.floor(N);z>.1&&z<.9&&(T-=t.getItemHeight(L)*z,E+=t.getItemHeight(L)*(1-z));var U=_.getNodePosition(t.$grid_data),Y=r.config.marker.offsetHeight;S+Y+window.scrollY>=T&&(r.config.marker.style.top=U.y+U.height-Y+"px"),S>=T?S=T:S<=E&&(S=E,r.config.marker.style.top=U.y+"px");var O=t.getItemIndexByTopPosition(S);if(O>w.countVisible()-1||O<0)return w.$getRootId();var H=w.getIdByIndex(O);return c(H)?w.getPrevSibling(H):w.getIdByIndex(O)}(h),y=null,v=t.$config.rowStore,m=!t.$getConfig().order_branch_free,k=_.getRelativeEventPosition(h,t.$grid_data).y;return document.doctype||(k+=window.scrollY),p!==v.$getRootId()&&(y=(k-t.getItemTop(p))/t.getItemHeight(p)),m?(g=s(r.config.id,p,y,k,v,r.config.level))&&g.targetParent&&c(g.targetParent)&&(p=v.getPrevSibling(g.targetParent),g=s(r.config.id,p,y,k,v,r.config.level)):g=u(r.config.id,p,y,k,v),g}(g);return p&&!1!==e.callEvent("onBeforeRowDragMove",[r.config.id,p.targetParent,p.targetIndex])||(p=l.createDropTargetObject(r.config.drop_target)),i.highlightPosition(p,r.config,t),r.config.drop_target=p,this.callEvent("onRowDragMove",[r.config.id,p.targetParent,p.targetIndex]),!0},e)),r.attachEvent("onDragEnd",e.bind(function(){var h=t.$config.rowStore,g=h.getItem(r.config.id);i.removeLineHighlight(r.config),g.$transparent=!1,g.$open=r.config.initial_open_state;var p=r.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])?g.$drop_target=null:(h.move(r.config.id,p.targetIndex,p.targetParent),e.render(),this.callEvent("onRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])),h.refresh(g.id)},e))}function o(h){return _.locateAttribute(h,t.$config.item_attribute)}function c(h){return a(h,e,e.getDatastore(t.$config.bind))}}}},function($,C,f){var _=f(1),l=f(16);$.exports={init:function(s,u){var i=s.$services.getService("dnd");if(u.$config.bind&&s.getDatastore(u.$config.bind)){var a=new i(u.$grid_data,{updates_per_second:60});s.defined(u.$getConfig().dnd_sensitivity)&&(a.config.sensitivity=u.$getConfig().dnd_sensitivity),a.attachEvent("onBeforeDragStart",s.bind(function(r,o){var c=e(o);if(!c||(s.hideQuickInfo&&s._hideQuickInfo(),_.closest(o.target,".gantt_grid_editor_placeholder")))return!1;var d=c.getAttribute(u.$config.item_attribute);if(n(d))return!1;var h=t().getItem(d);return!s.isReadonly(h)&&(a.config.initial_open_state=h.$open,!!s.callEvent("onRowDragStart",[d,o.target||o.srcElement,o])&&void 0)},s)),a.attachEvent("onAfterDragStart",s.bind(function(r,o){var c=e(o);a.config.marker.innerHTML=c.outerHTML;var d=a.config.marker.firstChild;d&&(d.style.position="static"),a.config.id=c.getAttribute(u.$config.item_attribute);var h=t(),g=h.getItem(a.config.id);a.config.index=h.getBranchIndex(a.config.id),a.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},s)),a.lastTaskOfLevel=function(r){for(var o=null,c=t().getItems(),d=0,h=c.length;d<h;d++)c[d].$level==r&&(o=c[d]);return o?o.id:null},a._getGridPos=s.bind(function(r){var o=_.getNodePosition(u.$grid_data),c=o.x+u.$grid.scrollLeft,d=r.pos.y-10,h=u.getItemHeight(a.config.id);d<o.y&&(d=o.y);var g=u.getTotalHeight();d>o.y+g-h&&(d=o.y+g-h);var p=o.y+o.height;return d>p-h&&(d=p-h),o.x=c,o.y=d,o},s),a._getTargetY=s.bind(function(r){var o=_.getNodePosition(u.$grid_data),c=u.$state.scrollTop||0,d=s.$grid_data.getBoundingClientRect().height+c,h=r.pageY-o.y+c;return h>d?h=d:h<c&&(h=c),h},s),a._getTaskByY=s.bind(function(r,o){var c=t(),d=u.getItemIndexByTopPosition(r=r||0);return(d=o<d?d-1:d)>c.countVisible()-1?null:c.getIdByIndex(d)},s),a.attachEvent("onDragMove",s.bind(function(r,o){var c=s.$grid_data.getBoundingClientRect(),d=c.height+c.y+(u.$state.scrollTop||0)+window.scrollY,h=a.config,g=a._getGridPos(o),p=u.$getConfig(),y=t();h.marker.style.top=g.y<d?g.y+"px":d+"px",h.marker.style.left=g.x+10+"px";var v=_.getNodePosition(s.$root);g.width>v.width&&(h.marker.style.width=v.width-10-2+"px",h.marker.style.overflow="hidden");var m=y.getItem(a.config.id),k=a._getTargetY(o),b=a._getTaskByY(k,y.getIndexById(m.id));function S(W,Y){return!y.isChildOf(w.id,Y.id)&&(W.$level==Y.$level||p.order_branch_free)}if(y.exists(b)||(b=a.lastTaskOfLevel(p.order_branch_free?m.$level:0))==a.config.id&&(b=null),y.exists(b)){var w=y.getItem(b),x=u.getItemTop(w.id),T=u.getItemHeight(w.id);if(x+T/2<k){var E=y.getIndexById(w.id),I=y.getNext(w.id),L=y.getItem(I);if(n(I)){var N=y.getPrev(L.id);L=y.getItem(N)}if(L){if(L.id==m.id)return p.order_branch_free&&y.isChildOf(m.id,w.id)&&1==y.getChildren(w.id).length?void y.move(m.id,y.getBranchIndex(w.id)+1,y.getParent(w.id)):void 0;w=L}else if(I=y.getIdByIndex(E),L=y.getItem(I),n(I)&&(N=y.getPrev(L.id),L=y.getItem(N)),S(L,m)&&L.id!=m.id)return void y.move(m.id,-1,y.getParent(L.id))}else if(p.order_branch_free&&w.id!=m.id&&S(w,m)&&!n(w.id)){if(!y.hasChild(w.id))return w.$open=!0,void y.move(m.id,-1,w.id);if(y.getIndexById(w.id)||T/3<k)return}E=y.getIndexById(w.id),N=y.getIdByIndex(E-1);for(var z=y.getItem(N),U=1;(!z||z.id==w.id)&&E-U>=0;)N=y.getIdByIndex(E-U),z=y.getItem(N),U++;if(m.id==w.id||n(w.id))return;S(w,m)&&m.id!=w.id?y.move(m.id,0,0,w.id):w.$level!=m.$level-1||y.getChildren(w.id).length?z&&S(z,m)&&m.id!=z.id&&y.move(m.id,-1,y.getParent(z.id)):y.move(m.id,0,w.id)}return!0},s)),a.attachEvent("onDragEnd",s.bind(function(){var r=t(),o=r.getItem(a.config.id);o.$transparent=!1,o.$open=a.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[a.config.id,a.config.parent,a.config.index])?(r.move(a.config.id,a.config.index,a.config.parent),o.$drop_target=null):this.callEvent("onRowDragEnd",[a.config.id,o.$drop_target]),s.render(),this.refreshData()},s))}function e(r){return _.locateAttribute(r,u.$config.item_attribute)}function t(){return s.getDatastore(u.$config.bind)}function n(r){return l(r,s,t())}}}},function($,C,f){var _=f(0),l=f(116),s=f(115);$.exports=function(i){return{onCreated:function(a){a.$config=_.mixin(a.$config,{bind:"task"}),"grid"==a.$config.id&&(this.extendGantt(a),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(a),i.ext.inlineEditors.init()),this._mouseDelegates=f(33)(i)},onInitialized:function(a){var e=a.$getConfig();e.order_branch&&("marker"==e.order_branch?s.init(a.$gantt,a):l.init(a.$gantt,a)),this.initEvents(a,i),"grid"==a.$config.id&&this.extendDom(a)},onDestroyed:function(a){"grid"==a.$config.id&&i.ext.inlineEditors.destructor(),this.clearEvents(a,i)},initEvents:function(a,e){this._mouseDelegates.delegate("click","gantt_row",e.bind(function(t,n,r){var o=a.$getConfig();if(null!==n){var c=this.getTask(n);o.scroll_on_click&&!e._is_icon_open_click(t)&&this.showDate(c.start_date),e.callEvent("onTaskRowClick",[n,r])}},e),a.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind(function(t,n,r){var o=r.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[o,t])){var c=a.$getConfig();if("add"!=o){if(c.sort&&o){for(var d,h=o,g=0;g<c.columns.length;g++)if(c.columns[g].name==o){d=c.columns[g];break}if(d&&void 0!==d.sort&&!0!==d.sort&&!(h=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==o?this._sort.direction:"desc";this._sort={name:o,direction:p="desc"==p?"asc":"desc"},this.sort(h,"desc"==p)}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",a.$grid,[t,c.root_id])}},e),a.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind(function(t,n,r){if(!a.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1},e),a.$grid)},clearEvents:function(a,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(a){i.$grid=a.$grid,i.$grid_scale=a.$grid_scale,i.$grid_data=a.$grid_data},extendGantt:function(a){i.getGridColumns=i.bind(a.getGridColumns,a),a.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),a.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),a.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),a.attachEvent("onColumnResizeComplete",function(e,t){i.config.grid_width=t}),a.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),a.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),a.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),a.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}}},function($,C,f){var _=f(32),l=f(6);$.exports=function(s){return{render:function(u,i,a){var e=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(u.id)+i.getItemHeight(u.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize'></div>",t.setAttribute(e.task_grid_row_resizer_attribute,u.id),s._waiAria.gridSeparatorAttr(t),t},update:null,getRectangle:_,getVisibleRange:l}}},function($,C,f){var _=f(29),l=f(6),s=f(28),u=f(27),i=f(39);function a(t,n,r,o){var c=100*(1-(1*t||0)),d=o.posFromDate(n),h=o.posFromDate(r),g=document.createElement("div");return g.className="gantt_histogram_hor_bar",g.style.top=c+"%",g.style.left=d+"px",g.style.width=h-d+1+"px",g}function e(t,n,r){if(t===n)return null;var o=1-Math.max(t,n),c=Math.abs(t-n),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*o+"%",d.style.height=100*c+"%",d.style.left=r+"px",d}$.exports=function(t){var n=i(t),r={},o={},c={};function d(p,y){var v=r[p];v&&v[y]&&v[y].parentNode&&v[y].parentNode.removeChild(v[y])}function h(p,y,v,m,k,b,S){var w=c[p.id];w&&w.parentNode&&w.parentNode.removeChild(w);var x=function(T,E,I,L){for(var N=E.getScale(),z=document.createElement("div"),U=s(N,L),W=U.start;W<=U.end;W++){var Y=N.trace_x[W],O=N.trace_x[W+1]||t.date.add(Y,N.step,N.unit),H=N.trace_x[W].valueOf(),X=Math.min(T[H]/I,1)||0;if(X<0)return null;var Z=Math.min(T[O.valueOf()]/I,1)||0,K=a(X,Y,O,E);K&&z.appendChild(K);var tt=e(X,Z,E.posFromDate(O));tt&&z.appendChild(tt)}return z}(v,k,b,S);return x&&y&&(x.setAttribute("data-resource-id",p.id),x.setAttribute(k.$config.item_attribute,p.id),x.style.position="absolute",x.style.top=y.top+1+"px",x.style.height=k.getItemHeight(p.id)-1+"px",x.style.left=0),x}function g(p,y,v,m,k,b,S){var w=k.histogram_cell_class(b.start_date,b.end_date,p,b.tasks,b.assignments),x=k.histogram_cell_label(b.start_date,b.end_date,p,b.tasks,b.assignments),T=k.histogram_cell_allocated(b.start_date,b.end_date,p,b.tasks,b.assignments),E=S.getItemHeight(p.id)-1;if(w||x){var I=document.createElement("div");return I.className=["gantt_histogram_cell",w].join(" "),I.setAttribute(S.$config.item_attribute,p.id),I.style.cssText=["left:"+y.left+"px","width:"+y.width+"px","height:"+E+"px","line-height:"+E+"px","top:"+(y.top+1)+"px"].join(";"),x&&(x="<div class='gantt_histogram_label'>"+x+"</div>"),T&&(x="<div class='gantt_histogram_fill' style='height:"+100*Math.min(T/v||0,1)+"%;'></div>"+x),x&&(I.innerHTML=x),I}return null}return{render:function(p,y,v,m){var k=y.$getTemplates(),b=y.getScale(),S=n(p,v.resource_property,b,y),w=[],x={},T=p.capacity||y.$config.capacity||24;r[p.id]={},o[p.id]=null,c[p.id]=null;for(var E=!!m,I=s(b,m),L=I.start;L<=I.end;L++){var N=S[L];if(N&&(!E||u(L,b,m,t))){var z=k.histogram_cell_capacity(N.start_date,N.end_date,p,N.tasks,N.assignments);x[N.start_date.valueOf()]=z||0;var U=y.getItemPosition(p,N.start_date,N.end_date),W=g(p,U,T,0,k,N,y);W&&(w.push(W),r[p.id][L]=W)}}var Y=null;if(w.length){Y=document.createElement("div");for(var O=0;O<w.length;O++)Y.appendChild(w[O]);var H=h(p,U,x,0,y,T,m);H&&(Y.appendChild(H),c[p.id]=H),o[p.id]=Y}return Y},update:function(p,y,v,m,k){var b=v.$getTemplates(),S=v.getScale(),w=n(p,m.resource_property,S,v),x=p.capacity||v.$config.capacity||24,T={},E=!!k,I=s(S,k),L={};if(r&&r[p.id])for(var N in r[p.id])L[N]=N;for(var z=I.start;z<=I.end;z++){var U=w[z];if(L[z]=!1,U){var W=b.histogram_cell_capacity(U.start_date,U.end_date,p,U.tasks,U.assignments);T[U.start_date.valueOf()]=W||0;var Y=v.getItemPosition(p,U.start_date,U.end_date);if(!E||u(z,S,k,t)){var O=r[p.id];if(O&&O[z])O&&O[z]&&!O[z].parentNode&&y.appendChild(O[z]);else{var H=g(p,Y,x,0,b,U,v);H&&(y.appendChild(H),r[p.id][z]=H)}}else d(p.id,z)}}for(var N in L)!1!==L[N]&&d(p.id,N);var X=h(p,Y,T,0,v,x,k);X&&(y.appendChild(X),c[p.id]=X)},getRectangle:_,getVisibleRange:l}}},function($,C,f){var _=f(29),l=f(6),s=f(28),u=f(27),i=f(39);$.exports=function(a){var e=i(a),t={};function n(o,c,d,h,g){var p=d.resource_cell_class(c.start_date,c.end_date,o,c.tasks,c.assignments),y=d.resource_cell_value(c.start_date,c.end_date,o,c.tasks,c.assignments),v=g.getItemHeight(o.id)-1;if(p||y){var m=g.getItemPosition(o,c.start_date,c.end_date),k=document.createElement("div");return k.setAttribute(g.$config.item_attribute,o.id),k.className=["gantt_resource_marker",p].join(" "),k.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+v+"px","line-height:"+v+"px","top:"+m.top+"px"].join(";"),y&&(k.innerHTML=y),k}return null}function r(o,c){t[o]&&t[o][c]&&t[o][c].parentNode&&t[o][c].parentNode.removeChild(t[o][c])}return{render:function(o,c,d,h){var g=c.$getTemplates(),p=c.getScale(),y=e(o,d.resource_property,c.getScale(),c),v=!!h,m=[];t[o.id]={};for(var k=s(p,h),b=k.start;b<=k.end;b++){var S=y[b];if(S&&(!v||u(b,p,h,a))){var w=n(o,S,g,0,c);w&&(m.push(w),t[o.id][b]=w)}}var x=null;if(m.length){x=document.createElement("div");for(var T=0;T<m.length;T++)x.appendChild(m[T])}return x},update:function(o,c,d,h,g){var p=d.$getTemplates(),y=d.getScale(),v=e(o,h.resource_property,d.getScale(),d),m=s(y,g),k={};if(t&&t[o.id])for(var b in t[o.id])k[b]=b;for(var S=m.start;S<=m.end;S++){var w=v[S];if(k[S]=!1,w)if(u(S,y,g,a))if(t[o.id]&&t[o.id][S])t[o.id]&&t[o.id][S]&&!t[o.id][S].parentNode&&c.appendChild(t[o.id][S]);else{var x=n(o,w,p,0,d);x&&(c.appendChild(x),t[o.id][S]=x)}else r(o.id,S)}for(var b in k)!1!==k[b]&&r(o.id,b)},getRectangle:_,getVisibleRange:l}}},function($,C,f){function _(i){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var l=f(2),s=f(32),u=f(6);$.exports=function(i){return{render:function(a,e,t,n){for(var r=e.getGridColumns(),o=e.$getTemplates(),c=e.$config.rowStore,d=[],h=0;h<r.length;h++){var g,p,y,v=h==r.length-1,m=r[h];"add"==m.name?(p="<div "+(T=i._waiAria.gridAddButtonAttrString(m))+" class='gantt_add'></div>",y=""):(p=m.template?m.template(a):a[m.name],l.isDate(p)&&(p=o.date_grid(p,a,m.name)),null!=p||(p=""),y=p,p="<div class='gantt_tree_content'>"+p+"</div>");var k="gantt_cell"+(v?" gantt_last_cell":""),b=[];if(m.tree){k+=" gantt_cell_tree";for(var S=0;S<a.$level;S++)b.push(o.grid_indent(a));!c.hasChild(a.id)||i.isSplitTask(a)&&!i.config.open_split_tasks?(b.push(o.grid_blank(a)),b.push(o.grid_file(a))):(b.push(o.grid_open(a)),b.push(o.grid_folder(a)))}var w="width:"+(m.width-(v?1:0))+"px;";this.defined(m.align)&&(w+="text-align:"+m.align+";justify-content:"+{right:"flex-end",left:"flex-start",center:"center"}[m.align]+";");var T=i._waiAria.gridCellAttrString(m,y,a);b.push(p),g="<div class='"+k+"' data-column-index='"+h+"' data-column-name='"+m.name+"' style='"+w+"' "+T+">"+b.join("")+"</div>",d.push(g)}switch(k="",c.$config.name){case"task":k=i.getGlobalTaskIndex(a.id)%2==0?"":" odd";break;case"resource":k=c.visibleOrder.indexOf(a.id)%2==0?"":" odd"}if(k+=a.$transparent?" gantt_transparent":"",k+=a.$dataprocessor_class?" "+a.$dataprocessor_class:"",o.grid_row_class){var E=o.grid_row_class.call(i,a.start_date,a.end_date,a);E&&(k+=" "+E)}c.isSelected(a.id)&&(k+=" gantt_selected");var I=document.createElement("div");I.className="gantt_row"+k+" gantt_row_"+i.getTaskType(a.type);var L=e.getItemHeight(a.id);return I.style.height=L+"px",I.style.lineHeight=L+"px",t.smart_rendering&&(I.style.position="absolute",I.style.left="0px",I.style.top=e.getItemTop(a.id)+"px"),e.$config.item_attribute&&(I.setAttribute(e.$config.item_attribute,a.id),I.setAttribute(e.$config.bind+"_id",a.id)),i._waiAria.taskRowAttr(a,I),I.innerHTML=d.join(""),I},update:null,getRectangle:s,getVisibleRange:u,onrender:function(a,e,t){for(var n=t.getGridColumns(),r=0;r<n.length;r++){var o=n[r];if(o.onrender){var c=e.querySelector("[data-column-name="+o.name+"]");if(c){var d=o.onrender(a,c);if(d&&"string"==typeof d)c.innerHTML=d;else if(d&&"object"===_(d)&&i.config.external_render){var h=i.config.external_render;h.isElement(d)&&h.renderElement(d,c)}}}}}}}},function($,C,f){var _=f(43),l=f(44);$.exports=function(s){var u={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=s.copy(e)},get_lines:function(e){this.clear(),this.point(e[0]);for(var t=1;t<e.length;t++)this.line_to(e[t]);return this.get_path()},line_to:function(e){var t=s.copy(e),r=this._get_line(this.current_pos,t);this.path.push(r),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(e,t,n){var r,o=t.$getConfig().link_wrapper_width,c=e.y-o/2;switch(e.direction){case this.dirs.left:r={top:c,height:o,lineHeight:o,left:e.x-e.size-o/2,width:e.size+o};break;case this.dirs.right:r={top:c,lineHeight:o,height:o,left:e.x-o/2,width:e.size+o};break;case this.dirs.up:r={top:c-e.size,lineHeight:e.size+o,height:e.size+o,left:e.x-o/2,width:o};break;case this.dirs.down:r={top:c,lineHeight:e.size+o,height:e.size+o,left:e.x-o/2,width:o}}return r},get_line_sizes:function(e,t){var n,r=t.$getConfig(),o=r.link_line_width,c=r.link_wrapper_width,d=e.size+o;switch(e.direction){case this.dirs.left:case this.dirs.right:n={height:o,width:d,marginTop:(c-o)/2,marginLeft:(c-o)/2};break;case this.dirs.up:case this.dirs.down:n={height:d,width:o,marginTop:(c-o)/2,marginLeft:(c-o)/2}}return n},render_line:function(e,t,n,r){var o=this.get_wrapper_sizes(e,n,r),c=document.createElement("div");c.style.cssText=["top:"+o.top+"px","left:"+o.left+"px","height:"+o.height+"px","width:"+o.width+"px"].join(";"),c.className="gantt_line_wrapper";var d=this.get_line_sizes(e,n),h=document.createElement("div");return h.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),h.className="gantt_link_line_"+e.direction,c.appendChild(h),c},_get_line:function(e,t){var n=this.get_direction(e,t),r={x:e.x,y:e.y,direction:this.get_direction(e,t)};return r.size=n==this.dirs.left||n==this.dirs.right?Math.abs(e.x-t.x):Math.abs(e.y-t.y),r},get_direction:function(e,t){return t.x<e.x?this.dirs.left:t.x>e.x?this.dirs.right:t.y>e.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(s.copy(e)),e):this.current()},point_to:function(e,t,n){n=n?{x:n.x,y:n.y}:s.copy(this.point());var r=u.dirs;switch(e){case r.left:n.x-=t;break;case r.right:n.x+=t;break;case r.up:n.y-=t;break;case r.down:n.y+=t}return this.point(n)},get_points:function(e,t,n,r){var o=this.get_endpoint(e,t,n,r),c=s.config,d=o.e_y-o.y,h=o.e_x-o.x,g=u.dirs,p=t.getItemHeight(e.source);this.clear(),this.point({x:o.x,y:o.y});var y=2*c.link_arrow_size,v=this.get_line_type(e,t.$getConfig()),m=o.e_x>o.x;if(v.from_start&&v.to_start)this.point_to(g.left,y),m?(this.point_to(g.down,d),this.point_to(g.right,h)):(this.point_to(g.right,h),this.point_to(g.down,d)),this.point_to(g.right,y);else if(!v.from_start&&v.to_start)if(m=o.e_x>o.x+2*y,this.point_to(g.right,y),m)h-=y,this.point_to(g.down,d),this.point_to(g.right,h);else{h-=2*y;var k=d>0?1:-1;this.point_to(g.down,k*(p/2)),this.point_to(g.right,h),this.point_to(g.down,k*(Math.abs(d)-p/2)),this.point_to(g.right,y)}else v.from_start||v.to_start?v.from_start&&!v.to_start&&(m=o.e_x>o.x-2*y,this.point_to(g.left,y),m?(h+=2*y,this.point_to(g.down,(k=d>0?1:-1)*(p/2)),this.point_to(g.right,h),this.point_to(g.down,k*(Math.abs(d)-p/2)),this.point_to(g.left,y)):(h+=y,this.point_to(g.down,d),this.point_to(g.right,h))):(this.point_to(g.right,y),m?(this.point_to(g.right,h),this.point_to(g.down,d)):(this.point_to(g.down,d),this.point_to(g.right,h)),this.point_to(g.left,y));return this.path},get_line_type:function(e,t){var n=t.links,r=!1,o=!1;return e.type==n.start_to_start?r=o=!0:e.type==n.finish_to_finish?r=o=!1:e.type==n.finish_to_start?(r=!1,o=!0):e.type==n.start_to_finish?(r=!0,o=!1):s.assert(!1,"Invalid link type"),t.rtl&&(r=!r,o=!o),{from_start:r,to_start:o}},get_endpoint:function(e,t,n,r){var o=t.$getConfig(),c=this.get_line_type(e,o),d=c.from_start,h=c.to_start,g=a(n,t,o),p=a(r,t,o);return{x:d?g.left:g.left+g.width,e_x:h?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function a(e,t,n){var r=t.getItemPosition(e);if(s.getTaskType(e.type)==n.types.milestone){var o=t.getBarHeight(e.id,!0),c=Math.sqrt(2*o*o);r.left-=c/2,r.width=c}return r}return{render:function(e,t,n){var r=s.getTask(e.source);if(!r.hide_bar){var o=s.getTask(e.target);if(!o.hide_bar){var c=i.get_endpoint(e,t,r,o);if(!(c.e_x-c.x||c.e_y-c.y))return null;var h=i.get_points(e,t,r,o),g=u.get_lines(h,t),p=document.createElement("div"),y="gantt_task_link";e.color&&(y+=" gantt_link_inline_color");var v=s.templates.link_class?s.templates.link_class(e):"";v&&(y+=" "+v),n.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(e)&&(y+=" gantt_critical_link"),p.className=y,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,e.id),p.setAttribute("link_id",e.id));for(var m=0;m<g.length;m++){m==g.length-1&&(g[m].size-=n.link_arrow_size);var k=u.render_line(g[m],g[m+1],t,e.source);e.color&&(k.firstChild.style.backgroundColor=e.color),p.appendChild(k)}var S=function(w,x,T,E){var I=T.$getConfig(),L=document.createElement("div"),N=w.y,z=w.x,U=I.link_arrow_size,W="gantt_link_arrow gantt_link_arrow_"+x;switch(x){case u.dirs.right:N-=U/2,z-=U;break;case u.dirs.left:N-=U/2;break;case u.dirs.up:z-=U;break;case u.dirs.down:N+=2*U,z-=U}return L.style.cssText=["top:"+N+"px","left:"+z+"px"].join(";"),L.className=W,L}(h[h.length-1],g[g.length-1].direction,t);return e.color&&(S.style.borderColor=e.color),p.appendChild(S),s._waiAria.linkAttr(e,p),p}}},update:null,isInViewPort:_,getVisibleRange:l()}}},function($,C){$.exports=function(f,_){var l=_.config.timeline_placeholder;if(f=f||[],l&&0===f.filter(function(t){return"timeline_placeholder_task"===t.id}).length){var s=_.getState(),u=null;f.length&&(u=f[f.length-1].id),f.push({start_date:s.min_date,end_date:s.max_date,row_height:l.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:u,calendar_id:l.calendar||"global",$source:[],$target:[]})}}},function($,C,f){var _=f(29),l=f(20),s=f(6),u=f(28),i=f(27),a=f(123);$.exports=function(e){var t={},n={};function r(g,p){return!(!t[g.id][p]||!t[g.id][p].parentNode)}function o(g,p){t[g]&&t[g][p]&&t[g][p].parentNode&&t[g][p].parentNode.removeChild(t[g][p])}function c(g){var p,y=g.$getTemplates();return void 0!==y.task_cell_class?(p=y.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=y.timeline_cell_class,p}function d(g){return g.$getTemplates().timeline_cell_content}function h(g,p,y,v,m,k,b,S){var w=g.width[p],x="";if(i(p,g,v,e)){var T=k(y,g.trace_x[p]),E="";if(b&&(E=b(y,g.trace_x[p])),S.static_background&&(!S.static_background_cells||!T&&!E))return null;if(t[y.id][p])return n[y.id][p]=p,t[y.id][p];var L=document.createElement("div");return L.style.width=w+"px",x="gantt_task_cell"+(p==m-1?" gantt_last_cell":""),T&&(x+=" "+T),L.className=x,E&&(L.innerHTML=E),L.style.position="absolute",L.style.left=g.left[p]+"px",t[y.id][p]=L,n[y.id][p]=p,L}return null}return{render:function(g,p,y,v){var m=p.$getTemplates(),k=p.getScale(),b=k.count;if(y.static_background&&!y.static_background_cells)return null;var S,w=document.createElement("div"),x=c(p),T=d(p);if(S=v&&y.smart_rendering&&!l(e)?u(k,v.x):{start:0,end:b-1},y.show_task_cells){t[g.id]={},n[g.id]={};for(var E=S.start;E<=S.end;E++){var I=h(k,E,g,v,b,x,T,y);I&&w.appendChild(I)}}var L=p.$config.rowStore,N=L.getIndexById(g.id)%2!=0,z=m.task_row_class(g.start_date,g.end_date,g),U="gantt_task_row"+(N?" odd":"")+(z?" "+z:"");if(L.isSelected(g.id)&&(U+=" gantt_selected"),w.className=U,y.smart_rendering?(w.style.position="absolute",w.style.top=p.getItemTop(g.id)+"px",w.style.width="100%"):w.style.position="relative",w.style.height=p.getItemHeight(g.id)+"px","timeline_placeholder_task"==g.id){var W=0;g.lastTaskId&&(W=p.getItemTop(g.lastTaskId)+p.getItemHeight(g.lastTaskId));var Y=(g.row_height||p.$task_data.offsetHeight)-W;Y<0&&(Y=0),y.smart_rendering&&(w.style.top=W+"px"),w.style.height=Y+"px"}return p.$config.item_attribute&&(w.setAttribute(p.$config.item_attribute,g.id),w.setAttribute(p.$config.bind+"_id",g.id)),w},update:function(g,p,y,v,m){var k=y.getScale(),b=k.count,S=c(y),w=d(y);if(v.show_task_cells){t[g.id]||(t[g.id]={}),n[g.id]||(n[g.id]={});var x=u(k,m);for(var T in n[g.id]){var E=n[g.id][T];(Number(E)<x.start||Number(E)>x.end)&&o(g.id,E)}n[g.id]={};for(var I=x.start;I<=x.end;I++){var L=h(k,I,g,m,b,S,w,v);!L&&r(g,I)?o(g.id,I):L&&!L.parentNode&&p.appendChild(L)}}},getRectangle:_,getVisibleRange:s,prepareData:a}}},function($,C,f){var _=f(30),l=f(19),s=f(6);$.exports=function(u){var i=_(u),a={};function e(r,o,c,d,h){var g=!0;return d.smart_rendering&&(g=l(r,o,c,d,h)),g}function t(r,o,c,d){var h=u.copy(u.getTask(o.id));if(h.$rendered_at=r.id,!1!==u.callEvent("onBeforeRollupTaskDisplay",[h.id,h,r.id])){var g=i(h,c);if(g){var p=c.getBarHeight(r.id,o.type==u.config.types.milestone),y=Math.floor((c.getItemHeight(r.id)-p)/2);return g.style.top=d.top+y+"px",g.classList.add("gantt_rollup_child"),g.setAttribute("data-rollup-parent-id",r.id),g}}}function n(r,o){return r+"_"+o}return{render:function(r,o,c,d){if(!1!==r.rollup&&r.$rollup&&r.$rollup.length){var h=document.createElement("div"),g=u.getTaskPosition(r);return d.y=0,d.y_end=u.$task_bg.scrollHeight,r.$rollup.forEach(function(p){if(u.isTaskExists(p)){var y=u.getTask(p);if(e(y,d,o,c,u)){var v=t(r,y,o,g);v?(a[n(y.id,r.id)]=v,h.appendChild(v)):a[n(y.id,r.id)]=!1}}}),h}return!1},update:function(r,o,c,d,h){var g=document.createElement("div"),p=u.getTaskPosition(r);h.y=0,h.y_end=u.$task_bg.scrollHeight,r.$rollup.forEach(function(y){var v=u.getTask(y),m=n(v.id,r.id),k=e(v,h,c,d,u);if(k!==!!a[m])if(k){var b=t(r,v,c,p);a[m]=b||!1}else a[m]=!1;a[m]&&g.appendChild(a[m]),o.innerHTML="",o.appendChild(g)})},isInViewPort:l,getVisibleRange:s}}},function($,C,f){var _=f(19);$.exports=function(l,s,u,i,a){if(!a.isSplitTask(l))return!1;var e=a.getSubtaskDates(l.id);return _({id:l.id,start_date:e.start_date,end_date:e.end_date,parent:l.parent},s,u,a)}},function($,C,f){var _=f(30),l=f(6),s=f(126),u=f(19);$.exports=function(i){var a=_(i),e={};function t(c,d,h,g,p){var y=!c.hide_bar;return g.smart_rendering&&y&&(y=u(c,d,h,g,p)),y}function n(c,d,h,g){if(!d.hide_bar){var p=i.isSummaryTask(d);p&&i.resetProjectDates(d);var y=i.copy(i.getTask(d.id));if(y.$rendered_at=c.id,!1!==i.callEvent("onBeforeSplitTaskDisplay",[y.id,y,c.id])){var v=a(y,h);if(v){var m=h.getBarHeight(c.id,d.type==i.config.types.milestone),k=Math.floor((h.getItemHeight(c.id)-m)/2);return v.style.top=g.top+k+"px",v.classList.add("gantt_split_child"),p&&v.classList.add("gantt_split_subproject"),v}}}}function r(c,d){return c+"_"+d}function o(c,d){return i.isSplitTask(c)&&(d.open_split_tasks&&!c.$open||!d.open_split_tasks)&&i.hasChild(c.id)}return{render:function(c,d,h,g){if(o(c,h)){var p=document.createElement("div"),y=i.getTaskPosition(c);return i.hasChild(c.id)&&i.eachTask(function(v){if(t(v,g,d,h,i)){var m=n(c,v,d,y);m?(e[r(v.id,c.id)]=m,p.appendChild(m)):e[r(v.id,c.id)]=!1}},c.id),p}return!1},update:function(c,d,h,g,p){if(o(c,g)){var y=document.createElement("div"),v=i.getTaskPosition(c);i.eachTask(function(m){var k=r(m.id,c.id),b=t(m,p,h,g,i);if(b!==!!e[k])if(b){var S=n(c,m,h,v);e[k]=S||!1}else e[k]=!1;e[k]&&y.appendChild(e[k]),d.innerHTML="",d.appendChild(y)},c.id)}},isInViewPort:s,getVisibleRange:l}}},function($,C,f){var _=f(19),l=f(6),s=f(30);$.exports=function(u){return{render:s(u),update:null,isInViewPort:_,getVisibleRange:l}}},function($,C){$.exports=function(f){return function(l,s,u){var i,a;"keepDates"==u?(i=l,"duration"==(a=s)?i.end_date=f.calculateEndDate(i):"end_date"!=a&&"start_date"!=a||(i.duration=f.calculateDuration(i))):"keepDuration"==u?function(i,a){"end_date"==a?i.start_date=_(i):"start_date"!=a&&"duration"!=a||(i.end_date=f.calculateEndDate(i))}(l,s):function(i,a){f.config.schedule_from_end?"end_date"==a||"duration"==a?i.start_date=_(i):"start_date"==a&&(i.duration=f.calculateDuration(i)):"start_date"==a||"duration"==a?i.end_date=f.calculateEndDate(i):"end_date"==a&&(i.duration=f.calculateDuration(i))}(l,s)};function _(l){return f.calculateEndDate({start_date:l.end_date,duration:-l.duration,task:l})}}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0);function u(){return l.apply(this,arguments)||this}function i(a){return a.formatter||_.ext.formatters.durationFormatter()}return f(3)(u,l),s.mixin(u.prototype,{show:function(a,e,t,n){n.innerHTML="<div><input type='text' name='"+e.name+"'></div>"},set_value:function(a,e,t,n){this.get_input(n).value=i(t.editor).format(a)},get_value:function(a,e,t){return i(e.editor).parse(this.get_input(t).value||"")}},!0),u}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0);function u(){return l.apply(this,arguments)||this}function i(r){return r.formatter||_.ext.formatters.linkFormatter()}function a(r,o){for(var c=(r||"").split(o.delimiter||","),d=0;d<c.length;d++){var h=c[d].trim();h?c[d]=h:(c.splice(d,1),d--)}return c.sort(),c}function e(r,o,c){for(var d=r.$target,h=[],g=0;g<d.length;g++){var p=c.getLink(d[g]);h.push(i(o).format(p))}return h.join((o.delimiter||",")+" ")}function t(r){return r.source+"_"+r.target+"_"+r.type+"_"+(r.lag||0)}return f(3)(u,l),s.mixin(u.prototype,{show:function(r,o,c,d){d.innerHTML="<div><input type='text' name='"+o.name+"'></div>"},hide:function(){},set_value:function(r,o,c,d){this.get_input(d).value=e(r,c.editor,_)},get_value:function(r,o,c){return a(this.get_input(c).value||"",o.editor)},save:function(r,o,c){var d=function n(r,o,c){var v,k,b,d=(v=r.id,k=c,b=[],o.forEach(function(S){var w=i(k).parse(S);w&&(w.target=v,w.id="predecessor_generated",_.isLinkAllowed(w)&&(w.id=void 0,b.push(w)))}),b),h={};r.$target.forEach(function(v){var m=_.getLink(v);h[t(m)]=m.id});var g=[];d.forEach(function(v){var m=t(v);h[m]?delete h[m]:g.push(v)});var p=[];for(var y in h)p.push(h[y]);return{add:g,remove:p}}(_.getTask(r),this.get_value(r,o,c),o.editor);(d.add.length||d.remove.length)&&_.batchUpdate(function(){d.add.forEach(function(h){_.addLink(h)}),d.remove.forEach(function(h){_.deleteLink(h)}),_.autoSchedule&&_.autoSchedule()})},is_changed:function(r,o,c,d){var h=this.get_value(o,c,d),g=a(e(r,c.editor,_),c.editor);return h.join()!==g.join()}},!0),u}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0),u="%Y-%m-%d",i=null,a=null;function e(){return l.apply(this,arguments)||this}return f(3)(e,l),s.mixin(e.prototype,{show:function(t,n,r,o){i||(i=_.date.date_to_str(u)),a||(a=_.date.str_to_date(u));var c,d;c="function"==typeof r.min?r.min(t,n):r.min,d="function"==typeof r.max?r.max(t,n):r.max;var h="<div style='width:140px'><input type='date' "+(c?" min='"+i(c)+"' ":"")+(d?" max='"+i(d)+"' ":"")+" name='"+n.name+"'></div>";o.innerHTML=h},set_value:function(t,n,r,o){this.get_input(o).value=t&&t.getFullYear?i(t):t},is_valid:function(t,n,r,o){return!(!t||isNaN(t.getTime()))},get_value:function(t,n,r){var o;try{o=a(this.get_input(r).value||"")}catch{o=null}return o}},!0),e}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0);function u(){return l.apply(this,arguments)||this}return f(3)(u,l),s.mixin(u.prototype,{show:function(i,a,e,t){for(var n="<div><select name='"+a.name+"'>",r=[],o=e.options||[],c=0;c<o.length;c++)r.push("<option value='"+e.options[c].key+"'>"+o[c].label+"</option>");n+=r.join("")+"</select></div>",t.innerHTML=n},get_input:function(i){return i.querySelector("select")}},!0),u}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0);function u(){return l.apply(this,arguments)||this}return f(3)(u,l),s.mixin(u.prototype,{show:function(i,a,e,t){t.innerHTML="<div><input type='number' min='"+(e.min||0)+"' max='"+(e.max||100)+"' name='"+a.name+"'></div>"},get_value:function(i,a,e){return this.get_input(e).value||""},is_valid:function(i,a,e,t){return!isNaN(parseInt(i,10))}},!0),u}},function($,C,f){$.exports=function(_){var l=f(11)(_),s=f(0);function u(){return l.apply(this,arguments)||this}return f(3)(u,l),s.mixin(u.prototype,{show:function(i,a,e,t){t.innerHTML="<div><input type='text' name='"+a.name+"'></div>"}},!0),u}},function($,C){$.exports={init:function(f,_){var l=f,s=_.$gantt,u=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(a){var e=f.locateCell(a);if(clearTimeout(u),e){var t=e.columnName,n=e.id,r=l.getState();if(l.isVisible()&&r.id==n&&r.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(a){var e=f.locateCell(a),t=f.getState();return clearTimeout(u),!e||e.id==t.id&&e.columnName==t.columnName||l.isVisible()&&l.save(),!0}),f.attachEvent("onHide",function(){clearTimeout(u)}),i.attachEvent("onBlur",function(){return u=setTimeout(function(){l.save()}),!0}),s.attachEvent("onTaskDblClick",function(a,e){var t=f.getState(),n=f.locateCell(e.target);return!n||!f.isVisible()||n.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(a,e){if(s._is_icon_open_click(e))return!0;var t=f.getState(),n=f.locateCell(e.target);return!n||!f.getEditorConfig(n.columnName)||(f.isVisible()&&t.id==n.id&&t.columnName==n.columnName||f.startEdit(n.id,n.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return l.save(),!0}),i.attachEvent("onKeyDown",function(a,e){var t=f.locateCell(e.target),n=!!t&&f.getEditorConfig(t.columnName),r=f.getState(),o=s.constants.KEY_CODES,c=e.keyCode,d=!1;switch(c){case o.ENTER:f.isVisible()?(f.save(),e.preventDefault(),d=!0):n&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(l.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case o.ESC:f.isVisible()&&(f.hide(),e.preventDefault(),d=!0);break;case o.UP:case o.DOWN:break;case o.LEFT:case o.RIGHT:(n&&f.isVisible()||"date"===r.editorType)&&(d=!0);break;case o.SPACE:f.isVisible()&&(d=!0),n&&!f.isVisible()&&(l.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case o.DELETE:n&&!f.isVisible()?(l.startEdit(t.id,t.columnName),d=!0):n&&f.isVisible()&&(d=!0);break;case o.TAB:if(f.isVisible()){e.shiftKey?f.editPrevCell(!0):f.editNextCell(!0);var h=f.getState();h.id&&i.focus({type:"taskCell",id:h.id,column:h.columnName}),e.preventDefault(),d=!0}break;default:if(f.isVisible())d=!0;else if(c>=48&&c<=57||c>95&&c<112||c>=64&&c<=91||c>185&&c<193||c>218&&c<223){var g=a.modifiers;g.alt||(g.alt||g.ctrl||g.meta||g.shift)&&i.getCommandHandler(a,"taskCell")||n&&!f.isVisible()&&(l.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(f,_,l){},onHide:function(f,_,l){l.$gantt.focus()},destroy:function(){}}},function($,C){$.exports={init:function(f,_){var l=_.$gantt;l.attachEvent("onTaskClick",function(s,u){if(l._is_icon_open_click(u))return!0;var i=f.getState(),a=f.locateCell(u.target);return!a||!f.getEditorConfig(a.columnName)||(f.isVisible()&&i.id==a.id&&i.columnName==a.columnName||f.startEdit(a.id,a.columnName),!1)}),l.attachEvent("onEmptyClick",function(){return f.isVisible()&&f.isChanged()?f.save():f.hide(),!0}),l.attachEvent("onTaskDblClick",function(s,u){var i=f.getState(),a=f.locateCell(u.target);return!a||!f.isVisible()||a.columnName!=i.columnName})},onShow:function(f,_,l){var s=l.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(u,i){var e=!1;return i.keyCode===s.constants.KEY_CODES.SPACE&&f.isVisible()&&(e=!0),!e}),_.onkeydown=function(u){u=u||window.event;var i=s.constants.KEY_CODES;if(!(u.defaultPrevented||u.shiftKey&&u.keyCode!=i.TAB)){var a=!0;switch(u.keyCode){case s.keys.edit_save:f.save();break;case s.keys.edit_cancel:f.hide();break;case i.UP:case i.DOWN:f.isVisible()&&(f.hide(),a=!1);break;case i.TAB:u.shiftKey?f.editPrevCell(!0):f.editNextCell(!0);break;default:a=!1}a&&u.preventDefault()}}},onHide:function(){},destroy:function(){}}},function($,C,f){var _=f(137),l=f(136);$.exports=function(s){var u=null;return{setMapping:function(i){u=i},getMapping:function(){return u||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?l:_)}}}},function($,C,f){var _=f(138),l=f(135),s=f(134),u=f(133),i=f(132),a=f(131),e=f(130),t=f(0),n=f(1),r=f(5),o=f(129);function c(d){d.config.editor_types={text:new(l(d)),number:new(s(d)),select:new(u(d)),date:new(i(d)),predecessor:new(a(d)),duration:new(e(d))}}$.exports=function(d){var h=_(d),g={};r(g);var p={init:c,createEditors:function(y){var m=o(d),k=[],b=[],S=null,w={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(x){if(!n.isChildOf(x,y.$grid))return null;var T=n.locateAttribute(x,y.$config.item_attribute),E=n.locateAttribute(x,"data-column-name");if(T&&E){var I=E.getAttribute("data-column-name");return{id:T.getAttribute(y.$config.item_attribute),columnName:I}}return null},getEditorConfig:function(x){return y.getColumn(x).editor},init:function(){var x=h.getMapping();x.init&&x.init(this,y),S=y.$gantt.getDatastore(y.$config.bind);var T=this;k.push(S.attachEvent("onIdChange",function(E,I){T._itemId==E&&(T._itemId=I)})),k.push(S.attachEvent("onStoreUpdated",function(){y.$gantt.getState("batchUpdate").batch_update||T.isVisible()&&!S.isVisible(T._itemId)&&T.hide()})),b.push(d.attachEvent("onDataRender",function(){T._editor&&T._placeholder&&!n.isChildOf(T._placeholder,d.$root)&&y.$grid_data.appendChild(T._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(x,T){if(this.isVisible()&&this.save(),S.exists(x)){var E={id:x,columnName:T};d.isReadonly(S.getItem(x))?this.callEvent("onEditPrevent",[E]):!1!==this.callEvent("onBeforeEditStart",[E])?(this.show(E.id,E.columnName),this.setValue(),this.callEvent("onEditStart",[E])):this.callEvent("onEditPrevent",[E])}},isVisible:function(){return!(!this._editor||!n.isChildOf(this._placeholder,d.$root))},show:function(x,T){this.isVisible()&&this.save();var E={id:x,columnName:T},I=y.getColumn(E.columnName),L=this.getEditorConfig(I.name);if(L){var N=y.$getConfig().editor_types[L.type],z=function v(x,T){var E=y.$getConfig(),I=function(z,U){for(var W=y.$getConfig(),Y=y.getItemTop(z),O=y.getItemHeight(z),H=y.getGridColumns(),X=0,Z=0,K=0,tt=0;tt<H.length;tt++){if(H[tt].name==U){K=H[tt].width;break}W.rtl?Z+=H[tt].width:X+=H[tt].width}return W.rtl?{top:Y,right:Z,height:O,width:K}:{top:Y,left:X,height:O,width:K}}(x,T),L=document.createElement("div");L.className="gantt_grid_editor_placeholder",L.setAttribute(y.$config.item_attribute,x),L.setAttribute(y.$config.bind+"_id",x),L.setAttribute("data-column-name",T);var N=function(z,U){for(var W=z.getGridColumns(),Y=0;Y<W.length;Y++)if(W[Y].name==U)return Y;return 0}(y,T);return L.setAttribute("data-column-index",N),L.style.cssText=E.rtl?["top:"+I.top+"px","right:"+I.right+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"):["top:"+I.top+"px","left:"+I.left+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"),L}(E.id,E.columnName);y.$grid_data.appendChild(z),N.show(E.id,I,L,z),this._editor=N,this._placeholder=z,this._itemId=E.id,this._columnName=E.columnName,this._editorType=L.type;var U=h.getMapping();U.onShow&&U.onShow(this,z,y)}},setValue:function(){var x=this.getState(),T=x.id,E=x.columnName,I=y.getColumn(E),L=S.getItem(T),N=this.getEditorConfig(E);if(N){var z=L[N.map_to];"auto"==N.map_to&&(z=S.getItem(T)),this._editor.set_value(z,T,I,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var x=y.getColumn(this._columnName);return this._editor.get_value(this._itemId,x,this._placeholder)},_getItemValue:function(){var x=this.getEditorConfig(this._columnName);if(x){var T=d.getTask(this._itemId)[x.map_to];return"auto"==x.map_to&&(T=S.getItem(this._itemId)),T}},isChanged:function(){var x=y.getColumn(this._columnName),T=this._getItemValue();return this._editor.is_changed(T,this._itemId,x,this._placeholder)},hide:function(){if(this._itemId){var x=this._itemId,T=this._columnName,E=h.getMapping();E.onHide&&E.onHide(this,this._placeholder,y),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:x,columnName:T}]))}},save:function(){if(this.isVisible()&&S.exists(this._itemId)&&this.isChanged()){var x=this._itemId,T=this._columnName;if(S.exists(x)){var E=S.getItem(x),I=this.getEditorConfig(T),L={id:x,columnName:T,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[L])&&(!this._editor.is_valid||this._editor.is_valid(L.newValue,L.id,y.getColumn(T),this._placeholder))){var N=I.map_to;"auto"!=N?(E[N]=L.newValue,m(E,N,d.config.inline_editors_date_processing),S.updateItem(x)):this._editor.save(x,y.getColumn(T),this._placeholder),this.callEvent("onSave",[L])}this.hide()}}else this.hide()},_findEditableCell:function(x,T){var E=x,I=y.getGridColumns()[E],L=I?I.name:null;if(L){for(;L&&!this.getEditorConfig(L);)L=this._findEditableCell(x+T,T);return L}return null},getNextCell:function(x){return this._findEditableCell(y.getColumnIndex(this._columnName,!0)+x,x)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(y.getGridColumns().length-1,-1)},editNextCell:function(x){var T=this.getNextCell(1);if(T){var E=this.getNextCell(1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(x&&this.moveRow(1)){var I=this.moveRow(1);(T=this.getFirstCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},editPrevCell:function(x){var T=this.getNextCell(-1);if(T){var E=this.getNextCell(-1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(x&&this.moveRow(-1)){var I=this.moveRow(-1);(T=this.getLastCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},moveRow:function(x){for(var T=x>0?d.getNext:d.getPrev,E=(T=d.bind(T,d))(this._itemId);d.isTaskExists(E)&&d.isReadonly(d.getTask(E));)E=T(E);return E},editNextRow:function(x){var T=this.getState().id;if(d.isTaskExists(T)){var E;E=x?this.moveRow(1):d.getNext(T),d.isTaskExists(E)&&this.startEdit(E,this._columnName)}},editPrevRow:function(x){var T=this.getState().id;if(d.isTaskExists(T)){var E;E=x?this.moveRow(-1):d.getPrev(T),d.isTaskExists(E)&&this.startEdit(E,this._columnName)}},destructor:function(){k.forEach(function(x){S.detachEvent(x)}),b.forEach(function(x){d.detachEvent(x)}),k=[],b=[],S=null,this.hide(),this.detachAllEvents()}};return t.mixin(w,h),t.mixin(w,g),w}};return t.mixin(p,h),t.mixin(p,g),p}},function($,C,f){var _=f(0),l=f(40),s=f(31),u=f(3),i=function(a){function e(t,n,r,o){var c=a.apply(this,arguments)||this;return c.$config.bindLinks=null,c}return u(e,a),_.mixin(e.prototype,{_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceHistogram(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(a),!0),e}(l);$.exports=i},function($,C,f){var _=f(1),l=f(0),s=f(31),u=f(34),i=f(3),a=function(e){function t(n,r,o,c){return e.apply(this,arguments)||this}return i(t,e),l.mixin(t.prototype,{init:function(){void 0===this.$config.bind&&(this.$config.bind=this.$getConfig().resource_store),e.prototype.init.apply(this,arguments)},_initEvents:function(){var n=this.$gantt;e.prototype._initEvents.apply(this,arguments),this._mouseDelegates.delegate("click","gantt_row",n.bind(function(r,o,c){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.select(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)}},!0),l.mixin(t.prototype,s(t),!0),t}(u);$.exports=a},function($,C,f){var _=f(0),l=f(8);$.exports={create:function(){return function(u,i){var a={},e="gantt-static-bg-styles-"+u.uid();function t(g){var p=/^rgba?\(([\d]{1,3}), *([\d]{1,3}), *([\d]{1,3}) *(,( *[\d.]+ *))?\)$/i.exec(g);return p?{r:1*p[1],g:1*p[2],b:1*p[3],a:255*p[5]||255}:null}function n(g){return a[g]||null}function r(g,p,y){return(g+""+p+y.bottomBorderColor+y.rightBorderColor).replace(/[^\w\d]/g,"")}function o(g,p){a[g]=p}function c(g,p,y){var v=Math.floor(500/g)||1,m=Math.floor(500/p)||1,k=document.createElement("canvas");k.height=p*m,k.width=g*v;var b=k.getContext("2d");return function(w,x,T,E,I,L){var N=I.createImageData(x*E,w*T);N.imageSmoothingEnabled=!1;for(var z=1*L.rightBorderWidth,U=t(L.rightBorderColor),W=0,Y=0,O=0,H=1;H<=E;H++)for(W=H*x-1,O=0;O<z;O++)for(Y=0;Y<w*T;Y++)S(W-O,Y,U,N);var X=1*L.bottomBorderWidth,Z=t(L.bottomBorderColor);Y=0;for(var K=1;K<=T;K++)for(Y=K*w-1,O=0;O<X;O++)for(W=0;W<x*E;W++)S(W,Y-O,Z,N);I.putImageData(N,0,0)}(p,g,m,v,b,y),k.toDataURL();function S(w,x,T,E){var I=4*(x*(g*v)+w);E.data[I]=T.r,E.data[I+1]=T.g,E.data[I+2]=T.b,E.data[I+3]=T.a}}function d(g){return"gantt-static-bg-"+g}function h(){var g=document.createElement("div");g.className="gantt_task_cell";var p=document.createElement("div");return p.className="gantt_task_row",p.appendChild(g),p}return{render:function(g,p,y,v,m){if((p.static_background||p.timeline_placeholder)&&document.createElement("canvas").getContext){g.innerHTML="";var k=function(S,w,x,T){var E,I,L=[],N=0,z=x.width.filter(function(st){return!!st}),U=0,W=1e5;if(i.isIE){var Y=navigator.appVersion||"";-1==Y.indexOf("Windows NT 6.2")&&-1==Y.indexOf("Windows NT 6.1")&&-1==Y.indexOf("Windows NT 6.0")||(W=2e4)}for(var O=0;O<z.length;O++){var H=z[O];if(H!=I&&void 0!==I||O==z.length-1||N>W){for(var X=T,Z=0,K=Math.floor(W/w.row_height)*w.row_height,tt=N;X>0;){var V=Math.min(X,K);X-=K,(E=document.createElement("div")).style.height=V+"px",E.style.position="absolute",E.style.top=Z+"px",E.style.left=U+"px",E.style.pointerEvents="none",E.style.whiteSpace="no-wrap",E.className=S[I||H],O==z.length-1&&(tt=H+tt-1),E.style.width=tt+"px",L.push(E),Z+=V}N=0,U+=tt}H&&(N+=H,I=H)}return L}(function(S,w,x,T){var X,E={},I=function(X){for(var Z=X.width,K={},tt=0;tt<Z.length;tt++)1*Z[tt]&&(K[Z[tt]]=!0);return K}(x),L=T,N="";for(var z in I){var U=1*z,W=r(U,L,S);if(!n(W)){var O=c(U,L,S);o(W,O),N+="."+d(W)+"{ background-image: url('"+O+"');}"}E[z]=d(W)}return N&&(((X=document.getElementById(e))||((X=document.createElement("style")).id=e,document.body.appendChild(X)),X).innerHTML+=N),E}(function(S){var w=h(),x=h();S.appendChild(w),S.appendChild(x);var T=w.firstChild,E=getComputedStyle(w),I=getComputedStyle(T),L={bottomBorderWidth:E.getPropertyValue("border-bottom-width").replace("px",""),rightBorderWidth:I.getPropertyValue("border-right-width").replace("px",""),bottomBorderColor:E.getPropertyValue("border-bottom-color"),rightBorderColor:I.getPropertyValue("border-right-color")};return S.removeChild(w),S.removeChild(x),L}(g),0,y,m),p,y,v),b=document.createDocumentFragment();k.forEach(function(S){b.appendChild(S)}),g.appendChild(b)}},destroy:function(){var g=document.getElementById(e);g&&g.parentNode&&g.parentNode.removeChild(g)}}}(_,l)}}},function($,C,f){var _=f(3),l=f(1),s=f(0),u=f(8),i=function(a){"use strict";var e=["altKey","shiftKey","metaKey"];function t(n,r,o,c){var d=a.apply(this,arguments)||this;this.$config=s.mixin(r,{scroll:"x"}),d._scrollHorizontalHandler=s.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=s.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=s.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=s.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=s.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var h=c.config.scroll_size;return c.env.isIE&&(h+=1),this._isHorizontal()?(d.$config.height=h,d.$parent.$config.height=h):(d.$config.width=h,d.$parent.$config.width=h),this.$config.scrollPosition=0,d.$name="scroller",d}return _(t,a),t.prototype.init=function(n){n.innerHTML=this.$toHTML(),this.$view=n.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var n=this.$parent;n&&n.$parent;)n=n.$parent;if(n)return n},t.prototype._eachView=function(){var n=[];return function r(o,c){if(c.push(o),o.$cells)for(var d=0;d<o.$cells.length;d++)r(o.$cells[d],c)}(this._getRootParent(),n),n},t.prototype._getLinkedViews=function(){for(var n=this._eachView(),r=[],o=0;o<n.length;o++)n[o].$config&&(this._isVertical()&&n[o].$config.scrollY==this.$id||this._isHorizontal()&&n[o].$config.scrollX==this.$id)&&r.push(n[o]);return r},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var n=this._getLinkedViews(),r=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",o=0;o<n.length;o++)l.addClassName(n[o].$view||n[o].getNode(),r)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){this.$domEvents.attach(this._getRootParent().$view,u.isFF?"wheel":"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=n,this.$config.codeScrollLeft=n,n=this.$scroll_hor.scrollLeft;for(var r=this._getLinkedViews(),o=0;o<r.length;o++)r[o].scrollTo&&r[o].scrollTo(n,void 0);var c=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[c,n,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=n,n=this.$scroll_ver.scrollTop;for(var r=this._getLinkedViews(),o=0;o<r.length;o++)r[o].scrollTo&&r[o].scrollTo(void 0,n);var c=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[c,n,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return"y"==this.$config.scroll},t.prototype._isHorizontal=function(){return"x"==this.$config.scroll},t.prototype._scrollHorizontalHandler=function(n){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;this.scrollHorizontally(this.$scroll_hor.scrollLeft),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(n){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var n,r=0,o=0,c=this._isHorizontal(),d=this._getLinkedViews(),h=c?"scrollWidth":"scrollHeight",g=c?"contentX":"contentY",p=c?"x":"y",y=this._getScrollOffset(),v=0;v<d.length;v++)if((n=d[v])&&n.$content&&n.$content.getSize&&!n.$config.hidden){var m,k=n.$content.getSize();if(m=k.hasOwnProperty(h)?k[h]:k[g],y)k[g]>k[p]&&k[g]>r&&m>k[p]-y+2&&(r=m+(c?0:2),o=k[p]);else{var b=Math.max(k[g]-m,0);(m+=b)>Math.max(k[p]-b,0)&&m>r&&(r=m,o=k[p])}}return{outerScroll:o,innerScroll:r}},t.prototype.scroll=function(n){this._isHorizontal()?this.scrollHorizontally(n):this.scrollVertically(n)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(n,r){a.prototype.setSize.apply(this,arguments);var o=this._getScrollSize(),c=(this._isVertical()?r:n)-this._getScrollOffset()+(this._isHorizontal()?1:0);o.innerScroll&&c>o.outerScroll&&(o.innerScroll+=c-o.outerScroll),this.$config.scrollSize=o.innerScroll,this.$config.width=n,this.$config.height=r,this._setScrollSize(o.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var n=this._getScrollSize();return!(!n.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!n.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(n){var r=0;return!n||"timeline"!=n.$config.view&&"grid"!=n.$config.view||(r=n.$content.$getConfig().scale_height),r},t.prototype._getScrollOffset=function(){var n=0;if(this._isVertical()){var r=this.$parent.$parent;n=Math.max(this._getScaleOffset(r.getPrevSibling(this.$parent.$id)),this._getScaleOffset(r.getNextSibling(this.$parent.$id)))}else for(var o=this._getLinkedViews(),c=0;c<o.length;c++){var d=o[c].$parent.$cells,h=d[d.length-1];if(h&&"scrollbar"==h.$config.view&&!1===h.$config.hidden){n=h.$config.width;break}}return n||0},t.prototype._setScrollSize=function(n){var r=this._isHorizontal()?"width":"height",o=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,c=this._getScrollOffset(),d=o.firstChild;c?this._isVertical()?(this.$config.outerSize=this.$config.height-c+3,o.style.height=this.$config.outerSize+"px",o.style.top=c-1+"px",l.addClassName(o,this.$parent._borders.top),l.addClassName(o.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-c+1,o.style.width=this.$config.outerSize+"px"):(o.style.top="auto",l.removeClassName(o,this.$parent._borders.top),l.removeClassName(o.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[r]=n+"px"},t.prototype._scrollVerticalHandler=function(n){if(!this._scrollHorizontalHandler()&&!this._scrolling){var r=this.$scroll_ver.scrollTop;r!=this._oldTop&&(this.scrollVertically(r),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(n){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(n){for(var r=this._getLinkedViews().concat(this),o=0;o<r.length;o++)if(l.isChildOf(n,r[o].$view))return!0;return!1},t.prototype._mouseWheelHandler=function(n){if(this._checkWheelTarget(n.target||n.srcElement)){this._wheel_time=new Date;var o={},c={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof d&&d?c={x:d,y:d}:"[object Object]"=={}.toString.apply(d)&&(c={x:d.x,y:d.y});var h=u.isFF,g=h?n.deltaX:n.wheelDeltaX,p=h?n.deltaY:n.wheelDelta,y=-20;h&&(y=0!==n.deltaMode?-40:-10);var v=h?g*y*c.x:2*g*c.x,m=h?p*y*c.y:p*c.y,k=this.$gantt.config.horizontal_scroll_key;if(!1!==k&&e.indexOf(k)>=0&&(!n[k]||n.deltaX||n.wheelDeltaX||(v=2*m,m=0)),v&&Math.abs(v)>Math.abs(m)){if(this._isVertical())return;if(o.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var b=v/-40,S=this._oldLeft,w=S+30*b;if(this.scrollHorizontally(w),this.$scroll_hor.scrollLeft=w,S==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(o.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;b=m/-40,void 0===m&&(b=n.detail);var x=this._oldTop,T=this.$scroll_ver.scrollTop+30*b;if(this.scrollVertically(T),this.$scroll_ver.scrollTop=T,x==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,!1}},t}(f(12));$.exports=i},function($,C,f){var _=f(3),l=f(1),s=f(0),u=f(12),i=function(a){"use strict";function e(t,n,r){var o,c,d=a.apply(this,arguments)||this;function h(g){var p=g.pageX,y=g.pageY;return g.touches&&(p=g.touches[0].pageX,y=g.touches[0].pageY),{x:p,y}}return d._moveHandler=function(g){d._moveResizer(d._resizer,h(g).x,h(g).y)},d._upHandler=function(g){var p=d._getNewSizes();!1!==d.callEvent("onResizeEnd",[o,c,p?p.back:0,p?p.front:0])&&d._setSizes(),d._setBackground(!1),d._clearResizer(),d._clearListeneres(),g.touches&&(d.$gantt._prevent_touch_scroll=!1)},d._clearListeneres=function(){this.$domEvents.detach(document,"mouseup",d._upHandler),this.$domEvents.detach(document,"mousemove",d._moveHandler),this.$domEvents.detach(document,"mousemove",d._startOnMove),this.$domEvents.detach(document,"mouseup",d._cancelDND),this.$domEvents.detach(document,"touchend",d._upHandler),this.$domEvents.detach(document,"touchmove",d._startOnMove),this.$domEvents.detach(document,"touchstart",d._downHandler)},d._callStartDNDEvent=function(){if(this._xMode?(o=this._behind.$config.width||this._behind.$view.offsetWidth,c=this._front.$config.width||this._front.$view.offsetWidth):(o=this._behind.$config.height||this._behind.$view.offsetHeight,c=this._front.$config.height||this._front.$view.offsetHeight),!1===d.callEvent("onResizeStart",[o,c]))return!1},d._startDND=function(g){if(!1!==this._callStartDNDEvent()){var p=!1;this._eachGroupItem(function(y){y._getSiblings(),!1===y._callStartDNDEvent()&&(p=!0)}),p||(d._moveHandler(g),d.$domEvents.attach(document,"mousemove",d._moveHandler),d.$domEvents.attach(document,"mouseup",d._upHandler))}},d._cancelDND=function(){d._setBackground(!1),d._clearResizer(),d._clearListeneres()},d._startOnMove=function(g){g.touches&&(d.$gantt._prevent_touch_scroll=!0),d._isPosChanged(g)&&(d._clearListeneres(),d._startDND(g))},d._downHandler=function(g){d._getSiblings(),d._behind.$config.collapsed||d._front.$config.collapsed||(d._setBackground(!0),d._resizer=d._setResizer(),d._positions={x:h(g).x,y:h(g).y,timestamp:Date.now()},d.$domEvents.attach(document,"mousemove",d._startOnMove),d.$domEvents.attach(document,"mouseup",d._cancelDND))},d.$name="resizer",d}return _(e,a),e.prototype.init=function(){a.prototype.init.call(this),this._xMode="x"===this.$config.mode,this._xMode&&!this.$config.width?this.$config.width=this.$config.minWidth=1:this._xMode||this.$config.height||(this.$config.height=this.$config.minHeight=1),this.$config.margin=-1,this.$domEvents.attach(this.$view,"mousedown",this._downHandler),this.$domEvents.attach(this.$view,"touchstart",this._downHandler),this.$domEvents.attach(this.$view,"touchmove",this._startOnMove),this.$domEvents.attach(this.$view,"touchend",this._upHandler)},e.prototype.$toHTML=function(){var t=this.$config.mode,n=this.$config.css||"";return"<div class='gantt_layout_cell gantt_resizer gantt_resizer_"+t+"'><div class='gantt_layout_content gantt_resizer_"+t+(n?" "+n:"")+"'></div></div>"},e.prototype._clearResizer=function(){this._resizer&&(this._resizer.parentNode&&this._resizer.parentNode.removeChild(this._resizer),this._resizer=null)},e.prototype._isPosChanged=function(t){return!!this._positions&&(Math.abs(this._positions.x-t.pageX)>3||Math.abs(this._positions.y-t.pageY)>3||Date.now()-this._positions.timestamp>300)},e.prototype._getSiblings=function(){var t=this.$parent.getCells();this.$config.prev&&(this._behind=this.$factory.getView(this.$config.prev),this._behind instanceof u||(this._behind=this._behind.$parent)),this.$config.next&&(this._front=this.$factory.getView(this.$config.next),this._front instanceof u||(this._front=this._behind.$parent));for(var n=0;n<t.length;n++)this===t[n]&&(this._behind||(this._behind=t[n-1]),this._front||(this._front=t[n+1]))},e.prototype._setBackground=function(t){var n="gantt_resizing";if(!t)return l.removeClassName(this._behind.$view,n),l.removeClassName(this._front.$view,n),void l.removeClassName(document.body,"gantt_noselect");l.addClassName(this._behind.$view,n,!0),l.addClassName(this._front.$view,n,!0),l.addClassName(document.body,"gantt_noselect",!0)},e.prototype._setResizer=function(){var t=document.createElement("div");return t.className="gantt_resizer_stick",this.$view.appendChild(t),this.$view.style.overflow="visible",t.style.height=this.$view.style.height,t},e.prototype._getDirection=function(t,n){var r;return(r=this._xMode?t-this._positions.x:n-this._positions.y)?r<0?-1:1:0},e.prototype._getResizePosition=function(t,n){var r,o,c,d,h;this._xMode?(r=t-this._positions.x,o=this._behind.$config.width||this._behind.$view.offsetWidth,d=this._front.$config.width||this._front.$view.offsetWidth,c=this._behind.$config.minWidth,h=this._front.$config.minWidth):(r=n-this._positions.y,o=this._behind.$config.height||this._behind.$view.offsetHeight,d=this._front.$config.height||this._front.$view.offsetHeight,c=this._front.$config.minHeight,h=this._front.$config.minHeight);var g,p,y=this._getDirection(t,n);if(-1===y){if(p=d-r,g=o-Math.abs(r),d-r>this._front.$config.maxWidth)return;Math.abs(r)>=o&&(r=-Math.abs(o-2)),o-Math.abs(r)<=c&&(r=-Math.abs(o-c))}else p=d-Math.abs(r),g=o+r,o+r>this._behind.$config.maxWidth&&(r=this._behind.$config.maxWidth-o),Math.abs(r)>=d&&(r=d-2),d-Math.abs(r)<=h&&(r=Math.abs(d-h));return-1===y?(p=d-r,g=o-Math.abs(r)):(p=d-Math.abs(r),g=o+r),{size:r,newFrontSide:p,newBehindSide:g}},e.prototype._getGroupName=function(){return this._getSiblings(),this._front.$config.group||this._behind.$config.group},e.prototype._eachGroupItem=function(t,n){for(var r=this.$factory.getView("main"),o=this._getGroupName(),c=r.getCellsByType("resizer"),d=0;d<c.length;d++)c[d]._getGroupName()==o&&c[d]!=this&&t.call(n||this,c[d])},e.prototype._getGroupResizePosition=function(t,n){var r=this._getResizePosition(t,n);if(!this._getGroupName())return r;var o,c=[r];this._eachGroupItem(function(h){h._getSiblings();var g=s.copy(this._positions);this._xMode?g.x+=h._behind.$config.width-this._behind.$config.width:g.y+=h._behind.$config.height-this._behind.$config.height,h._positions=g,c.push(h._getResizePosition(t,n))});for(var d=0;d<c.length;d++){if(!c[d])return;(void 0===o||c[d].newBehindSide>o.newBehindSide)&&(o=c[d])}return o},e.prototype._moveResizer=function(t,n,r){if(0!==n){var o=this._getGroupResizePosition(n,r);o&&1!==Math.abs(o.size)&&(this._xMode?(t.style.left=o.size+"px",this._positions.nextX=o.size||0):(t.style.top=o.size+"px",this._positions.nextY=o.size||0),this.callEvent("onResize",[o.newBehindSide,o.newFrontSide]))}},e.prototype._setGravity=function(t){var n=this._xMode?"offsetWidth":"offsetHeight",r=this._xMode?this._positions.nextX:this._positions.nextY,o=this._front.$view[n],c=this._behind.$view[n],d=(o-r)/o*this._front.getSize().gravity,h=(c+r)/c*this._behind.getSize().gravity;"front"!==t&&(this._front.$config.gravity=d),"behind"!==t&&(this._behind.$config.gravity=h)},e.prototype._getNewSizes=function(){var t,n,r;return this._xMode?(t=this._behind.$config.width,n=this._front.$config.width,r=this._positions.nextX):(t=this._behind.$config.height,n=this._front.$config.height,r=this._positions.nextY),n||t?{front:n?n-r||1:0,back:t?t+r||1:0}:null},e.prototype._assignNewSizes=function(t){this._getSiblings();var n=this._xMode?"width":"height";t?(t.front?this._front.$config[n]=t.front:this._setGravity("behind"),t.back?this._behind.$config[n]=t.back:this._setGravity("front")):this._setGravity()},e.prototype._setSizes=function(){this._resizer&&this.$view.removeChild(this._resizer);var t=this._getNewSizes();if(this._positions.nextX||this._positions.nextY){this._assignNewSizes(t);var r=this._xMode?"width":"height";t&&t.front||this._front.$config.group&&this.$gantt.$layout._syncCellSizes(this._front.$config.group,{value:this._front.$config.gravity,isGravity:!0}),t&&t.back||this._behind.$config.group&&this.$gantt.$layout._syncCellSizes(this._behind.$config.group,{value:this._behind.$config.gravity,isGravity:!0}),t&&(t.front?this._front.$config.group&&this.$gantt.$layout._syncCellSizes(this._front.$config.group,{value:this._front.$config[r],isGravity:!1}):t.back&&this._behind.$config.group&&this.$gantt.$layout._syncCellSizes(this._behind.$config.group,{value:this._behind.$config[r],isGravity:!1})),this._getGroupName()?this.$factory.getView("main").resize():this.$parent.resize()}},e}(u);$.exports=i},function($,C,f){var _=f(3),l=f(0),s=function(u){"use strict";function i(a,e,t){var n=u.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=l.uid());var r=l.copy(e);if(delete r.config,delete r.templates,this.$content=this.$factory.createView(e.view,this,r,this),!this.$content)return!1}return n.$name="viewCell",n}return _(i,u),i.prototype.destructor=function(){this.clear(),u.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var a=this.$content.unload||this.$content.destructor;a&&a.call(this.$content)}u.prototype.clear.call(this)},i.prototype.scrollTo=function(a,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(a,e):u.prototype.scrollTo.call(this,a,e)},i.prototype._setContentSize=function(a,e){var t=this._getBorderSizes();"number"==typeof a&&(this.$config.width=a+t.horizontal),"number"==typeof e&&(this.$config.height=e+t.vertical)},i.prototype.setSize=function(a,e){if(u.prototype.setSize.call(this,a,e),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var n=this.$view.childNodes[1];n||(n=this.$view.childNodes[0]),this.$content.init(n)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var a=u.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var e=this.$content.getSize();a.width=void 0===e.contentX?e.width:e.contentX,a.height=void 0===e.contentY?e.height:e.contentY}var t=this._getBorderSizes();return a.width+=t.horizontal,a.height+=t.vertical,a},i}(f(12));$.exports=s},function($,C,f){var _=f(3),l=f(42),s=f(12),u=function(i){"use strict";function a(e,t,n){for(var r=i.apply(this,arguments)||this,o=0;o<r.$cells.length;o++)r.$cells[o].$config.hidden=0!==o;return r.$cell=r.$cells[0],r.$name="viewLayout",r}return _(a,i),a.prototype.cell=function(e){var t=i.prototype.cell.call(this,e);return t.$view||this.$fill(null,this),t},a.prototype.moveView=function(e){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=e,t.appendChild(e.$view)},a.prototype.setSize=function(e,t){s.prototype.setSize.call(this,e,t)},a.prototype.setContentSize=function(){var e=this.$lastSize;this.$cell.setSize(e.contentX,e.contentY)},a.prototype.getSize=function(){var e=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var r=this.$cells[n].getSize();for(var o in t)t[o]=Math.max(t[o],r[o])}for(var c in e)e[c]=e[c]||t[c];e.gravity=Math.max(e.gravity,t.gravity)}return e},a}(l);$.exports=u},function($,C){$.exports=function(f,_,l){if(!f.start_date||!f.end_date)return null;var s=_.posFromDate(f.start_date),u=_.posFromDate(f.end_date),i=Math.min(s,u)-200,a=Math.max(s,u)+200;return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:i,width:a-i}}},function($,C,f){var _=f(147);$.exports=function(l,s,u,i){if(!i.isTaskExists(l.source)||!i.isTaskExists(l.target))return null;var a=_(i.getTask(l.source),s,i),e=_(i.getTask(l.target),s,i);if(!a||!e)return null;var t=Math.min(a.left,e.left)-100,n=Math.max(a.left+a.width,e.left+e.width)+100,r=Math.min(a.top,e.top)-100,o=Math.max(a.top+a.height,e.top+e.height)+100;return{top:r,height:o-r,bottom:o,left:t,width:n-t,right:n}}},function($,C){$.exports=function(f,_){return!!_&&!(_.left>f.x_end||_.left+_.width<f.x)&&!(_.top>f.y_end||_.top+_.height<f.y)}},function($,C,f){var _=f(149),l=f(20),s=f(32),u=f(6);$.exports=function(i){var a={},e={};function t(r){var o=null;return"string"==typeof r.view?o=i.$ui.getView(r.view):r.view&&(o=r.view),o}function n(r,o,c){if(e[r])return e[r];o.renderer||i.assert(!1,"Invalid renderer call");var d=null,h=null,g=null,p=null,y=null;"function"==typeof o.renderer?(d=o.renderer,g=s):(d=o.renderer.render,h=o.renderer.update,p=o.renderer.onrender,o.renderer.isInViewPort?y=o.renderer.isInViewPort:g=o.renderer.getRectangle,g||null===g||(g=s));var v=o.filter;return c&&c.setAttribute(i.config.layer_attribute,!0),e[r]={render_item:function(m,k,b,S,w){if(k=k||c,!v||v(m)){var x=S||t(o),T=w||(x?x.$getConfig():null),E=b;!E&&T&&T.smart_rendering&&(E=x.getViewPort());var I=null;!l(i)&&(g||y)&&E?(y?y(m,E,x,T,i):_(E,g(m,x,T,i)))&&(I=d.call(i,m,x,T,E)):I=d.call(i,m,x,T,E),this.append(m,I,k),p&&11!=k.nodeType&&I&&p.call(i,m,I,x)}else this.remove_item(m.id)},clear:function(m){this.rendered=a[r]={},o.append||this.clear_container(m)},clear_container:function(m){(m=m||c)&&(m.innerHTML="")},get_visible_range:function(m){var k,b,S=t(o),w=S?S.$getConfig():null;return w&&w.smart_rendering&&(k=S.getViewPort()),S&&k&&("function"==typeof o.renderer?b=u(i,S,w,m,k):o.renderer&&o.renderer.getVisibleRange&&(b=o.renderer.getVisibleRange(i,S,w,m,k))),b||(b={start:0,end:m.count()}),b},prepare_data:function(m){if(o.renderer&&o.renderer.prepareData)return o.renderer.prepareData(m,i,o)},render_items:function(m,k){k=k||c;var b=document.createDocumentFragment();this.clear(k);var S=null,w=t(o),x=w?w.$getConfig():null;x&&x.smart_rendering&&(S=w.getViewPort());for(var T=0,E=m.length;T<E;T++)this.render_item(m[T],b,S,w,x);k.appendChild(b,k);var I={};m.forEach(function(z){I[z.id]=z});var L={};if(p){var N={};for(var T in this.rendered)L[T]||(N[T]=this.rendered[T],p.call(i,I[T],this.rendered[T],w))}},update_items:function(m,k){var b=t(o),S=b?b.$getConfig():null;if(b&&b.$getConfig().smart_rendering&&!l(i)&&this.rendered&&(g||y)){k=k||c;var w=document.createDocumentFragment(),x=null;b&&(x=b.getViewPort());var T={};m.forEach(function(O){T[O.id]=O});var E={},I={};for(var L in this.rendered)I[L]=!0,E[L]=!0;for(var N={},z=(L=0,m.length);L<z;L++){var U=m[L],W=this.rendered[U.id];I[U.id]=!1,W&&W.parentNode?(y?y(U,x,b,S,i):_(x,g(U,b,S,i)))?(h&&h.call(i,U,W,b,S,x),this.restore(U,w)):I[U.id]=!0:(N[m[L].id]=!0,this.render_item(m[L],w,x,b,S))}for(var L in I)I[L]&&this.hide(L);if(w.childNodes.length&&k.appendChild(w,k),p){var Y={};for(var L in this.rendered)E[L]&&!N[L]||(Y[L]=this.rendered[L],p.call(i,T[L],this.rendered[L],b))}}},append:function(m,k,b){this.rendered&&(k?(this.rendered[m.id]&&this.rendered[m.id].parentNode?this.replace_item(m.id,k):b.appendChild(k),this.rendered[m.id]=k):this.rendered[m.id]&&this.remove_item(m.id))},replace_item:function(m,k){var b=this.rendered[m];b&&b.parentNode&&b.parentNode.replaceChild(k,b),this.rendered[m]=k},remove_item:function(m){this.hide(m),delete this.rendered[m]},hide:function(m){var k=this.rendered[m];k&&k.parentNode&&k.parentNode.removeChild(k)},restore:function(m,k){var b=this.rendered[m.id];b?b.parentNode||this.append(m,b,k||c):this.render_item(m,k||c)},change_id:function(m,k){this.rendered[k]=this.rendered[m],delete this.rendered[m]},rendered:a[r],node:c,destructor:function(){this.clear(),delete e[r],delete a[r]}},e[r]}return{getRenderer:n,clearRenderers:function(){for(var r in e)n(r).destructor()}}}},function($,C,f){var _=f(150),l=f(0),s=f(1),u=f(20);function i(a){return a instanceof Array||(a=Array.prototype.slice.call(arguments,0)),function(e){for(var t=!0,n=0,r=a.length;n<r;n++){var o=a[n];o&&(t=t&&!1!==o(e.id,e))}return t}}$.exports=function(a){var e=_(a);return{createGroup:function(t,n,r,o){var c={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var h in this.renderers)d.push(this.renderers[h]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||l.uid(),this.tempCollection.push(d));for(var h=this.container(),g=this.tempCollection,p=0;p<g.length;p++)if(d=g[p],this.container()||d&&d.container&&s.isChildOf(d.container,document.body)){var y=d.container,v=d.id;if(!y.parentNode)if(d.topmost)h.appendChild(y);else{var k=n?n():h.firstChild;k&&k.parentNode==h?h.insertBefore(y,k):h.appendChild(y)}this.renderers[v]=e.getRenderer(v,d,y),o&&o(d,a),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){"function"==typeof d&&(d={renderer:d}),void 0===d.filter?d.filter=i(r||[]):d.filter instanceof Array&&(d.filter.push(r),d.filter=i(d.filter)),d.container||(d.container=document.createElement("div"));var h=this;d.requestUpdate=function(){a.config.smart_rendering&&!u(a)&&h.renderers[d.id]&&h.onUpdateRequest(h.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var h in this.renderers)d(this.renderers[h])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return a.attachEvent("onDestroy",function(){c.clear(),c=null}),c}}}},function($,C,f){var _=f(151),l=f(6),s=f(44),u=f(43);function i(a,e){if(a.view){var t=a.view;"string"==typeof t&&(t=e.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){e.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||a.requestUpdate&&a.requestUpdate()})}}$.exports=function(a){var e=_(a);return{getDataRender:function(t){return a.$services.getService("layer:"+t)||null},createDataRender:function(t){var n=t.name,c=e.createGroup(t.defaultContainer,t.defaultContainerSibling,function(d,h){if(!c.filters)return!0;for(var g=0;g<c.filters.length;g++)if(!1===c.filters[g](d,h))return!1},i);return a.$services.setService("layer:"+n,function(){return c}),a.attachEvent("onGanttReady",function(){c.addLayer()}),c},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return a.$task_data?a.$task_data:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return a.$task_links?a.$task_links:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_links:void 0},filter:function(r){}},a),n=this.createDataRender({name:"link",defaultContainer:function(){return a.$task_data?a.$task_data:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_data:void 0}},a);return{addTaskLayer:function(r){return"function"==typeof r?r={renderer:{render:r,getVisibleRange:l}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=l),r.view="timeline",t.addLayer(r)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(r){t.removeLayer(r)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(r){var o=s();return"function"==typeof r?r={renderer:{render:r,getVisibleRange:o}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=o),r.view="timeline",r&&r.renderer&&(r.renderer.getRectangle||r.renderer.isInViewPort||(r.renderer.isInViewPort=u)),n.addLayer(r)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(r){n.removeLayer(r)},_clearLinkLayers:function(){n.clear()}}}}}},function($,C,f){var l,_=(l=f(1),function(s){var u={click:{},doubleclick:{},contextMenu:{}};function i(h,g,p,y){u[h][g]||(u[h][g]=[]),u[h][g].push({handler:p,root:y})}function a(h){h=h||window.event;var g=s.locate(h),p=t(h,u.click),y=!0;if(null!==g?y=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[g,h]):s.callEvent("onEmptyClick",[h]),y){if(!n(p,h,g))return;switch(h.target.nodeName){case"SELECT":case"INPUT":return}g&&s.getTask(g)&&!s._multiselect&&s.config.select_task&&s.selectTask(g)}}function e(h){var g=(h=h||window.event).target||h.srcElement,p=s.locate(g),y=s.locate(g,s.config.link_attribute),v=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,y,h]);return v||(h.preventDefault?h.preventDefault():h.returnValue=!1),v}function t(h,g){for(var p=h.target||h.srcElement,y=[];p;){var v=l.getClassName(p);if(v){v=v.split(" ");for(var m=0;m<v.length;m++)if(v[m]&&g[v[m]])for(var k=g[v[m]],b=0;b<k.length;b++)k[b].root&&!l.isChildOf(p,k[b].root)||y.push(k[b].handler)}p=p.parentNode}return y}function n(h,g,p){for(var y=!0,v=0;v<h.length;v++){var m=h[v].call(s,g,p,g.target||g.srcElement);y=y&&!(void 0!==m&&!0!==m)}return y}function r(h){h=h||window.event;var g=s.locate(h),p=t(h,u.doubleclick),y=!s.checkEvent("onTaskDblClick")||null===g||s.callEvent("onTaskDblClick",[g,h]);if(y){if(!n(p,h,g))return;null!==g&&s.getTask(g)&&y&&s.config.details_on_dblclick&&!s.isReadonly(g)&&s.showLightbox(g)}}function o(h){if(s.checkEvent("onMouseMove")){var g=s.locate(h);s._last_move_event=h,s.callEvent("onMouseMove",[g,h])}}var c=s._createDomEventScope();function d(h){c.detachAll(),h&&(c.attach(h,"click",a),c.attach(h,"dblclick",r),c.attach(h,"mousemove",o),c.attach(h,"contextmenu",e))}return{reset:d,global:function(h,g,p){i(h,g,p,null)},delegate:i,detach:function(h,g,p,y){if(u[h]&&u[h][g]){for(var v=u[h],m=v[g],k=0;k<m.length;k++)m[k].root==y&&(m.splice(k,1),k--);m.length||delete v[g]}},callHandler:function(h,g,p,y){var v=u[h][g];if(v)for(var m=0;m<v.length;m++)(p||v[m].root)&&v[m].root!==p||v[m].handler.apply(this,y)},onDoubleClick:r,onMouseMove:o,onContextMenu:e,onClick:a,destructor:function(){d(),u=null,c=null}}});$.exports={init:_}},function($,C,f){var _=f(0);function l(s,u){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,u)),i):u}$.exports=function(s,u){var i,a,e;_.mixin(s,(i=u,{$getConfig:function(){return a||(a=i?i.$getConfig():this.$gantt.config),this.$config.config?l.call(this,"config",a):a},$getTemplates:function(){return e||(e=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?l.call(this,"templates",e):e}}))}},function($,C,f){function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var l=f(0),s=f(154);$.exports={createFactory:function(u){var i={},a={};function e(t,n,r,o){var c=i[t];if(!c||!c.create)return!1;"resizer"!=t||r.mode||(r.mode=o.$config.cols?"x":"y"),"viewcell"!=t||"scrollbar"!=r.view||r.scroll||(r.scroll=o.$config.cols?"y":"x"),(r=l.copy(r)).id||a[r.view]||(r.id=r.view),r.id&&!r.css&&(r.css=r.id+"_cell");var d=new c.create(n,r,this,u);return c.configure&&c.configure(d),s(d,o),d.$id||(d.$id=r.id||u.uid()),d.$parent||"object"!=_(n)||(d.$parent=n),d.$config||(d.$config=r),a[d.$id]&&(d.$id=u.uid()),a[d.$id]=d,d}return{initUI:function(t,n){var r="cell";return t.view?r="viewcell":t.resizer?r="resizer":t.rows||t.cols?r="layout":t.views&&(r="multiview"),e.call(this,r,null,t,n)},reset:function(){a={}},registerView:function(t,n,r){i[t]={create:n,configure:r}},createView:e,getView:function(t){return a[t]}}}}},function($,C,f){var _=f(155),l=f(153),s=f(152),u=f(12),i=f(42),a=f(146),e=f(145),t=f(144),n=f(143),r=f(41),o=f(34),c=f(141),d=f(40),h=f(140),g=f(139),p=f(128),y=f(127),v=f(125),m=f(124),k=f(122),b=f(121),S=f(120),w=f(119),x=f(118),T=f(117),E=f(111),I=f(108);$.exports={init:function(L){function N(Y,O){var H=O(L);H.onCreated&&H.onCreated(Y),Y.attachEvent("onReady",function(){H.onInitialized&&H.onInitialized(Y)}),Y.attachEvent("onDestroy",function(){H.onDestroyed&&H.onDestroyed(Y)})}var z=_.createFactory(L);z.registerView("cell",u),z.registerView("resizer",t),z.registerView("scrollbar",n),z.registerView("layout",i,function(Y){"main"===(Y.$config?Y.$config.id:null)&&N(Y,I)}),z.registerView("viewcell",e),z.registerView("multiview",a),z.registerView("timeline",r,function(Y){"timeline"!==(Y.$config?Y.$config.id:null)&&"task"!=Y.$config.bind||N(Y,E)}),z.registerView("grid",o,function(Y){"grid"!==(Y.$config?Y.$config.id:null)&&"task"!=Y.$config.bind||N(Y,T)}),z.registerView("resourceGrid",c),z.registerView("resourceTimeline",d),z.registerView("resourceHistogram",h);var U=s(L),W=g(L);return L.ext.inlineEditors=W,L.ext._inlineEditors=W,W.init(L),{factory:z,mouseEvents:l.init(L),layersApi:U.init(),render:{gridLine:function(){return b(L)},taskBg:function(){return m(L)},taskBar:function(){return p(L)},taskRollupBar:function(){return v(L)},taskSplitBar:function(){return y(L)},link:function(){return k(L)},resourceRow:function(){return S(L)},resourceHistogram:function(){return w(L)},gridTaskRowResizer:function(){return x(L)}},layersService:{getDataRender:function(Y){return U.getDataRender(Y,L)},createDataRender:function(Y){return U.createDataRender(Y,L)}}}}}},function($,C,f){function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}var l=f(0),s=f(1);$.exports=function(u){var i="data-dhxbox",a=null;function e(w,x){var T=w.callback;k.hide(w.box),a=w.box=null,T&&T(x)}function t(w){if(a){var x=w.which||w.keyCode,T=!1;if(b.keyboard){if(13==x||32==x){var E=w.target||w.srcElement;s.getClassName(E).indexOf("gantt_popup_button")>-1&&E.click?E.click():(e(a,!0),T=!0)}27==x&&(e(a,!1),T=!0)}return T?(w.preventDefault&&w.preventDefault(),!(w.cancelBubble=!0)):void 0}}var n=s.getRootNode(u.$root)||document;function r(w){r.cover||((r.cover=document.createElement("div")).onkeydown=t,r.cover.className="dhx_modal_cover",document.body.appendChild(r.cover)),r.cover.style.display=w?"inline-block":"none"}function o(w,x,T){return"<div "+u._waiAria.messageButtonAttrString(w)+" class='gantt_popup_button gantt_"+x.toLowerCase().replace(/ /g,"_")+"_button' data-result='"+T+"' result='"+T+"' ><div>"+w+"</div></div>"}function d(){for(var w=[].slice.apply(arguments,[0]),x=0;x<w.length;x++)if(w[x])return w[x]}function h(w,x,T){var E=w.tagName?w:function(N,z,U){var W=document.createElement("div"),Y=l.uid();u._waiAria.messageModalAttr(W,Y),W.className=" gantt_modal_box gantt-"+N.type,W.setAttribute(i,1);var O="";if(N.width&&(W.style.width=N.width),N.height&&(W.style.height=N.height),N.title&&(O+='<div class="gantt_popup_title">'+N.title+"</div>"),O+='<div class="gantt_popup_text" id="'+Y+'"><span>'+(N.content?"":N.text)+'</span></div><div  class="gantt_popup_controls">',z&&(O+=o(d(N.ok,u.locale.labels.message_ok,"OK"),"ok",!0)),U&&(O+=o(d(N.cancel,u.locale.labels.message_cancel,"Cancel"),"cancel",!1)),N.buttons)for(var H=0;H<N.buttons.length;H++){var X=N.buttons[H];"object"==_(X)?O+=o(X.label,X.css||"gantt_"+X.label.toLowerCase()+"_button",X.value||H):O+=o(X,X,H)}if(W.innerHTML=O+="</div>",N.content){var Z=N.content;"string"==typeof Z&&(Z=document.getElementById(Z)),"none"==Z.style.display&&(Z.style.display=""),W.childNodes[N.title?1:0].appendChild(Z)}return W.onclick=function(K){var tt=K.target||K.srcElement;if(tt.className||(tt=tt.parentNode),s.closest(tt,".gantt_popup_button")){var V=tt.getAttribute("data-result");e(N,V="true"==V||"false"!=V&&V)}},N.box=W,(z||U)&&(a=N),W}(w,x,T);w.hidden||r(!0),document.body.appendChild(E);var I=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-E.offsetWidth)/2)),L=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-E.offsetHeight)/2));return E.style.top="top"==w.position?"-3px":L+"px",E.style.left=I+"px",E.onkeydown=t,k.focus(E),w.hidden&&k.hide(E),u.callEvent("onMessagePopup",[E]),E}function g(w){return h(w,!0,!1)}function p(w){return h(w,!0,!0)}function y(w){return h(w)}function v(w,x,T){return"object"!=_(w)&&("function"==typeof x&&(T=x,x=""),w={text:w,type:x,callback:T}),w}function m(w,x,T,E){return"object"!=_(w)&&(w={text:w,type:x,expire:T,id:E}),w.id=w.id||l.uid(),w.expire=w.expire||b.expire,w}u.event(n,"keydown",t,!0);var k=function(){var w=v.apply(this,arguments);return w.type=w.type||"alert",y(w)};k.hide=function(w){for(;w&&w.getAttribute&&!w.getAttribute(i);)w=w.parentNode;w&&(w.parentNode.removeChild(w),r(!1),u.callEvent("onAfterMessagePopup",[w]))},k.focus=function(w){setTimeout(function(){var x=s.getFocusableNodes(w);x.length&&x[0].focus&&x[0].focus()},1)};var b=function(w,x,T,E){switch((w=m.apply(this,arguments)).type=w.type||"info",w.type.split("-")[0]){case"alert":return g(w);case"confirm":return p(w);case"modalbox":return y(w);default:return function c(w){b.area||(b.area=document.createElement("div"),b.area.className="gantt_message_area",b.area.style[b.position]="5px",document.body.appendChild(b.area)),b.hide(w.id);var x=document.createElement("div");return x.innerHTML="<div>"+w.text+"</div>",x.className="gantt-info gantt-"+w.type,x.onclick=function(){b.hide(w.id),w=null},u._waiAria.messageInfoAttr(x),"bottom"==b.position&&b.area.firstChild?b.area.insertBefore(x,b.area.firstChild):b.area.appendChild(x),w.expire>0&&(b.timers[w.id]=window.setTimeout(function(){b&&b.hide(w.id)},w.expire)),b.pull[w.id]=x,x=null,w.id}(w)}};b.seed=(new Date).valueOf(),b.uid=l.uid,b.expire=4e3,b.keyboard=!0,b.position="top",b.pull={},b.timers={},b.hideAll=function(){for(var w in b.pull)b.hide(w)},b.hide=function(w){var x=b.pull[w];x&&x.parentNode&&(window.setTimeout(function(){x.parentNode.removeChild(x),x=null},2e3),x.className+=" hidden",b.timers[w]&&window.clearTimeout(b.timers[w]),delete b.pull[w])};var S=[];return u.attachEvent("onMessagePopup",function(w){S.push(w)}),u.attachEvent("onAfterMessagePopup",function(w){for(var x=0;x<S.length;x++)S[x]===w&&(S.splice(x,1),x--)}),u.attachEvent("onDestroy",function(){r.cover&&r.cover.parentNode&&r.cover.parentNode.removeChild(r.cover);for(var w=0;w<S.length;w++)S[w].parentNode&&S[w].parentNode.removeChild(S[w]);S=null,b.area&&b.area.parentNode&&b.area.parentNode.removeChild(b.area),b=null}),{alert:function(){var w=v.apply(this,arguments);return w.type=w.type||"confirm",g(w)},confirm:function(){var w=v.apply(this,arguments);return w.type=w.type||"alert",p(w)},message:b,modalbox:k}}},function($,C,f){$.exports=function(_){var l=f(0),s=f(8),u=f(15);if(!s.isNode){var i=f(1),a=f(2);_.utils={arrayFind:a.arrayFind,dom:i};var e=f(57)();_.event=e.attach,_.eventRemove=e.detach,_._eventRemoveAll=e.detachAll,_._createDomEventScope=e.extend,l.mixin(_,f(157)(_));var t=f(156).init(_);_.$ui=t.factory,_.$ui.layers=t.render,_.$mouseEvents=t.mouseEvents,_.$services.setService("mouseEvents",function(){return _.$mouseEvents}),_.mixin(_,t.layersApi),f(107)(_),_.$services.setService("layers",function(){return t.layersService});var n=f(106);_.mixin(_,n()),f(105)(_),f(104)(_),f(103)(_),f(102)(_),f(101)(_),f(100)(_),f(99)(_),f(98)(_),f(97)(_),f(92)(_),f(91)(_),f(79)(_),f(78)(_),_.locate=function(r){var o=i.getTargetNode(r);if(i.closest(o,".gantt_task_row"))return null;var c=arguments[1]||this.config.task_attribute,d=i.locateAttribute(o,c);return d?d.getAttribute(c):null},_._locate_css=function(r,o,c){return i.locateClassName(r,o,c)},_._locateHTML=function(r,o){return i.locateAttribute(r,o||this.config.task_attribute)}}_.attachEvent("onParse",function(){u(_)||_.attachEvent("onGanttRender",function(){if(_.config.initial_scroll){var r=_.getTaskByIndex(0),o=r?r.id:_.config.root_id;_.isTaskExists(o)&&_.$task&&_.utils.dom.isChildOf(_.$task,_.$container)&&_.showTask(o)}},{once:!0})}),_.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),u(_)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),_.attachEvent("onGanttReady",function(){!u(_)&&_.config.rtl&&_.$layout.getCellsByType("viewCell").forEach(function(r){var o=r.$config.scrollX;if(o){var c=_.$ui.getView(o);c&&c.scrollTo(c.$config.scrollSize,0)}})}),_.attachEvent("onGanttReady",function(){if(!u(_)){var r=_.plugins(),o={auto_scheduling:_.autoSchedule,click_drag:_.ext.clickDrag,critical_path:_.isCriticalTask,drag_timeline:_.ext.dragTimeline,export_api:_.exportToPDF,fullscreen:_.ext.fullscreen,grouping:_.groupBy,keyboard_navigation:_.ext.keyboardNavigation,marker:_.addMarker,multiselect:_.eachSelectedTask,overlay:_.ext.overlay,quick_info:_.templates.quick_info_content,tooltip:_.ext.tooltips,undo:_.undo};for(var c in o)o[c]&&!r[c]&&console.warn("You connected the '".concat(c,"' extension via an obsolete file. \nTo fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html"))}})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",section_type:"\u0422\u0438\u043f",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xf6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xf6rev silinecek, emin misiniz?",section_description:"A\xe7\u0131klama",section_time:"Zaman Aral\u0131\u011f\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xf6rev Ad\u0131",column_start_date:"Ba\u015flang\u0131\xe7",column_duration:"S\xfcre",column_add:"",link:"Ba\u011flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015flang\u0131\xe7)",link_end:" (biti\u015f)",type_task:"G\xf6rev",type_project:"Proje",type_milestone:"Kilometreta\u015f\u0131",minutes:"Dakika",hours:"Saat",days:"G\xfcn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xddptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xe4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xe5nader",years:"\xc5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xe1 \xfaloha",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xe4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",section_type:"\u0422\u0438\u043f",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041d\u0430\u0447\u0430\u043b\u043e",column_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",column_add:"",link:"\u0421\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",link_start:" (\u043d\u0430\u0447\u0430\u043b\u043e)",link_end:" (\u043a\u043e\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041c\u0438\u043d\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043d\u044c",weeks:"\u041d\u0435\u0434\u0435\u043b\u044f",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xe3o excluidas permanentemente, confirme?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xedcio",column_duration:"Dura\xe7\xe3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xe1 exclu\xeddo!",link_start:" (in\xedcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xe7\xe3o",constraint_type:"Tipo Restri\xe7\xe3o",constraint_date:"Data restri\xe7\xe3o",asap:"Mais breve poss\xedvel",alap:"Mais tarde poss\xedvel",snet:"N\xe3o come\xe7ar antes de",snlt:"N\xe3o come\xe7ar depois de",fnet:"N\xe3o terminar antes de",fnlt:"N\xe3o terminar depois de",mso:"Precisa come\xe7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(l){var s=this;for(var u in this.addLocale=function(i,a){s._locales[i]=a},this.getLocale=function(i){return s._locales[i]},this._locales={},l)this._locales[u]=l[u]}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],month_short:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],day_full:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],day_short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},labels:{new_task:"\uc774\ub984\uc5c6\ub294 \uc791\uc5c5",icon_save:"\uc800\uc7a5",icon_cancel:"\ucde8\uc18c",icon_details:"\uc138\ubd80 \uc0ac\ud56d",icon_edit:"\uc218\uc815",icon_delete:"\uc0ad\uc81c",confirm_closing:"",confirm_deleting:"\uc791\uc5c5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",section_description:"\uc124\uba85",section_time:"\uae30\uac04",section_type:"Type",column_wbs:"WBS",column_text:"\uc791\uc5c5\uba85",column_start_date:"\uc2dc\uc791\uc77c",column_duration:"\uae30\uac04",column_add:"",link:"\uc804\uc81c",confirm_link_deleting:"\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",link_start:" (start)",link_end:" (end)",type_task:"\uc791\uc5c5",type_project:"\ud504\ub85c\uc81d\ud2b8",type_milestone:"\ub9c8\uc77c\uc2a4\ud1a4",minutes:"\ubd84",hours:"\uc2dc\uac04",days:"\uc77c",weeks:"\uc8fc",months:"\ub2ec",years:"\ub144",message_ok:"OK",message_cancel:"\ucde8\uc18c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{new_task:"\u65b0\u3057\u3044\u4ed5\u4e8b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xe0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xe0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{new_task:"\xdaj feladat",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xe9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{new_task:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05d4\u05e1\u05d1\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xe2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xe2che",column_start_date:"Date initiale",column_duration:"Dur\xe9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xe9",link_start:"(d\xe9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xe4v\xe4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"]},labels:{new_task:"\u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f",icon_save:"\u0630\u062e\u06cc\u0631\u0647",icon_cancel:"\u0644\u063a\u0648",icon_details:"\u062c\u0632\u06cc\u06cc\u0627\u062a",icon_edit:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0634\u0645\u0627 \u0627\u0632\u062f\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0631\u0641\u062a\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",confirm_deleting:"\u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0628\u0631\u0627\u06cc \u0647\u0645\u06cc\u0634\u0647 \u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",section_description:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",section_time:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062f\u062a",column_add:"",link:"\u0627\u0631\u062a\u0628\u0627\u0637",confirm_link_deleting:"\u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f",link_start:" (\u0622\u063a\u0627\u0632)",link_end:" (\u067e\u0627\u06cc\u0627\u0646)",type_task:"\u0648\u0638\u06cc\u0641\u0647",type_project:"\u067e\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06af\u0627\u0631\u0634",minutes:"\u062f\u0642\u0627\u06cc\u0642",hours:"\u0633\u0627\u0639\u0627\u062a",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062a\u0647",months:"\u0645\u0627\u0647\u200c\u0647\u0627",years:"\u0633\u0627\u0644\u200c\u0647\u0627",message_ok:"\u062a\u0627\u06cc\u06cc\u062f",message_cancel:"\u0644\u063a\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xf3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xe1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xedas",weeks:"Semanas",months:"Meses",years:"A\xf1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{new_task:"\u039d\u03ad\u03b1 \u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xf6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie m\xf6glich",alap:"So sp\xe4t wie m\xf6glich",snet:"Beginn nicht vor",snlt:"Beginn nicht sp\xe4ter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht sp\xe4ter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{new_task:"Nov\xe1 pr\xe1ce",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{new_task:"\u65b0\u4efb\u52d9",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",section_type:"\u7c7b\u578b",column_wbs:"\u5de5\u4f5c\u5206\u89e3\u7ed3\u6784",column_text:"\u4efb\u52a1\u540d",column_start_date:"\u5f00\u59cb\u65f6\u95f4",column_duration:"\u6301\u7eed\u65f6\u95f4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5c06\u88ab\u5220\u9664",link_start:" (\u5f00\u59cb)",link_end:" (\u7ed3\u675f)",type_task:"\u4efb\u52a1",type_project:"\u9879\u76ee",type_milestone:"\u91cc\u7a0b\u7891",minutes:"\u5206\u949f",hours:"\u5c0f\u65f6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5e74",message_ok:"OK",message_cancel:"\u5173\u95ed",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xb7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043d\u043d\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044b\u043f",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041f\u0430\u0447\u0430\u0442\u0430\u043a",column_duration:"\u041f\u0440\u0430\u0446\u044f\u0433",column_add:"",link:"\u0421\u0443\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430",link_start:"(\u043f\u0430\u0447\u0430\u0442\u0430\u043a)",link_end:"(\u043a\u0430\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043bi\u043d\u0430",hours:"\u0413\u0430\u0434\u0437i\u043d\u0430",days:"\u0414\u0437\u0435\u043d\u044c",weeks:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063a\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(191),l=f(190),s=f(189),u=f(188),i=f(187),a=f(186),e=f(185),t=f(184),n=f(183),r=f(182),o=f(181),c=f(180),d=f(179),h=f(178),g=f(177),p=f(176),y=f(175),v=f(174),m=f(173),k=f(172),b=f(171),S=f(170),w=f(169),x=f(168),T=f(167),E=f(166),I=f(165),L=f(164),N=f(163),z=f(162),U=f(161),W=f(160),Y=f(159);C.default=function(){return new b.default({en:n.default,ar:_.default,be:l.default,ca:s.default,cn:u.default,cs:i.default,da:a.default,de:e.default,el:t.default,es:r.default,fa:o.default,fi:c.default,fr:d.default,he:h.default,hr:g.default,hu:p.default,id:y.default,it:v.default,jp:m.default,kr:k.default,nb:S.default,nl:w.default,no:x.default,pl:T.default,pt:E.default,ro:I.default,ru:L.default,si:N.default,sk:z.default,sv:U.default,tr:W.default,ua:Y.default})}},function($,C,f){"use strict";var _=["Your evaluation period for dhtmlxGantt has expired.","196642GwHpee","defineProperty","1HaLptp","random","default","join","Please contact us at contact@dhtmlx.com or visit","1BNtGTx","92504cfommX","27cwpeqw","TNQER","11210pRRTWV","now","undefined","floor","104222mESwCx","__esModule","LtHtI","351053wfZbZc","ZVqKb","292195cOVcAi","1HigrcX","182694iSdWvz","https://dhtmlx.com/docs/products/dhtmlxGantt in order to obtain a license.","alert"],l=function(u,i){return _[u-=443]},s=l;(function(u,i){for(var a=l;;)try{if(-parseInt(a(460))*-parseInt(a(458))-parseInt(a(445))+parseInt(a(467))+-parseInt(a(464))*-parseInt(a(444))+parseInt(a(457))+parseInt(a(451))*-parseInt(a(449))+-parseInt(a(456))*parseInt(a(443))===178918)break;u.push(u.shift())}catch{u.push(u.shift())}})(_),Object[s(450)](C,s(465),{value:!0}),C[s(453)]=function(u){setTimeout(function(){var i=l,a=[i(448),i(455),i(446)][i(454)]("\n");if("number"!==i(462)||i(468)!=i(468)){var e=function(){setTimeout(function(){var t=l;Date[i(461)]()-1691131504e3>7776e6&&window[t(447)](a),e()},function(t,n){var r=i;if(r(459)!==r(466))return Math[r(463)](120001*Math[r(452)]())+t}(12e4))};e()}},1)}},function($,C){$.exports=function(f){f.destructor=function(){for(var _ in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===_.indexOf("$")&&delete this[_];this.$destroyed=!0}}},function($,C){$.exports=function(f){return function(_,l){_||f.config.show_errors&&!1!==f.callEvent("onError",[l])&&(f.message?f.message({type:"error",text:l,expire:-1}):console.log(l))}}},function($,C){function f(_,l){var s,u=_.config.container_resize_timeout||20;if("timeout"==_.config.container_resize_method)t();else try{_.event(l,"resize",function(){_.$scrollbarRepaint?_.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){_.$destroyed||_.render()},u)}var a=_.$root.offsetHeight,e=_.$root.offsetWidth;function t(){_.$root.offsetHeight==a&&_.$root.offsetWidth==e||i(),a=_.$root.offsetHeight,e=_.$root.offsetWidth,setTimeout(t,u)}}$.exports=function(_){"static"==window.getComputedStyle(_.$root).getPropertyValue("position")&&(_.$root.style.position="relative");var l=document.createElement("iframe");l.className="gantt_container_resize_watcher",l.tabIndex=-1,_.config.wai_aria_attributes&&(l.setAttribute("role","none"),l.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(_.config.container_resize_method="timeout"),_.$root.appendChild(l),l.contentWindow?f(_,l.contentWindow):(_.$root.removeChild(l),f(_,window))}},function($,C,f){function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var l=f(1),s=f(2),u=f(15),i=f(196);$.exports=function(a){var e=f(51);a.assert=f(195)(a);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(c){if(!c||"string"==typeof c&&document.getElementById(c)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(c))return!0;throw a.assert(!1,t),new Error(t)}a.init=function(c,d,h){a.env.isNode?c=null:n(c),d&&h&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(h)),this.date.init(),this.init=function(g){a.env.isNode?g=null:n(g),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(g)},this._reinit(c)},a._quickRefresh=function(c){for(var d=this._getDatastores.call(this),h=0;h<d.length;h++)d[h]._quick_refresh=!0;for(c(),h=0;h<d.length;h++)d[h]._quick_refresh=!1};var r=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(a),o=function(){u(a)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var c=a.$services.getService("datastores"),d=0;d<c.length;d++)a.getDatastore(c[d]).filter(),a.$data.tasksStore._skipTaskRecalculation?"lightbox"!=a.$data.tasksStore._skipTaskRecalculation&&(a.$data.tasksStore._skipTaskRecalculation=!1):a.getDatastore(c[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){a._quickRefresh(function(){a.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}.bind(a);a.resetLayout=function(){r(),o(),this.render()},a._reinit=function(c){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),r(),this.$root=null,c&&(this.$root=l.toNode(c),o(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},a.$click={buttons:{edit:function(c){a.isReadonly(a.getTask(c))||a.showLightbox(c)},delete:function(c){var d=a.getTask(c);a.isReadonly(d)||a._simple_confirm(a.locale.labels.confirm_deleting,a.locale.labels.confirm_deleting_title,function(){a.isTaskExists(c)&&(d.$new?(a.$data.tasksStore._skipTaskRecalculation="lightbox",a.silent(function(){a.deleteTask(c,!0)}),a.$data.tasksStore._skipTaskRecalculation=!1,a.refreshData()):(a.$data.tasksStore._skipTaskRecalculation=!0,a.deleteTask(c))),a.hideLightbox()})}}},a.render=function(){var c;if(this.callEvent("onBeforeGanttRender",[]),!u(a)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),h=d?d.x:0;this._getHorizontalScrollbar()&&(h=this._getHorizontalScrollbar().$config.codeScrollLeft||h||0),c=null,h&&(c=a.dateFromPos(h+this.config.task_scroll_offset))}if(e(this),u(a))a.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var g=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=g,this.config.preserve_scroll&&d){if(h||d.y){var p=a.getScrollState();if(+c!=+a.dateFromPos(p.x)||p.y!=d.y){h=null;var y=null;c&&(h=Math.max(a.posFromDate(c)-a.config.task_scroll_offset,0)),d.y&&(y=d.y),a.scrollTo(h,y)}}var v=a.$ui.getView("grid");if(v){var k=a.$ui.getView(v.$config.scrollY);k&&(a.utils.dom.isChildOf(k.$view,a.$container)||v.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},a.setSizes=a.render,a.getTaskRowNode=function(c){for(var d=this.$grid_data.childNodes,h=this.config.task_attribute,g=0;g<d.length;g++)if(d[g].getAttribute&&d[g].getAttribute(h)==c)return d[g];return null},a.changeLightboxType=function(c){if(this.getLightboxType()==c)return!0;a._silent_redraw_lightbox(c)},a._get_link_type=function(c,d){var h=null;return c&&d?h=a.config.links.start_to_start:!c&&d?h=a.config.links.finish_to_start:c||d?c&&!d&&(h=a.config.links.start_to_finish):h=a.config.links.finish_to_finish,h},a.isLinkAllowed=function(c,d,h,g){var p;if(!(p="object"==_(c)?c:{source:c,target:d,type:this._get_link_type(h,g)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var y=!0;return this.checkEvent("onLinkValidation")&&(y=this.callEvent("onLinkValidation",[p])),y},a._correct_dst_change=function(c,d,h,g){var p=s.getSecondsInUnit(g)*h;if(p>3600&&p<86400){var y=c.getTimezoneOffset()-d;y&&(c=a.date.add(c,y,"minute"))}return c},a.isSplitTask=function(c){return a.assert(c&&c instanceof Object,"Invalid argument <b>task</b>="+c+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(c)},a._is_icon_open_click=function(c){if(!c)return!1;var d=c.target||c.srcElement;if(!d||!d.className)return!1;var h=l.getClassName(d);return-1!==h.indexOf("gantt_tree_icon")&&(-1!==h.indexOf("gantt_close")||-1!==h.indexOf("gantt_open"))}}},function($,C){$.exports=function(f){function _(){return f._cached_functions.update_if_changed(f),f._cached_functions.active||f._cached_functions.activate(),!0}f._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,u){if(u._prefetch_originals)for(var i in u._prefetch_originals)u[i]=u._prefetch_originals[i];for(u._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],u)},prefetch:function(s,u){var i=u[s];if(i){var a=this;u._prefetch_originals[s]=i,u[s]=function(){for(var e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];if(a.active){var r=a.get_arguments_hash(Array.prototype.slice.call(e));a.cache[s]||(a.cache[s]={});var o=a.cache[s];if(a.has_cached_value(o,r))return a.get_cached_value(o,r);var c=i.apply(this,e);return a.cache_value(o,r,c),c}return i.apply(this,e)}}return i},cache_value:function(s,u,i){this.is_date(i)&&(i=new Date(i)),s[u]=i},has_cached_value:function(s,u){return s.hasOwnProperty(u)},get_cached_value:function(s,u){var i=s[u];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var u=[],i=0;i<s.length;i++)u.push(this.stringify_argument(s[i]));return"("+u.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var u=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?s.config.highlight_critical_path&&(u=i):!0===this.mode&&(u=i),this.wrap_methods(u,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},f.attachEvent("onBeforeGanttRender",_),f.attachEvent("onBeforeDataRender",_),f.attachEvent("onBeforeSmartRender",function(){_()}),f.attachEvent("onBeforeParse",_),f.attachEvent("onDataRender",function(){f._cached_functions.deactivate()});var l=null;f.attachEvent("onSmartRender",function(){l&&clearTimeout(l),l=setTimeout(function(){f._cached_functions.deactivate()},1e3)}),f.attachEvent("onBeforeGanttReady",function(){return f._cached_functions.update_if_changed(f),!0})}},function($,C){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(_)}$.exports=function(_){_.getTaskType=function(l){var s=l;for(var u in l&&"object"==f(l)&&(s=l.type),this.config.types)if(this.config.types[u]==s)return s;return _.config.types.task}}},function($,C,f){"use strict";var _=["522891ubLFCz","undefined","error","<a href='https://dhtmlx.com/docs/products/dhtmlxGantt' target='_blank'>dhtmlx.com</a> in order to obtain a license.","102026gxAClO","evaluation-warning","21538NvrumY","value","178978leMadX","vmZGq","44LThasY","default","defineProperty","join","qXpdK","__esModule","message","QDWtl","jkvNl","bLQyE","1010013GqdcDO","4vzuBuR","59VjxFyY","YiUvV","Please contact us at <a href='mailto:contact@dhtmlx.com?subject=dhtmlxGantt licensing' target='_blank'>contact@dhtmlx.com</a> or visit","type","expire","floor","298QeIdta","random","20047SAPckQ","<br>","6899VBUKsv","Your evaluation period for dhtmlxGantt has expired.","now","text"],l=function(i,a){return _[i-=141]},s=l;!function(i,a){for(var e=l;;)try{if(parseInt(e(162))+parseInt(e(146))+parseInt(e(148))*parseInt(e(156))+-parseInt(e(168))*-parseInt(e(172))+-parseInt(e(166))+parseInt(e(147))*-parseInt(e(170))+-parseInt(e(154))*parseInt(e(158))===789509)break;i.push(i.shift())}catch{i.push(i.shift())}}(_);var u={};u[s(169)]=!0,Object[s(174)](C,s(141),u),C[s(173)]=function(i){setTimeout(function(){var t,r,a=l;if(a(176)!==a(149)){var e=[a(159),a(150),a(165)][a(175)](a(157));if("number"===a(163))return;setInterval(function(){var t=a;if(function(){var r=a;if(r(145)!==r(143))return Date[r(160)]()-1691131504e3>5184e6}()&&t(144)!==t(171)){var n={};n[t(151)]=t(164),n[t(161)]=e,n[t(152)]=-1,n.id=t(167),i[t(142)](n)}},(t=12e4,24e4,r=a,Math[r(153)](120001*Math[r(155)]())+t))}},1)}},function($,C,f){var _=f(2);$.exports=function(l){l.isUnscheduledTask=function(e){return l.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},l._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!l.config.show_unscheduled)},l._isTaskInTimelineLimits=function(e){var t=e.start_date?e.start_date.valueOf():null,n=e.end_date?e.end_date.valueOf():null;return!!(t&&n&&t<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},l.isTaskVisible=function(e){if(!this.isTaskExists(e))return!1;var t=this.getTask(e);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(e)>=0},l._getProjectEnd=function(){if(l.config.project_end)return l.config.project_end;var e=l.getTaskByTime();return(e=e.sort(function(t,n){return+t.end_date>+n.end_date?1:-1})).length?e[e.length-1].end_date:null},l._getProjectStart=function(){if(l.config.project_start)return l.config.project_start;if(l.config.start_date)return l.config.start_date;if(l.getState().min_date)return l.getState().min_date;var e=l.getTaskByTime();return(e=e.sort(function(t,n){return+t.start_date>+n.start_date?1:-1})).length?e[0].start_date:null};var s=function(e,t){var n=!(!t||t==l.config.root_id||!l.isTaskExists(t))&&l.getTask(t),r=null;if(n)r=l.config.schedule_from_end?l.calculateEndDate({start_date:n.end_date,duration:-l.config.duration_step,task:e}):n.start_date;else if(l.config.schedule_from_end)r=l.calculateEndDate({start_date:l._getProjectEnd(),duration:-l.config.duration_step,task:e});else{var o=l.getTaskByIndex(0);r=o?o.start_date?o.start_date:o.end_date?l.calculateEndDate({start_date:o.end_date,duration:-l.config.duration_step,task:e}):null:l.config.start_date||l.getState().min_date}return l.assert(r,"Invalid dates"),new Date(r)};l._set_default_task_timing=function(e){e.start_date=e.start_date||s(e,l.getParent(e)),e.duration=e.duration||l.config.duration_step,e.end_date=e.end_date||l.calculateEndDate(e)},l.createTask=function(e,t,n){return l.defined((e=e||{}).id)||(e.id=l.uid()),e.start_date||(e.start_date=s(e,t)),void 0===e.text&&(e.text=l.locale.labels.new_task),void 0===e.duration&&(e.duration=1),this.isTaskExists(t)&&(this.setParent(e,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[e])?(this.config.details_on_create?(l.isTaskExists(e.id)?l.getTask(e.id).$index!=e.$index&&(e.start_date&&"string"==typeof e.start_date&&(e.start_date=this.date.parseDate(e.start_date,"parse_date")),e.end_date&&"string"==typeof e.end_date&&(e.end_date=this.date.parseDate(e.end_date,"parse_date")),this.$data.tasksStore.updateItem(e.id,e)):(e.$new=!0,this.silent(function(){l.$data.tasksStore.addItem(e,n)})),this.selectTask(e.id),this.refreshData(),this.showLightbox(e.id)):this.addTask(e,t,n)&&(this.showTask(e.id),this.selectTask(e.id)),e.id):null},l._update_flags=function(e,t){var n=l.$data.tasksStore;void 0===e?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=t),n.getSelectedId()==e&&n.silent(function(){n.unselect(e),n.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=t))};var u=function(e,t){var n=l.getTaskType(e.type),r={type:n,$no_start:!1,$no_end:!1};return t||n!=e.$rendered_type?(n==l.config.types.project?r.$no_end=r.$no_start=!0:n!=l.config.types.milestone&&(r.$no_end=!(e.end_date||e.duration),r.$no_start=!e.start_date,l._isAllowedUnscheduledTask(e)&&(r.$no_end=r.$no_start=!1)),r):(r.$no_start=e.$no_start,r.$no_end=e.$no_end,r)};function i(e){e.$effective_calendar=l.getTaskCalendar(e).id,e.start_date=l.getClosestWorkTime({dir:"future",date:e.start_date,unit:l.config.duration_unit,task:e}),e.end_date=l.calculateEndDate(e)}function a(e){var t=null,n=null,o=[];return l.eachTask(function(c){l.getTaskType(c.type)==l.config.types.project||l.isUnscheduledTask(c)||(c.rollup&&o.push(c.id),c.start_date&&!c.$no_start&&(!t||t>c.start_date.valueOf())&&(t=c.start_date.valueOf()),c.end_date&&!c.$no_end&&(!n||n<c.end_date.valueOf())&&(n=c.end_date.valueOf()))},void 0!==e?e:l.config.root_id),{start_date:t?new Date(t):null,end_date:n?new Date(n):null,rollup:o}}l._init_task_timing=function(e){var t=u(e,!0),n=e.$rendered_type!=t.type,r=t.type;n&&(e.$no_start=t.$no_start,e.$no_end=t.$no_end,e.$rendered_type=t.type),n&&r!=this.config.types.milestone&&r==this.config.types.project&&(this._set_default_task_timing(e),e.$calculate_duration=!1),r==this.config.types.milestone&&(e.end_date=e.start_date),e.start_date&&e.end_date&&!1!==e.$calculate_duration&&(e.duration=this.calculateDuration(e)),e.$calculate_duration||(e.$calculate_duration=!0),e.end_date||(e.end_date=e.start_date),e.duration=e.duration||0,0===this.config.min_duration&&0===e.duration&&(e.$no_end=!1);var o=this.getTaskCalendar(e);e.$effective_calendar&&e.$effective_calendar!==o.id&&(i(e),this.config.inherit_calendar&&this.isSummaryTask(e)&&this.eachTask(function(c){i(c)},e.id)),e.$effective_calendar=o.id},l.isSummaryTask=function(e){l.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var t=u(e);return!(!t.$no_end&&!t.$no_start)},l.resetProjectDates=function(e){var t=u(e);if(t.$no_end||t.$no_start){var n=a(e.id);(function(r,o,c,d){o.$no_start&&(r.start_date=c?new Date(c):s(r,this.getParent(r))),o.$no_end&&(r.end_date=d?new Date(d):this.calculateEndDate({start_date:r.start_date,duration:this.config.duration_step,task:r})),(o.$no_start||o.$no_end)&&this._init_task_timing(r)}).call(this,e,t,n.start_date,n.end_date),e.$rollup=n.rollup}},l.getSubtaskDuration=function(e){var t=0;return this.eachTask(function(r){this.getTaskType(r.type)==l.config.types.project||this.isUnscheduledTask(r)||(t+=r.duration)},void 0!==e?e:l.config.root_id),t},l.getSubtaskDates=function(e){var t=a(e);return{start_date:t.start_date,end_date:t.end_date}},l._update_parents=function(e,t,n){if(e){var r=this.getTask(e);r.rollup&&(n=!0);var o=this.getParent(r),c=u(r),d=!0;if(n||r.start_date&&r.end_date&&(c.$no_start||c.$no_end)){var h=r.start_date.valueOf(),g=r.end_date.valueOf();l.resetProjectDates(r),n||h!=r.start_date.valueOf()||g!=r.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(r.id,!0)}d&&o&&this.isTaskExists(o)&&this._update_parents(o,t,n)}},l.roundDate=function(e){var t=l.getScale();_.isDate(e)&&(e={date:e,unit:t?t.unit:l.config.duration_unit,step:t?t.step:l.config.duration_step});var n,r,o,c=e.date,d=e.step,h=e.unit;if(!t)return c;if(h==t.unit&&d==t.step&&+c>=+t.min_date&&+c<=+t.max_date)o=Math.floor(l.columnIndexByDate(c)),t.trace_x[o]||(o-=1,t.rtl&&(o=0)),r=new Date(t.trace_x[o]),n=l.date.add(r,d,h);else{for(o=Math.floor(l.columnIndexByDate(c)),n=l.date[h+"_start"](new Date(t.min_date)),t.trace_x[o]&&(n=l.date[h+"_start"](t.trace_x[o]));+n<+c;){var g=(n=l.date[h+"_start"](l.date.add(n,d,h))).getTimezoneOffset();n=l._correct_dst_change(n,g,n,h),l.date[h+"_start"]&&(n=l.date[h+"_start"](n))}r=l.date.add(n,-1*d,h)}return e.dir&&"future"==e.dir?n:e.dir&&"past"==e.dir||Math.abs(c-r)<Math.abs(n-c)?r:n},l.correctTaskWorkTime=function(e){l.config.work_time&&l.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},l.attachEvent("onBeforeTaskUpdate",function(e,t){return l._init_task_timing(t),!0}),l.attachEvent("onBeforeTaskAdd",function(e,t){return l._init_task_timing(t),!0}),l.attachEvent("onAfterTaskMove",function(e,t,n){return l._init_task_timing(l.getTask(e)),!0})}},function($,C,f){var _=f(0);$.exports={create:function(l,s){return{getWorkHours:function(u){return s.getWorkHours(u)},setWorkTime:function(u){return s.setWorkTime(u)},unsetWorkTime:function(u){s.unsetWorkTime(u)},isWorkTime:function(u,i,a){return s.isWorkTime(u,i,a)},getClosestWorkTime:function(u){return s.getClosestWorkTime(u)},calculateDuration:function(u,i,a){return s.calculateDuration(u,i,a)},_hasDuration:function(u,i,a){return s.hasDuration(u,i,a)},calculateEndDate:function(u,i,a,e){return s.calculateEndDate(u,i,a,e)},mergeCalendars:_.bind(l.mergeCalendars,l),createCalendar:_.bind(l.createCalendar,l),addCalendar:_.bind(l.addCalendar,l),getCalendar:_.bind(l.getCalendar,l),getCalendars:_.bind(l.getCalendars,l),getResourceCalendar:_.bind(l.getResourceCalendar,l),getTaskCalendar:_.bind(l.getTaskCalendar,l),deleteCalendar:_.bind(l.deleteCalendar,l)}}}},function($,C){function f(_,l){this.argumentsHelper=l,this.$gantt=_}f.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(_){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._calculateDuration(_.start_date,_.end_date,_.unit,_.step)},_calculateDuration:function(_,l,s,u){var i=this.$gantt.date,a={week:6048e5,day:864e5,hour:36e5,minute:6e4},e=0;if(a[s])e=Math.round((l-_)/(u*a[s]));else{for(var t=new Date(_),n=new Date(l);t.valueOf()<n.valueOf();)e+=1,t=i.add(t,u,s);t.valueOf()!=l.valueOf()&&(e+=(n-t)/(i.add(t,u,s)-t))}return Math.round(e)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),l=_.start_date,s=_.end_date;return!!_.unit&&(l=new Date(l),s=new Date(s),l.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(_){return _ instanceof f},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments);return this.$gantt.date.add(_.start_date,_.step*_.duration,_.unit)}},$.exports=f},function($,C,f){var _=f(46),l=f(203);function s(u){this.$gantt=u.$gantt,this.argumentsHelper=_(this.$gantt),this.calendarManager=u,this.$disabledCalendar=new l(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(u){var i;if(this.$gantt.config.work_time){var a=this.calendarManager;u.task?i=a.getTaskCalendar(u.task):u.id?i=a.getTaskCalendar(u):u.calendar&&(i=u.calendar),i||(i=a.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(u){return u=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).getWorkHours(u.date)},setWorkTime:function(u,i){return u=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(u)},unsetWorkTime:function(u,i){return u=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(u)},isWorkTime:function(u,i,a,e){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(u){return u=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).getClosestWorkTime(u)},calculateDuration:function(){var u=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(u).calculateDuration(u)},hasDuration:function(){var u=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(u).hasDuration(u)},calculateEndDate:function(u){return u=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(u).calculateEndDate(u)}},$.exports=s},function($,C){$.exports=function(){var f={};return{getCalendarIdFromMultipleResources:function(_,l){var a,s=_.map(function(a){return a&&a.resource_id?a.resource_id:a}).sort().join("-");if(_.length){if(1===_.length)return l.getResourceCalendar(s).id;if(f[s])return f[s].id;var u=(a=l).mergeCalendars(_.map(function(e){return a.getResourceCalendar(e&&e.resource_id?e.resource_id:e)}));return f[s]=u,l.addCalendar(u)}return null}}}},function($,C){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(_)}$.exports={isLegacyResourceCalendarFormat:function(_){if(!_)return!1;for(var l in _)if(_[l]&&"object"===f(_[l]))return!0;return!1},getResourceProperty:function(_){var s=_.resource_property;if(this.isLegacyResourceCalendarFormat(_.resource_calendars))for(var u in _){s=u;break}return s},getCalendarIdFromLegacyConfig:function(_,l){if(l)for(var s in l)if(_[s]){var i=l[s][_[s]];if(i)return i}return null}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(){this.clear()}return l.prototype._getCacheObject=function(s,u,i){var a=this._cache;a[u]||(a[u]=[]);var e=a[u];e||(e=a[u]={});var t=e[i];t||(t=e[i]={});var n=s.getFullYear(),r=t[n];return r||(r=t[n]={durations:{},endDates:{}}),r},l.prototype._endDateCacheKey=function(s,u){return String(s)+"-"+String(u)},l.prototype._durationCacheKey=function(s,u){return String(s)+"-"+String(u)},l.prototype.getEndDate=function(s,u,i,a,e){var t,n=this._getCacheObject(s,i,a),r=s.valueOf(),o=this._endDateCacheKey(r,u);if(void 0===n.endDates[o]){var c=e(),d=c.valueOf();n.endDates[o]=d,n.durations[this._durationCacheKey(r,d)]=u,t=c}else t=new Date(n.endDates[o]);return t},l.prototype.getDuration=function(s,u,i,a,e){var t,n=this._getCacheObject(s,i,a),r=s.valueOf(),o=u.valueOf(),c=this._durationCacheKey(r,o);if(void 0===n.durations[c]){var d=e();n.durations[c]=d.valueOf(),t=d}else t=n.durations[c];return t},l.prototype.clear=function(){this._cache={}},l}();C.DateDurationCache=_},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.LargerUnitsCache=function(l){var s=this;this.getMinutesPerWeek=function(u){var i=u.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var a=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(u)),r=0;r<7;r++)t+=60*a.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(u){var i=u.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var a=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(u)),r=e.date.add(n,1,"month").valueOf();n.valueOf()<r;)t+=60*a.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=l}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(){this.clear()}return l.prototype.getItem=function(s,u,i){var a=this._cache;if(a&&a[s]){var e=a[s];if(void 0===e)return-1;var t=e[i.getFullYear()];if(t&&void 0!==t[u])return t[u]}return-1},l.prototype.setItem=function(s,u,i,a){if(s&&u){var e=this._cache;if(e){e[s]||(e[s]=[]);var t=e[s],n=a.getFullYear(),r=t[n];r||(r=t[n]={}),r[u]=i}}},l.prototype.clear=function(){this._cache={}},l}();C.WorkUnitsObjectCache=_},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(){this.clear()}return l.prototype.getItem=function(s,u,i){if(this._cache.has(s)){var a=this._cache.get(s)[i.getFullYear()];if(a&&a.has(u))return a.get(u)}return-1},l.prototype.setItem=function(s,u,i,a){if(s&&u){var e,t=this._cache,n=a.getFullYear();t.has(s)?e=t.get(s):t.set(s,e=[]);var r=e[n];r||(r=e[n]=new Map),r.set(u,i)}},l.prototype.clear=function(){this._cache=new Map},l}();C.WorkUnitsMapCache=_},function($,C,f){function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var l=f(45).createCacheObject,s=f(45).LargerUnitsCache,u=f(0),i=f(207).DateDurationCache;function a(e,t){this.argumentsHelper=t,this.$gantt=e,this._workingUnitsCache=l(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}a.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var t=0,n=this.units.length;t<n;t++)if(this.units[t]==e)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(e.day||0===e.day)t=e.day;else if(e.date){var n=String(e.date.valueOf());this._cached_timestamps[n]?t=this._cached_timestamps[n]:(t=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[n]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(e,t){if(!this["_is_work_"+t]){var n=this.$gantt.date["".concat(t,"_start")](new Date(e)),r=this.$gantt.date.add(n,1,t);return this.hasDuration(n,r)}return this["_is_work_"+t](e)},_is_work_day:function(e){var t=this._getWorkHours(e);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(e){for(var t=this._getWorkHours(e),n=e.getHours(),r=0;r<t.length;r++)if(n>=t[r].startHour&&n<t[r].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,t){var n=e.getHours();return e.getHours()||e.getMinutes()||!t||(n=24),60*n*60+60*e.getMinutes()},_is_work_minute:function(e){for(var t=this._getWorkHours(e),n=this._getTimeOfDayStamp(e),r=0;r<t.length;r++)if(n>=t[r].start&&n<t[r].end)return!0;return!1},_nextDate:function(e,t,n){return this.$gantt.date.add(e,n,t)},_getWorkUnitsBetweenGeneric:function(e,t,n,r){var o=this.$gantt.date,c=new Date(e),d=new Date(t);r=r||1;var h,g,p=0,y=null,v=!1;(h=o[n+"_start"](new Date(c))).valueOf()!=c.valueOf()&&(v=!0);var m=!1;(g=o[n+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(m=!0);for(var k=!1;c.valueOf()<d.valueOf();){if(k=(y=this._nextDate(c,n,r)).valueOf()>d.valueOf(),this._isWorkTime(c,n))(v||m&&k)&&(h=o[n+"_start"](new Date(c)),g=o.add(h,r,n)),v?(v=!1,y=this._nextDate(h,n,r),p+=(g.valueOf()-c.valueOf())/(g.valueOf()-h.valueOf())):m&&k?(m=!1,p+=(d.valueOf()-c.valueOf())/(g.valueOf()-h.valueOf())):p++;else{var b=this._getUnitOrder(n),S=this.units[b-1];S&&!this._isWorkTime(c,S)&&(y=this._getClosestWorkTimeFuture(c,S))}c=y}return p},_getMinutesPerHour:function(e){var t=this._getTimeOfDayStamp(e),n=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));0===n&&(n=86400);for(var r=this._getWorkHours(e),o=0;o<r.length;o++){var c=r[o];if(t>=c.start&&n<=c.end)return 60;if(t<c.end&&n>c.start)return(Math.min(n,c.end)-Math.max(t,c.start))/60}return 0},_getMinutesPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationMinutes}),t},getHoursPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationHours}),t},_getWorkUnitsForRange:function(e,t,n,r){var o,c=0,d=new Date(e),h=new Date(t);for(o=u.bind("minute"==n?this._getMinutesPerDay:this.getHoursPerDay,this);d.valueOf()<h.valueOf();)if(h-d>27648e5&&0===d.getDate()){var g=this._largeUnitsCache.getMinutesPerMonth(d);"hour"==n&&(g/=60),c+=g,d=this.$gantt.date.add(d,1,"month")}else{if(h-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){g=this._largeUnitsCache.getMinutesPerWeek(d),"hour"==n&&(g/=60),c+=g,d=this.$gantt.date.add(d,7,"day");continue}}c+=o(d),d=this._nextDate(d,"day",1)}return c/r},_getMinutesBetweenSingleDay:function(e,t){for(var n=this._getIntervalTimestamp(e,t),r=this._getWorkHours(e),o=0,c=0;c<r.length;c++){var d=r[c];if(n.end>=d.start&&n.start<=d.end){var h=Math.max(d.start,n.start),g=Math.min(d.end,n.end);o+=(g-h)/60,n.start=g}}return Math.floor(o)},_getMinutesBetween:function(e,t,n,r){var o=new Date(e),c=new Date(t);r=r||1;var d=new Date(o),h=this.$gantt.date.add(this.$gantt.date.day_start(new Date(o)),1,"day");if(c.valueOf()<=h.valueOf())return this._getMinutesBetweenSingleDay(e,t);var g=this.$gantt.date.day_start(new Date(c)),p=c,y=this._getMinutesBetweenSingleDay(d,h),v=this._getMinutesBetweenSingleDay(g,p);return y+this._getWorkUnitsForRange(h,g,n,r)+v},_getHoursBetween:function(e,t,n,r){var o=new Date(e),c=new Date(t);r=r||1;var d=new Date(o),h=this.$gantt.date.add(this.$gantt.date.day_start(new Date(o)),1,"day");if(c.valueOf()<=h.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,t)/60);var g=this.$gantt.date.day_start(new Date(c)),p=c,y=this._getMinutesBetweenSingleDay(d,h,n,r)/60,v=this._getMinutesBetweenSingleDay(g,p,n,r)/60,m=y+this._getWorkUnitsForRange(h,g,n,r)+v;return Math.round(m)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var t in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t]);if(e.customWeeks){var n=null,r=null;for(var t in e.customWeeks){var o=e.customWeeks[t];if(o.from&&o.to){var c=o.from,d=o.to;(!n||n>c.valueOf())&&(n=c.valueOf()),(!r||r<d.valueOf())&&(r=d.valueOf()),e.parsed.customWeeksBoundaries.push({from:c.valueOf(),fromReadable:new Date(c),to:d.valueOf(),toReadable:new Date(d),name:t}),e.parsed.haveCustomWeeks=!0;var h=e.parsed.customWeeks[t]={from:o.from,to:o.to,hours:this._parseHours(o.hours),dates:{}};for(var g in o.dates)h.dates[g]=this._parseHours(o.dates[g])}}e.parsed.customWeeksRangeStart=n,e.parsed.customWeeksRangeEnd=r}},_tryChangeCalendarSettings:function(e){var t=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(e,t){if(e===t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_compareSettings:function(e,t){if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),r=Object.keys(t.dates);if(n.sort(),r.sort(),!this._arraysEqual(n,r))return!1;for(var o=0;o<n.length;o++){var c=n[o],d=e.dates[c],h=e.dates[c];if(d!==h&&!(Array.isArray(d)&&Array.isArray(h)&&this._arraysEqual(d,h)))return!1}return!0},equals:function(e){if(!(e instanceof a))return!1;var t=this.getConfig(),n=e.getConfig();if(!this._compareSettings(t,n))return!1;if(t.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var r in t.parsed.customWeeks){var c=n.parsed.customWeeks[r];if(!c||!this._compareSettings(t.parsed.customWeeks[r],c))return!1}}else if(t.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,t){var n=this.getConfig();if(!1!==t&&(n=n.parsed),!e)return n.hours;var r=this._timestamp({date:e});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=r&&n.customWeeksRangeEnd>r)for(var o=0;o<n.customWeeksBoundaries.length;o++)if(n.customWeeksBoundaries[o].from<=r&&n.customWeeksBoundaries[o].to>r){n=n.customWeeks[n.customWeeksBoundaries[o].name];break}var c=!0;return void 0!==n.dates[r]?c=n.dates[r]:void 0!==n.dates[e.getDay()]&&(c=n.dates[e.getDay()]),!0===c?n.hours:c||[]},_getIntervalTimestamp:function(e,t){var n={start:0,end:0};n.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var r=t.getHours();return!r&&!t.getMinutes()&&!t.getSeconds()&&e.valueOf()<t.valueOf()&&(r=24),n.end=60*r*60+60*t.getMinutes()+t.getSeconds(),n},_parseHours:function(e){if(Array.isArray(e)){var t=[];e.forEach(function(h){"number"==typeof h?t.push(60*h*60):"string"==typeof h&&h.split("-").map(function(g){return g.trim()}).forEach(function(g){var p=g.split(":").map(function(v){return v.trim()}),y=parseInt(60*p[0]*60);p[1]&&(y+=parseInt(60*p[1])),p[2]&&(y+=parseInt(p[2])),t.push(y)})});for(var n=[],r=0;r<t.length;r+=2){var o=t[r],c=t[r+1],d=c-o;n.push({start:o,end:c,startHour:Math.floor(o/3600),startMinute:Math.floor(o/60),endHour:Math.ceil(c/3600),endMinute:Math.ceil(c/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return n}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(u.bind(function(){var t=void 0===e.hours||e.hours,n=this._timestamp(e),r=this.getConfig();if(null!==n?r.dates[n]=t:e.customWeeks||(r.hours=t),e.customWeeks)if(r.customWeeks||(r.customWeeks={}),"string"==typeof e.customWeeks)null!==n?r.customWeeks[e.customWeeks].dates[n]=t:e.customWeeks||(r.customWeeks[e.customWeeks].hours=t);else if("object"===_(e.customWeeks)&&"function Object() { [native code] }"===Function.prototype.toString.call(e.customWeeks.constructor))for(var o in e.customWeeks)r.customWeeks[o]=e.customWeeks[o];this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(u.bind(function(){if(e){var t=this._timestamp(e);null!==t&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,t){var r,n=-1;return r=String(e.valueOf()),-1==(n=this._workingUnitsCache.getItem(t,r,e))&&(n=this._checkIfWorkingUnit(e,t),this._workingUnitsCache.setItem(t,r,n,e)),n},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var t=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return t._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,t,n,r){var o,c=1;if(e.valueOf()>t.valueOf()){var d=t;t=e,e=d,c=-1}return o="hour"==n&&1==r?this._getHoursBetween(e,t,n,r):"minute"==n&&1==r?this._getMinutesBetween(e,t,n,r):this._getWorkUnitsBetweenGeneric(e,t,n,r),c*Math.round(o)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=e.end_date,r=e.unit,o=e.step;if(!r)return!1;var c=new Date(e.start_date),d=new Date(n);for(o=o||1;c.valueOf()<d.valueOf();){if(this._isWorkTime(c,r))return!0;c=this._nextDate(c,r,o)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.duration,r=e.unit,o=e.step;if(!r)return!1;var c=e.duration>=0?1:-1;n=Math.abs(1*n);var d=this;return this._dateDurationCache.getEndDate(t,n,r,o*c,function(){return d._calculateEndDate(t,n,r,o*c)})},_calculateEndDate:function(e,t,n,r){return!!n&&(1==r&&"minute"==n?this._calculateMinuteEndDate(e,t,r):-1==r&&"minute"==n?this._subtractMinuteDate(e,t,r):1==r&&"hour"==n?this._calculateHourEndDate(e,t,r):this._addInterval(e,t,n,r,null).end)},_addInterval:function(e,t,n,r,o){for(var c=0,d=e,h=!1;c<t&&(!o||!o(d));){var g=this._nextDate(d,n,r);"day"==n&&(h=h||!d.getHours()&&g.getHours())&&(g.setHours(0),g.getHours()||(h=!1));var p=new Date(g.valueOf()+1);r>0&&(p=new Date(g.valueOf()-1)),this._isWorkTime(p,n)&&!h&&c++,d=g}return{end:d,start:e,added:c}},_addHoursUntilDayEnd:function(e,t){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),r=0,o=t,c=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),h=0;h<d.length&&r<t;h++){var g=d[h];if(c.end>=g.start&&c.start<=g.end){var p=Math.max(g.start,c.start),y=Math.min(g.end,c.end),v=(y-p)/3600;v>o&&(v=o,y=p+60*o*60);var m=Math.round((y-p)/3600);r+=m,o-=m,c.start=y}}var k=n;return r===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,c.start)),{added:r,end:k}},_calculateHourEndDate:function(e,t,n){var r=new Date(e),o=0;n=n||1,t=Math.abs(1*t);var c=this._addHoursUntilDayEnd(r,t);if(r=c.end,p=t-(o=c.added)){for(var d=r;o<t;){var h=this._nextDate(d,"day",n);h.setHours(0),h.setMinutes(0),h.setSeconds(0);var g;if(o+(g=this.getHoursPerDay(n>0?new Date(h.valueOf()-1):new Date(h.valueOf()+1)))>=t)break;o+=g,d=h}r=d}if(o<t){var p=t-o;r=(c=this._addHoursUntilDayEnd(r,p)).end}return r},_addMinutesUntilHourEnd:function(e,t){if(0===e.getMinutes())return{added:0,end:new Date(e)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),r=0,o=t,c=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),h=0;h<d.length&&r<t;h++){var g=d[h];if(c.end>=g.start&&c.start<=g.end){var p=Math.max(g.start,c.start),y=Math.min(g.end,c.end),v=(y-p)/60;v>o&&(v=o,y=p+60*o);var m=Math.round((y-p)/60);o-=m,r+=m,c.start=y}}var k=n;return r===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,c.start)),{added:r,end:k}},_subtractMinutesUntilHourStart:function(e,t){for(var n=this.$gantt.date.hour_start(new Date(e)),r=0,o=t,c=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),h=this._getWorkHours(e),g=h.length-1;g>=0&&r<t;g--){var p=h[g];if(d>p.start&&c<=p.end){var y=Math.min(d,p.end),v=Math.max(c,p.start),m=(y-v)/60;m>o&&(m=o,v=y-60*o);var k=Math.abs(Math.round((y-v)/60));o-=k,r+=k,d=v}}var b=n;return r===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,d)),{added:r,end:b}},_subtractMinuteDate:function(e,t,n){var r=new Date(e),o=0;n=n||-1,t=Math.abs(1*t),t=Math.round(t);var c=this._isMinutePrecision(r),d=this._subtractMinutesUntilHourStart(r,t);o+=d.added,r=d.end;for(var h=0,g=[],p=0;o<t;){var y=this.$gantt.date.day_start(new Date(r)),v=!1;r.valueOf()===y.valueOf()&&(y=this.$gantt.date.add(y,-1,"day"),v=!0);var m=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999).valueOf();m!==h&&(g=this._getWorkHours(y),p=this._getMinutesPerDay(y),h=m);var k=t-o,b=this._getTimeOfDayStamp(r,v);if(g.length&&p)if(g[g.length-1].end<=b&&k>p)o+=p,r=this.$gantt.date.add(r,-1,"day");else{for(var S=!1,w=null,x=null,T=g.length-1;T>=0;T--)if(g[T].start<b-1&&g[T].end>=b-1){S=!0,w=g[T],x=g[T-1];break}if(S)if(b===w.end&&k>=w.durationMinutes)o+=w.durationMinutes,r=this.$gantt.date.add(r,-w.durationMinutes,"minute");else if(!c&&k<=b/60-w.startMinute)o+=k,r=this.$gantt.date.add(r,-k,"minute");else if(c)k<=b/60-w.startMinute?(o+=k,r=this.$gantt.date.add(r,-k,"minute")):(o+=b/60-w.startMinute,r=x?new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,x.end):this.$gantt.date.day_start(r));else{var E=this._getMinutesPerHour(r);E<=k?(o+=E,r=this._nextDate(r,"hour",n)):(o+=(d=this._subtractMinutesUntilHourStart(r,k)).added,r=d.end)}else if(0===r.getHours()&&0===r.getMinutes()&&0===r.getSeconds()){if((I=this._getClosestWorkTimePast(r,"hour")).valueOf()===r.valueOf()){var I=this.$gantt.date.add(r,-1,"day"),L=this._getWorkHours(I);L.length&&I.setSeconds(L[L.length-1].durationSeconds)}r=I}else r=this._getClosestWorkTimePast(new Date(r-1),"hour")}else r=this.$gantt.date.add(r,-1,"day")}return o<t&&(o+=(d=this._subtractMinutesUntilHourStart(r,t-o)).added,r=d.end),r},_calculateMinuteEndDate:function(e,t,n){var r=new Date(e),o=0;n=n||1,t=Math.abs(1*t),t=Math.round(t);var c=this._addMinutesUntilHourEnd(r,t);o+=c.added;for(var d=0,h=[],g=0,p=this._isMinutePrecision(r=c.end);o<t;){var y=this.$gantt.date.day_start(new Date(r)).valueOf();y!==d&&(h=this._getWorkHours(r),g=this._getMinutesPerDay(r),d=y);var v=t-o,m=this._getTimeOfDayStamp(r);if(h.length&&g)if(h[0].start>=m&&v>=g){if(o+=g,v==g){r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,h[h.length-1].end);break}r=this.$gantt.date.add(r,1,"day"),r=this.$gantt.date.day_start(r)}else{for(var k=!1,b=null,S=0;S<h.length;S++)if(h[S].start<=m&&h[S].end>m){k=!0,b=h[S];break}if(k)if(m===b.start&&v>=b.durationMinutes)o+=b.durationMinutes,r=this.$gantt.date.add(r,b.durationMinutes,"minute");else if(v<=b.endMinute-m/60)o+=v,r=this.$gantt.date.add(r,v,"minute");else{var w=this._getMinutesPerHour(r);w<=v?(o+=w,r=p?this.$gantt.date.add(r,w,"minute"):this._nextDate(r,"hour",n)):(o+=(c=this._addMinutesUntilHourEnd(r,v)).added,r=c.end)}else r=this._getClosestWorkTimeFuture(r,"hour")}else r=this.$gantt.date.add(this.$gantt.date.day_start(r),1,"day")}return o<t&&(o+=(c=this._addMinutesUntilHourEnd(r,t-o)).added,r=c.end),r},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,t,n){var r=new Date(e);if(this._isWorkTime(r,t))return r;if(r=this.$gantt.date[t+"_start"](r),"any"!=n&&n)r="past"==n?this._getClosestWorkTimePast(r,t):this._getClosestWorkTimeFuture(r,t);else{var o=this._getClosestWorkTimeFuture(r,t),c=this._getClosestWorkTimePast(r,t);r=Math.abs(o-e)<=Math.abs(e-c)?o:c}return r},_getClosestWorkTimeFuture:function(e,t){return this._getClosestWorkTimeGeneric(e,t,1)},_getClosestWorkTimePast:function(e,t){var n=this._getClosestWorkTimeGeneric(e,t,-1);return this.$gantt.date.add(n,1,t)},_findClosestTimeInDay:function(e,t,n){var r=new Date(e),o=null,c=!1;this._getWorkHours(r).length||(r=this._getClosestWorkTime(r,"day",t<0?"past":"future"),t<0&&(r=new Date(r.valueOf()-1),c=!0),n=this._getWorkHours(r));var d=this._getTimeOfDayStamp(r);if(c&&(d=this._getTimeOfDayStamp(new Date(r.valueOf()+1),c)),t>0){for(var h=0;h<n.length;h++)if(n[h].start>=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[h].start);break}}else for(h=n.length-1;h>=0;h--){if(n[h].end<=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[h].end);break}if(n[h].end>d&&n[h].start<=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,d);break}}return o},_getClosestWorkMinute:function(e,t,n){var r=new Date(e),o=this._getWorkHours(r),c=this._findClosestTimeInDay(r,n,o);return c||(r=this.calculateEndDate(r,n,"day"),n>0?r=this.$gantt.date.day_start(r):(r=this.$gantt.date.day_start(r),r=this.$gantt.date.add(r,1,"day"),r=new Date(r.valueOf()-1)),o=this._getWorkHours(r),c=this._findClosestTimeInDay(r,n,o)),n<0&&(c=this.$gantt.date.add(c,-1,t)),c},_getClosestWorkTimeGeneric:function(e,t,n){if("hour"===t||"minute"===t)return this._getClosestWorkMinute(e,t,n);for(var r=this._getUnitOrder(t),o=this.units[r-1],c=e,d=0;!this._isWorkTime(c,t)&&(!o||this._isWorkTime(c,o)||(c=n>0?this._getClosestWorkTimeFuture(c,o):this._getClosestWorkTimePast(c,o),!this._isWorkTime(c,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var h=c.getTimezoneOffset();c=this.$gantt.date.add(c,n,t),c=this.$gantt._correct_dst_change(c,h,n,t),this.$gantt.date[t+"_start"]&&(c=this.$gantt.date[t+"_start"](c))}return c},hasWorkTime:function(){var e=this.getConfig(),t=e.dates,n=[];for(var r in e.dates)Number(r)>6&&n.push(Number(r));var o=this._checkWorkHours(e.hours),c=!1;return[0,1,2,3,4,5,6].forEach(function(d){if(!c){var h=t[d];!0===h?c=o:Array.isArray(h)&&(c=this._checkWorkHours(h))}}.bind(this)),c},_checkWorkHours:function(e){if(0===e.length)return!1;for(var t=!1,n=0;n<e.length;n+=2)e[n]!==e[n+1]&&(t=!0);return t},_isMinutePrecision:function(e){var t=!1;return this._getWorkHours(e).forEach(function(n){(n.startMinute%60||n.endMinute%60)&&(t=!0)}),t}},$.exports=a},function($,C,f){var _=f(0);function l(){}l.prototype={_getIntervals:function(s){for(var u=[],i=0;i<s.length;i+=2)u.push({start:s[i],end:s[i+1]});return u},_toHoursArray:function(s){var u=[];function i(e){var r,o,t=Math.floor(e/3600);return t+":"+(r=Math.floor((e-60*t*60)/60),(o=String(r)).length<2&&(o="0"+o),o)}for(var a=0;a<s.length;a++)u.push(i(s[a].start)+"-"+i(s[a].end));return u},_intersectHourRanges:function(s,u){var i=[],a=s.length>u.length?s:u,e=s===a?u:s;a=a.slice(),e=e.slice(),i=[];for(var t=0;t<a.length;t++)for(var n=a[t],r=0;r<e.length;r++){var o=e[r];o.start<n.end&&o.end>n.start&&(i.push({start:Math.max(n.start,o.start),end:Math.min(n.end,o.end)}),n.end>o.end&&(e.splice(r,1),r--,t--))}return i},_mergeAdjacentIntervals:function(s){var u=s.slice();u.sort(function(t,n){return t.start-n.start});for(var i=u[0],a=1;a<u.length;a++){var e=u[a];e.start<=i.end?(e.end>i.end&&(i.end=e.end),u.splice(a,1),a--):i=e}return u},_mergeHoursConfig:function(s,u){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,u))},merge:function(s,u){var i=_.copy(s.getConfig().parsed),a=_.copy(u.getConfig().parsed),e={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,a.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var n=i.dates[t],r=a.dates[t];if(n&&r)if(Array.isArray(n)||Array.isArray(r)){var o=Array.isArray(n)?n:i.hours,c=Array.isArray(r)?r:a.hours;e.dates[t]=this._toHoursArray(this._mergeHoursConfig(o,c))}else e.dates[t]=!0;else e.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)e.customWeeks[t]=i.customWeeks[t];if(a.customWeeks)for(var t in a.customWeeks)e.customWeeks[t]=a.customWeeks[t];return e}},$.exports=l},function($,C,f){var _=f(0),l=f(46),s=f(212),u=f(211),i=f(206),a=f(205)();function e(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}e.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var n=t.days;if(n&&!t.dates){t.dates=t.dates||{};for(var r=0;r<n.length;r++)t.dates[r]=n[r],n[r]instanceof Array||(t.dates[r]=!!n[r])}return delete t.days,t},mergeCalendars:function(){var t=[],n=arguments;if(Array.isArray(n[0]))t=n[0].slice();else for(var r=0;r<arguments.length;r++)t.push(arguments[r]);var o,c=new s;return t.forEach(function(d){o=o?this._createCalendarFromConfig(c.merge(o,d)):d}.bind(this)),this.createCalendar(o)},_createCalendarFromConfig:function(t){var n=new u(this.$gantt,l(this.$gantt));n.id=String(_.uid());var r=this._convertWorkTimeSettings(t);if(r.customWeeks)for(var o in r.customWeeks)r.customWeeks[o]=this._convertWorkTimeSettings(r.customWeeks[o]);return n._setConfig(r),n},createCalendar:function(t){var n;t||(t={}),n=_.copy(t.getConfig?t.getConfig():t.worktime?t.worktime:t);var r=_.copy(this.defaults.fulltime.worktime);return _.mixin(n,r),this._createCalendarFromConfig(n)},getCalendar:function(t){var n=this._calendars[t=t||"global"];return n||(this.createDefaultCalendars(),n=this._calendars[t]),n},getCalendars:function(){var t=[];for(var n in this._calendars)t.push(this.getCalendar(n));return t},_getOwnCalendar:function(t){var n=this.$gantt.config;if(t[n.calendar_property])return this.getCalendar(t[n.calendar_property]);if(n.resource_calendars){var r;if(r=!1===this._legacyConfig?n.resource_property:i.getResourceProperty(n),Array.isArray(t[r]))n.dynamic_resource_calendars&&(o=a.getCalendarIdFromMultipleResources(t[r],this));else if(void 0===this._legacyConfig&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var o=i.getCalendarIdFromLegacyConfig(t,n.resource_calendars);else if(r&&t[r]&&n.resource_calendars[t[r]])var c=this.getResourceCalendar(t[r]);if(o&&(c=this.getCalendar(o)),c)return c}return null},getResourceCalendar:function(t){if(null==t)return this.getCalendar();var n;n="number"==typeof t||"string"==typeof t?t:t.id||t.key;var r=this.$gantt.config,o=r.resource_calendars,c=null;if(o){if(void 0===this._legacyConfig&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(r.resource_calendars)),this._legacyConfig){for(var d in o)if(o[d][n]){c=o[d][n];break}}else c=o[n];if(c)return this.getCalendar(c)}return this.getCalendar()},getTaskCalendar:function(t){var n,r=this.$gantt;if(null==t)return this.getCalendar();if(!(n="number"!=typeof t&&"string"!=typeof t||!r.isTaskExists(t)?t:r.getTask(t)))return this.getCalendar();var o=this._getOwnCalendar(n),c=!!r.getState().group_mode;if(!o&&r.config.inherit_calendar&&r.isTaskExists(n.parent)){for(var d=n;r.isTaskExists(d.parent)&&(d=r.getTask(d.parent),!r.isSummaryTask(d)||!(o=this._getOwnCalendar(d))););c&&!o&&t.$effective_calendar&&(o=this.getCalendar(t.$effective_calendar))}return o||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var n=t.id;(t=this.createCalendar(t)).id=n}if(t._tryChangeCalendarSettings(function(){})){var r=this.$gantt.config;return t.id=t.id||_.uid(),this._calendars[t.id]=t,r.worktimes||(r.worktimes={}),r.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var n=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],n.worktimes&&n.worktimes[t]&&delete n.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var n in t)if(!this._calendars[n]){var o=this.createCalendar(t[n]);o.id=n,this.addCalendar(o)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(n){return n instanceof Function})}},$.exports=e},function($,C,f){var _=f(213),l=f(204),s=f(202),u=f(0);$.exports=function(i){var a=new _(i),e=new l(a),t=s.create(a,e);u.mixin(i,t)}},function($,C,f){function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}var l=f(2);$.exports=function(s){function u(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,a,e){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",n=null;return arguments.length>=3?(t=a,n=e):"string"==typeof arguments[1]?t=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(r){this.on_load(r,t),this.callEvent("onLoadEnd",[i,t]),"function"==typeof n&&n.call(this)},this))},s.parse=function(i,a){this.on_load({xmlDoc:{responseText:i}},a)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,a){if(i.xmlDoc&&404===i.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),a||(a="json"),this.assert(this[a],"Invalid data type:'"+a+"'");var t=this[a].parse(i.xmlDoc.responseText,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var t,r,a=i.data||i.tasks;i.assignments&&(t=a,r={},i.assignments.forEach(function(o){r[o.task_id]||(r[o.task_id]=[]),r[o.task_id].push(o)}),t.forEach(function(o){o[s.config.resource_property]=r[o.id]||[]})),this.$data.tasksStore.parse(a),this.$data.linksStore.parse(i.links||(i.collections?i.collections.links:[])),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var a=!1;for(var e in i)if(i.hasOwnProperty(e)){a=!0;var t=i[e];this.serverList[e]=this.serverList[e]||[];var n=this.serverList[e];if(!n)continue;n.splice(0,n.length);for(var r=0;r<t.length;r++){var o=t[r],c=this.copy(o);for(var d in c.key=c.value,o)if(o.hasOwnProperty(d)){if("value"==d||"label"==d)continue;c[d]=o[d]}n.push(c)}}a&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,a){return!a.$ignore}),s.json={parse:function(i){if(i||u(i),"string"==typeof i)if(null!=(typeof JSON>"u"?"undefined":_(JSON)))try{i=JSON.parse(i)}catch{u(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||u(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var a={};for(var e in i)a[e]=i[e];return a},_copyObject:function(i){var a={};for(var e in i)"$"!=e.charAt(0)&&(a[e]=i[e],l.isDate(a[e])&&(a[e]=s.defined(s.templates.xml_format)?s.templates.xml_format(a[e]):s.templates.format_date(a[e])));return a},serialize:function(){var i=[],a=[];s.eachTask(function(n){s.resetProjectDates(n),i.push(this.serializeTask(n))},s.config.root_id,this);for(var e=s.getLinks(),t=0;t<e.length;t++)a.push(this.serializeLink(e[t]));return{data:i,links:a}}},s.xml={_xmlNodeToJSON:function(i,a){for(var e={},t=0;t<i.attributes.length;t++)e[i.attributes[t].name]=i.attributes[t].value;if(!a){for(t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];1==n.nodeType&&(e[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}e.text||(e.text=i.firstChild?i.firstChild.nodeValue:"")}return e},_getCollections:function(i){for(var a={},e=s.ajax.xpath("//coll_options",i),t=0;t<e.length;t++)for(var n=a[e[t].getAttribute("for")]=[],r=s.ajax.xpath(".//item",e[t]),o=0;o<r.length;o++){for(var c=r[o].attributes,d={key:r[o].getAttribute("value"),label:r[o].getAttribute("label")},h=0;h<c.length;h++){var g=c[h];"value"!=g.nodeName&&"label"!=g.nodeName&&(d[g.nodeName]=g.nodeValue)}n.push(d)}return a},_getXML:function(i,a,e){e=e||"data",a.getXMLTopNode||(a=s.ajax.parse(a));var t=s.ajax.xmltop(e,a.xmlDoc);t&&t.tagName==e||function(r){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(r)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(r))}(i);var n=t.getAttribute("dhx_security");return n&&(s.security_key=n),t},parse:function(i,a){a=this._getXML(i,a);for(var e={},t=e.data=[],n=s.ajax.xpath("//task",a),r=0;r<n.length;r++)t[r]=this._xmlNodeToJSON(n[r]);return e.collections=this._getCollections(a),e},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],a=[],e=s.json.serialize(),t=0,n=e.data.length;t<n;t++)i.push(this._copyObject(e.data[t]));for(t=0,n=e.links.length;t<n;t++)a.push(this._copyLink(e.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+a.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,a){a=s.xml._getXML(i,a,"projects");for(var e={collections:{links:[]}},t=e.data=[],n=s.ajax.xpath("//task",a),r=0;r<n.length;r++){t[r]=s.xml._xmlNodeToJSON(n[r]);var o=n[r].parentNode;t[r].parent="project"==o.tagName?"project-"+o.getAttribute("id"):o.parentNode.getAttribute("id")}for(n=s.ajax.xpath("//project",a),r=0;r<n.length;r++)(c=s.xml._xmlNodeToJSON(n[r],!0)).id="project-"+c.id,t.push(c);for(r=0;r<t.length;r++){var c;(c=t[r]).start_date=c.startdate||c.est,c.end_date=c.enddate,c.text=c.name,c.duration=c.duration/8,c.open=1,c.duration||c.end_date||(c.duration=1),c.predecessortasks&&e.collections.links.push({target:c.id,source:c.predecessortasks,type:s.config.links.finish_to_start})}return e},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,a){return a?this.serverList[i]=a.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function($,C){$.exports=function(f){f.isReadonly=function(_){return"number"!=typeof _&&"string"!=typeof _||!f.isTaskExists(_)||(_=f.getTask(_)),(!_||!_[this.config.editable_property])&&(_&&_[this.config.readonly_property]||this.config.readonly)}}},function($,C){$.exports=function(f){f.getGridColumn=function(_){for(var l=f.config.columns,s=0;s<l.length;s++)if(l[s].name==_)return l[s];return null},f.getGridColumns=function(){return f.config.columns.slice()}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){this._scrollOrder=0;var i=s.grid,a=s.dnd,e=s.getCurrentX;this.$gantt=s.gantt,this.$grid=i,this._dnd=a,this.getCurrentX=e,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return l.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(u,i){var a=s.$grid.$grid.getBoundingClientRect(),e=a.right,t=a.left,n=s.getCurrentX(i.clientX);return n>=e-20&&(s.autoscrollRight(),s.autoscrollStart()),n<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),n<e-20&&n>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},l.prototype.autoscrollStart=function(){var s=this;if(0!==this._scrollOrder){var u=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+u),setTimeout(function(){s.autoscrollStart()},50)}},l.prototype.autoscrollRight=function(){this._scrollOrder=1},l.prototype.autoscrollLeft=function(){this._scrollOrder=-1},l.prototype.autoscrollStop=function(){this._scrollOrder=0},l.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},l.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},l}();C.default=_},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(1),l=f(218),s=function(){function u(i,a){var e=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var n=e.$grid.$grid.getBoundingClientRect(),r=n.right,o=n.left,c=t;return c>r&&(c=r),c<o&&(c=o),c},this.$gantt=i,this.$grid=a}return u.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new l.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},u.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(a,e){if(i._draggedCell=i.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),i._draggedCell){var t,n,r=i.$grid.$getConfig().columns,o=i._draggedCell.getAttribute("data-column-id");return r.map(function(c,d){c.name===o&&(t=c,n=d)}),!1!==i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:n}])&&!(!i._draggedCell||!t||(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,0))}}),this._dnd.attachEvent("onAfterDragStart",function(a,e){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(a,e){if(i._draggedCell){i._dragX=e.clientX;var t=i.calculateCurrentPosition(e.clientX),n=i.findColumnsIndexes(),r=n.targetIndex,o=n.draggedIndex,c=i.$grid.$getConfig().columns;return!1===i.$grid.callEvent("onColumnDragMove",[{draggedColumn:c[o],targetColumn:c[r],draggedIndex:o,targetIndex:r}])?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(n),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},u.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),a=i.targetIndex,e=i.draggedIndex,t=this.$grid.$getConfig().columns,n=t[e],r=t[a];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:a}])&&a!==e&&(t.splice(e,1),t.splice(a,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:a}]))},u.prototype.findColumnsIndexes=function(){var i,a,e,t,n,r=this._dnd.config.column,o=this.$grid.$getConfig().columns,c={startX:0,endX:0},d=0,h=o.length-1,g=function(m,k){return m<=k},p=function(m){return++m};this.$gantt.config.rtl&&(d=o.length-1,h=0,g=function(m,k){return m>=k},p=function(m){return--m});for(var y=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),v=d;g(v,h)&&(void 0===i||void 0===a);v=p(v))o[v].hide||(c.startX=c.endX,c.endX+=o[v].width,y>=c.startX&&(y<=c.endX||!g(p(v),h))&&(i=v,e=c.startX,t=c.endX,n=(y-c.startX)/(c.endX-c.startX)),r===o[v].name&&(a=v));return{targetIndex:i,draggedIndex:a,xBefore:e,xAfter:t,columnRelativePos:n}},u.prototype.setMarkerPosition=function(i,a){void 0===a&&(a=10);var e=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();e.style.top=t.y+a+"px",e.style.left=i+"px"},u.prototype.drawTargetMarker=function(i){var e=i.targetIndex,t=i.draggedIndex,n=i.xBefore,r=i.xAfter,o=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),_.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),this._targetMarker.style.left=(e>t?r:e<t?n:o>.5?r:n)+"px",this._targetMarker.style.display="block"},u.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},u}();C.ColumnsGridDnd=s},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(219);C.default=_.ColumnsGridDnd},function($,C,f){var _=f(1);$.exports=function(l,s){var u={row_before_start:l.bind(function(i,a,e){var t=s.$getConfig(),n=s.$config.rowStore;if(!_.locateAttribute(e,t.task_grid_row_resizer_attribute))return!1;var r=this.locate(e,t.task_grid_row_resizer_attribute),o=n.getItem(r);return!1!==s.callEvent("onBeforeRowResize",[o])&&void 0},l),row_after_start:l.bind(function(i,a,e){var t=s.$getConfig(),n=this.locate(e,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=n},l),row_drag_move:l.bind(function(i,a,e){var t=s.$config.rowStore,n=s.$getConfig(),r=i.config,o=r.drag_id,c=s.getItemHeight(o),d=s.getItemTop(o),h=_.getNodePosition(s.$grid_data),g=parseInt(r.marker.style.top,10),p=d+h.y,y=0,v=n.min_task_grid_row_height;return(y=g-p)<v&&(y=v),r.marker.style.left=h.x+"px",r.marker.style.top=p-1+"px",r.marker.style.height=Math.abs(y)+1+"px",r.marker_height=y,s.callEvent("onRowResize",[o,t.getItem(o),y+c]),!0},l),row_drag_end:l.bind(function(i,a,e){var n=i.config,r=n.drag_id,o=s.$config.rowStore.getItem(r),c=s.getItemHeight(r),d=n.marker_height;!1!==s.callEvent("onBeforeRowResizeEnd",[r,o,d])&&o.row_height!=d&&(o.row_height=d,l.updateTask(r),s.callEvent("onAfterRowResize",[r,o,c,d]),this.render())},l)};return{init:function(){var i=l.$services.getService("dnd"),a=s.$getConfig(),e=new i(s.$grid_data,{updates_per_second:60});l.defined(a.dnd_sensitivity)&&(e.config.sensitivity=a.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return u.row_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return u.row_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return u.row_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return u.row_drag_end(e,t,n)})}}}},function($,C){$.exports=function(f){var _=-1,l=-1;return{resetCache:function(){_=-1,l=-1},_getRowHeight:function(){return-1===_&&(_=f.$getConfig().row_height),_},_refreshState:function(){this.resetCache(),l=!0;var s=f.$config.rowStore;if(s)for(var u=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var a=s.getItem(s.fullOrder[i]);if(a&&a.row_height&&a.row_height!==u){l=!1;break}}},canUseSimpleCalculation:function(){return-1===l&&this._refreshState(),l},getRowTop:function(s){return f.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return f.$config.rowStore?f.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return f.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function($,C,f){var _=f(1);$.exports=function(l,s){var u={column_before_start:l.bind(function(i,a,e){var t=s.$getConfig(),n=_.locateAttribute(e,t.grid_resizer_column_attribute);if(!n||!_.closest(n,".gantt_grid_column_resize_wrap"))return!1;var r=this.locate(e,t.grid_resizer_column_attribute),o=s.getGridColumns()[r];return!1!==s.callEvent("onColumnResizeStart",[r,o])&&void 0},l),column_after_start:l.bind(function(i,a,e){var t=s.$getConfig(),n=this.locate(e,t.grid_resizer_column_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_grid_resize_area",i.config.marker.style.height=s.$grid.offsetHeight+"px",i.config.marker.style.top="0px",i.config.drag_index=n},l),column_drag_move:l.bind(function(i,a,e){var t=s.$getConfig(),n=i.config,r=s.getGridColumns(),o=parseInt(n.drag_index,10),c=r[o],d=_.getNodePosition(s.$grid_scale),h=parseInt(n.marker.style.left,10),g=c.min_width?c.min_width:t.min_grid_column_width,p=s.$grid_data.offsetWidth,y=0,v=0;t.rtl?h=d.x+d.width-1-h:h-=d.x-1;for(var m=0;m<o;m++)g+=r[m].width,y+=r[m].width;if(h<g&&(h=g),t.keep_grid_width){var k=0;for(m=o+1;m<r.length;m++)r[m].min_width?p-=r[m].min_width:t.min_grid_column_width&&(p-=t.min_grid_column_width),r[m].max_width&&!1!==k?k+=r[m].max_width:k=!1;k&&(g=s.$grid_data.offsetWidth-k),h<g&&(h=g),h>p&&(h=p)}else if(!s.$config.scrollable){var b=h,S=l.$container.offsetWidth,w=0;if(s.$grid_data.offsetWidth<=S-25)for(m=o+1;m<r.length;m++)w+=r[m].width;else{for(m=o+1;m>=0;m--)w+=r[m].width;w=S-w}w>S&&(w-=S);var x=s.$parent.$parent;x&&"y"==x.$config.mode&&(S=Math.min(S,x.$lastSize.x-(x.$cells.length-1))),b+w>S&&(h=S-w)}return n.left=h-1,v=Math.abs(h-y),c.max_width&&v>c.max_width&&(v=c.max_width),t.rtl&&(y=d.width-y+2-v),n.marker.style.top=d.y+"px",n.marker.style.left=d.x-1+y+"px",n.marker.style.width=v+"px",s.callEvent("onColumnResize",[o,r[o],v-1]),!0},l),column_drag_end:l.bind(function(i,a,e){for(var t=s.$getConfig(),n=s.getGridColumns(),r=0,o=parseInt(i.config.drag_index,10),c=n[o],d=0;d<o;d++)r+=n[d].width;var h=c.min_width&&i.config.left-r<c.min_width?c.min_width:i.config.left-r;if(c.max_width&&c.max_width<h&&(h=c.max_width),!1!==s.callEvent("onColumnResizeEnd",[o,c,h])&&c.width!=h){if(c.width=h,t.keep_grid_width)r=t.grid_width;else{d=o;for(var g=n.length;d<g;d++)r+=n[d].width}s.callEvent("onColumnResizeComplete",[n,s._setColumnsWidth(r,o)]),s.$config.scrollable||l.$layout._syncCellSizes(s.$config.group,{value:t.grid_width,isGravity:!1}),this.render()}},l)};return{init:function(){var i=l.$services.getService("dnd"),a=s.$getConfig(),e=new i(s.$grid_scale,{updates_per_second:60});l.defined(a.dnd_sensitivity)&&(e.config.sensitivity=a.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return u.column_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return u.column_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return u.column_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return u.column_drag_end(e,t,n)})},doOnRender:function(){for(var i=s.getGridColumns(),a=s.$getConfig(),e=0,t=s.$config.width,n=a.scale_height,r=0;r<i.length;r++){var o,c=i[r];if(e+=c.width,o=a.rtl?t-e:e,c.resize){var d=document.createElement("div");d.className="gantt_grid_column_resize_wrap",d.style.top="0px",d.style.height=n+"px",d.innerHTML="<div class='gantt_grid_column_resize'></div>",d.setAttribute(a.grid_resizer_column_attribute,r),d.setAttribute("column_index",r),l._waiAria.gridSeparatorAttr(d),s.$grid_scale.appendChild(d),d.style.left=Math.max(0,o)+"px"}}}}}},function($,C,f){var _=f(34);$.exports=function(l){f(217)(l),_.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,u=[],i=0;i<s.length;i++)s[i].hide||u.push(s[i]);return u}}},function($,C,f){$.exports=function(_){var l=f(52),s={};_.attachEvent("onClearAll",function(){s={}});var u=l.prototype.hasChild;_.$data.tasksStore.hasChild=function(i){return _.config.branch_loading?!!u.call(this,i)||!!this.exists(i)&&this.getItem(i)[_.config.branch_loading_property]:u.call(this,i)},_.attachEvent("onTaskOpened",function(i){if(_.config.branch_loading&&_._load_url&&(r=i,_.config.branch_loading&&_._load_url&&!s[r]&&!_.getChildren(r).length&&_.hasChild(r))){var a=_._load_url,e=(a=a.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=_.getScrollState().y||0,n={taskId:i,url:a+e+"parent_id="+encodeURIComponent(i)};if(!1===_.callEvent("onBeforeBranchLoading",[n]))return;_.load(n.url,this._load_type,function(){t&&_.scrollTo(null,t),_.callEvent("onAfterBranchLoading",[n])}),s[i]=!0}var r})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(_){_.ext=_.ext||{},_.config.show_empty_state=!1,_.ext.emptyStateElement=_.ext.emptyStateElement||{isEnabled:function(){return!0===_.config.show_empty_state},isGanttEmpty:function(){return!_.getTaskByTime().length},renderContent:function(l){l.innerHTML="<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>\n    <div class='gantt_empty_state_text_link' data-empty-state-create-task>"+_.locale.labels.empty_state_text_link+"</div>\n    <div class='gantt_empty_state_text_description'>"+_.locale.labels.empty_state_text_description+"</div>\n    </div></div>"},clickEvents:[],attachAddTaskEvent:function(){var l=_.attachEvent("onEmptyClick",function(s){_.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&_.createTask({id:_.uid(),text:"New Task"})});this.clickEvents.push(l)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(l){_.detachEvent(l)}),this.clickEvents=[]},getContainer:function(){if(_.$container){var l=_.utils.dom;if(_.$container.contains(_.$grid_data))return l.closest(_.$grid_data,".gantt_layout_content");if(_.$container.contains(_.$task_data))return l.closest(_.$task_data,".gantt_layout_content")}return null},getNode:function(){var l=this.getContainer();return l?l.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var l=this.getContainer();if(!l&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=_.config.scale_height-l.offsetHeight+"px";var u=_.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(u,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),l.appendChild(s),this.renderContent(s)},hide:function(){var l=this.getNode();if(!l)return!1;l.parentNode.removeChild(l)},init:function(){}},_.attachEvent("onDataRender",function(){var l=_.ext.emptyStateElement;l.isEnabled()&&l.isGanttEmpty()?l.show():l.hide()})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){var u=this;this.format=function(i){return u._getWBSCode(i.source)},this.canParse=function(i){return u._linkReg.test(i)},this.parse=function(i){if(!u.canParse(i))return null;var a=u._linkReg.exec(i)[0].trim();return{id:void 0,source:u._findSource(a)||null,target:null,type:u._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var a=u._gantt.getTask(i);return u._gantt.getWBSCode(a)},this._findSource=function(i){var a=new RegExp("^[0-9.]+","i");if(a.exec(i)){var e=a.exec(i)[0],t=u._gantt.getTaskByWBSCode(e);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return l.create=function(s,u){return void 0===s&&(s=null),new l(u)},l}();C.default=_},function($,C,f){"use strict";var s,_=this&&this.__extends||(s=function(u,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(u,i)},function(u,i){function a(){this.constructor=u}s(u,i),u.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)});Object.defineProperty(C,"__esModule",{value:!0});var l=function(s){function u(i,a){var e=s.call(this,a)||this;return e.format=function(t){var n=e._getFormattedLinkType(e._getLinkTypeName(t.type)),r=e._getWBSCode(t.source),o=e._getLagString(t.lag);return t.type!==e._gantt.config.links.finish_to_start||t.lag?""+r+n+o:r},e.parse=function(t){if(!e.canParse(t))return null;var n=e._linkReg.exec(t)[0].trim(),r=t.replace(n,"").trim(),o=e._findTypeFormat(n),c=e._getLinkTypeNumber(o);return{id:void 0,source:e._findSource(n)||null,target:null,type:c,lag:e._parseLag(r)}},e._getLinkTypeName=function(t){var n="";for(n in e._config.labels)if(e._gantt.config.links[n].toLowerCase()===t.toLowerCase())break;return n},e._getLinkTypeNumber=function(t){var n="";for(n in e._gantt.config.links)if(n.toLowerCase()===t.toLowerCase())break;return e._gantt.config.links[n]},e._getFormattedLinkType=function(t){return e._config.labels[t]||""},e._getLagString=function(t){if(!t)return"";var n=e._config.durationFormatter.format(t);return t<0?n:"+"+n},e._findTypeFormat=function(t){var n=t.replace(/[^a-zA-Z]/gi,""),r="finish_to_start";for(var o in e._config.labels)e._config.labels[o].toLowerCase()===n.toLowerCase()&&(r=o);return r},e._parseLag=function(t){return t?e._config.durationFormatter.parse(t):0},e._config=e._defaultSettings(i),e._linkReg=/^[0-9\.]+[a-zA-Z]*/,e}return _(u,s),u.prototype._defaultSettings=function(i){void 0===i&&(i=null);var a={durationFormatter:this._gantt.ext.formatters.durationFormatter(),labels:{finish_to_finish:"FF",finish_to_start:"FS",start_to_start:"SS",start_to_finish:"SF"}};if(i&&i.durationFormatter&&(a.durationFormatter=i.durationFormatter),i&&i.labels)for(var e in i.labels)a.labels[e]=i.labels[e];return a},u.create=function(i,a){return void 0===i&&(i=null),new u(i,a)},u}(f(227).default);C.default=l},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){void 0===s&&(s=null);var u=this;this.canParse=function(i){var a="",e=u._config.labels;for(var t in e){var n=e[t];a+=n.full+"|"+n.plural+"|"+n.short+"|"}return new RegExp("^([+-]? *[0-9.]{1,}\\s*("+a+")\\s*)*$").test((i||"").trim())},this.format=function(i){var e=u._config.format,t=u._config.short,n=u.transferUnits[u._config.store].toMinutes(i),r=e;if(r&&"auto"===r&&(r=u._selectFormatForValue(n)),r||(r="day"),"auto"===e&&!i)return"";for(var o="",c=(r=Array.isArray(r)?r:[r]).length-1,d=0;d<r.length;d++){var h=r[d],g=u._getValueFromMinutes(n,h,d===c);n-=u._getValueInMinutes(g,h),o+=u._getLabelForConvert(g,h,t)+(d===c?"":" ")}return o},this.parse=function(i){if(u.canParse(i)){for(var a="",e=!1,t=!1,n=0,r=(i=(i||"").trim()).length-1,o=/^[+\-0-9\. ]$/,c=0;c<i.length;c++){var d=i[c];o.test(d)?t=e:e=!0,(t||r===c)&&(t||(a+=d),n+=u._getNumericValue(a),e=t=!1,a=""),a+=d}if(n)return Math.round(u.transferUnits[u._config.store].fromMinutes(Math.ceil(n)))}return null},this._getValueInMinutes=function(i,a){return u.transferUnits[a]&&u.transferUnits[a].toMinutes?u.transferUnits[a].toMinutes(i):0},this._getLabelForConvert=function(i,a,e){var t=u._config.labels[a];return e?""+i+t.short:i+" "+(1!==i?t.plural:t.full)},this._getValueFromMinutes=function(i,a,e){if(u.transferUnits[a]&&u.transferUnits[a].fromMinutes){var t=u.transferUnits[a].fromMinutes(i);return e?parseFloat(t.toFixed(2)):parseInt(t.toString(),10)}return null},this._isUnitName=function(i,a){return a=a.toLowerCase(),i.full.toLowerCase()===a||i.plural.toLowerCase()===a||i.short.toLowerCase()===a},this._getUnitName=function(i){var a,e=u._config.labels,t=!1;for(a in e)if(u._isUnitName(e[a],i)){t=!0;break}return t?a:u._config.enter},this._config=this._defaultSettings(s),this.transferUnits={minute:{toMinutes:function(i){return i},fromMinutes:function(i){return i}},hour:{toMinutes:function(i){return i*u._config.minutesPerHour},fromMinutes:function(i){return i/u._config.minutesPerHour}},day:{toMinutes:function(i){return i*u._config.minutesPerHour*u._config.hoursPerDay},fromMinutes:function(i){return i/(u._config.minutesPerHour*u._config.hoursPerDay)}},week:{toMinutes:function(i){return i*u._config.minutesPerHour*u._config.hoursPerWeek},fromMinutes:function(i){return i/(u._config.minutesPerHour*u._config.hoursPerWeek)}},month:{toMinutes:function(i){return i*u._config.minutesPerHour*u._config.hoursPerDay*u._config.daysPerMonth},fromMinutes:function(i){return i/(u._config.minutesPerHour*u._config.hoursPerDay*u._config.daysPerMonth)}},year:{toMinutes:function(i){return i*u._config.minutesPerHour*u._config.hoursPerDay*u._config.daysPerYear},fromMinutes:function(i){return i/(u._config.minutesPerHour*u._config.hoursPerDay*u._config.daysPerYear)}}}}return l.prototype._defaultSettings=function(s){void 0===s&&(s=null);var u={enter:"day",store:"hour",format:"auto",short:!1,minutesPerHour:60,hoursPerDay:8,hoursPerWeek:40,daysPerMonth:30,daysPerYear:365,labels:{minute:{full:"minute",plural:"minutes",short:"min"},hour:{full:"hour",plural:"hours",short:"h"},day:{full:"day",plural:"days",short:"d"},week:{full:"week",plural:"weeks",short:"wk"},month:{full:"month",plural:"months",short:"mon"},year:{full:"year",plural:"years",short:"y"}}};if(s){for(var i in s)void 0!==s[i]&&"labels"!==i&&(u[i]=s[i]);if(s.labels)for(var i in s.labels)u.labels[i]=s.labels[i]}return u},l.prototype._selectFormatForValue=function(s){for(var u=["year","month","day","hour","minute"],i=[],a=0;a<u.length;a++)i[a]=Math.abs(this.transferUnits[u[a]].fromMinutes(s));for(a=0;a<i.length;a++)if(!(i[a]<1&&a<i.length-1))return u[a];return"day"},l.prototype._getNumericValue=function(s){var u=parseFloat(s.replace(/ /g,""))||0,i=this._getUnitName(s.replace(/[^a-zA-Z]/gi,""));return u&&i?this._getValueInMinutes(u,i):0},l.create=function(s){return void 0===s&&(s=null),new l(s)},l}();C.default=_},function($,C,f){var _=f(229).default,l=f(228).default;$.exports=function(s){s.ext.formatters={durationFormatter:function(u){return u||(u={}),u.store||(u.store=s.config.duration_unit),u.enter||(u.enter=s.config.duration_unit),_.create(u,s)},linkFormatter:function(u){return l.create(u,s)}}}},function($,C){$.exports=function(f){function _(r){return function(){return!f.config.auto_types||f.getTaskType(f.config.types.project)!=f.config.types.project||r.apply(this,arguments)}}function l(r,o){var c=f.getTask(r),d=i(c);!1!==d&&f.getTaskType(c)!==d&&(o.$needsUpdate=!0,o[c.id]={task:c,type:d})}function s(r){if(!f.getState().group_mode){var o=(l(c=r,d=d||{}),f.eachParent(function(h){l(h.id,d)},c),d);o.$needsUpdate&&f.batchUpdate(function(){!function(c){for(var d in c)if(c[d]&&c[d].task){var h=c[d].task;h.type=c[d].type,f.updateTask(h.id)}}(o)})}var c,d}var u;function i(r){var o=f.config.types,c=f.hasChild(r.id),d=f.getTaskType(r.type);return c&&d===o.task?o.project:!c&&d===o.project&&o.task}var a,e,t=!0;function n(r){r!=f.config.root_id&&f.isTaskExists(r)&&s(r)}f.attachEvent("onParse",_(function(){t=!1,f.getState().group_mode||(f.batchUpdate(function(){f.eachTask(function(r){var c,d,o=i(r);!1!==o&&(c=r,d=o,f.getState().group_mode||(c.type=d,f.updateTask(c.id)))})}),t=!0)})),f.attachEvent("onAfterTaskAdd",_(function(r){t&&s(r)})),f.attachEvent("onAfterTaskUpdate",_(function(r){t&&s(r)})),f.attachEvent("onBeforeTaskDelete",_(function(r,o){return u=f.getParent(r),!0})),f.attachEvent("onAfterTaskDelete",_(function(r,o){n(u)})),f.attachEvent("onRowDragStart",_(function(r,o,c){return a=f.getParent(r),!0})),f.attachEvent("onRowDragEnd",_(function(r,o){n(a),s(r)})),f.attachEvent("onBeforeTaskMove",_(function(r,o,c){return e=f.getParent(r),!0})),f.attachEvent("onAfterTaskMove",_(function(r,o,c){document.querySelector(".gantt_drag_marker")||(n(e),s(r))}))}},function($,C){$.exports=function(f){function _(e){return function(){return!f.config.placeholder_task||e.apply(this,arguments)}}function l(){var e=f.getTaskBy("type",f.config.types.placeholder);if(!e.length||!f.isTaskExists(e[0].id)){var t={unscheduled:!0,type:f.config.types.placeholder,duration:0,text:f.locale.labels.new_task};if(!1===f.callEvent("onTaskCreated",[t]))return;f.addTask(t)}}function s(e){var t=f.getTask(e);t.type==f.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),f.batchUpdate(function(){var n=f.copy(t);f.silent(function(){f.deleteTask(t.id)}),delete n["!nativeeditor_status"],n.type=f.config.types.task,n.id=f.uid(),f.addTask(n)}))}f.config.types.placeholder="placeholder",f.attachEvent("onDataProcessorReady",_(function(e){e&&!e._silencedPlaceholder&&(e._silencedPlaceholder=!0,e.attachEvent("onBeforeUpdate",_(function(t,n,r){return r.type!=f.config.types.placeholder||(e.setUpdated(t,!1),!1)})))}));var u=!1;function i(e){return!(!f.config.types.placeholder||!f.isTaskExists(e)||f.getTask(e).type!=f.config.types.placeholder)}function a(e){return!(!i(e.source)&&!i(e.target))}f.attachEvent("onGanttReady",function(){u||(u=!0,f.attachEvent("onAfterTaskUpdate",_(s)),f.attachEvent("onAfterTaskAdd",_(function(e,t){t.type!=f.config.types.placeholder&&(f.getTaskBy("type",f.config.types.placeholder).forEach(function(n){f.silent(function(){f.isTaskExists(n.id)&&f.deleteTask(n.id)})}),l())})),f.attachEvent("onParse",_(l)))}),f.attachEvent("onLinkValidation",function(e){return!a(e)}),f.attachEvent("onBeforeLinkAdd",function(e,t){return!a(t)}),f.attachEvent("onBeforeUndoStack",function(e){for(var t=0;t<e.commands.length;t++){var n=e.commands[t];"task"===n.entity&&n.value.type===f.config.types.placeholder&&(e.commands.splice(t,1),t--)}return!0})}},function($,C){$.exports=function(f){var _="$resourceAssignments";f.config.resource_assignment_store="resourceAssignments",f.config.process_resource_assignments=!0;var l={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=l.auto,u={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(h,g){h.start_date=h.start_date?f.date.parseDate(h.start_date,"parse_date"):null,h.end_date=h.end_date?f.date.parseDate(h.end_date,"parse_date"):null;var p=Number(h.delay),y=!1;if(isNaN(p)?(h.delay=0,y=!0):h.delay=p,f.defined(h.value)||(h.value=null),!h.task_id||!h.resource_id)return!1;if(h.mode=h.mode||u.default,h.mode===u.fixedDuration&&(isNaN(Number(h.duration))&&(g=g||f.getTask(h.task_id),h.duration=f.calculateDuration({start_date:h.start_date,end_date:h.end_date,id:g})),y&&(g=g||f.getTask(h.task_id),h.delay=f.calculateDuration({start_date:g.start_date,end_date:h.start_date,id:g}))),h.mode!==u.fixedDates&&(g||f.isTaskExists(h.task_id))){var v=e(h,g=g||f.getTask(h.task_id));h.start_date=v.start_date,h.end_date=v.end_date,h.duration=v.duration}}var a=f.createDatastore({name:f.config.resource_assignment_store,initItem:function(h){return h.id||(h.id=f.uid()),i(h),h}});function e(h,g){if(h.mode===u.fixedDates)return{start_date:h.start_date,end_date:h.end_date,duration:h.duration};var p,y,v=h.delay?f.calculateEndDate({start_date:g.start_date,duration:h.delay,task:g}):new Date(g.start_date);return h.mode===u.fixedDuration?(p=f.calculateEndDate({start_date:v,duration:h.duration,task:g}),y=h.duration):(p=new Date(g.end_date),y=g.duration-h.delay),{start_date:v,end_date:p,duration:y}}function t(h){var p=h[f.config.resource_property],y=[],v=s===l.auto;if(f.defined(p)&&p){Array.isArray(p)||(p=[p],v&&(s=l.singleValue,v=!1));var m={};p.forEach(function(k){k.resource_id||(k={resource_id:k},v&&(s=l.valueArray,v=!1)),v&&(k.id&&k.resource_id?(s=l.assignmentsArray,v=!1):(s=l.resourceValueArray,v=!1));var b,S=u.default;k.mode||(k.start_date&&k.end_date||k.start_date&&k.duration)&&(S=u.fixedDuration),b=k.id||!k.$id||m[k.$id]?k.id&&!m[k.id]?k.id:f.uid():k.$id,m[b]=!0;var w={id:b,start_date:k.start_date,duration:k.duration,end_date:k.end_date,delay:k.delay,task_id:h.id,resource_id:k.resource_id,value:k.value,mode:k.mode||S};w.start_date&&w.start_date.getMonth&&w.end_date&&w.end_date.getMonth&&"number"==typeof w.duration||i(w,h),y.push(w)})}return y}function n(h){if(f.isTaskExists(h)){var g=f.getTask(h);r(g,f.getTaskAssignments(g.id))}}function r(h,g){g.sort(function(p,y){return p.start_date&&y.start_date&&p.start_date.valueOf()!=y.start_date.valueOf()?p.start_date-y.start_date:0}),s==l.assignmentsArray?h[f.config.resource_property]=g:s==l.resourceValueArray&&(h[f.config.resource_property]=g.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),h[_]=g}function o(h){var g=t(h),p=[];return g.forEach(function(y){y.id=y.id||f.uid(),p.push(y)}),g}function c(h,g){var p=function(y,v){var m={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==l.singleValue){var k=y[0],b=k?k.resource_id:null,S=!1;v.forEach(function(E){E.resource_id!=b?m.inStoreNotInTask.push(E):E.resource_id==b&&(m.inBoth.push({store:E,task:k}),S=!0)}),!S&&k&&m.inTaskNotInStore.push(k)}else if(s==l.valueArray){var w={},x={},T={};y.forEach(function(E){w[E.resource_id]=E}),v.forEach(function(E){x[E.resource_id]=E}),y.concat(v).forEach(function(E){if(!T[E.resource_id]){T[E.resource_id]=!0;var I=w[E.resource_id],L=x[E.resource_id];I&&L?m.inBoth.push({store:L,task:I}):I&&!L?m.inTaskNotInStore.push(I):!I&&L&&m.inStoreNotInTask.push(L)}})}else s!=l.assignmentsArray&&s!=l.resourceValueArray||(w={},x={},T={},y.forEach(function(E){w[E.id||E.$id]=E}),v.forEach(function(E){x[E.id]=E}),y.concat(v).forEach(function(E){var I=E.id||E.$id;if(!T[I]){T[I]=!0;var L=w[I],N=x[I];L&&N?m.inBoth.push({store:N,task:L}):L&&!N?m.inTaskNotInStore.push(L):!L&&N&&m.inStoreNotInTask.push(N)}}));return m}(t(h),g);p.inStoreNotInTask.forEach(function(y){a.removeItem(y.id)}),p.inTaskNotInStore.forEach(function(y){a.addItem(y)}),p.inBoth.forEach(function(y){if(function(m,k){var b={id:!0};for(var S in m)if(!b[S]&&String(m[S])!==String(k[S]))return!0;return!1}(y.task,y.store))(function(m,k){var b={id:!0};for(var S in m)b[S]||(k[S]=m[S])})(y.task,y.store),a.updateItem(y.store.id);else if(y.task.start_date&&y.task.end_date&&y.task.mode!==u.fixedDates){var v=e(y.store,h);y.store.start_date.valueOf()==v.start_date.valueOf()&&y.store.end_date.valueOf()==v.end_date.valueOf()||(y.store.start_date=v.start_date,y.store.end_date=v.end_date,y.store.duration=v.duration,a.updateItem(y.store.id))}}),n(h.id)}function d(h){var g=h[_]||a.find(function(p){return p.task_id==h.id});c(h,g)}f.$data.assignmentsStore=a,f.attachEvent("onGanttReady",function(){if(f.config.process_resource_assignments){f.attachEvent("onParse",function(){f.silent(function(){a.clearAll();var b=[];f.eachTask(function(S){if(S.type!==f.config.types.project){var w=o(S);r(S,w),w.forEach(function(x){b.push(x)})}}),a.parse(b)})});var h=!1,g=!1,p={},y=!1;f.attachEvent("onBeforeBatchUpdate",function(){h=!0}),f.attachEvent("onAfterBatchUpdate",function(){if(g){var b={};for(var S in p)b[S]=f.getTaskAssignments(p[S].id);for(var S in p)c(p[S],b[S])}g=!1,h=!1,p={}}),f.attachEvent("onTaskCreated",function(b){var S=o(b);return a.parse(S),r(b,S),!0}),f.attachEvent("onAfterTaskUpdate",function(b,S){h?(g=!0,p[b]=S):d(S)}),f.attachEvent("onAfterTaskAdd",function(b,S){h?(g=!0,p[b]=S):d(S)}),f.attachEvent("onRowDragEnd",function(b){d(f.getTask(b))}),f.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(b,S){var T,w=[b];f.eachTask(function(x){w.push(x.id)},b),T={},w.forEach(function(E){T[E]=!0}),a.find(function(E){return T[E.task_id]}).forEach(function(E){a.removeItem(E.id)})}),f.$data.tasksStore.attachEvent("onClearAll",function(){return v=null,m=null,k=null,a.clearAll(),!0}),f.attachEvent("onTaskIdChange",function(b,S){a.find(function(w){return w.task_id==b}).forEach(function(w){w.task_id=S,a.updateItem(w.id)}),n(S)}),f.attachEvent("onBeforeUndo",function(b){return y=!0,!0}),f.attachEvent("onAfterUndo",function(b){y=!0});var v=null,m=null,k=null;a.attachEvent("onStoreUpdated",function(){return!(!h||y)||(v=null,m=null,k=null,!0)}),f.getResourceAssignments=function(b,S){var w=f.defined(S)&&null!==S;return null===v&&(v={},m={},a.eachItem(function(x){v[x.resource_id]||(v[x.resource_id]=[]),v[x.resource_id].push(x);var T=x.resource_id+"-"+x.task_id;m[T]||(m[T]=[]),m[T].push(x)})),w?(m[b+"-"+S]||[]).slice():(v[b]||[]).slice()},f.getTaskAssignments=function(b){if(null===k){var S=[];k={},a.eachItem(function(w){k[w.task_id]||(k[w.task_id]=[]),k[w.task_id].push(w),w.task_id==b&&S.push(w)})}return(k[b]||[]).slice()},f.getTaskResources=function(b){var S=f.getDatastore("resource"),w={};f.getTaskAssignments(b).forEach(function(I){w[I.resource_id]||(w[I.resource_id]=I.resource_id)});var x=[];for(var T in w){var E=S.getItem(w[T]);E&&x.push(E)}return x},f.updateTaskAssignments=n}},{once:!0})}},function($,C,f){var _=f(2);$.exports=function(s){var e,t,u=function l(s){var u={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){u={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){u={}});var a=String(Math.random());function e(o){return null===o?a+String(o):String(o)}function t(o,c,d){return Array.isArray(o)?o.map(function(h){return e(h)}).join("_")+"_".concat(c,"_").concat(d):e(o)+"_".concat(c,"_").concat(d)}function n(o,c,d){var h,g=t(c,o,JSON.stringify(d)),p={};return _.forEach(c,function(y){p[e(y)]=!0}),u[g]?h=u[g]:(h=u[g]=[],s.eachTask(function(y){if(d){if(!d[s.getTaskType(y)])return}else if(y.type==s.config.types.project)return;var v;o in y&&(v=_.isArray(y[o])?y[o]:[y[o]],_.forEach(v,function(m){if(p[e(m&&m.resource_id?m.resource_id:m)])h.push(y);else if(!i){var b=t(m,o);u[b]||(u[b]=[]),u[b].push(y)}}))}),i=!0),h}function r(o,c,d){var h=s.config.resource_property,g=[];if(s.getDatastore("task").exists(c)){var p=s.getTask(c);g=p[h]||[]}Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].resource_id==o&&d.push({task_id:p.id,resource_id:g[y].resource_id,value:g[y].value})}return{getTaskBy:function(o,c,d){return"function"==typeof o?(h=o,g=[],s.eachTask(function(p){h(p)&&g.push(p)}),g):_.isArray(c)?n(o,c,d):n(o,[c],d);var h,g},getResourceAssignments:function(o,c){var d=[],h=s.config.resource_property;return void 0!==c?r(o,c,d):s.getTaskBy(h,o).forEach(function(g){r(o,g.id,d)}),d}}}(s);s.ext.resources=(e=s,t={renderEditableLabel:function(n,r,o,c,d){var h=e.config.readonly?"":"contenteditable";if(n<o.end_date&&r>o.start_date){for(var g=0;g<d.length;g++){var p=d[g];return"<div "+h+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+o.id+"' data-task='"+o.$task_id+"' data-start-date='"+e.templates.format_date(n)+"' data-end-date='"+e.templates.format_date(r)+"'>"+p.value+"</div>"}return"<div "+h+" data-assignment-cell data-empty  data-row-id='"+o.id+"' data-resource-id='"+o.$resource_id+"' data-task='"+o.$task_id+"' data-start-date='"+e.templates.format_date(n)+"''  data-end-date='"+e.templates.format_date(r)+"'>-</div>"}return""},renderSummaryLabel:function(n,r,o,c,d){var h=d.reduce(function(g,p){return g+Number(p.value)},0);return h%1&&(h=Math.round(10*h)/10),h?"<div>"+h+"</div>":""},editableResourceCellTemplate:function(n,r,o,c,d){return"task"===o.$role?t.renderEditableLabel(n,r,o,c,d):t.renderSummaryLabel(n,r,o,c,d)},editableResourceCellClass:function(n,r,o,c,d){var h=[];h.push("resource_marker"),h.push("task"===o.$role?"task_cell":"resource_cell");var g=d.reduce(function(y,v){return y+Number(v.value)},0),p=Number(o.capacity);return isNaN(p)&&(p=8),h.push(g<=p?"workday_ok":"workday_over"),h.join(" ")},getSummaryResourceAssignments:function(n){var r,o=e.getDatastore(e.config.resource_store),c=o.getItem(n);return"task"===c.$role?r=e.getResourceAssignments(c.$resource_id,c.$task_id):(r=e.getResourceAssignments(n),o.eachItem&&o.eachItem(function(d){"task"!==d.$role&&(r=r.concat(e.getResourceAssignments(d.id)))},n)),r},initEditableDiagram:function(){e.config.resource_render_empty_cells=!0,function(){var n=null;function r(){return n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){Array.prototype.slice.call(e.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(o){o.contentEditable=!0})}),!0}e.attachEvent("onGanttReady",function(){e.getDatastore(e.config.resource_assignment_store).attachEvent("onStoreUpdated",r),e.getDatastore(e.config.resource_store).attachEvent("onStoreUpdated",r)},{once:!0}),e.attachEvent("onGanttLayoutReady",function(){e.$layout.getCellsByType("viewCell").forEach(function(o){o.$config&&"resourceTimeline"===o.$config.view&&o.$content&&o.$content.attachEvent("onScroll",r)})})}(),e.attachEvent("onGanttReady",function(){var n=!1;e.event(e.$container,"keypress",function(r){var o=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");o&&(13!==r.keyCode&&27!==r.keyCode||o.blur())}),e.event(e.$container,"focusout",function(r){if(!n){n=!0,setTimeout(function(){n=!1},300);var o=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(o){var c=(o.innerText||"").trim();"-"==c&&(c="0");var d=Number(c),h=o.getAttribute("data-row-id"),g=o.getAttribute("data-assignment-id"),p=o.getAttribute("data-task"),y=o.getAttribute("data-resource-id"),v=e.templates.parse_date(o.getAttribute("data-start-date")),m=e.templates.parse_date(o.getAttribute("data-end-date")),k=e.getDatastore(e.config.resource_assignment_store);if(isNaN(d))e.getDatastore(e.config.resource_store).refresh(h);else{var b=e.getTask(p);if(e.plugins().undo&&e.ext.undo.saveState(p,"task"),g){if(d===(w=k.getItem(g)).value)return;if(w.start_date.valueOf()===v.valueOf()&&w.end_date.valueOf()===m.valueOf())w.value=d,d?k.updateItem(w.id):k.removeItem(w.id);else{if(w.end_date.valueOf()>m.valueOf()){var S=e.copy(w);S.id=e.uid(),S.start_date=m,S.duration=e.calculateDuration({start_date:S.start_date,end_date:S.end_date,task:b}),S.delay=e.calculateDuration({start_date:b.start_date,end_date:S.start_date,task:b}),S.mode=w.mode||"default",0!==S.duration&&k.addItem(S)}w.start_date.valueOf()<v.valueOf()?(w.end_date=v,w.duration=e.calculateDuration({start_date:w.start_date,end_date:w.end_date,task:b}),w.mode="fixedDuration",0===w.duration?k.removeItem(w.id):k.updateItem(w.id)):k.removeItem(w.id),d&&k.addItem({task_id:w.task_id,resource_id:w.resource_id,value:d,start_date:v,end_date:m,duration:e.calculateDuration({start_date:v,end_date:m,task:b}),delay:e.calculateDuration({start_date:b.start_date,end_date:v,task:b}),mode:"fixedDuration"})}e.updateTaskAssignments(b.id),e.updateTask(b.id)}else if(d){var w={task_id:p,resource_id:y,value:d,start_date:v,end_date:m,duration:e.calculateDuration({start_date:v,end_date:m,task:b}),delay:e.calculateDuration({start_date:b.start_date,end_date:v,task:b}),mode:"fixedDuration"};k.addItem(w),e.updateTaskAssignments(b.id),e.updateTask(b.id)}}}}})},{once:!0})}}),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||s.config.root_id,e[s.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){var t=[],n=s.getDatastore(s.config.resource_store);return e.forEach(function(r){if(!n.hasChild(r.id)){var o=s.copy(r);o.key=r.id,o.label=r.text,t.push(o)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var e=s.config.resources?s.config.resources.resource_store:void 0,t=e?e.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var n=function(o){return o.parent=o.parent||s.config.root_id,o[s.config.resource_property]=o.parent,o.open=!0,o};e&&e.initItem&&(n=e.initItem),s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:e&&e.type?e.type:"treeDatastore",fetchTasks:void 0!==t&&t,initItem:n}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var o=function(d){var h=[];return d.forEach(function(g){if(!s.$resourcesStore.hasChild(g.id)){var p=s.copy(g);p.key=g.id,p.label=g.text,h.push(p)}}),h};s.config.resources&&s.config.resources.lightbox_resources&&(o=s.config.resources.lightbox_resources);var c=o(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",c)})}}),s.getTaskBy=u.getTaskBy,s.getResourceAssignments=u.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(e,t,n,r,o){},s.templates.histogram_cell_label=function(e,t,n,r,o){return r.length+"/3"},s.templates.histogram_cell_allocated=function(e,t,n,r,o){return r.length/3},s.templates.histogram_cell_capacity=function(e,t,n,r,o){return 0};var i=function(e,t,n,r,o){return r.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},a=function(e,t,n,r,o){return 8*r.length};s.templates.resource_cell_value=a,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===a&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function($,C){$.exports=function(f){var s,_=(s=f,{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(u){return u?(this._isRecalcNeeded()&&this._calcWBS(),u.$virtual?"":this._isGroupSort()?u.$wbs||"":(u.$wbs||(this.reset(),this._calcWBS()),u.$wbs)):""},_setWBSCode:function(u,i){u.$wbs=i},getWBSCode:function(u){return this._getWBSCode(u)},getByWBSCode:function(u){for(var i=u.split("."),a=s.config.root_id,e=0;e<i.length;e++){var t=s.getChildren(a),n=1*i[e]-1;if(!s.isTaskExists(t[n]))return null;a=t[n]}return s.isTaskExists(a)?s.getTask(a):null},_calcWBS:function(){if(this._isRecalcNeeded()){var u=!0;s.eachTask(function(i){if(u)return u=!1,void this._setWBSCode(i,"1");var a=s.getPrevSibling(i.id);if(null!==a){var e=s.getTask(a).$wbs;e&&((e=e.split("."))[e.length-1]++,this._setWBSCode(i,e.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}});function l(){return _.reset(),!0}f.getWBSCode=function(s){return _.getWBSCode(s)},f.getTaskByWBSCode=function(s){return _.getByWBSCode(s)},f.attachEvent("onAfterTaskMove",l),f.attachEvent("onBeforeParse",l),f.attachEvent("onAfterTaskDelete",l),f.attachEvent("onAfterTaskAdd",l),f.attachEvent("onAfterSort",l)}},function($,C,f){var _=f(17);function l(s){var u={},i=!1;function a(r,o){o="function"==typeof o?o:function(){},u[r]||(u[r]=this[r],this[r]=o)}function e(r){u[r]&&(this[r]=u[r],u[r]=null)}function t(){for(var r in u)e.call(this,r)}function n(r){try{r()}catch(o){_.console.error(o)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(r,o){if(i)n(r);else{var c,d=this._dp&&"off"!=this._dp.updateMode;d&&(c=this._dp.updateMode,this._dp.setUpdateMode("off"));var h={},g={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(y){h[y.id]=y}};for(var p in function(y){for(var v in y)a.call(this,v,y[v])}.call(this,g),i=!0,this.callEvent("onBeforeBatchUpdate",[]),n(r),this.callEvent("onAfterBatchUpdate",[]),t.call(this),h)this.resetProjectDates(h[p]);i=!1,o||this.render(),d&&(this._dp.setUpdateMode(c),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}$.exports=function(s){s.batchUpdate=l(s)}},function($,C,f){$.exports=function(_){_.ext||(_.ext={});for(var l=[f(236),f(235),f(234),f(233),f(232),f(231),f(230),f(226).default],s=0;s<l.length;s++)l[s]&&l[s](_)}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(0),l=function(){function s(){var u=this;this.clear=function(){u._storage={}},this.storeItem=function(i){u._storage[i.id]=_.copy(i)},this.getStoredItem=function(i){return u._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();C.default=l},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(_,l){_.getUserData=function(s,u,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][u]?this.userdata[i][s][u]:""},_.setUserData=function(s,u,i,a){this.userdata||(this.userdata={}),this.userdata[a]=this.userdata[a]||{},this.userdata[a][s]=this.userdata[a][s]||{},this.userdata[a][s][u]=i},_._change_id=function(s,u){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,u);break;case"link":this.changeLinkId(s,u);break;case"assignment":this.$data.assignmentsStore.changeId(s,u);break;case"resource":this.$data.resourcesStore.changeId(s,u);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+u)}},_._row_style=function(s,u){"task"===this._dp._ganttMode&&_.isTaskExists(s)&&(_.getTask(s).$dataprocessor_class=u,_.refreshTask(s))},_._delete_task=function(s,u){},_._sendTaskOrder=function(s,u){u.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=u.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},_.setDp=function(){this._dp=l},_.setDp()}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(2),l=function(){function s(u,i){this.$gantt=u,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var u=this,i=this.$dp,a=this.$gantt,e=f(48),t={},n=function(c){return u.clientSideDelete(c,i,a)};this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskAdd",function(c,d){a.isTaskExists(c)&&(i.setGanttMode("tasks"),i.setUpdated(c,!0,"inserted"))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskUpdate",function(c,d){a.isTaskExists(c)&&(i.setGanttMode("tasks"),i.setUpdated(c,!0),a._sendTaskOrder&&a._sendTaskOrder(c,d))})),this._dataProcessorHandlers.push(a.attachEvent("onBeforeTaskDelete",function(c,d){return a.config.cascade_delete&&(t[c]={tasks:e.getSubtreeTasks(a,c),links:e.getSubtreeLinks(a,c)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(c,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskDelete",function(c,d){i.setGanttMode("tasks");var h=!n(c),g=a.config.cascade_delete&&t[c];if(h||g){if(g){var p=i.updateMode;i.setUpdateMode("off");var y=t[c];for(var v in y.tasks)n(v)||(i.storeItem(y.tasks[v]),i.setUpdated(v,!0,"deleted"));for(var v in i.setGanttMode("links"),y.links)n(v)||(i.storeItem(y.links[v]),i.setUpdated(v,!0,"deleted"));t[c]=null,"off"!==p&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}h&&(i.storeItem(d),i.deleteAfterConfirmation||i.setUpdated(c,!0,"deleted")),"off"===i.updateMode||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkUpdate",function(c,d){a.isLinkExists(c)&&(i.setGanttMode("links"),i.setUpdated(c,!0))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkAdd",function(c,d){a.isLinkExists(c)&&(i.setGanttMode("links"),i.setUpdated(c,!0,"inserted"))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkDelete",function(c,d){i.setGanttMode("links"),!n(c)&&(i.storeItem(d),i.setUpdated(c,!0,"deleted"))})),this._dataProcessorHandlers.push(a.attachEvent("onRowDragEnd",function(c,d){a._sendTaskOrder(c,a.getTask(c))}));var r=null,o=null;this._dataProcessorHandlers.push(a.attachEvent("onTaskIdChange",function(c,d){if(i._waitMode){var h=a.getChildren(d);if(h.length){r=r||{};for(var g=0;g<h.length;g++){var p=this.getTask(h[g]);r[p.id]=p}}var y=(k=[],(m=this.getTask(d)).$source&&(k=k.concat(m.$source)),m.$target&&(k=k.concat(m.$target)),k);if(y.length)for(o=o||{},g=0;g<y.length;g++){var v=this.getLink(y[g]);o[v.id]=v}}var m,k})),i.attachEvent("onAfterUpdateFinish",function(){(r||o)&&(a.batchUpdate(function(){for(var c in r)a.updateTask(r[c].id);for(var c in o)a.updateLink(o[c].id);r=null,o=null}),a._dp.setGanttMode(r?"tasks":"links"))}),i.attachEvent("onBeforeDataSending",function(){if("CUSTOM"===this._tMode)return!0;var c=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){var d=this._ganttMode;c=c.substring(0,c.indexOf("?")>-1?c.indexOf("?"):c.length),this.serverProcessor=c+("/"===c.slice(-1)?"":"/")+d}else{var h=this._ganttMode+"s";this.serverProcessor=c+a.ajax.urlSeparator(c)+"gantt_mode="+h}return!0}),i.attachEvent("insertCallback",function(c,d,h,g){var p=c.data||a.xml._xmlNodeToJSON(c.firstChild),y={add:a.addTask,isExist:a.isTaskExists};"links"===g&&(y.add=a.addLink,y.isExist=a.isLinkExists),y.isExist.call(a,d)||(p.id=d,y.add.call(a,p))}),i.attachEvent("updateCallback",function(c,d){var h=c.data||a.xml._xmlNodeToJSON(c.firstChild);if(a.isTaskExists(d)){var g=a.getTask(d);for(var p in h){var y=h[p];switch(p){case"id":continue;case"start_date":case"end_date":y=a.defined(a.templates.xml_date)?a.templates.xml_date(y):a.templates.parse_date(y);break;case"duration":g.end_date=a.calculateEndDate({start_date:g.start_date,duration:y,task:g})}g[p]=y}a.updateTask(d),a.refreshData()}}),i.attachEvent("deleteCallback",function(c,d,h,g){var p={delete:a.deleteTask,isExist:a.isTaskExists};"links"===g?(p.delete=a.deleteLink,p.isExist=a.isLinkExists):"assignment"===g&&(p.delete=function(y){a.$data.assignmentsStore.remove(y)},p.isExist=function(y){return a.$data.assignmentsStore.exists(y)}),p.isExist.call(a,d)&&p.delete.call(a,d)}),this.handleResourceCRUD(i,a),this.handleResourceAssignmentCRUD(i,a)},s.prototype.clientSideDelete=function(u,i,a){var e=i.updatedRows.slice(),t=!1;"true_deleted"===a.getUserData(u,"!nativeeditor_status",i._ganttMode)&&(t=!0,i.setUpdated(u,!1));for(var n=0;n<e.length&&!i._in_progress[u];n++)e[n]===u&&("inserted"===a.getUserData(u,"!nativeeditor_status",i._ganttMode)&&(t=!0),i.setUpdated(u,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(u,i){var a=this;if(i.config.resources&&!0===i.config.resources.dataprocessor_assignments){var e=i.getDatastore(i.config.resource_assignment_store),t={},n={};i.attachEvent("onBeforeTaskAdd",function(o,c){return t[o]=!0,!0}),i.attachEvent("onTaskIdChange",function(o,c){delete t[o]}),e.attachEvent("onAfterAdd",function(o,c){var d;t[c.task_id]?(n[(d=c).id]=d,t[d.task_id]=!0):r(c)}),e.attachEvent("onAfterUpdate",function(o,c){e.exists(o)&&(n[o]?r(c):(u.setGanttMode("assignment"),u.setUpdated(o,!0)))}),e.attachEvent("onAfterDelete",function(o,c){u.setGanttMode("assignment"),!a.clientSideDelete(o,u,i)&&(u.storeItem(c),u.setUpdated(o,!0,"deleted"))})}function r(o){var c=o.id;e.exists(c)&&(u.setGanttMode("assignment"),u.setUpdated(c,!0,"inserted")),delete n[c]}},s.prototype.handleResourceCRUD=function(u,i){var a=this;if(i.config.resources&&!0===i.config.resources.dataprocessor_resources){var e=i.getDatastore(i.config.resource_store);e.attachEvent("onAfterAdd",function(t,n){var o;e.exists(o=n.id)&&(u.setGanttMode("resource"),u.setUpdated(o,!0,"inserted"))}),e.attachEvent("onAfterUpdate",function(t,n){e.exists(t)&&(u.setGanttMode("resource"),u.setUpdated(t,!0))}),e.attachEvent("onAfterDelete",function(t,n){u.setGanttMode("resource"),!a.clientSideDelete(t,u,i)&&(u.storeItem(n),u.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var u=this;_.forEach(this._dataProcessorHandlers,function(i){u.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();C.default=l},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(5),l=f(2),s=f(0),u=f(240),i=f(239),a=f(238);C.createDataProcessor=function(t){var n,r;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(n=t),r=n?"CUSTOM":t.mode||"REST-JSON";var o=new e(t.url);return o.init(this),o.setTransactionMode({mode:r,router:n},t.batchUpdate),t.deleteAfterConfirmation&&(o.deleteAfterConfirmation=t.deleteAfterConfirmation),o};var e=function(){function t(n){this.serverProcessor=n,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=a.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),_(this)}return t.prototype.setTransactionMode=function(n,r){"object"==typeof n?(this._tMode=n.mode||this._tMode,s.defined(n.headers)&&(this._headers=n.headers),s.defined(n.payload)&&(this._payload=n.payload),this._tSend=!!r):(this._tMode=n,this._tSend=r),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=n.router)},t.prototype.escape=function(n){return this._utf?encodeURIComponent(n):escape(n)},t.prototype.enableUTFencoding=function(n){this._utf=!!n},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(n,r){this.autoUpdate="cell"===n,this.updateMode=n,this.dnd=r},t.prototype.ignore=function(n,r){this._silent_mode=!0,n.call(r||window),this._silent_mode=!1},t.prototype.setUpdated=function(n,r,o){if(!this._silent_mode){var c=this.findRow(n);o=o||"updated";var d=this.$gantt.getUserData(n,this.action_param,this._ganttMode);d&&"updated"===o&&(o=d),r?(this.set_invalid(n,!1),this.updatedRows[c]=n,this.$gantt.setUserData(n,this.action_param,o,this._ganttMode),this._in_progress[n]&&(this._in_progress[n]="wait")):this.is_invalid(n)||(this.updatedRows.splice(c,1),this.$gantt.setUserData(n,this.action_param,"",this._ganttMode)),this.markRow(n,r,o),r&&this.autoUpdate&&this.sendData(n)}},t.prototype.markRow=function(n,r,o){var c="",d=this.is_invalid(n);if(d&&(c=this.styles[d],r=!0),this.callEvent("onRowMark",[n,r,o,d])&&(this.$gantt[this._methods[0]](n,c=this.styles[r?o:"clear"]+" "+c),d&&d.details)){c+=this.styles[d+"_cell"];for(var h=0;h<d.details.length;h++)d.details[h]&&this.$gantt[this._methods[1]](n,h,c)}},t.prototype.getActionByState=function(n){return"inserted"===n?"create":"updated"===n?"update":"deleted"===n?"delete":"update"},t.prototype.getState=function(n){return this.$gantt.getUserData(n,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(n){return this._invalid[n]},t.prototype.set_invalid=function(n,r,o){o&&(r={value:r,details:o,toString:function(){return this.value.toString()}}),this._invalid[n]=r},t.prototype.checkBeforeUpdate=function(n){return!0},t.prototype.sendData=function(n){var r=this;if(this.$gantt.editStop&&this.$gantt.editStop(),void 0===n||this._tSend){var o=[];if(this.modes&&["task","link","assignment"].forEach(function(d){r.modes[d]&&r.modes[d].updatedRows.length&&o.push(d)}),o.length){for(var c=0;c<o.length;c++)this.setGanttMode(o[c]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[n]&&(this.messages=[],!(!this.checkBeforeUpdate(n)&&this.callEvent("onValidationError",[n,this.messages]))&&void this._beforeSendData(this._getRowData(n),n))},t.prototype.serialize=function(n,r){if(this._serializeAsJson)return this._serializeAsJSON(n);if("string"==typeof n)return n;if(void 0!==r)return this.serialize_one(n,"");var o=[],c=[];for(var d in n)n.hasOwnProperty(d)&&(o.push(this.serialize_one(n[d],d+this._postDelim)),c.push(d));return o.push("ids="+this.escape(c.join(","))),this.$gantt.security_key&&o.push("dhx_security="+this.$gantt.security_key),o.join("&")},t.prototype.serialize_one=function(n,r){if("string"==typeof n)return n;var o=[],c="";for(var d in n)if(n.hasOwnProperty(d)){if(("id"===d||d==this.action_param)&&"REST"===this._tMode)continue;c="string"==typeof n[d]||"number"==typeof n[d]?n[d]:JSON.stringify(n[d]),o.push(this.escape((r||"")+d)+"="+this.escape(c))}return o.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var n=!0;if(this._forEachUpdatedRow(function(r){n=n&&this.checkBeforeUpdate(r)}),!n&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(r){if(!this._in_progress[r]){if(this.is_invalid(r))return;this._beforeSendData(this._getRowData(r),r)}})}},t.prototype.findRow=function(n){var r=0;for(r=0;r<this.updatedRows.length&&n!=this.updatedRows[r];r++);return r},t.prototype.defineAction=function(n,r){this._uActions||(this._uActions={}),this._uActions[n]=r},t.prototype.afterUpdateCallback=function(n,r,o,c,d){var h=this;if(this.$gantt){this.setGanttMode(d);var g=n,p="error"!==o&&"invalid"!==o;if(p||this.set_invalid(n,o),this._uActions&&this._uActions[o]&&!this._uActions[o](c))return delete this._in_progress[g];"wait"!==this._in_progress[g]&&this.setUpdated(n,!1);var y=n;switch(o){case"inserted":case"insert":r!=n&&(this.setUpdated(n,!1),this.$gantt[this._methods[2]](n,r),n=r);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&"task"===this._ganttMode){if("task"===this._ganttMode&&this.$gantt.isTaskExists(n)){this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode);var v=this.$gantt.getTask(n);this.$gantt.silent(function(){h.$gantt.deleteTask(n)}),this.$gantt.callEvent("onAfterTaskDelete",[n,v]),this.$gantt.render(),delete this._in_progress[g]}return this.callEvent("onAfterUpdate",[n,o,r,c])}return this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](n),delete this._in_progress[g],this.callEvent("onAfterUpdate",[n,o,r,c])}"wait"!==this._in_progress[g]?(p&&this.$gantt.setUserData(n,this.action_param,"",this._ganttMode),delete this._in_progress[g]):(delete this._in_progress[g],this.setUpdated(r,!0,this.$gantt.getUserData(n,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[y,o,r,c])}},t.prototype.afterUpdate=function(n,r,o){var c,d=this;c=3===arguments.length?arguments[1]:arguments[4];var h=this.getGanttMode(),g=c.filePath||c.url;h="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==g.indexOf("gantt_mode=links")?"link":-1!==g.indexOf("gantt_mode=assignments")?"assignment":"task":g.indexOf("/link")>=0?"link":g.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(h);var p,y=this.$gantt.ajax;try{p=JSON.parse(r.xmlDoc.responseText)}catch{r.xmlDoc.responseText.length||(p={})}var v=function(E){var I=p.action||d.getState(E)||"updated";n.afterUpdateCallback(p.sid||E[0],p.tid||E[0],I,p,h)};if(p)return Array.isArray(o)&&o.length>1?o.forEach(function(E){return v(E)}):v(o),n.finalizeUpdate(),void this.setGanttMode(h);var m=y.xmltop("data",r.xmlDoc);if(!m)return this.cleanUpdate(o);var k=y.xpath("//data/action",m);if(!k.length)return this.cleanUpdate(o);for(var b=0;b<k.length;b++){var S=k[b],w=S.getAttribute("type"),x=S.getAttribute("sid"),T=S.getAttribute("tid");n.afterUpdateCallback(x,T,w,S,h)}n.finalizeUpdate()},t.prototype.cleanUpdate=function(n){if(n)for(var r=0;r<n.length;r++)delete this._in_progress[n[r]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(n){if(!this._initialized){this.$gantt=n,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var r=new u.default(this.$gantt,this);r.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,r.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(n){this.attachEvent("onAfterUpdate",n)},t.prototype.setOnBeforeUpdateHandler=function(n){this.attachEvent("onBeforeDataSending",n)},t.prototype.setAutoUpdate=function(n,r){var o=this;n=n||2e3,this._user=r||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){o.loadUpdate()},n)},t.prototype.afterAutoUpdate=function(n,r,o,c){return"collision"!==r||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(n,r){var o=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,o.get(n,r)},t.prototype.loadUpdate=function(){var n=this,r=this.$gantt.ajax,o=this.$gantt.getUserData(0,"version",this._ganttMode),c=this.serverProcessor+r.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+o].join("&");c=c.replace("editing=true&",""),this.getUpdates(c,function(d){var h=r.xpath("//userdata",d);n.$gantt.setUserData(0,"version",n._getXmlNodeValue(h[0]),n._ganttMode);var g=r.xpath("//update",d);if(g.length){n._silent_mode=!0;for(var p=0;p<g.length;p++){var y=g[p].getAttribute("status"),v=g[p].getAttribute("id"),m=g[p].getAttribute("parent");switch(y){case"inserted":n.callEvent("insertCallback",[g[p],v,m]);break;case"updated":n.callEvent("updateCallback",[g[p],v,m]);break;case"deleted":n.callEvent("deleteCallback",[g[p],v,m])}}n._silent_mode=!1}n._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(n){"tasks"===n?n="task":"links"===n&&(n="link");var r=this.modes||{},o=this.getGanttMode();o&&(r[o]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var c=r[n];c||(c=r[n]={_in_progress:{},_invalid:{},_storage:a.default.create(),updatedRows:[]}),this._in_progress=c._in_progress,this._invalid=c._invalid,this._storage=c._storage,this.updatedRows=c.updatedRows,this.modes=r,this._ganttMode=n},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(n){this._storage.storeItem(n)},t.prototype.url=function(n){this.serverProcessor=this._serverProcessor=n},t.prototype._beforeSendData=function(n,r){if(!this.callEvent("onBeforeUpdate",[r,this.getState(r),n]))return!1;this._sendData(n,r)},t.prototype._serializeAsJSON=function(n){if("string"==typeof n)return n;var r=s.copy(n);return"REST-JSON"===this._tMode&&(delete r.id,delete r[this.action_param]),JSON.stringify(r)},t.prototype._applyPayload=function(n){var r=this.$gantt.ajax;if(this._payload)for(var o in this._payload)n=n+r.urlSeparator(n)+this.escape(o)+"="+this.escape(this._payload[o]);return n},t.prototype._cleanupArgumentsBeforeSend=function(n){var r;if(void 0===n[this.action_param])for(var o in r={},n)r[o]=this._cleanupArgumentsBeforeSend(n[o]);else r=this._cleanupItemBeforeSend(n);return r},t.prototype._cleanupItemBeforeSend=function(n){var r=null;return n&&("deleted"===n[this.action_param]?((r={}).id=n.id,r[this.action_param]=n[this.action_param]):r=n),r},t.prototype._sendData=function(n,r){var o=this;if(n){if(!this.callEvent("onBeforeDataSending",r?[r,this.getState(r),n]:[null,null,n]))return!1;r&&(this._in_progress[r]=(new Date).valueOf());var c=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var d;d={callback:function(L){var N=[];if(r)N.push(r);else if(n)for(var z in n)N.push(z);return o.afterUpdate(o,L,N)},headers:this._headers};var h,g="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?c.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,g].join("&"):""),y=this._applyPayload(p);switch(this._tMode){case"GET":h=this._cleanupArgumentsBeforeSend(n),d.url=y+c.urlSeparator(y)+this.serialize(h,r),d.method="GET";break;case"POST":h=this._cleanupArgumentsBeforeSend(n),d.url=y,d.method="POST",d.data=this.serialize(h,r);break;case"JSON":h={};var v=this._cleanupItemBeforeSend(n);for(var m in v)m!==this.action_param&&"id"!==m&&"gr_id"!==m&&(h[m]=v[m]);d.url=y,d.method="POST",d.data=JSON.stringify({id:r,action:n[this.action_param],data:h});break;case"REST":case"REST-JSON":switch(y=p.replace(/(&|\?)editing=true/,""),h="",this.getState(r)){case"inserted":d.method="POST",d.data=this.serialize(n,r);break;case"deleted":d.method="DELETE",y=y+("/"===y.slice(-1)?"":"/")+r;break;default:d.method="PUT",d.data=this.serialize(n,r),y=y+("/"===y.slice(-1)?"":"/")+r}d.url=this._applyPayload(y)}return this._waitMode++,c.query(d)}var k=this.getState(r),b=this.getActionByState(k),S=this.getGanttMode(),w=function(L){var N=k||"updated",z=r,U=r;L&&(N=L.action||k,z=L.sid||z,U=L.id||L.tid||U),o.afterUpdateCallback(z,U,N,L,S)},x=void 0;if(this._router instanceof Function)x="object"===this._routerParametersFormat?this._router({entity:S,action:b,data:n,id:r}):this._router(S,b,n,r);else if(this._router[S]instanceof Function)x=this._router[S](b,n,r);else{var E="Incorrect configuration of gantt.createDataProcessor",I="\nYou need to either add missing properties to the dataProcessor router object or to use a router function.\nSee https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.";if(!this._router[S])throw new Error(E+": router for the **"+S+"** entity is not defined. "+I);switch(k){case"inserted":if(!this._router[S].create)throw new Error(E+": **create** action for the **"+S+"** entity is not defined. "+I);x=this._router[S].create(n);break;case"deleted":if(!this._router[S].delete)throw new Error(E+": **delete** action for the **"+S+"** entity is not defined. "+I);x=this._router[S].delete(r);break;default:if(!this._router[S].update)throw new Error(E+': **update**" action for the **'+S+"** entity is not defined. "+I);x=this._router[S].update(n,r)}}if(x){if(!x.then&&void 0===x.id&&void 0===x.tid&&void 0===x.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(w).catch(function(L){w(L&&L.action?L:{action:"error",value:L})}):w(x)}else w(null)}},t.prototype._forEachUpdatedRow=function(n){for(var r=this.updatedRows.slice(),o=0;o<r.length;o++){var c=r[o];this.$gantt.getUserData(c,this.action_param,this._ganttMode)&&n.call(this,c)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(n){return n.firstChild?n.firstChild.nodeValue:""},t.prototype._getAllData=function(){var n={},r=!1;return this._forEachUpdatedRow(function(o){if(!this._in_progress[o]&&!this.is_invalid(o)){var c=this._getRowData(o);this.callEvent("onBeforeUpdate",[o,this.getState(o),c])&&(n[o]=c,r=!0,this._in_progress[o]=(new Date).valueOf())}}),r?n:null},t.prototype._prepareDate=function(n){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n)},t.prototype._prepareArray=function(n,r){var o=this;return r.push(n),n.map(function(c){return l.isDate(c)?o._prepareDate(c):Array.isArray(c)&&!l.arrayIncludes(r,c)?o._prepareArray(c,r):c&&"object"==typeof c&&!l.arrayIncludes(r,c)?o._prepareObject(c,r):c})},t.prototype._prepareObject=function(n,r){var o={};for(var c in r.push(n),n)if("$"!==c.substr(0,1)){var d=n[c];o[c]=l.isDate(d)?this._prepareDate(d):null===d?"":Array.isArray(d)&&!l.arrayIncludes(r,d)?this._prepareArray(d,r):d&&"object"==typeof d&&!l.arrayIncludes(r,d)?this._prepareObject(d,r):d}return o},t.prototype._prepareDataItem=function(n){var r=this._prepareObject(n,[]);return r[this.action_param]=this.$gantt.getUserData(n.id,this.action_param,this._ganttMode),r},t.prototype.getStoredItem=function(n){return this._storage.getStoredItem(n)},t.prototype._getRowData=function(n){var r,o=this.$gantt;return"task"===this.getGanttMode()?o.isTaskExists(n)&&(r=this.$gantt.getTask(n)):"assignment"===this.getGanttMode()?this.$gantt.$data.assignmentsStore.exists(n)&&(r=this.$gantt.$data.assignmentsStore.getItem(n)):o.isLinkExists(n)&&(r=this.$gantt.getLink(n)),r||(r=this.getStoredItem(n)),r||(r={id:n}),this._prepareDataItem(r)},t}();C.DataProcessor=e},function($,C,f){var _=f(241);$.exports={DEPRECATED_api:function(l){return new _.DataProcessor(l)},createDataProcessor:_.createDataProcessor,getDataProcessorModes:_.getAvailableModes}},function($,C,f){var _=f(15);$.exports={bindDataStore:function(l,s){var u=s.getDatastore(l),i=function(n,r){var o=r.getLayers(),c=u.getItem(n);if(c&&u.isVisible(n))for(var d=0;d<o.length;d++)o[d].render_item(c)};function t(n){return!!n.$services.getService("state").getState("batchUpdate").batch_update}u.attachEvent("onStoreUpdated",function(n,r,o){if(_(s))return!0;var c=s.$services.getService("layers").getDataRender(l);c&&(c.onUpdateRequest=function(d){!function(n){if(n.update_items){var r;if(n.get_visible_range){var o=n.get_visible_range(u);if(void 0!==o.start&&void 0!==o.end)r=u.getIndexRange(o.start,o.end);else{if(void 0===o.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");r=o.ids.map(function(c){return u.getItem(c)})}}else r=u.getVisibleItems();n.prepare_data&&n.prepare_data(r,n),n.update_items(r)}}(d)})}),u.attachEvent("onStoreUpdated",function(n,r,o){t(s)||(n&&"move"!=o&&"delete"!=o?(u.callEvent("onBeforeRefreshItem",[r.id]),u.callEvent("onAfterRefreshItem",[r.id])):(u.callEvent("onBeforeRefreshAll",[]),u.callEvent("onAfterRefreshAll",[])))}),u.attachEvent("onAfterRefreshAll",function(){if(_(s))return!0;var n=s.$services.getService("layers").getDataRender(l);n&&!t(s)&&function(n){for(var r=n.getLayers(),o=0;o<r.length;o++)r[o].clear();for(var c=null,d={},h=0;h<r.length;h++){var g=r[h],p=void 0;if(g.get_visible_range){var y=g.get_visible_range(u);if(void 0!==y.start&&void 0!==y.end){var v=y.start+" - "+y.end;d[v]?p=d[v]:(p=u.getIndexRange(y.start,y.end),d[v]=p)}else{if(void 0===y.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=y.ids.map(function(m){return u.getItem(m)})}}else c||(c=u.getVisibleItems()),p=c;g.prepare_data&&g.prepare_data(p),r[h].render_items(p)}}(n)}),u.attachEvent("onAfterRefreshItem",function(n){if(_(s))return!0;var r=s.$services.getService("layers").getDataRender(l);r&&i(n,r)}),u.attachEvent("onItemOpen",function(){if(_(s))return!0;s.render()}),u.attachEvent("onItemClose",function(){if(_(s))return!0;s.render()}),u.attachEvent("onIdChange",function(n,r){if(_(s))return!0;if(u.callEvent("onBeforeIdChange",[n,r]),!t(s)&&!u.isSilent()){var o=s.$services.getService("layers").getDataRender(l);o?(function(c,d,h,g){for(var p=0;p<c.length;p++)c[p].change_id(d,h)}(o.getLayers(),n,r,u.getItem(r)),i(r,o)):s.render()}})}}},function($,C){$.exports=function(f){var _=null,l=f._removeItemInner;function s(u){_=null,this.callEvent("onAfterUnselect",[u])}return f._removeItemInner=function(u){return _==u&&s.call(this,u),_&&this.eachItem&&this.eachItem(function(i){i.id==_&&s.call(this,i.id)},u),l.apply(this,arguments)},f.attachEvent("onIdChange",function(u,i){f.getSelectedId()==u&&f.silent(function(){f.unselect(u),f.select(i)})}),{select:function(u){if(u){if(_==u)return _;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[u]))return!1;this.unselect(),_=u,this._skip_refresh||(this.refresh(u),this.callEvent("onAfterSelect",[u]))}return _},getSelectedId:function(){return _},isSelected:function(u){return u==_},unselect:function(u){(u=u||_)&&(_=null,this._skip_refresh||(this.refresh(u),s.call(this,u)))}}}},function($,C,f){var _=f(0);$.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(l){return this.$data.linksStore.getItem(l)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(l){return this.$data.linksStore.exists(l)},addLink:function(l){var s=this.$data.linksStore.addItem(l);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(l,s){_.defined(s)||(s=this.getLink(l)),this.$data.linksStore.updateItem(l,s)},deleteLink:function(l){return this.$data.linksStore.removeItem(l)},changeLinkId:function(l,s){return this.$data.linksStore.changeId(l,s)}}}},function($,C,f){var _=f(0),l=f(2).replaceValidZeroId;$.exports=function(){return{getTask:function(s){s=l(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var u=this.$data.tasksStore.getItem(s);return this.assert(u,"Task not found id="+s),u},getTaskByTime:function(s,u){var i=this.$data.tasksStore.getItems(),a=[];if(s||u){s=+s||-1/0,u=+u||1/0;for(var e=0;e<i.length;e++){var t=i[e];+t.start_date<u&&+t.end_date>s&&a.push(t)}}else a=i;return a},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,u){_.defined(u)||(u=this.getTask(s)),this.$data.tasksStore.updateItem(s,u),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,u,i){return _.defined(s.id)||(s.id=_.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&"string"==typeof s.start_date&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&"string"==typeof s.end_date&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(_.defined(u)||(u=this.getParent(s)||0),this.isTaskExists(u)||(u=this.config.root_id),this.setParent(s,u),this.$data.tasksStore.addItem(s,i,u))},deleteTask:function(s){return s=l(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=l(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,u,i){return this.$data.tasksStore.eachItem(_.bind(s,i||this),u)},eachParent:function(s,u,i){return this.$data.tasksStore.eachParent(_.bind(s,i||this),u)},changeTaskId:function(s,u){this.$data.tasksStore.changeId(s,u);var i=this.$data.tasksStore.getItem(u),a=[];i.$source&&(a=a.concat(i.$source)),i.$target&&(a=a.concat(i.$target));for(var e=0;e<a.length;e++){var t=this.getLink(a[e]);t.source==s&&(t.source=u),t.target==s&&(t.target=u)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,u,i){return this.$data.tasksStore.setParent(s,u,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var u=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(u)?this.getTask(u):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,u,i){return i=l(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,u,i,a){var e=!a;this.$data.tasksStore.sort(s,u,i),this.callEvent("onAfterSort",[s,u,i]),e&&this.render()}}}},function($,C,f){var _=f(0),l=f(246),s=f(245),u=f(54),i=f(52),a=f(244),e=f(243),t=f(15),n=f(2).replaceValidZeroId;function r(){for(var c=this.$services.getService("datastores"),d=[],h=0;h<c.length;h++){var g=this.getDatastore(c[h]);g.$destroyed||d.push(g)}return d}u.default&&(u=u.default);$.exports={create:function(){var c=_.mixin({},{createDatastore:function(c){var d="treedatastore"==(c.type||"").toLowerCase()?i:u;if(c){var h=this;c.openInitially=function(){return h.config.open_tree_initially},c.copyOnParse=function(){return h.config.deepcopy_on_parse}}var g=new d(c);if(this.mixin(g,a(g)),c.name){var p="datastore:"+c.name;g.attachEvent("onDestroy",function(){this.$services.dropService(p);for(var v=this.$services.getService("datastores"),m=0;m<v.length;m++)if(v[m]===c.name){v.splice(m,1);break}}.bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return g});var y=this.$services.getService("datastores");y?y.indexOf(c.name)<0&&y.push(c.name):(y=[],this.$services.setService("datastores",function(){return y}),y.push(c.name)),e.bindDataStore(c.name,this)}return g},getDatastore:function(c){return this.$services.getService("datastore:"+c)},_getDatastores:r,refreshData:function(){var c;t(this)||(c=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=r.call(this),h=0;h<d.length;h++)d[h].refresh();this.config.preserve_scroll&&!t(this)&&(c.x||c.y)&&this.scrollTo(c.x,c.y),this.callEvent("onDataRender",[])},isChildOf:function(c,d){return this.$data.tasksStore.isChildOf(c,d)},refreshTask:function(c,d){var h=this.getTask(c),g=this;function p(){if(void 0===d||d){for(var v=0;v<h.$source.length;v++)g.refreshLink(h.$source[v]);for(v=0;v<h.$target.length;v++)g.refreshLink(h.$target[v])}}if(h&&this.isTaskVisible(c))this.$data.tasksStore.refresh(c,!!this.getState("tasksDnd").drag_id||!1===d),p();else if(this.isTaskExists(c)&&this.isTaskExists(this.getParent(c))&&!this._bulk_dnd){this.refreshTask(this.getParent(c));var y=!1;this.eachParent(function(v){(y||this.isSplitTask(v))&&(y=!0)},c),y&&p()}},refreshLink:function(c){this.$data.linksStore.refresh(c,!!this.getState("tasksDnd").drag_id)},silent:function(c){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){c()})})},clearAll:function(){for(var c=r.call(this),d=0;d<c.length;d++)c[d].silent(function(){c[d].clearAll()});for(d=0;d<c.length;d++)c[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(c){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(c=n(c,this.config.root_id)){var h=this.getSelectedId();d._skipResourceRepaint=!0,d.select(c),d._skipResourceRepaint=!1,h&&d.pull[h].$split_subtask&&h!=c&&this.refreshTask(h),d.pull[c].$split_subtask&&h!=c&&this.refreshTask(c)}return d.getSelectedId()},unselectTask:function(c){var d=this.$data.tasksStore;d.unselect(c),c&&d.pull[c].$split_subtask&&this.refreshTask(c)},isSelectedTask:function(c){return this.$data.tasksStore.isSelected(c)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return _.mixin(c,l()),_.mixin(c,s()),c}}},function($,C,f){var _=f(0),l=f(247),s=f(51),u=f(16);$.exports=function(i){var a=l.create();_.mixin(i,a);var h,g,e=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:_.bind(function(h){this.defined(h.id)||(h.id=this.uid()),h.start_date&&(h.start_date=i.date.parseDate(h.start_date,"parse_date")),h.end_date&&(h.end_date=i.date.parseDate(h.end_date,"parse_date"));var g=null;(h.duration||0===h.duration)&&(h.duration=g=1*h.duration),g&&(h.start_date&&!h.end_date?h.end_date=this.calculateEndDate(h):!h.start_date&&h.end_date&&(h.start_date=this.calculateEndDate({start_date:h.end_date,duration:-h.duration,task:h}))),h.progress=Number(h.progress)||0,this._isAllowedUnscheduledTask(h)&&this._set_default_task_timing(h),this._init_task_timing(h),h.start_date&&h.end_date&&this.correctTaskWorkTime(h),h.$source=[],h.$target=[];var p=this.$data.tasksStore.getItem(h.id);return p&&!_.defined(h.open)&&(h.$open=p.$open),void 0===h.parent&&(h.parent=this.config.root_id),h},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:_.bind(function(h){return this.defined(h.id)||(h.id=this.uid()),h},i)});function n(h){var g=i.isTaskVisible(h);if(!g&&i.isTaskExists(h)){var p=i.getParent(h);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(g=!0))}return g}function r(h){if(i.isTaskExists(h.source)){var g=i.getTask(h.source);g.$source=g.$source||[],g.$source.push(h.id)}if(i.isTaskExists(h.target)){var p=i.getTask(h.target);p.$target=p.$target||[],p.$target.push(h.id)}}function o(h){if(i.isTaskExists(h.source))for(var g=i.getTask(h.source),p=0;p<g.$source.length;p++)if(g.$source[p]==h.id){g.$source.splice(p,1);break}if(i.isTaskExists(h.target)){var y=i.getTask(h.target);for(p=0;p<y.$target.length;p++)if(y.$target[p]==h.id){y.$target.splice(p,1);break}}}function c(){for(var h=null,g=i.$data.tasksStore.getItems(),p=0,y=g.length;p<y;p++)(h=g[p]).$source=[],h.$target=[];var v=i.$data.linksStore.getItems();for(p=0,y=v.length;p<y;p++)r(v[p])}function d(h){var g=h.source,p=h.target;for(var y in h.events)!function(v,m){g.attachEvent(v,function(){return p.callEvent(m,Array.prototype.slice.call(arguments))},m)}(y,h.events[y])}i.attachEvent("onDestroy",function(){e.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(h){if(i.isLinkExists(h.id)||"predecessor_generated"===h.id)return!0;for(var g=i.getTask(h.source).$source,p=0;p<g.length;p++){var y=i.getLink(g[p]);if(h.source==y.source&&h.target==y.target&&h.type==y.type)return!1}return!0}),e.attachEvent("onBeforeRefreshAll",function(){if(!e._skipTaskRecalculation)for(var h=e.getVisibleItems(),g=0;g<h.length;g++){var p=h[g];p.$index=g,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),e.attachEvent("onFilterItem",function(h,g){if(i.config.show_tasks_outside_timescale)return!0;var p=null,y=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(g))return!0;if(p=i.config.start_date.valueOf(),y=i.config.end_date.valueOf(),+g.start_date>y||+g.end_date<+p)return!1}return!0}),e.attachEvent("onIdChange",function(h,g){i._update_flags(h,g);var p=i.getTask(g);e.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(y){i.refreshTask(y.id)},g)}),e.attachEvent("onAfterUpdate",function(h){if(i._update_parents(h),i.getState("batchUpdate").batch_update)return!0;var g=e.getItem(h);g.$source||(g.$source=[]);for(var p=0;p<g.$source.length;p++)t.refresh(g.$source[p]);for(g.$target||(g.$target=[]),p=0;p<g.$target.length;p++)t.refresh(g.$target[p])}),e.attachEvent("onBeforeItemMove",function(h,g,p){return!u(h,i,e)||(console.log("The placeholder task cannot be moved to another position."),!1)}),e.attachEvent("onAfterItemMove",function(h,g,p){i.getTask(h).$drop_target=null!==this.getNextSibling(h)?this.getNextSibling(h):null!==this.getPrevSibling(h)?"next:"+this.getPrevSibling(h):"next:null"}),e.attachEvent("onStoreUpdated",function(h,g,p){if("delete"==p&&i._update_flags(h,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&"paint"!==p){var y=i.getState();s(i);var v=i.getState();if(+y.min_date!=+v.min_date||+y.max_date!=+v.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}"add"==p||"move"==p||"delete"==p?i.$layout&&("task"!=this.$config.name||"add"!=p&&"delete"!=p||"lightbox"!=this._skipTaskRecalculation&&(this._skipTaskRecalculation=!0),i.$layout.resize()):h||t.refresh()}}),t.attachEvent("onAfterAdd",function(h,g){r(g)}),t.attachEvent("onAfterUpdate",function(h,g){c()}),t.attachEvent("onAfterDelete",function(h,g){o(g)}),t.attachEvent("onBeforeIdChange",function(h,g){o(i.mixin({id:h},i.$data.linksStore.getItem(g))),r(i.$data.linksStore.getItem(g))}),t.attachEvent("onFilterItem",function(h,g){if(!i.config.show_links)return!1;var p=n(g.source),y=n(g.target);return!(!p||!y||i._isAllowedUnscheduledTask(i.getTask(g.source))||i._isAllowedUnscheduledTask(i.getTask(g.target)))&&i.callEvent("onBeforeLinkDisplay",[h,g])}),h=f(48),g={},i.attachEvent("onBeforeTaskDelete",function(p,y){return g[p]=h.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,y){g[p]&&i.$data.linksStore.silent(function(){for(var v in g[p])i.isLinkExists(v)&&i.$data.linksStore.removeItem(v),o(g[p][v]);g[p]=null})}),i.attachEvent("onAfterLinkDelete",function(h,g){i.refreshTask(g.source),i.refreshTask(g.target)}),i.attachEvent("onParse",c),d({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:e,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:e,linksStore:t}}},function($,C,f){(function(_,l,s){var u,a,t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}t=function(){return function o(c,d,h){function g(v,m){if(!d[v]){if(!c[v]){var k="function"==typeof _dereq_&&_dereq_;if(!m&&k)return k(v,!0);if(p)return p(v,!0);var b=new Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b}var S=d[v]={exports:{}};c[v][0].call(S.exports,function(w){return g(c[v][1][w]||w)},S,S.exports,o,c,d,h)}return d[v].exports}for(var p="function"==typeof _dereq_&&_dereq_,y=0;y<h.length;y++)g(h[y]);return g}({1:[function(o,c,d){"use strict";c.exports=function(h){var g=h._SomePromiseArray;function p(y){var v=new g(y),m=v.promise();return v.setHowMany(1),v.setUnwrap(),v.init(),m}h.any=function(y){return p(y)},h.prototype.any=function(){return p(this)}}},{}],2:[function(o,c,d){"use strict";var h;try{throw new Error}catch(x){h=x}var g=o("./schedule"),p=o("./queue"),y=o("./util");function v(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var x=this;this.drainQueues=function(){x._drainQueues()},this._schedule=g}function m(x,T,E){this._lateQueue.push(x,T,E),this._queueTick()}function k(x,T,E){this._normalQueue.push(x,T,E),this._queueTick()}function b(x){this._normalQueue._pushOne(x),this._queueTick()}function S(x){for(;x.length()>0;)w(x)}function w(x){var T=x.shift();if("function"!=typeof T)T._settlePromises();else{var E=x.shift(),I=x.shift();T.call(E,I)}}v.prototype.setScheduler=function(x){var T=this._schedule;return this._schedule=x,this._customScheduler=!0,T},v.prototype.hasCustomScheduler=function(){return this._customScheduler},v.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},v.prototype.disableTrampolineIfNecessary=function(){y.hasDevTools&&(this._trampolineEnabled=!1)},v.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},v.prototype.fatalError=function(x,T){T?(_.stderr.write("Fatal "+(x instanceof Error?x.stack:x)+"\n"),_.exit(2)):this.throwLater(x)},v.prototype.throwLater=function(x,T){if(1===arguments.length&&(T=x,x=function(){throw T}),typeof setTimeout<"u")setTimeout(function(){x(T)},0);else try{this._schedule(function(){x(T)})}catch{throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},y.hasDevTools?(v.prototype.invokeLater=function(x,T,E){this._trampolineEnabled?m.call(this,x,T,E):this._schedule(function(){setTimeout(function(){x.call(T,E)},100)})},v.prototype.invoke=function(x,T,E){this._trampolineEnabled?k.call(this,x,T,E):this._schedule(function(){x.call(T,E)})},v.prototype.settlePromises=function(x){this._trampolineEnabled?b.call(this,x):this._schedule(function(){x._settlePromises()})}):(v.prototype.invokeLater=m,v.prototype.invoke=k,v.prototype.settlePromises=b),v.prototype._drainQueues=function(){S(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,S(this._lateQueue)},v.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},v.prototype._reset=function(){this._isTickUsed=!1},c.exports=v,c.exports.firstLineError=h},{"./queue":26,"./schedule":29,"./util":36}],3:[function(o,c,d){"use strict";c.exports=function(h,g,p,y){var v=!1,m=function(w,x){this._reject(x)},k=function(w,x){x.promiseRejectionQueued=!0,x.bindingPromise._then(m,m,null,this,w)},b=function(w,x){!(50397184&this._bitField)&&this._resolveCallback(x.target)},S=function(w,x){x.promiseRejectionQueued||this._reject(w)};h.prototype.bind=function(w){v||(v=!0,h.prototype._propagateFrom=y.propagateFromFunction(),h.prototype._boundValue=y.boundValueFunction());var x=p(w),T=new h(g);T._propagateFrom(this,1);var E=this._target();if(T._setBoundTo(x),x instanceof h){var I={promiseRejectionQueued:!1,promise:T,target:E,bindingPromise:x};E._then(g,k,void 0,T,I),x._then(b,S,void 0,T,I),T._setOnCancel(x)}else T._resolveCallback(E);return T},h.prototype._setBoundTo=function(w){void 0!==w?(this._bitField=2097152|this._bitField,this._boundTo=w):this._bitField=-2097153&this._bitField},h.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},h.bind=function(w,x){return h.resolve(x).bind(w)}}},{}],4:[function(o,c,d){"use strict";var h;typeof Promise<"u"&&(h=Promise);var g=o("./promise")();g.noConflict=function(){try{Promise===g&&(Promise=h)}catch{}return g},c.exports=g},{"./promise":22}],5:[function(o,c,d){"use strict";var h=Object.create;if(h){var g=h(null),p=h(null);g[" size"]=p[" size"]=0}c.exports=function(y){var v=o("./util"),m=v.canEvaluate;function k(w){return function(x,T){var E;if(null!=x&&(E=x[T]),"function"!=typeof E){var I="Object "+v.classString(x)+" has no method '"+v.toString(T)+"'";throw new y.TypeError(I)}return E}(w,this.pop()).apply(w,this)}function b(w){return w[this]}function S(w){var x=+this;return x<0&&(x=Math.max(0,x+w.length)),w[x]}y.prototype.call=function(w){var x=[].slice.call(arguments,1);return x.push(w),this._then(k,void 0,void 0,x,void 0)},y.prototype.get=function(w){var x;if("number"==typeof w)x=S;else if(m){var T=(void 0)(w);x=null!==T?T:b}else x=b;return this._then(x,void 0,void 0,w,void 0)}}},{"./util":36}],6:[function(o,c,d){"use strict";c.exports=function(h,g,p,y){var v=o("./util"),m=v.tryCatch,k=v.errorObj,b=h._async;h.prototype.break=h.prototype.cancel=function(){if(!y.cancellation())return this._warn("cancellation is disabled");for(var S=this,w=S;S._isCancellable();){if(!S._cancelBy(w)){w._isFollowing()?w._followee().cancel():w._cancelBranched();break}var x=S._cancellationParent;if(null==x||!x._isCancellable()){S._isFollowing()?S._followee().cancel():S._cancelBranched();break}S._isFollowing()&&S._followee().cancel(),S._setWillBeCancelled(),w=S,S=x}},h.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},h.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},h.prototype._cancelBy=function(S){return S===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},h.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},h.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),b.invoke(this._cancelPromises,this,void 0))},h.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},h.prototype._unsetOnCancel=function(){this._onCancelField=void 0},h.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},h.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},h.prototype._doInvokeOnCancel=function(S,w){if(v.isArray(S))for(var x=0;x<S.length;++x)this._doInvokeOnCancel(S[x],w);else if(void 0!==S)if("function"==typeof S){if(!w){var T=m(S).call(this._boundValue());T===k&&(this._attachExtraTrace(T.e),b.throwLater(T.e))}}else S._resultCancelled(this)},h.prototype._invokeOnCancel=function(){var S=this._onCancel();this._unsetOnCancel(),b.invoke(this._doInvokeOnCancel,this,S)},h.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},h.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(o,c,d){"use strict";c.exports=function(h){var g=o("./util"),p=o("./es5").keys,y=g.tryCatch,v=g.errorObj;return function(m,k,b){return function(S){var w=b._boundValue();t:for(var x=0;x<m.length;++x){var T=m[x];if(T===Error||null!=T&&T.prototype instanceof Error){if(S instanceof T)return y(k).call(w,S)}else if("function"==typeof T){var E=y(T).call(w,S);if(E===v)return E;if(E)return y(k).call(w,S)}else if(g.isObject(S)){for(var I=p(T),L=0;L<I.length;++L){var N=I[L];if(T[N]!=S[N])continue t}return y(k).call(w,S)}}return h}}}},{"./es5":13,"./util":36}],8:[function(o,c,d){"use strict";c.exports=function(h){var g=!1,p=[];function y(){this._trace=new y.CapturedTrace(v())}function v(){var m=p.length-1;if(m>=0)return p[m]}return h.prototype._promiseCreated=function(){},h.prototype._pushContext=function(){},h.prototype._popContext=function(){return null},h._peekContext=h.prototype._peekContext=function(){},y.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,p.push(this._trace))},y.prototype._popContext=function(){if(void 0!==this._trace){var m=p.pop(),k=m._promiseCreated;return m._promiseCreated=null,k}return null},y.CapturedTrace=null,y.create=function(){if(g)return new y},y.deactivateLongStackTraces=function(){},y.activateLongStackTraces=function(){var m=h.prototype._pushContext,k=h.prototype._popContext,b=h._peekContext,S=h.prototype._peekContext,w=h.prototype._promiseCreated;y.deactivateLongStackTraces=function(){h.prototype._pushContext=m,h.prototype._popContext=k,h._peekContext=b,h.prototype._peekContext=S,h.prototype._promiseCreated=w,g=!1},g=!0,h.prototype._pushContext=y.prototype._pushContext,h.prototype._popContext=y.prototype._popContext,h._peekContext=h.prototype._peekContext=v,h.prototype._promiseCreated=function(){var x=this._peekContext();x&&null==x._promiseCreated&&(x._promiseCreated=this)}},y}},{}],9:[function(o,c,d){"use strict";c.exports=function(h,g){var p,y,v,m=h._getDomain,k=h._async,b=o("./errors").Warning,S=o("./util"),w=o("./es5"),x=S.canAttachTrace,T=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,E=/\((?:timers\.js):\d+:\d+\)/,I=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,L=null,N=null,z=!1,U=0!=S.env("BLUEBIRD_DEBUG"),W=!(0==S.env("BLUEBIRD_WARNINGS")||!U&&!S.env("BLUEBIRD_WARNINGS")),Y=!(0==S.env("BLUEBIRD_LONG_STACK_TRACES")||!U&&!S.env("BLUEBIRD_LONG_STACK_TRACES")),O=0!=S.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(W||!!S.env("BLUEBIRD_W_FORGOTTEN_RETURN"));h.prototype.suppressUnhandledRejections=function(){var it=this._target();it._bitField=-1048577&it._bitField|524288},h.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var it=this;setTimeout(function(){it._notifyUnhandledRejection()},1)}},h.prototype._notifyUnhandledRejectionIsHandled=function(){Tt("rejectionHandled",p,void 0,this)},h.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},h.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},h.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var it=this._settledValue();this._setUnhandledRejectionIsNotified(),Tt("unhandledRejection",y,it,this)}},h.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},h.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},h.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},h.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},h.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},h.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},h.prototype._warn=function(it,ot,ut){return ht(it,ot,ut||this)},h.onPossiblyUnhandledRejection=function(it){var ot=m();y="function"==typeof it?null===ot?it:S.domainBind(ot,it):void 0},h.onUnhandledRejectionHandled=function(it){var ot=m();p="function"==typeof it?null===ot?it:S.domainBind(ot,it):void 0};var H=function(){};h.longStackTraces=function(){if(k.haveItemsQueued()&&!$t.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!$t.longStackTraces&&At()){var it=h.prototype._captureStackTrace,ot=h.prototype._attachExtraTrace,ut=h.prototype._dereferenceTrace;$t.longStackTraces=!0,H=function(){if(k.haveItemsQueued()&&!$t.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");h.prototype._captureStackTrace=it,h.prototype._attachExtraTrace=ot,h.prototype._dereferenceTrace=ut,g.deactivateLongStackTraces(),k.enableTrampoline(),$t.longStackTraces=!1},h.prototype._captureStackTrace=ct,h.prototype._attachExtraTrace=gt,h.prototype._dereferenceTrace=et,g.activateLongStackTraces(),k.disableTrampolineIfNecessary()}},h.hasLongStackTraces=function(){return $t.longStackTraces&&At()};var X=function(){try{if("function"==typeof CustomEvent){var it=new CustomEvent("CustomEvent");return S.global.dispatchEvent(it),function(ot,ut){var dt={detail:ut,cancelable:!0};w.defineProperty(dt,"promise",{value:ut.promise}),w.defineProperty(dt,"reason",{value:ut.reason});var vt=new CustomEvent(ot.toLowerCase(),dt);return!S.global.dispatchEvent(vt)}}return"function"==typeof Event?(it=new Event("CustomEvent"),S.global.dispatchEvent(it),function(ot,ut){var dt=new Event(ot.toLowerCase(),{cancelable:!0});return dt.detail=ut,w.defineProperty(dt,"promise",{value:ut.promise}),w.defineProperty(dt,"reason",{value:ut.reason}),!S.global.dispatchEvent(dt)}):((it=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),S.global.dispatchEvent(it),function(ot,ut){var dt=document.createEvent("CustomEvent");return dt.initCustomEvent(ot.toLowerCase(),!1,!0,ut),!S.global.dispatchEvent(dt)})}catch{}return function(){return!1}}(),Z=S.isNode?function(){return _.emit.apply(_,arguments)}:S.global?function(it){var ot="on"+it.toLowerCase(),ut=S.global[ot];return!!ut&&(ut.apply(S.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function K(it,ot){return{promise:ot}}var tt={promiseCreated:K,promiseFulfilled:K,promiseRejected:K,promiseResolved:K,promiseCancelled:K,promiseChained:function(it,ot,ut){return{promise:ot,child:ut}},warning:function(it,ot){return{warning:ot}},unhandledRejection:function(it,ot,ut){return{reason:ot,promise:ut}},rejectionHandled:K},V=function(it){var ot=!1;try{ot=Z.apply(null,arguments)}catch(dt){k.throwLater(dt),ot=!0}var ut=!1;try{ut=X(it,tt[it].apply(null,arguments))}catch(dt){k.throwLater(dt),ut=!0}return ut||ot};function st(){return!1}function D(it,ot,ut){var dt=this;try{it(ot,ut,function(vt){if("function"!=typeof vt)throw new TypeError("onCancel must be a function, got: "+S.toString(vt));dt._attachCancellationCallback(vt)})}catch(vt){return vt}}function M(it){if(!this._isCancellable())return this;var ot=this._onCancel();void 0!==ot?S.isArray(ot)?ot.push(it):this._setOnCancel([ot,it]):this._setOnCancel(it)}function P(){return this._onCancelField}function F(it){this._onCancelField=it}function B(){this._cancellationParent=void 0,this._onCancelField=void 0}function q(it,ot){if(1&ot){this._cancellationParent=it;var ut=it._branchesRemainingToCancel;void 0===ut&&(ut=0),it._branchesRemainingToCancel=ut+1}2&ot&&it._isBound()&&this._setBoundTo(it._boundTo)}h.config=function(it){if("longStackTraces"in(it=Object(it))&&(it.longStackTraces?h.longStackTraces():!it.longStackTraces&&h.hasLongStackTraces()&&H()),"warnings"in it){var ot=it.warnings;$t.warnings=!!ot,O=$t.warnings,S.isObject(ot)&&"wForgottenReturn"in ot&&(O=!!ot.wForgottenReturn)}if("cancellation"in it&&it.cancellation&&!$t.cancellation){if(k.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");h.prototype._clearCancellationData=B,h.prototype._propagateFrom=q,h.prototype._onCancel=P,h.prototype._setOnCancel=F,h.prototype._attachCancellationCallback=M,h.prototype._execute=D,nt=q,$t.cancellation=!0}return"monitoring"in it&&(it.monitoring&&!$t.monitoring?($t.monitoring=!0,h.prototype._fireEvent=V):!it.monitoring&&$t.monitoring&&($t.monitoring=!1,h.prototype._fireEvent=st)),h},h.prototype._fireEvent=st,h.prototype._execute=function(it,ot,ut){try{it(ot,ut)}catch(dt){return dt}},h.prototype._onCancel=function(){},h.prototype._setOnCancel=function(it){},h.prototype._attachCancellationCallback=function(it){},h.prototype._captureStackTrace=function(){},h.prototype._attachExtraTrace=function(){},h.prototype._dereferenceTrace=function(){},h.prototype._clearCancellationData=function(){},h.prototype._propagateFrom=function(it,ot){};var nt=function(it,ot){2&ot&&it._isBound()&&this._setBoundTo(it._boundTo)};function at(){var it=this._boundTo;return void 0!==it&&it instanceof h?it.isFulfilled()?it.value():void 0:it}function ct(){this._trace=new Ot(this._peekContext())}function gt(it,ot){if(x(it)){var ut=this._trace;if(void 0!==ut&&ot&&(ut=ut._parent),void 0!==ut)ut.attachExtraTrace(it);else if(!it.__stackCleaned__){var dt=yt(it);S.notEnumerableProp(it,"stack",dt.message+"\n"+dt.stack.join("\n")),S.notEnumerableProp(it,"__stackCleaned__",!0)}}}function et(){this._trace=void 0}function ht(it,ot,ut){if($t.warnings){var dt,vt=new b(it);if(ot)ut._attachExtraTrace(vt);else if($t.longStackTraces&&(dt=h._peekContext()))dt.attachExtraTrace(vt);else{var pt=yt(vt);vt.stack=pt.message+"\n"+pt.stack.join("\n")}V("warning",vt)||kt(vt,"",!0)}}function mt(it){for(var ot=[],ut=0;ut<it.length;++ut){var dt=it[ut],vt="    (No stack trace)"===dt||L.test(dt),pt=vt&&Mt(dt);vt&&!pt&&(z&&" "!==dt.charAt(0)&&(dt="    "+dt),ot.push(dt))}return ot}function yt(it){var ot=it.stack,ut=it.toString();return ot="string"==typeof ot&&ot.length>0?function(dt){for(var vt=dt.stack.replace(/\s+$/g,"").split("\n"),pt=0;pt<vt.length;++pt){var _t=vt[pt];if("    (No stack trace)"===_t||L.test(_t))break}return pt>0&&"SyntaxError"!=dt.name&&(vt=vt.slice(pt)),vt}(it):["    (No stack trace)"],{message:ut,stack:"SyntaxError"==it.name?ot:mt(ot)}}function kt(it,ot,ut){var dt;typeof console<"u"&&(dt=S.isObject(it)?ot+N(it.stack,it):ot+String(it),"function"==typeof v?v(dt,ut):"function"!=typeof console.log&&"object"!==e(console.log)||console.log(dt))}function Tt(it,ot,ut,dt){var vt=!1;try{"function"==typeof ot&&(vt=!0,"rejectionHandled"===it?ot(dt):ot(ut,dt))}catch(pt){k.throwLater(pt)}"unhandledRejection"===it?V(it,ut,dt)||vt||kt(ut,"Unhandled rejection "):V(it,dt)}function Pt(it){var ot,ut;if("function"==typeof it)ot="[function "+(it.name||"anonymous")+"]";else{if(ot=it&&"function"==typeof it.toString?it.toString():S.toString(it),/\[object [a-zA-Z0-9$_]+\]/.test(ot))try{ot=JSON.stringify(it)}catch{}0===ot.length&&(ot="(empty array)")}return"(<"+((ut=ot).length<41?ut:ut.substr(0,38)+"...")+">, no stack trace)"}function At(){return"function"==typeof zt}var Mt=function(){return!1},Ht=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function jt(it){var ot=it.match(Ht);if(ot)return{fileName:ot[1],line:parseInt(ot[2],10)}}function Ot(it){this._parent=it,this._promisesCreated=0;var ot=this._length=1+(void 0===it?0:it._length);zt(this,Ot),ot>32&&this.uncycle()}S.inherits(Ot,Error),g.CapturedTrace=Ot,Ot.prototype.uncycle=function(){var it=this._length;if(!(it<2)){for(var ot=[],ut={},dt=0,vt=this;void 0!==vt;++dt)ot.push(vt),vt=vt._parent;for(dt=(it=this._length=dt)-1;dt>=0;--dt){var pt=ot[dt].stack;void 0===ut[pt]&&(ut[pt]=dt)}for(dt=0;dt<it;++dt){var _t=ut[ot[dt].stack];if(void 0!==_t&&_t!==dt){_t>0&&(ot[_t-1]._parent=void 0,ot[_t-1]._length=1),ot[dt]._parent=void 0,ot[dt]._length=1;var wt=dt>0?ot[dt-1]:this;_t<it-1?(wt._parent=ot[_t+1],wt._parent.uncycle(),wt._length=wt._parent._length+1):(wt._parent=void 0,wt._length=1);for(var Ct=wt._length+1,St=dt-2;St>=0;--St)ot[St]._length=Ct,Ct++;return}}}},Ot.prototype.attachExtraTrace=function(it){if(!it.__stackCleaned__){this.uncycle();for(var ot=yt(it),ut=ot.message,dt=[ot.stack],vt=this;void 0!==vt;)dt.push(mt(vt.stack.split("\n"))),vt=vt._parent;(function(pt){for(var _t=pt[0],wt=1;wt<pt.length;++wt){for(var Ct=pt[wt],St=_t.length-1,Nt=_t[St],Dt=-1,It=Ct.length-1;It>=0;--It)if(Ct[It]===Nt){Dt=It;break}for(It=Dt;It>=0&&_t[St]===Ct[It];--It)_t.pop(),St--;_t=Ct}})(dt),function(pt){for(var _t=0;_t<pt.length;++_t)(0===pt[_t].length||_t+1<pt.length&&pt[_t][0]===pt[_t+1][0])&&(pt.splice(_t,1),_t--)}(dt),S.notEnumerableProp(it,"stack",function(pt,_t){for(var wt=0;wt<_t.length-1;++wt)_t[wt].push("From previous event:"),_t[wt]=_t[wt].join("\n");return wt<_t.length&&(_t[wt]=_t[wt].join("\n")),pt+"\n"+_t.join("\n")}(ut,dt)),S.notEnumerableProp(it,"__stackCleaned__",!0)}};var zt=function(){var it=/^\s*at\s*/,ot=function(pt,_t){return"string"==typeof pt?pt:void 0!==_t.name&&void 0!==_t.message?_t.toString():Pt(_t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,L=it,N=ot;var ut=Error.captureStackTrace;return Mt=function(pt){return T.test(pt)},function(pt,_t){Error.stackTraceLimit+=6,ut(pt,_t),Error.stackTraceLimit-=6}}var dt,vt=new Error;if("string"==typeof vt.stack&&vt.stack.split("\n")[0].indexOf("stackDetection@")>=0)return L=/@/,N=ot,z=!0,function(pt){pt.stack=(new Error).stack};try{throw new Error}catch(pt){dt="stack"in pt}return"stack"in vt||!dt||"number"!=typeof Error.stackTraceLimit?(N=function(pt,_t){return"string"==typeof pt?pt:"object"!==e(_t)&&"function"!=typeof _t||void 0===_t.name||void 0===_t.message?Pt(_t):_t.toString()},null):(L=it,N=ot,function(pt){Error.stackTraceLimit+=6;try{throw new Error}catch(_t){pt.stack=_t.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&void 0!==console.warn&&(v=function(it){console.warn(it)},S.isNode&&_.stderr.isTTY?v=function(it,ot){console.warn((ot?"\x1b[33m":"\x1b[31m")+it+"\x1b[0m\n")}:S.isNode||"string"!=typeof(new Error).stack||(v=function(it,ot){console.warn("%c"+it,ot?"color: darkorange":"color: red")}));var $t={warnings:W,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&h.longStackTraces(),{longStackTraces:function(){return $t.longStackTraces},warnings:function(){return $t.warnings},cancellation:function(){return $t.cancellation},monitoring:function(){return $t.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return at},checkForgottenReturns:function(it,ot,ut,dt,vt){if(void 0===it&&null!==ot&&O){if(void 0!==vt&&vt._returnedNonUndefined()||!(65535&dt._bitField))return;ut&&(ut+=" ");var pt="",_t="";if(ot._trace){for(var wt=ot._trace.stack.split("\n"),Ct=mt(wt),St=Ct.length-1;St>=0;--St){var Nt=Ct[St];if(!E.test(Nt)){var Dt=Nt.match(I);Dt&&(pt="at "+Dt[1]+":"+Dt[2]+":"+Dt[3]+" ");break}}if(Ct.length>0){var It=Ct[0];for(St=0;St<wt.length;++St)if(wt[St]===It){St>0&&(_t="\n"+wt[St-1]);break}}}dt._warn("a promise was created in a "+ut+"handler "+pt+"but was not returned from it, see http://goo.gl/rRqMUw"+_t,!0,ot)}},setBounds:function(it,ot){if(At()){for(var ut,dt,vt=it.stack.split("\n"),pt=ot.stack.split("\n"),_t=-1,wt=-1,Ct=0;Ct<vt.length;++Ct)if(St=jt(vt[Ct])){ut=St.fileName,_t=St.line;break}for(Ct=0;Ct<pt.length;++Ct){var St;if(St=jt(pt[Ct])){dt=St.fileName,wt=St.line;break}}_t<0||wt<0||!ut||!dt||ut!==dt||_t>=wt||(Mt=function(Nt){if(T.test(Nt))return!0;var Dt=jt(Nt);return!!(Dt&&Dt.fileName===ut&&_t<=Dt.line&&Dt.line<=wt)})}},warn:ht,deprecated:function(it,ot){var ut=it+" is deprecated and will be removed in a future version.";return ot&&(ut+=" Use "+ot+" instead."),ht(ut)},CapturedTrace:Ot,fireDomEvent:X,fireGlobalEvent:Z}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(o,c,d){"use strict";c.exports=function(h){function g(){return this.value}function p(){throw this.reason}h.prototype.return=h.prototype.thenReturn=function(y){return y instanceof h&&y.suppressUnhandledRejections(),this._then(g,void 0,void 0,{value:y},void 0)},h.prototype.throw=h.prototype.thenThrow=function(y){return this._then(p,void 0,void 0,{reason:y},void 0)},h.prototype.catchThrow=function(y){if(arguments.length<=1)return this._then(void 0,p,void 0,{reason:y},void 0);var v=arguments[1];return this.caught(y,function(){throw v})},h.prototype.catchReturn=function(y){if(arguments.length<=1)return y instanceof h&&y.suppressUnhandledRejections(),this._then(void 0,g,void 0,{value:y},void 0);var v=arguments[1];return v instanceof h&&v.suppressUnhandledRejections(),this.caught(y,function(){return v})}}},{}],11:[function(o,c,d){"use strict";c.exports=function(h,g){var p=h.reduce,y=h.all;function v(){return y(this)}h.prototype.each=function(m){return p(this,m,g,0)._then(v,void 0,void 0,this,void 0)},h.prototype.mapSeries=function(m){return p(this,m,g,g)},h.each=function(m,k){return p(m,k,g,0)._then(v,void 0,void 0,m,void 0)},h.mapSeries=function(m,k){return p(m,k,g,g)}}},{}],12:[function(o,c,d){"use strict";var h,g,p=o("./es5"),y=p.freeze,v=o("./util"),m=v.inherits,k=v.notEnumerableProp;function b(U,W){function Y(O){if(!(this instanceof Y))return new Y(O);k(this,"message","string"==typeof O?O:W),k(this,"name",U),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return m(Y,Error),Y}var S=b("Warning","warning"),w=b("CancellationError","cancellation error"),x=b("TimeoutError","timeout error"),T=b("AggregateError","aggregate error");try{h=TypeError,g=RangeError}catch{h=b("TypeError","type error"),g=b("RangeError","range error")}for(var E="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),I=0;I<E.length;++I)"function"==typeof Array.prototype[E[I]]&&(T.prototype[E[I]]=Array.prototype[E[I]]);p.defineProperty(T.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),T.prototype.isOperational=!0;var L=0;function N(U){if(!(this instanceof N))return new N(U);k(this,"name","OperationalError"),k(this,"message",U),this.cause=U,this.isOperational=!0,U instanceof Error?(k(this,"message",U.message),k(this,"stack",U.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}T.prototype.toString=function(){var U=Array(4*L+1).join(" "),W="\n"+U+"AggregateError of:\n";L++,U=Array(4*L+1).join(" ");for(var Y=0;Y<this.length;++Y){for(var O=this[Y]===this?"[Circular AggregateError]":this[Y]+"",H=O.split("\n"),X=0;X<H.length;++X)H[X]=U+H[X];W+=(O=H.join("\n"))+"\n"}return L--,W},m(N,Error);var z=Error.__BluebirdErrorTypes__;z||(z=y({CancellationError:w,TimeoutError:x,OperationalError:N,RejectionError:N,AggregateError:T}),p.defineProperty(Error,"__BluebirdErrorTypes__",{value:z,writable:!1,enumerable:!1,configurable:!1})),c.exports={Error,TypeError:h,RangeError:g,CancellationError:z.CancellationError,OperationalError:z.OperationalError,TimeoutError:z.TimeoutError,AggregateError:z.AggregateError,Warning:S}},{"./es5":13,"./util":36}],13:[function(o,c,d){var h=function(){"use strict";return void 0===this}();if(h)c.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:h,propertyIsWritable:function(m,k){var b=Object.getOwnPropertyDescriptor(m,k);return!(b&&!b.writable&&!b.set)}};else{var g={}.hasOwnProperty,p={}.toString,y={}.constructor.prototype,v=function(m){var k=[];for(var b in m)g.call(m,b)&&k.push(b);return k};c.exports={isArray:function(m){try{return"[object Array]"===p.call(m)}catch{return!1}},keys:v,names:v,defineProperty:function(m,k,b){return m[k]=b.value,m},getDescriptor:function(m,k){return{value:m[k]}},freeze:function(m){return m},getPrototypeOf:function(m){try{return Object(m).constructor.prototype}catch{return y}},isES5:h,propertyIsWritable:function(){return!0}}}},{}],14:[function(o,c,d){"use strict";c.exports=function(h,g){var p=h.map;h.prototype.filter=function(y,v){return p(this,y,v,g)},h.filter=function(y,v,m){return p(y,v,m,g)}}},{}],15:[function(o,c,d){"use strict";c.exports=function(h,g,p){var y=o("./util"),v=h.CancellationError,m=y.errorObj,k=o("./catch_filter")(p);function b(I,L,N){this.promise=I,this.type=L,this.handler=N,this.called=!1,this.cancelPromise=null}function S(I){this.finallyHandler=I}function w(I,L){return null!=I.cancelPromise&&(arguments.length>1?I.cancelPromise._reject(L):I.cancelPromise._cancel(),I.cancelPromise=null,!0)}function x(){return E.call(this,this.promise._target()._settledValue())}function T(I){if(!w(this,I))return m.e=I,m}function E(I){var L=this.promise,N=this.handler;if(!this.called){this.called=!0;var z=this.isFinallyHandler()?N.call(L._boundValue()):N.call(L._boundValue(),I);if(z===p)return z;if(void 0!==z){L._setReturnedNonUndefined();var U=g(z,L);if(U instanceof h){if(null!=this.cancelPromise){if(U._isCancelled()){var W=new v("late cancellation observer");return L._attachExtraTrace(W),m.e=W,m}U.isPending()&&U._attachCancellationCallback(new S(this))}return U._then(x,T,void 0,this,void 0)}}}return L.isRejected()?(w(this),m.e=I,m):(w(this),I)}return b.prototype.isFinallyHandler=function(){return 0===this.type},S.prototype._resultCancelled=function(){w(this.finallyHandler)},h.prototype._passThrough=function(I,L,N,z){return"function"!=typeof I?this.then():this._then(N,z,void 0,new b(this,L,I),void 0)},h.prototype.lastly=h.prototype.finally=function(I){return this._passThrough(I,0,E,E)},h.prototype.tap=function(I){return this._passThrough(I,1,E)},h.prototype.tapCatch=function(I){var L=arguments.length;if(1===L)return this._passThrough(I,1,void 0,E);var N,z=new Array(L-1),U=0;for(N=0;N<L-1;++N){var W=arguments[N];if(!y.isObject(W))return h.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+y.classString(W)));z[U++]=W}return z.length=U,this._passThrough(k(z,arguments[N],this),1,void 0,E)},b}},{"./catch_filter":7,"./util":36}],16:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v,m){var k=o("./errors").TypeError,b=o("./util"),S=b.errorObj,w=b.tryCatch,x=[];function T(E,I,L,N){if(m.cancellation()){var z=new h(p),U=this._finallyPromise=new h(p);this._promise=z.lastly(function(){return U}),z._captureStackTrace(),z._setOnCancel(this)}else(this._promise=new h(p))._captureStackTrace();this._stack=N,this._generatorFunction=E,this._receiver=I,this._generator=void 0,this._yieldHandlers="function"==typeof L?[L].concat(x):x,this._yieldedPromise=null,this._cancellationPhase=!1}b.inherits(T,v),T.prototype._isResolved=function(){return null===this._promise},T.prototype._cleanup=function(){this._promise=this._generator=null,m.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},T.prototype._promiseCancelled=function(){if(!this._isResolved()){var E;if(void 0!==this._generator.return)this._promise._pushContext(),E=w(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var I=new h.CancellationError("generator .return() sentinel");h.coroutine.returnSentinel=I,this._promise._attachExtraTrace(I),this._promise._pushContext(),E=w(this._generator.throw).call(this._generator,I),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(E)}},T.prototype._promiseFulfilled=function(E){this._yieldedPromise=null,this._promise._pushContext();var I=w(this._generator.next).call(this._generator,E);this._promise._popContext(),this._continue(I)},T.prototype._promiseRejected=function(E){this._yieldedPromise=null,this._promise._attachExtraTrace(E),this._promise._pushContext();var I=w(this._generator.throw).call(this._generator,E);this._promise._popContext(),this._continue(I)},T.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof h){var E=this._yieldedPromise;this._yieldedPromise=null,E.cancel()}},T.prototype.promise=function(){return this._promise},T.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},T.prototype._continue=function(E){var I=this._promise;if(E===S)return this._cleanup(),this._cancellationPhase?I.cancel():I._rejectCallback(E.e,!1);var L=E.value;if(!0===E.done)return this._cleanup(),this._cancellationPhase?I.cancel():I._resolveCallback(L);var N=y(L,this._promise);if(N instanceof h||null!==(N=function(U,W,Y){for(var O=0;O<W.length;++O){Y._pushContext();var H=w(W[O])(U);if(Y._popContext(),H===S){Y._pushContext();var X=h.reject(S.e);return Y._popContext(),X}var Z=y(H,Y);if(Z instanceof h)return Z}return null}(N,this._yieldHandlers,this._promise))){var z=(N=N._target())._bitField;50397184&z?33554432&z?h._async.invoke(this._promiseFulfilled,this,N._value()):16777216&z?h._async.invoke(this._promiseRejected,this,N._reason()):this._promiseCancelled():(this._yieldedPromise=N,N._proxy(this,null))}else this._promiseRejected(new k("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(L))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},h.coroutine=function(E,I){if("function"!=typeof E)throw new k("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var L=Object(I).yieldHandler,N=T,z=(new Error).stack;return function(){var U=E.apply(this,arguments),W=new N(void 0,void 0,L,z),Y=W.promise();return W._generator=U,W._promiseFulfilled(void 0),Y}},h.coroutine.addYieldHandler=function(E){if("function"!=typeof E)throw new k("expecting a function but got "+b.classString(E));x.push(E)},h.spawn=function(E){if(m.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof E)return g("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var I=new T(E,this),L=I.promise();return I._run(h.spawn),L}}},{"./errors":12,"./util":36}],17:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v,m){o("./util"),h.join=function(){var b,S=arguments.length-1;S>0&&"function"==typeof arguments[S]&&(b=arguments[S]);var w=[].slice.call(arguments);b&&w.pop();var x=new g(w).promise();return void 0!==b?x.spread(b):x}}},{"./util":36}],18:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v,m){var k=h._getDomain,b=o("./util"),S=b.tryCatch,w=b.errorObj,x=h._async;function T(I,L,N,z){this.constructor$(I),this._promise._captureStackTrace();var U=k();this._callback=null===U?L:b.domainBind(U,L),this._preservedValues=z===v?new Array(this.length()):null,this._limit=N,this._inFlight=0,this._queue=[],x.invoke(this._asyncInit,this,void 0)}function E(I,L,N,z){if("function"!=typeof L)return p("expecting a function but got "+b.classString(L));var U=0;if(void 0!==N){if("object"!==e(N)||null===N)return h.reject(new TypeError("options argument must be an object but it is "+b.classString(N)));if("number"!=typeof N.concurrency)return h.reject(new TypeError("'concurrency' must be a number but it is "+b.classString(N.concurrency)));U=N.concurrency}return new T(I,L,U="number"==typeof U&&isFinite(U)&&U>=1?U:0,z).promise()}b.inherits(T,g),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(I,L){var N=this._values,z=this.length(),U=this._preservedValues,W=this._limit;if(L<0){if(N[L=-1*L-1]=I,W>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(W>=1&&this._inFlight>=W)return N[L]=I,this._queue.push(L),!1;null!==U&&(U[L]=I);var Y=this._promise,O=this._callback,H=Y._boundValue();Y._pushContext();var X=S(O).call(H,I,L,z),Z=Y._popContext();if(m.checkForgottenReturns(X,Z,null!==U?"Promise.filter":"Promise.map",Y),X===w)return this._reject(X.e),!0;var K=y(X,this._promise);if(K instanceof h){var tt=(K=K._target())._bitField;if(!(50397184&tt))return W>=1&&this._inFlight++,N[L]=K,K._proxy(this,-1*(L+1)),!1;if(!(33554432&tt))return 16777216&tt?(this._reject(K._reason()),!0):(this._cancel(),!0);X=K._value()}N[L]=X}return++this._totalResolved>=z&&(null!==U?this._filter(N,U):this._resolve(N),!0)},T.prototype._drainQueue=function(){for(var I=this._queue,L=this._limit,N=this._values;I.length>0&&this._inFlight<L;){if(this._isResolved())return;var z=I.pop();this._promiseFulfilled(N[z],z)}},T.prototype._filter=function(I,L){for(var N=L.length,z=new Array(N),U=0,W=0;W<N;++W)I[W]&&(z[U++]=L[W]);z.length=U,this._resolve(z)},T.prototype.preservedValues=function(){return this._preservedValues},h.prototype.map=function(I,L){return E(this,I,L,null)},h.map=function(I,L,N,z){return E(I,L,N,z)}}},{"./util":36}],19:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v){var m=o("./util"),k=m.tryCatch;h.method=function(b){if("function"!=typeof b)throw new h.TypeError("expecting a function but got "+m.classString(b));return function(){var S=new h(g);S._captureStackTrace(),S._pushContext();var w=k(b).apply(this,arguments),x=S._popContext();return v.checkForgottenReturns(w,x,"Promise.method",S),S._resolveFromSyncValue(w),S}},h.attempt=h.try=function(b){if("function"!=typeof b)return y("expecting a function but got "+m.classString(b));var S,w=new h(g);if(w._captureStackTrace(),w._pushContext(),arguments.length>1){v.deprecated("calling Promise.try with more than 1 argument");var x=arguments[1],T=arguments[2];S=m.isArray(x)?k(b).apply(T,x):k(b).call(T,x)}else S=k(b)();var E=w._popContext();return v.checkForgottenReturns(S,E,"Promise.try",w),w._resolveFromSyncValue(S),w},h.prototype._resolveFromSyncValue=function(b){b===m.errorObj?this._rejectCallback(b.e,!1):this._resolveCallback(b,!0)}}},{"./util":36}],20:[function(o,c,d){"use strict";var h=o("./util"),g=h.maybeWrapAsError,p=o("./errors").OperationalError,y=o("./es5"),v=/^(?:name|message|stack|cause)$/;c.exports=function(k,b){return function(S,w){if(null!==k){if(S){var x=function m(k){var b,T;if((T=k)instanceof Error&&y.getPrototypeOf(T)===Error.prototype){(b=new p(k)).name=k.name,b.message=k.message,b.stack=k.stack;for(var S=y.keys(k),w=0;w<S.length;++w){var x=S[w];v.test(x)||(b[x]=k[x])}return b}return h.markAsOriginatingFromRejection(k),k}(g(S));k._attachExtraTrace(x),k._reject(x)}else if(b){var T=[].slice.call(arguments,1);k._fulfill(T)}else k._fulfill(w);k=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(o,c,d){"use strict";c.exports=function(h){var g=o("./util"),p=h._async,y=g.tryCatch,v=g.errorObj;function m(S,w){if(!g.isArray(S))return k.call(this,S,w);var x=y(w).apply(this._boundValue(),[null].concat(S));x===v&&p.throwLater(x.e)}function k(S,w){var x=this._boundValue(),T=void 0===S?y(w).call(x,null):y(w).call(x,null,S);T===v&&p.throwLater(T.e)}function b(S,w){if(!S){var x=new Error(S+"");x.cause=S,S=x}var T=y(w).call(this._boundValue(),S);T===v&&p.throwLater(T.e)}h.prototype.asCallback=h.prototype.nodeify=function(S,w){if("function"==typeof S){var x=k;void 0!==w&&Object(w).spread&&(x=m),this._then(x,b,void 0,this,S)}return this}}},{"./util":36}],22:[function(o,c,d){"use strict";c.exports=function(){var h=function(){return new T("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},g=function(){return new V.PromiseInspection(this._target())},p=function(P){return V.reject(new T(P))};function y(){}var v,m={},k=o("./util");k.notEnumerableProp(V,"_getDomain",v=k.isNode?function(){var P=_.domain;return void 0===P&&(P=null),P}:function(){return null});var b=o("./es5"),S=o("./async"),w=new S;b.defineProperty(V,"_async",{value:w});var x=o("./errors"),T=V.TypeError=x.TypeError;V.RangeError=x.RangeError;var E=V.CancellationError=x.CancellationError;V.TimeoutError=x.TimeoutError,V.OperationalError=x.OperationalError,V.RejectionError=x.OperationalError,V.AggregateError=x.AggregateError;var I=function(){},L={},N={},z=o("./thenables")(V,I),U=o("./promise_array")(V,I,z,p,y),W=o("./context")(V),Y=W.create,O=o("./debuggability")(V,W),H=o("./finally")(V,z,N),X=o("./catch_filter")(N),Z=o("./nodeback"),K=k.errorObj,tt=k.tryCatch;function V(P){P!==I&&function(F,B){if(null==F||F.constructor!==V)throw new T("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof B)throw new T("expecting a function but got "+k.classString(B))}(this,P),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(P),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function st(P){this.promise._resolveCallback(P)}function D(P){this.promise._rejectCallback(P,!1)}function M(P){var F=new V(I);F._fulfillmentHandler0=P,F._rejectionHandler0=P,F._promise0=P,F._receiver0=P}return V.prototype.toString=function(){return"[object Promise]"},V.prototype.caught=V.prototype.catch=function(P){var F=arguments.length;if(F>1){var B,q=new Array(F-1),nt=0;for(B=0;B<F-1;++B){var at=arguments[B];if(!k.isObject(at))return p("Catch statement predicate: expecting an object but got "+k.classString(at));q[nt++]=at}return q.length=nt,this.then(void 0,X(q,P=arguments[B],this))}return this.then(void 0,P)},V.prototype.reflect=function(){return this._then(g,g,void 0,this,void 0)},V.prototype.then=function(P,F){if(O.warnings()&&arguments.length>0&&"function"!=typeof P&&"function"!=typeof F){var B=".then() only accepts functions but was passed: "+k.classString(P);arguments.length>1&&(B+=", "+k.classString(F)),this._warn(B)}return this._then(P,F,void 0,void 0,void 0)},V.prototype.done=function(P,F){this._then(P,F,void 0,void 0,void 0)._setIsFinal()},V.prototype.spread=function(P){return"function"!=typeof P?p("expecting a function but got "+k.classString(P)):this.all()._then(P,void 0,void 0,L,void 0)},V.prototype.toJSON=function(){var P={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(P.fulfillmentValue=this.value(),P.isFulfilled=!0):this.isRejected()&&(P.rejectionReason=this.reason(),P.isRejected=!0),P},V.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new U(this).promise()},V.prototype.error=function(P){return this.caught(k.originatesFromRejection,P)},V.getNewLibraryCopy=c.exports,V.is=function(P){return P instanceof V},V.fromNode=V.fromCallback=function(P){var F=new V(I);F._captureStackTrace();var B=arguments.length>1&&!!Object(arguments[1]).multiArgs,q=tt(P)(Z(F,B));return q===K&&F._rejectCallback(q.e,!0),F._isFateSealed()||F._setAsyncGuaranteed(),F},V.all=function(P){return new U(P).promise()},V.cast=function(P){var F=z(P);return F instanceof V||((F=new V(I))._captureStackTrace(),F._setFulfilled(),F._rejectionHandler0=P),F},V.resolve=V.fulfilled=V.cast,V.reject=V.rejected=function(P){var F=new V(I);return F._captureStackTrace(),F._rejectCallback(P,!0),F},V.setScheduler=function(P){if("function"!=typeof P)throw new T("expecting a function but got "+k.classString(P));return w.setScheduler(P)},V.prototype._then=function(P,F,B,q,nt){var at=void 0!==nt,ct=at?nt:new V(I),gt=this._target(),et=gt._bitField;at||(ct._propagateFrom(this,3),ct._captureStackTrace(),void 0===q&&2097152&this._bitField&&(q=50397184&et?this._boundValue():gt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ct));var ht=v();if(50397184&et){var mt,yt,kt=gt._settlePromiseCtx;33554432&et?(yt=gt._rejectionHandler0,mt=P):16777216&et?(yt=gt._fulfillmentHandler0,mt=F,gt._unsetRejectionIsUnhandled()):(kt=gt._settlePromiseLateCancellationObserver,yt=new E("late cancellation observer"),gt._attachExtraTrace(yt),mt=F),w.invoke(kt,gt,{handler:null===ht?mt:"function"==typeof mt&&k.domainBind(ht,mt),promise:ct,receiver:q,value:yt})}else gt._addCallbacks(P,F,ct,q,ht);return ct},V.prototype._length=function(){return 65535&this._bitField},V.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},V.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},V.prototype._setLength=function(P){this._bitField=-65536&this._bitField|65535&P},V.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},V.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},V.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},V.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},V.prototype._isFinal=function(){return(4194304&this._bitField)>0},V.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},V.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},V.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},V.prototype._setAsyncGuaranteed=function(){w.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},V.prototype._receiverAt=function(P){var F=0===P?this._receiver0:this[4*P-4+3];if(F!==m)return void 0===F&&this._isBound()?this._boundValue():F},V.prototype._promiseAt=function(P){return this[4*P-4+2]},V.prototype._fulfillmentHandlerAt=function(P){return this[4*P-4+0]},V.prototype._rejectionHandlerAt=function(P){return this[4*P-4+1]},V.prototype._boundValue=function(){},V.prototype._migrateCallback0=function(P){var F=P._fulfillmentHandler0,B=P._rejectionHandler0,q=P._promise0,nt=P._receiverAt(0);void 0===nt&&(nt=m),this._addCallbacks(F,B,q,nt,null)},V.prototype._migrateCallbackAt=function(P,F){var B=P._fulfillmentHandlerAt(F),q=P._rejectionHandlerAt(F),nt=P._promiseAt(F),at=P._receiverAt(F);void 0===at&&(at=m),this._addCallbacks(B,q,nt,at,null)},V.prototype._addCallbacks=function(P,F,B,q,nt){var at=this._length();if(at>=65531&&(at=0,this._setLength(0)),0===at)this._promise0=B,this._receiver0=q,"function"==typeof P&&(this._fulfillmentHandler0=null===nt?P:k.domainBind(nt,P)),"function"==typeof F&&(this._rejectionHandler0=null===nt?F:k.domainBind(nt,F));else{var ct=4*at-4;this[ct+2]=B,this[ct+3]=q,"function"==typeof P&&(this[ct+0]=null===nt?P:k.domainBind(nt,P)),"function"==typeof F&&(this[ct+1]=null===nt?F:k.domainBind(nt,F))}return this._setLength(at+1),at},V.prototype._proxy=function(P,F){this._addCallbacks(void 0,void 0,F,P,null)},V.prototype._resolveCallback=function(P,F){if(!(117506048&this._bitField)){if(P===this)return this._rejectCallback(h(),!1);var B=z(P,this);if(!(B instanceof V))return this._fulfill(P);F&&this._propagateFrom(B,2);var q=B._target();if(q!==this){var nt=q._bitField;if(50397184&nt)if(33554432&nt)this._fulfill(q._value());else if(16777216&nt)this._reject(q._reason());else{var gt=new E("late cancellation observer");q._attachExtraTrace(gt),this._reject(gt)}else{var at=this._length();at>0&&q._migrateCallback0(this);for(var ct=1;ct<at;++ct)q._migrateCallbackAt(this,ct);this._setFollowing(),this._setLength(0),this._setFollowee(q)}}else this._reject(h())}},V.prototype._rejectCallback=function(P,F,B){var q=k.ensureErrorObject(P),nt=q===P;if(!nt&&!B&&O.warnings()){var at="a promise was rejected with a non-error: "+k.classString(P);this._warn(at,!0)}this._attachExtraTrace(q,!!F&&nt),this._reject(P)},V.prototype._resolveFromExecutor=function(P){if(P!==I){var F=this;this._captureStackTrace(),this._pushContext();var B=!0,q=this._execute(P,function(nt){F._resolveCallback(nt)},function(nt){F._rejectCallback(nt,B)});B=!1,this._popContext(),void 0!==q&&F._rejectCallback(q,!0)}},V.prototype._settlePromiseFromHandler=function(P,F,B,q){var nt=q._bitField;if(!(65536&nt)){var at;q._pushContext(),F===L?B&&"number"==typeof B.length?at=tt(P).apply(this._boundValue(),B):(at=K).e=new T("cannot .spread() a non-array: "+k.classString(B)):at=tt(P).call(F,B);var ct=q._popContext();!(65536&(nt=q._bitField))&&(at===N?q._reject(B):at===K?q._rejectCallback(at.e,!1):(O.checkForgottenReturns(at,ct,"",q,this),q._resolveCallback(at)))}},V.prototype._target=function(){for(var P=this;P._isFollowing();)P=P._followee();return P},V.prototype._followee=function(){return this._rejectionHandler0},V.prototype._setFollowee=function(P){this._rejectionHandler0=P},V.prototype._settlePromise=function(P,F,B,q){var nt=P instanceof V,at=this._bitField,ct=0!=(134217728&at);65536&at?(nt&&P._invokeInternalOnCancel(),B instanceof H&&B.isFinallyHandler()?(B.cancelPromise=P,tt(F).call(B,q)===K&&P._reject(K.e)):F===g?P._fulfill(g.call(B)):B instanceof y?B._promiseCancelled(P):nt||P instanceof U?P._cancel():B.cancel()):"function"==typeof F?nt?(ct&&P._setAsyncGuaranteed(),this._settlePromiseFromHandler(F,B,q,P)):F.call(B,q,P):B instanceof y?B._isResolved()||(33554432&at?B._promiseFulfilled(q,P):B._promiseRejected(q,P)):nt&&(ct&&P._setAsyncGuaranteed(),33554432&at?P._fulfill(q):P._reject(q))},V.prototype._settlePromiseLateCancellationObserver=function(P){var F=P.handler,B=P.promise,q=P.receiver,nt=P.value;"function"==typeof F?B instanceof V?this._settlePromiseFromHandler(F,q,nt,B):F.call(q,nt,B):B instanceof V&&B._reject(nt)},V.prototype._settlePromiseCtx=function(P){this._settlePromise(P.promise,P.handler,P.receiver,P.value)},V.prototype._settlePromise0=function(P,F,B){var q=this._promise0,nt=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(q,P,nt,F)},V.prototype._clearCallbackDataAtIndex=function(P){var F=4*P-4;this[F+2]=this[F+3]=this[F+0]=this[F+1]=void 0},V.prototype._fulfill=function(P){var F=this._bitField;if(!((117506048&F)>>>16)){if(P===this){var B=h();return this._attachExtraTrace(B),this._reject(B)}this._setFulfilled(),this._rejectionHandler0=P,(65535&F)>0&&(134217728&F?this._settlePromises():w.settlePromises(this),this._dereferenceTrace())}},V.prototype._reject=function(P){var F=this._bitField;if(!((117506048&F)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=P,this._isFinal())return w.fatalError(P,k.isNode);(65535&F)>0?w.settlePromises(this):this._ensurePossibleRejectionHandled()}},V.prototype._fulfillPromises=function(P,F){for(var B=1;B<P;B++){var q=this._fulfillmentHandlerAt(B),nt=this._promiseAt(B),at=this._receiverAt(B);this._clearCallbackDataAtIndex(B),this._settlePromise(nt,q,at,F)}},V.prototype._rejectPromises=function(P,F){for(var B=1;B<P;B++){var q=this._rejectionHandlerAt(B),nt=this._promiseAt(B),at=this._receiverAt(B);this._clearCallbackDataAtIndex(B),this._settlePromise(nt,q,at,F)}},V.prototype._settlePromises=function(){var P=this._bitField,F=65535&P;if(F>0){if(16842752&P){var B=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,B,P),this._rejectPromises(F,B)}else{var q=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,q,P),this._fulfillPromises(F,q)}this._setLength(0)}this._clearCancellationData()},V.prototype._settledValue=function(){var P=this._bitField;return 33554432&P?this._rejectionHandler0:16777216&P?this._fulfillmentHandler0:void 0},V.defer=V.pending=function(){return O.deprecated("Promise.defer","new Promise"),{promise:new V(I),resolve:st,reject:D}},k.notEnumerableProp(V,"_makeSelfResolutionError",h),o("./method")(V,I,z,p,O),o("./bind")(V,I,z,O),o("./cancel")(V,U,p,O),o("./direct_resolve")(V),o("./synchronous_inspection")(V),o("./join")(V,U,z,I,w,v),V.Promise=V,V.version="3.5.4",o("./map.js")(V,U,p,z,I,O),o("./call_get.js")(V),o("./using.js")(V,p,z,Y,I,O),o("./timers.js")(V,I,O),o("./generators.js")(V,p,I,z,y,O),o("./nodeify.js")(V),o("./promisify.js")(V,I),o("./props.js")(V,U,z,p),o("./race.js")(V,I,z,p),o("./reduce.js")(V,U,p,z,I,O),o("./settle.js")(V,U,O),o("./some.js")(V,U,p),o("./filter.js")(V,I),o("./each.js")(V,I),o("./any.js")(V),k.toFastProperties(V),k.toFastProperties(V.prototype),M({a:1}),M({b:2}),M({c:3}),M(1),M(function(){}),M(void 0),M(!1),M(new V(I)),O.setBounds(S.firstLineError,k.lastLineError),V}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v){var m=o("./util");function k(b){var S=this._promise=new h(g);b instanceof h&&S._propagateFrom(b,3),S._setOnCancel(this),this._values=b,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return m.inherits(k,v),k.prototype.length=function(){return this._length},k.prototype.promise=function(){return this._promise},k.prototype._init=function b(S,w){var x=p(this._values,this._promise);if(x instanceof h){var T=(x=x._target())._bitField;if(this._values=x,0==(50397184&T))return this._promise._setAsyncGuaranteed(),x._then(b,this._reject,void 0,this,w);if(!(33554432&T))return 16777216&T?this._reject(x._reason()):this._cancel();x=x._value()}if(null!==(x=m.asArray(x)))0!==x.length?this._iterate(x):-5===w?this._resolveEmptyArray():this._resolve(function(I){switch(I){case-2:return[];case-3:return{};case-6:return new Map}}(w));else{var E=y("expecting an array or an iterable object but got "+m.classString(x)).reason();this._promise._rejectCallback(E,!1)}},k.prototype._iterate=function(b){var S=this.getActualLength(b.length);this._length=S,this._values=this.shouldCopyValues()?new Array(S):this._values;for(var w=this._promise,x=!1,T=null,E=0;E<S;++E){var I=p(b[E],w);T=I instanceof h?(I=I._target())._bitField:null,x?null!==T&&I.suppressUnhandledRejections():null!==T?50397184&T?x=33554432&T?this._promiseFulfilled(I._value(),E):16777216&T?this._promiseRejected(I._reason(),E):this._promiseCancelled(E):(I._proxy(this,E),this._values[E]=I):x=this._promiseFulfilled(I,E)}x||w._setAsyncGuaranteed()},k.prototype._isResolved=function(){return null===this._values},k.prototype._resolve=function(b){this._values=null,this._promise._fulfill(b)},k.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},k.prototype._reject=function(b){this._values=null,this._promise._rejectCallback(b,!1)},k.prototype._promiseFulfilled=function(b,S){return this._values[S]=b,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},k.prototype._promiseCancelled=function(){return this._cancel(),!0},k.prototype._promiseRejected=function(b){return this._totalResolved++,this._reject(b),!0},k.prototype._resultCancelled=function(){if(!this._isResolved()){var b=this._values;if(this._cancel(),b instanceof h)b.cancel();else for(var S=0;S<b.length;++S)b[S]instanceof h&&b[S].cancel()}},k.prototype.shouldCopyValues=function(){return!0},k.prototype.getActualLength=function(b){return b},k}},{"./util":36}],24:[function(o,c,d){"use strict";c.exports=function(h,g){var p={},y=o("./util"),v=o("./nodeback"),m=y.withAppended,k=y.maybeWrapAsError,b=y.canEvaluate,S=o("./errors").TypeError,w={__isPromisified__:!0},x=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),T=function(Y){return y.isIdentifier(Y)&&"_"!==Y.charAt(0)&&"constructor"!==Y};function E(Y){return!x.test(Y)}function I(Y){try{return!0===Y.__isPromisified__}catch{return!1}}function L(Y,O,H){var X=y.getDataPropertyOrDefault(Y,O+H,w);return!!X&&I(X)}var U=b?void 0:function(Y,O,H,X,Z,K){var tt=function(){return this}(),V=Y;function st(){var D=O;O===p&&(D=this);var M=new h(g);M._captureStackTrace();var P="string"==typeof V&&this!==tt?this[V]:Y,F=v(M,K);try{P.apply(D,m(arguments,F))}catch(B){M._rejectCallback(k(B),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return"string"==typeof V&&(Y=X),y.notEnumerableProp(st,"__isPromisified__",!0),st};function W(Y,O,H,X,Z){for(var K=new RegExp(function(Y){return Y.replace(/([$])/,"\\$")}(O)+"$"),tt=function N(Y,O,H,X){for(var Z=y.inheritedDataKeys(Y),K=[],tt=0;tt<Z.length;++tt){var V=Z[tt],st=Y[V],D=X===T||T(V,st,Y);"function"!=typeof st||I(st)||L(Y,V,O)||!X(V,st,Y,D)||K.push(V,st)}return function(M,P,F){for(var B=0;B<M.length;B+=2){var q=M[B];if(F.test(q))for(var nt=q.replace(F,""),at=0;at<M.length;at+=2)if(M[at]===nt)throw new S("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",P))}}(K,O,H),K}(Y,O,K,H),V=0,st=tt.length;V<st;V+=2){var D=tt[V],M=tt[V+1],P=D+O;if(X===U)Y[P]=U(D,p,D,M,O,Z);else{var F=X(M,function(){return U(D,p,D,M,O,Z)});y.notEnumerableProp(F,"__isPromisified__",!0),Y[P]=F}}return y.toFastProperties(Y),Y}h.promisify=function(Y,O){if("function"!=typeof Y)throw new S("expecting a function but got "+y.classString(Y));if(I(Y))return Y;var X,Z,H=(X=Y,Z=void 0===(O=Object(O)).context?p:O.context,U(X,Z,void 0,X,null,!!O.multiArgs));return y.copyDescriptors(Y,H,E),H},h.promisifyAll=function(Y,O){if("function"!=typeof Y&&"object"!==e(Y))throw new S("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var H=!!(O=Object(O)).multiArgs,X=O.suffix;"string"!=typeof X&&(X="Async");var Z=O.filter;"function"!=typeof Z&&(Z=T);var K=O.promisifier;if("function"!=typeof K&&(K=U),!y.isIdentifier(X))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var tt=y.inheritedDataKeys(Y),V=0;V<tt.length;++V){var st=Y[tt[V]];"constructor"!==tt[V]&&y.isClass(st)&&(W(st.prototype,X,Z,K,H),W(st,X,Z,K,H))}return W(Y,X,Z,K,H)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(o,c,d){"use strict";c.exports=function(h,g,p,y){var v,m=o("./util"),k=m.isObject,b=o("./es5");"function"==typeof Map&&(v=Map);var S=function(){var T=0,E=0;function I(L,N){this[T]=L,this[T+E]=N,T++}return function(L){E=L.size,T=0;var N=new Array(2*L.size);return L.forEach(I,N),N}}();function w(T){var E,I=!1;if(void 0!==v&&T instanceof v)E=S(T),I=!0;else{var L=b.keys(T),N=L.length;E=new Array(2*N);for(var z=0;z<N;++z){var U=L[z];E[z]=T[U],E[z+N]=U}}this.constructor$(E),this._isMap=I,this._init$(void 0,I?-6:-3)}function x(T){var E,I=p(T);return k(I)?(E=I instanceof h?I._then(h.props,void 0,void 0,void 0,void 0):new w(I).promise(),I instanceof h&&E._propagateFrom(I,2),E):y("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}m.inherits(w,g),w.prototype._init=function(){},w.prototype._promiseFulfilled=function(T,E){if(this._values[E]=T,++this._totalResolved>=this._length){var I;if(this._isMap)I=function(U){for(var W=new v,Y=U.length/2|0,O=0;O<Y;++O)W.set(U[Y+O],U[O]);return W}(this._values);else{I={};for(var L=this.length(),N=0,z=this.length();N<z;++N)I[this._values[N+L]]=this._values[N]}return this._resolve(I),!0}return!1},w.prototype.shouldCopyValues=function(){return!1},w.prototype.getActualLength=function(T){return T>>1},h.prototype.props=function(){return x(this)},h.props=function(T){return x(T)}}},{"./es5":13,"./util":36}],26:[function(o,c,d){"use strict";function h(g){this._capacity=g,this._length=0,this._front=0}h.prototype._willBeOverCapacity=function(g){return this._capacity<g},h.prototype._pushOne=function(g){var p=this.length();this._checkCapacity(p+1),this[this._front+p&this._capacity-1]=g,this._length=p+1},h.prototype.push=function(g,p,y){var v=this.length()+3;if(this._willBeOverCapacity(v))return this._pushOne(g),this._pushOne(p),void this._pushOne(y);var m=this._front+v-3;this._checkCapacity(v);var k=this._capacity-1;this[m+0&k]=g,this[m+1&k]=p,this[m+2&k]=y,this._length=v},h.prototype.shift=function(){var g=this._front,p=this[g];return this[g]=void 0,this._front=g+1&this._capacity-1,this._length--,p},h.prototype.length=function(){return this._length},h.prototype._checkCapacity=function(g){this._capacity<g&&this._resizeTo(this._capacity<<1)},h.prototype._resizeTo=function(g){var p=this._capacity;this._capacity=g,function(y,v,m,k,b){for(var S=0;S<b;++S)m[S+k]=y[S+0],y[S+0]=void 0}(this,0,this,p,this._front+this._length&p-1)},c.exports=h},{}],27:[function(o,c,d){"use strict";c.exports=function(h,g,p,y){var v=o("./util");function k(b,S){var w=p(b);if(w instanceof h)return function(b){return b.then(function(S){return k(S,b)})}(w);if(null===(b=v.asArray(b)))return y("expecting an array or an iterable object but got "+v.classString(b));var x=new h(g);void 0!==S&&x._propagateFrom(S,3);for(var T=x._fulfill,E=x._reject,I=0,L=b.length;I<L;++I){var N=b[I];(void 0!==N||I in b)&&h.cast(N)._then(T,E,void 0,x,null)}return x}h.race=function(b){return k(b,void 0)},h.prototype.race=function(){return k(this,void 0)}}},{"./util":36}],28:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v,m){var k=h._getDomain,b=o("./util"),S=b.tryCatch;function w(L,N,z,U){this.constructor$(L);var W=k();this._fn=null===W?N:b.domainBind(W,N),void 0!==z&&(z=h.resolve(z))._attachCancellationCallback(this),this._initialValue=z,this._currentCancellable=null,this._eachValues=U===v?Array(this._length):0===U?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function x(L,N){this.isFulfilled()?N._resolve(L):N._reject(L)}function T(L,N,z,U){return"function"!=typeof N?p("expecting a function but got "+b.classString(N)):new w(L,N,z,U).promise()}function E(L){this.accum=L,this.array._gotAccum(L);var N=y(this.value,this.array._promise);return N instanceof h?(this.array._currentCancellable=N,N._then(I,void 0,void 0,this,void 0)):I.call(this,N)}function I(L){var N,z=this.array,U=z._promise,W=S(z._fn);U._pushContext(),(N=void 0!==z._eachValues?W.call(U._boundValue(),L,this.index,this.length):W.call(U._boundValue(),this.accum,L,this.index,this.length))instanceof h&&(z._currentCancellable=N);var Y=U._popContext();return m.checkForgottenReturns(N,Y,void 0!==z._eachValues?"Promise.each":"Promise.reduce",U),N}b.inherits(w,g),w.prototype._gotAccum=function(L){null!=this._eachValues&&L!==v&&this._eachValues.push(L)},w.prototype._eachComplete=function(L){return null!==this._eachValues&&this._eachValues.push(L),this._eachValues},w.prototype._init=function(){},w.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},w.prototype.shouldCopyValues=function(){return!1},w.prototype._resolve=function(L){this._promise._resolveCallback(L),this._values=null},w.prototype._resultCancelled=function(L){if(L===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof h&&this._currentCancellable.cancel(),this._initialValue instanceof h&&this._initialValue.cancel())},w.prototype._iterate=function(L){var N,z;this._values=L;var U=L.length;if(void 0!==this._initialValue?(N=this._initialValue,z=0):(N=h.resolve(L[0]),z=1),this._currentCancellable=N,!N.isRejected())for(;z<U;++z)N=N._then(E,void 0,void 0,{accum:null,value:L[z],index:z,length:U,array:this},void 0);void 0!==this._eachValues&&(N=N._then(this._eachComplete,void 0,void 0,this,void 0)),N._then(x,x,void 0,N,this)},h.prototype.reduce=function(L,N){return T(this,L,N,null)},h.reduce=function(L,N,z,U){return T(L,N,z,U)}}},{"./util":36}],29:[function(o,c,d){"use strict";var h,k,b,S,w,g=o("./util"),p=g.getNativePromise();if(g.isNode&&typeof MutationObserver>"u"){var y=l.setImmediate,v=_.nextTick;h=g.isRecentNode?function(k){y.call(l,k)}:function(k){v.call(_,k)}}else if("function"==typeof p&&"function"==typeof p.resolve){var m=p.resolve();h=function(k){m.then(k)}}else h=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==s?function(k){s(k)}:typeof setTimeout<"u"?function(k){setTimeout(k,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(k=document.createElement("div"),b={attributes:!0},S=!1,w=document.createElement("div"),new MutationObserver(function(){k.classList.toggle("foo"),S=!1}).observe(w,b),function(x){var T=new MutationObserver(function(){T.disconnect(),x()});T.observe(k,b),S||(S=!0,w.classList.toggle("foo"))});c.exports=h},{"./util":36}],30:[function(o,c,d){"use strict";c.exports=function(h,g,p){var y=h.PromiseInspection;function v(m){this.constructor$(m)}o("./util").inherits(v,g),v.prototype._promiseResolved=function(m,k){return this._values[m]=k,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseFulfilled=function(m,k){var b=new y;return b._bitField=33554432,b._settledValueField=m,this._promiseResolved(k,b)},v.prototype._promiseRejected=function(m,k){var b=new y;return b._bitField=16777216,b._settledValueField=m,this._promiseResolved(k,b)},h.settle=function(m){return p.deprecated(".settle()",".reflect()"),new v(m).promise()},h.prototype.settle=function(){return h.settle(this)}}},{"./util":36}],31:[function(o,c,d){"use strict";c.exports=function(h,g,p){var y=o("./util"),v=o("./errors").RangeError,m=o("./errors").AggregateError,k=y.isArray,b={};function S(x){this.constructor$(x),this._howMany=0,this._unwrap=!1,this._initialized=!1}function w(x,T){if((0|T)!==T||T<0)return p("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var E=new S(x),I=E.promise();return E.setHowMany(T),E.init(),I}y.inherits(S,g),S.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var x=k(this._values);!this._isResolved()&&x&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},S.prototype.init=function(){this._initialized=!0,this._init()},S.prototype.setUnwrap=function(){this._unwrap=!0},S.prototype.howMany=function(){return this._howMany},S.prototype.setHowMany=function(x){this._howMany=x},S.prototype._promiseFulfilled=function(x){return this._addFulfilled(x),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},S.prototype._promiseRejected=function(x){return this._addRejected(x),this._checkOutcome()},S.prototype._promiseCancelled=function(){return this._values instanceof h||null==this._values?this._cancel():(this._addRejected(b),this._checkOutcome())},S.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var x=new m,T=this.length();T<this._values.length;++T)this._values[T]!==b&&x.push(this._values[T]);return x.length>0?this._reject(x):this._cancel(),!0}return!1},S.prototype._fulfilled=function(){return this._totalResolved},S.prototype._rejected=function(){return this._values.length-this.length()},S.prototype._addRejected=function(x){this._values.push(x)},S.prototype._addFulfilled=function(x){this._values[this._totalResolved++]=x},S.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},S.prototype._getRangeError=function(x){return new v("Input array must contain at least "+this._howMany+" items but contains only "+x+" items")},S.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},h.some=function(x,T){return w(x,T)},h.prototype.some=function(x){return w(this,x)},h._SomePromiseArray=S}},{"./errors":12,"./util":36}],32:[function(o,c,d){"use strict";c.exports=function(h){function g(S){void 0!==S?(S=S._target(),this._bitField=S._bitField,this._settledValueField=S._isFateSealed()?S._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}g.prototype._settledValue=function(){return this._settledValueField};var p=g.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},y=g.prototype.error=g.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},v=g.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},m=g.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},k=g.prototype.isPending=function(){return 0==(50397184&this._bitField)},b=g.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};g.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},h.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},h.prototype._isCancelled=function(){return this._target().__isCancelled()},h.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},h.prototype.isPending=function(){return k.call(this._target())},h.prototype.isRejected=function(){return m.call(this._target())},h.prototype.isFulfilled=function(){return v.call(this._target())},h.prototype.isResolved=function(){return b.call(this._target())},h.prototype.value=function(){return p.call(this._target())},h.prototype.reason=function(){var S=this._target();return S._unsetRejectionIsUnhandled(),y.call(S)},h.prototype._value=function(){return this._settledValue()},h.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},h.PromiseInspection=g}},{}],33:[function(o,c,d){"use strict";c.exports=function(h,g){var p=o("./util"),y=p.errorObj,v=p.isObject,m={}.hasOwnProperty;return function(k,b){if(v(k)){if(k instanceof h)return k;var S=function(x){try{return(T=x).then}catch(T){return y.e=T,y}var T}(k);if(S===y){b&&b._pushContext();var w=h.reject(S.e);return b&&b._popContext(),w}if("function"==typeof S)return function(x){try{return m.call(x,"_promise0")}catch{return!1}}(k)?(w=new h(g),k._then(w._fulfill,w._reject,void 0,w,null),w):function(x,T,E){var I=new h(g),L=I;E&&E._pushContext(),I._captureStackTrace(),E&&E._popContext();var N=!0,z=p.tryCatch(T).call(x,function(U){I&&(I._resolveCallback(U),I=null)},function(U){I&&(I._rejectCallback(U,N,!0),I=null)});return N=!1,I&&z===y&&(I._rejectCallback(z.e,!0,!0),I=null),L}(k,S,b)}return k}}},{"./util":36}],34:[function(o,c,d){"use strict";c.exports=function(h,g,p){var y=o("./util"),v=h.TimeoutError;function m(x){this.handle=x}m.prototype._resultCancelled=function(){clearTimeout(this.handle)};var k=function(x){return b(+this).thenReturn(x)},b=h.delay=function(x,T){var E,I;return void 0!==T?(E=h.resolve(T)._then(k,null,null,x,void 0),p.cancellation()&&T instanceof h&&E._setOnCancel(T)):(E=new h(g),I=setTimeout(function(){E._fulfill()},+x),p.cancellation()&&E._setOnCancel(new m(I)),E._captureStackTrace()),E._setAsyncGuaranteed(),E};function S(x){return clearTimeout(this.handle),x}function w(x){throw clearTimeout(this.handle),x}h.prototype.delay=function(x){return b(x,this)},h.prototype.timeout=function(x,T){var E,I;x=+x;var L=new m(setTimeout(function(){var N,z,U,W;E.isPending()&&(N=E,U=I,W="string"!=typeof(z=T)?z instanceof Error?z:new v("operation timed out"):new v(z),y.markAsOriginatingFromRejection(W),N._attachExtraTrace(W),N._reject(W),U?.cancel())},x));return p.cancellation()?(I=this.then(),(E=I._then(S,w,void 0,L,void 0))._setOnCancel(L)):E=this._then(S,w,void 0,L,void 0),E}}},{"./util":36}],35:[function(o,c,d){"use strict";c.exports=function(h,g,p,y,v,m){var k=o("./util"),b=o("./errors").TypeError,S=o("./util").inherits,w=k.errorObj,x=k.tryCatch,T={};function E(W){setTimeout(function(){throw W},0)}function L(W,Y,O){this._data=W,this._promise=Y,this._context=O}function N(W,Y,O){this.constructor$(W,Y,O)}function z(W){return L.isDisposer(W)?(this.resources[this.index]._setDisposable(W),W.promise()):W}function U(W){this.length=W,this.promise=null,this[W-1]=null}L.prototype.data=function(){return this._data},L.prototype.promise=function(){return this._promise},L.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},L.prototype.tryDispose=function(W){var Y=this.resource(),O=this._context;void 0!==O&&O._pushContext();var H=Y!==T?this.doDispose(Y,W):null;return void 0!==O&&O._popContext(),this._promise._unsetDisposable(),this._data=null,H},L.isDisposer=function(W){return null!=W&&"function"==typeof W.resource&&"function"==typeof W.tryDispose},S(N,L),N.prototype.doDispose=function(W,Y){return this.data().call(W,W,Y)},U.prototype._resultCancelled=function(){for(var W=this.length,Y=0;Y<W;++Y){var O=this[Y];O instanceof h&&O.cancel()}},h.using=function(){var W=arguments.length;if(W<2)return g("you must pass at least 2 arguments to Promise.using");var Y,O=arguments[W-1];if("function"!=typeof O)return g("expecting a function but got "+k.classString(O));var H=!0;2===W&&Array.isArray(arguments[0])?(W=(Y=arguments[0]).length,H=!1):(Y=arguments,W--);for(var X=new U(W),Z=0;Z<W;++Z){var K=Y[Z];if(L.isDisposer(K)){var tt=K;(K=K.promise())._setDisposable(tt)}else{var V=p(K);V instanceof h&&(K=V._then(z,null,null,{resources:X,index:Z},void 0))}X[Z]=K}var st=new Array(X.length);for(Z=0;Z<st.length;++Z)st[Z]=h.resolve(X[Z]).reflect();var D=h.all(st).then(function(P){for(var F=0;F<P.length;++F){var B=P[F];if(B.isRejected())return w.e=B.error(),w;if(!B.isFulfilled())return void D.cancel();P[F]=B.value()}M._pushContext(),O=x(O);var q=H?O.apply(void 0,P):O(P),nt=M._popContext();return m.checkForgottenReturns(q,nt,"Promise.using",M),q}),M=D.lastly(function(){var P=new h.PromiseInspection(D);return function I(W,Y){var O=0,H=W.length,X=new h(v);return function Z(){if(O>=H)return X._fulfill();var tt,V,K=(tt=W[O++],(V=p(tt))!==tt&&"function"==typeof tt._isDisposable&&"function"==typeof tt._getDisposer&&tt._isDisposable()&&V._setDisposable(tt._getDisposer()),V);if(K instanceof h&&K._isDisposable()){try{K=p(K._getDisposer().tryDispose(Y),W.promise)}catch(tt){return E(tt)}if(K instanceof h)return K._then(Z,E,null,null,null)}Z()}(),X}(X,P)});return X.promise=M,M._setOnCancel(X),M},h.prototype._setDisposable=function(W){this._bitField=131072|this._bitField,this._disposer=W},h.prototype._isDisposable=function(){return(131072&this._bitField)>0},h.prototype._getDisposer=function(){return this._disposer},h.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},h.prototype.disposer=function(W){if("function"==typeof W)return new N(W,this,y());throw new b}}},{"./errors":12,"./util":36}],36:[function(o,c,d){"use strict";var y,h=o("./es5"),g=typeof navigator>"u",p={e:{}},v=typeof self<"u"?self:typeof window<"u"?window:void 0!==l?l:void 0!==this?this:null;function m(){try{var et=y;return y=null,et.apply(this,arguments)}catch(ht){return p.e=ht,p}}function S(et){return null==et||!0===et||!1===et||"string"==typeof et||"number"==typeof et}function I(et,ht,mt){return S(et)||h.defineProperty(et,ht,{value:mt,configurable:!0,enumerable:!1,writable:!0}),et}var N=function(){var et=[Array.prototype,Object.prototype,Function.prototype],ht=function(kt){for(var Tt=0;Tt<et.length;++Tt)if(et[Tt]===kt)return!0;return!1};if(h.isES5){var mt=Object.getOwnPropertyNames;return function(kt){for(var Tt=[],Pt=Object.create(null);null!=kt&&!ht(kt);){var At;try{At=mt(kt)}catch{return Tt}for(var Mt=0;Mt<At.length;++Mt){var Ht=At[Mt];if(!Pt[Ht]){Pt[Ht]=!0;var jt=Object.getOwnPropertyDescriptor(kt,Ht);null!=jt&&null==jt.get&&null==jt.set&&Tt.push(Ht)}}kt=h.getPrototypeOf(kt)}return Tt}}var yt={}.hasOwnProperty;return function(kt){if(ht(kt))return[];var Tt=[];t:for(var Pt in kt)if(yt.call(kt,Pt))Tt.push(Pt);else{for(var At=0;At<et.length;++At)if(yt.call(et[At],Pt))continue t;Tt.push(Pt)}return Tt}}(),z=/this\s*\.\s*\S+\s*=/;var Y=/^[a-z$_][a-z$_0-9]*$/i;function X(et){try{return et+""}catch{return"[no string representation]"}}function Z(et){return et instanceof Error||null!==et&&"object"===e(et)&&"string"==typeof et.message&&"string"==typeof et.name}function V(et){return Z(et)&&h.propertyIsWritable(et,"stack")}var st="stack"in new Error?function(et){return V(et)?et:new Error(X(et))}:function(et){if(V(et))return et;try{throw new Error(X(et))}catch(ht){return ht}};function D(et){return{}.toString.call(et)}var P=function(et){return h.isArray(et)?et:null};if(typeof Symbol<"u"&&Symbol.iterator){var F="function"==typeof Array.from?function(et){return Array.from(et)}:function(et){for(var ht,mt=[],yt=et[Symbol.iterator]();!(ht=yt.next()).done;)mt.push(ht.value);return mt};P=function(et){return h.isArray(et)?et:null!=et&&"function"==typeof et[Symbol.iterator]?F(et):null}}var B=void 0!==_&&"[object process]"===D(_).toLowerCase(),q=void 0!==_&&void 0!==_.env;var et,gt={isClass:function U(et){try{if("function"==typeof et){var ht=h.names(et.prototype),mt=h.isES5&&ht.length>1,yt=ht.length>0&&!(1===ht.length&&"constructor"===ht[0]),kt=z.test(et+"")&&h.names(et).length>0;if(mt||yt||kt)return!0}return!1}catch{return!1}},isIdentifier:function O(et){return Y.test(et)},inheritedDataKeys:N,getDataPropertyOrDefault:function E(et,ht,mt){if(!h.isES5)return{}.hasOwnProperty.call(et,ht)?et[ht]:void 0;var yt=Object.getOwnPropertyDescriptor(et,ht);return null!=yt?null==yt.get&&null==yt.set?yt.value:mt:void 0},thrower:function L(et){throw et},isArray:h.isArray,asArray:P,notEnumerableProp:I,isPrimitive:S,isObject:function w(et){return"function"==typeof et||"object"===e(et)&&null!==et},isError:Z,canEvaluate:g,errorObj:p,tryCatch:function k(et){return y=et,m},inherits:function(et,ht){var mt={}.hasOwnProperty;function yt(){for(var kt in this.constructor=et,this.constructor$=ht,ht.prototype)mt.call(ht.prototype,kt)&&"$"!==kt.charAt(kt.length-1)&&(this[kt+"$"]=ht.prototype[kt])}return yt.prototype=ht.prototype,et.prototype=new yt,et.prototype},withAppended:function T(et,ht){var mt,yt=et.length,kt=new Array(yt+1);for(mt=0;mt<yt;++mt)kt[mt]=et[mt];return kt[mt]=ht,kt},maybeWrapAsError:function x(et){return S(et)?new Error(X(et)):et},toFastProperties:function W(et){function ht(){}ht.prototype=et;var mt=new ht;function yt(){return e(mt.foo)}return yt(),yt(),et},filledRange:function H(et,ht,mt){for(var yt=new Array(et),kt=0;kt<et;++kt)yt[kt]=ht+kt+mt;return yt},toString:X,canAttachTrace:V,ensureErrorObject:st,originatesFromRejection:function tt(et){return null!=et&&(et instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===et.isOperational)},markAsOriginatingFromRejection:function K(et){try{I(et,"isOperational",!0)}catch{}},classString:D,copyDescriptors:function M(et,ht,mt){for(var yt=h.names(et),kt=0;kt<yt.length;++kt){var Tt=yt[kt];if(mt(Tt))try{h.defineProperty(ht,Tt,h.getDescriptor(et,Tt))}catch{}}},hasDevTools:typeof chrome<"u"&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,hasEnvVariables:q,env:function nt(et){return q?_.env[et]:void 0},global:v,getNativePromise:function at(){if("function"==typeof Promise)try{var et=new Promise(function(){});if("[object Promise]"==={}.toString.call(et))return Promise}catch{}},domainBind:function ct(et,ht){return et.bind(ht)}};gt.isRecentNode=gt.isNode&&(_.versions&&_.versions.node?et=_.versions.node.split(".").map(Number):_.version&&(et=_.version.split(".").map(Number)),0===et[0]&&et[1]>10||et[0]>0),gt.isNode&&gt.toFastProperties(_);try{throw new Error}catch(et){gt.lastLineError=et}c.exports=gt},{"./es5":13}]},{},[4])(4)},"object"==e(C)&&void 0!==$?$.exports=t():void 0===(a="function"==typeof(u=t)?u.apply(C,[]):u)||($.exports=a),typeof window<"u"&&null!==window?window.P=window.Promise:typeof self<"u"&&null!==self&&(self.P=self.Promise)}).call(this,f(10),f(4),f(62).setImmediate)},function($,C,f){$.exports=f(249)},function($,C,f){var _=f(0);$.exports=function(){var l={};return{getState:function(s){if(l[s])return l[s].method();var u={};for(var i in l)l[i].internal||_.mixin(u,l[i].method(),!0);return u},registerProvider:function(s,u,i){l[s]={method:u,internal:i}},unregisterProvider:function(s){delete l[s]}}}},function($,C){$.exports=function(f){var _={};function l(s,u,i){i=i||s;var a=f.config,e=f.templates;f.config[s]&&_[i]!=a[s]&&(u&&e[i]||(e[i]=f.date.date_to_str(a[s]),_[i]=a[s]))}return{initTemplates:function(){var s=f.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var u=f.date,i=u.date_to_str,a=f.config,e=i(a.xml_date||a.date_format,a.server_utc),t=u.str_to_date(a.xml_date||a.date_format,a.server_utc);l("date_scale",!0,void 0),l("date_grid",!0,"grid_date_format"),l("task_date",!0,void 0),f.mixin(f.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,r,o){return""},grid_header_class:function(n,r){return""},task_text:function(n,r,o){return o.text},task_class:function(n,r,o){return""},task_end_date:function(n){return f.templates.task_date(n)},grid_row_class:function(n,r,o){return""},task_row_class:function(n,r,o){return""},timeline_cell_class:function(n,r){return""},timeline_cell_content:function(n,r){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,r,o){return r&&f.isUnscheduledTask(r)&&f.config.show_unscheduled?f.templates.task_unscheduled_time(r):f.templates.grid_date_format(n,o)},task_time:function(n,r,o){return f.isUnscheduledTask(o)&&f.config.show_unscheduled?f.templates.task_unscheduled_time(o):f.templates.task_date(n)+" - "+f.templates.task_end_date(r)},task_unscheduled_time:function(n){return""},time_picker:i(a.time_picker),link_class:function(n){return""},link_description:function(n){var r=f.getTask(n.source),o=f.getTask(n.target);return"<b>"+r.text+"</b> &ndash;  <b>"+o.text+"</b>"},drag_link:function(n,r,o,c){n=f.getTask(n);var d=f.locale.labels,h="<b>"+n.text+"</b> "+(r?d.link_start:d.link_end)+"<br/>";return o&&(h+="<b> "+(o=f.getTask(o)).text+"</b> "+(c?d.link_start:d.link_end)+"<br/>"),h},drag_link_class:function(n,r,o,c){var d="";return n&&o&&(d=" "+(f.isLinkAllowed(n,o,r,c)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:u.date_to_str("%Y-%m-%d"),tooltip_text:function(n,r,o){return"<b>Task:</b> "+o.text+"<br/><b>Start date:</b> "+f.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+f.templates.tooltip_date_format(r)}})},initTemplate:l}}},function($,C,f){var _=f(5),l=f(0),s=f(55),u=f(17),i=f(1);$.exports=function(a){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,r){this._obj=n,this._settings=r||{},_(this);var o=this.getInputMethods();this._drag_start_timer=null,a.attachEvent("onGanttScroll",l.bind(function(h,g){this.clearDragTimer()},this));for(var c={passive:!1},d=0;d<o.length;d++)l.bind(function(h){a.event(n,h.down,l.bind(function(p){h.accessor(p)&&(r.preventDefault&&r.selector&&i.closest(p.target,r.selector)&&p.preventDefault(),a.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=e(p),a.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(l.bind(function(){a.getState().lightbox||this.dragStart(n,p,h)},this),a.config.touch_drag)):this.dragStart(n,p,h)))},this),c);var g=document.body;a.event(g,h.up,l.bind(function(p){h.accessor(p)&&this.clearDragTimer()},this),c)},this)(o[d])}return t.prototype={traceDragEvents:function(n,r){var o=l.bind(function(y){return this.dragMove(n,y,r.accessor)},this);l.bind(function(y){return this.dragScroll(n,y)},this);var c=l.bind(function(y){if(!this.config.started||!l.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var v=o(y);if(v)try{y&&y.preventDefault&&y.cancelable&&y.preventDefault()}catch{}return v}},this),d=i.getRootNode(a.$root),h=this.config.mousemoveContainer||i.getRootNode(a.$root),g={passive:!1},p=l.bind(function(y){return a.eventRemove(h,r.move,c),a.eventRemove(d,r.up,p,g),this.dragEnd(n)},this);a.event(h,r.move,c,g),a.event(d,r.up,p,g)},checkPositionChange:function(n){var o=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(n.x-this.config.pos.x),2)+Math.pow(Math.abs(o),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,r){if(a.config.touch){var o=r(n),c=o.target||o.srcElement,d=c.cloneNode(!0);this.config.original_target=e(o),this.config.original_target.target=d,this.config.backup_element=c,c.parentNode.appendChild(d),c.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(c)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(o){return o}}),a.config.touch){var r=!0;try{document.createEvent("TouchEvent")}catch{r=!1}r?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(o){return o.touches&&o.touches.length>1?null:o.touches[0]?{target:document.elementFromPoint(o.touches[0].clientX,o.touches[0].clientY),pageX:o.touches[0].pageX,pageY:o.touches[0].pageY,clientX:o.touches[0].clientX,clientY:o.touches[0].clientY}:o}}):u.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(o){return"mouse"==o.pointerType?null:o}}):u.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(o){return o.pointerType==o.MSPOINTER_TYPE_MOUSE?null:o}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,r,o){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(r),sensitivity:4},this._settings&&l.mixin(this.config,this._settings,!0),this.traceDragEvents(n,o),a._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",a.config.touch&&this.dragMove(n,r,o.accessor))},dragMove:function(n,r,o){var c=o(r);if(!c)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(c);if(a.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[n,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(r,o),this.initDnDMarker(),a._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(r.targetTouches&&!c.target?void 0:(c.pos=this.getPosition(c),this.config.marker.style.left=c.pos.x+"px",this.config.marker.style.top=c.pos.y+"px",this.callEvent("onDragMove",[n,c]),!0))},dragEnd:function(n){var r=this.config.backup_element;r&&r.parentNode&&r.parentNode.removeChild(r),a._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var r=0,o=0;return n.pageX||n.pageY?(r=n.pageX,o=n.pageY):(n.clientX||n.clientY)&&(r=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:r,y:o}}},t}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date_to_str:function(l,s,u){return function(i){return l.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return u.date.to_fixed(s?i.getUTCDate():i.getDate());case"%m":return u.date.to_fixed(s?i.getUTCMonth()+1:i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return u.date.to_fixed(s?i.getUTCFullYear()%100:i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?u.locale.date.day_short[i.getUTCDay()]:u.locale.date.day_short[i.getDay()];case"%l":return s?u.locale.date.day_full[i.getUTCDay()]:u.locale.date.day_full[i.getDay()];case"%M":return s?u.locale.date.month_short[i.getUTCMonth()]:u.locale.date.month_short[i.getMonth()];case"%F":return s?u.locale.date.month_full[i.getUTCMonth()]:u.locale.date.month_full[i.getMonth()];case"%h":return u.date.to_fixed(s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return u.date.to_fixed(s?i.getUTCHours():i.getHours());case"%i":return u.date.to_fixed(s?i.getUTCMinutes():i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return u.date.to_fixed(s?i.getUTCSeconds():i.getSeconds());case"%W":return u.date.to_fixed(s?u.date.getUTCISOWeek(i):u.date.getISOWeek(i));default:return a}})}},str_to_date:function(l,s,u){return function(i){for(var a=[0,0,1,0,0,0],e=i.match(/[a-zA-Z]+|[0-9]+/g),t=l.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":a[2]=e[n]||1;break;case"%n":case"%m":a[1]=(e[n]||1)-1;break;case"%y":a[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":a[3]=e[n]||0;break;case"%i":a[4]=e[n]||0;break;case"%Y":a[0]=e[n]||0;break;case"%a":case"%A":a[3]=a[3]%12+("am"===(e[n]||"").toLowerCase()?0:12);break;case"%s":a[5]=e[n]||0;break;case"%M":a[1]=u.locale.date.month_short_hash[e[n]]||0;break;case"%F":a[1]=u.locale.date.month_full_hash[e[n]]||0}return s?new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5])):new Date(a[0],a[1],a[2],a[3],a[4],a[5])}}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={date_to_str:function(l,s,u){l=l.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return a}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+l+'";');return function(a){return i(a,u.date.to_fixed,u.locale,u.date.getISOWeek,u.date.getWeek)}},str_to_date:function(l,s,u){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",a=l.match(/%[a-zA-Z]/g),e=0;e<a.length;e++)switch(a[e]){case"%j":case"%d":i+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":i+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+e+"]||0;";break;case"%i":i+="set[4]=temp["+e+"]||0;";break;case"%Y":i+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+e+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(r){return n(r,u.locale)}}}},function($,C,f){var _=f(255).default,l=f(254).default;$.exports=function(s){var u=null;function i(){var a=!1;return"auto"===s.config.csp?(null===u&&function(){try{new Function("canUseCsp = false;")}catch{u=!0}}(),a=u):a=s.config.csp,a}return{init:function(){for(var a=s.locale,e=a.date.month_short,t=a.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=a.date.month_full,t=a.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(a){var e=new Date(a);return a.setHours(0),this.hour_start(a),a.getHours()&&(a.getDate()<e.getDate()||a.getMonth()<e.getMonth()||a.getFullYear()<e.getFullYear())&&a.setTime(a.getTime()+36e5*(24-a.getHours())),a},time_part:function(a){return(a.valueOf()/1e3-60*a.getTimezoneOffset())%86400},week_start:function(a){var e=a.getDay();return s.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(a,-1*e,"day"))},month_start:function(a){return a.setDate(1),this.date_part(a)},quarter_start:function(a){this.month_start(a);var t=a.getMonth();return a.setMonth(t>=9?9:t>=6?6:t>=3?3:0),a},year_start:function(a){return a.setMonth(0),this.month_start(a)},day_start:function(a){return this.date_part(a)},hour_start:function(a){return a.getMinutes()&&a.setMinutes(0),this.minute_start(a),a},minute_start:function(a){return a.getSeconds()&&a.setSeconds(0),a.getMilliseconds()&&a.setMilliseconds(0),a},_add_days:function(a,e,t){a.setDate(a.getDate()+e);var n=e>=0,r=!t.getHours()&&a.getHours(),o=a.getDate()<=t.getDate()||a.getMonth()<t.getMonth()||a.getFullYear()<t.getFullYear();return n&&r&&o&&a.setTime(a.getTime()+36e5*(24-a.getHours())),e>1&&r&&a.setHours(0),a},add:function(a,e,t){var n=new Date(a.valueOf());switch(t){case"day":n=this._add_days(n,e,a);break;case"week":n=this._add_days(n,7*e,a);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](a,e,t)}return n},add_quarter:function(a,e){return this.add(a,3*e,"month")},to_fixed:function(a){return a<10?"0"+a:a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(a,e){var t=_;return i()&&(t=l),t.date_to_str(a,e,s)},str_to_date:function(a,e){var t=_;return i()&&(t=l),t.str_to_date(a,e,s)},getISOWeek:function(a){return s.date._getWeekNumber(a,!0)},_getWeekNumber:function(a,e){if(!a)return!1;var t=a.getDay();e&&0===t&&(t=7);var n=new Date(a.valueOf());n.setDate(a.getDate()+(4-t));var r=n.getFullYear(),o=Math.round((n.getTime()-new Date(r,0,1).getTime())/864e5);return 1+Math.floor(o/7)},getWeek:function(a){return s.date._getWeekNumber(a,s.config.start_on_monday)},getUTCISOWeek:function(a){return s.date.getISOWeek(a)},convert_to_utc:function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())},parseDate:function(a,e){return a&&!a.getFullYear&&("function"!=typeof e&&(e="string"==typeof e?"parse_date"===e||"xml_date"===e?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[e])?s.templates[e]:s.date.str_to_date(e):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),a=a?e(a):null),a}}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(_){if("string"==typeof _||"number"==typeof _)return _;var l="";for(var s in _){var u="";_.hasOwnProperty(s)&&(u=s+"="+(u="string"==typeof _[s]?encodeURIComponent(_[s]):"number"==typeof _[s]?_[s]:encodeURIComponent(JSON.stringify(_[s]))),l.length&&(u="&"+u),l+=u)}return l}},function($,C,f){function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var l=f(8),s=f(17),u=f(257).default;function i(a,e){var t={method:a};if(0===e.length)throw new Error("Arguments list of query is wrong.");if(1===e.length)return"string"==typeof e[0]?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),t.data=e[0].data?"string"!=typeof e[0].data?u(e[0].data):e[0].data:"",t;switch(t.url=e[0],a){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":t.data=e[1]?"string"!=typeof e[1]?u(e[1]):e[1]:"",t.callback=e[2],t.headers=e[3]}return t}$.exports=function(a){return{cache:!0,method:"get",parse:function(e){return"string"!=typeof e?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||l.isIE?void 0!==s.ActiveXObject&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(void 0===t.status||t.status<400){var r=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(r&&null!==r.documentElement&&!r.getElementsByTagName("parsererror").length)return r.getElementsByTagName(e)[0]}return-1!==n&&a.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),l.isIE)return t.selectNodes(e)||[];for(var n,r=[],o=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=o.iterateNext();)r.push(n);return r},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var r=i("GET",arguments);return this.query(r)},getSync:function(e,t){var n=i("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,r){var o=i("PUT",arguments);return this.query(o)},del:function(e,t,n){var r=i("DELETE",arguments);return this.query(r)},post:function(e,t,n,r){(1==arguments.length||2==arguments.length&&"function"==typeof t)&&(t="");var o=i("POST",arguments);return this.query(o)},postSync:function(e,t,n){t=null===t?"":String(t);var r=i("POST",arguments);return r.async=!1,this.query(r)},_call:function(e,t,n,r,o,c){return new a.Promise(function(d,h){var g=void 0!==(typeof XMLHttpRequest>"u"?"undefined":_(XMLHttpRequest))?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(r&&(g.onreadystatechange=function(){if(4==g.readyState||p&&3==g.readyState){if((200!=g.status||""===g.responseText)&&!a.callEvent("onAjaxError",[g]))return;setTimeout(function(){"function"==typeof o&&o.apply(s,[{xmlDoc:g,filePath:t}]),d(g),"function"==typeof o&&(o=null,g=null)},0)}}),"GET"==e&&(!this||!this.cache)&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),g.open(e,t,r),c)for(var v in c)g.setRequestHeader(v,c[v]);else"POST"==e.toUpperCase()||"PUT"==e||"DELETE"==e?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==e&&(n=null);if(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(n),!r)return{xmlDoc:g,filePath:t}})},urlSeparator:function(e){return-1!=e.indexOf("?")?"&":"?"}}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),$.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function($,C){$.exports=function(){var f={};return{services:{},setService:function(_,l){f[_]=l},getService:function(_){return f[_]?f[_]():null},dropService:function(_){f[_]&&delete f[_]},destructor:function(){for(var _ in f)if(f[_]){var l=f[_];l&&l.destructor&&l.destructor()}f=null}}}},function($,C){$.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function($,C,f){function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(l)}$.exports=function(l){var s=new function(){this.constants=f(261),this.version="8.0.4",this.license="evaluation",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},u=new(f(56).default)(l),i={};s.plugins=function(c){for(var d in c)if(c[d]&&!i[d]){var h=u.getExtension(d);h&&(h(s),i[d]=!0)}return i},s.$services=f(260)(),s.config=f(259)(),s.ajax=f(258)(s),s.date=f(256)(s);var a=f(253)(s);s.$services.setService("dnd",function(){return a});var e=f(252)(s);s.$services.setService("templateLoader",function(){return e}),f(5)(s);var t=new(f(251));t.registerProvider("global",function(){var c={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(c.selected_task=s.$data.tasksStore.getSelectedId()),c}),s.getState=t.getState,s.$services.setService("state",function(){return t});var n=f(0);n.mixin(s,n),s.Promise=f(250),s.env=f(8),f(248)(s);var r=f(242);s.dataProcessor=r.DEPRECATED_api,s.createDataProcessor=r.createDataProcessor,f(237)(s),f(225)(s),f(224)(s),f(216)(s),f(215)(s),f(214)(s),f(201)(s),f(200).default(s),f(199)(s),f(198)(s),f(197)(s),f(194)(s),f(193).default(s);var o=f(192).default();return s.i18n={addLocale:o.addLocale,setLocale:function(c){if("string"==typeof c){var d=o.getLocale(c);d||(d=o.getLocale("en")),s.locale=d}else if(c)if(s.locale)for(var h in c)c[h]&&"object"===_(c[h])?(s.locale[h]||(s.locale[h]={}),s.mixin(s.locale[h],c[h],!0)):s.locale[h]=c[h];else s.locale=c},getLocale:o.getLocale},s.i18n.setLocale("en"),s}},function($,C,f){f(38);var _=f(262);$.exports=function(l){var s=_(l);return s.env.isNode||f(158)(s),s}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(56),l=f(17);C.default=function(u,i){var a=this;this.plugin=function(e){a._ganttPlugin.push(e),void 0!==l.gantt&&l.gantt.getTask&&e(l.gantt)},this.getGanttInstance=function(e){for(var t=a._factoryMethod(a._bundledExtensions),n=0;n<a._ganttPlugin.length;n++)a._ganttPlugin[n](t);return t._internal_id=a._seed++,e&&a._initFromConfig(t,e),t},this._initFromConfig=function(e,t){if(t.plugins)for(var n in t.plugins){var r=a._extensionsManager.getExtension(n);r&&r(e)}if(t.config&&e.mixin(e.config,t.config,!0),t.templates&&e.attachEvent("onTemplatesReady",function(){e.mixin(e.templates,t.templates,!0)},{once:!0}),t.events)for(var o in t.events)e.attachEvent(o,t.events[o]);t.locale&&e.i18n.setLocale(t.locale),Array.isArray(t.calendars)&&t.calendars.forEach(function(c){e.addCalendar(c)}),t.container?e.init(t.container):e.init(),t.data&&("string"==typeof t.data?e.load(t.data):e.parse(t.data))},this._seed=0,this._ganttPlugin=[],this._factoryMethod=u,this._bundledExtensions=i,this._extensionsManager=new _.default(i)}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var l=function(){function s(u){var i=this;this.maxSteps=10,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(a){return{commands:a?a.slice():[]}},invert:function(a){for(var e,t=i._gantt.copy(a),n=i.command,r=0;r<a.commands.length;r++){var o=t.commands[r]=n.invert(t.commands[r]);o.type!==n.type.update&&o.type!==n.type.move||(o.value=(e=[o.oldValue,o.value])[0],o.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(a,e,t,n){var r=i._gantt;return{entity:n,type:t,value:r.copy(a),oldValue:r.copy(e||a)}},invert:function(a){var e=i._gantt.copy(a);return e.type=i.command.inverseCommands(a.type),e},inverseCommands:function(a){var e=i._gantt,t=i.command.type;switch(a){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+a),null}}},this._undoStack=[],this._redoStack=[],this._gantt=u}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.setUndoStack=function(u){this._undoStack=u},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.setRedoStack=function(u){this._redoStack=u},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var u=this._gantt;this.maxSteps=u.config.undo_steps||10,this.command.entity=u.config.undo_types,this.command.type=u.config.undo_actions,this.undoEnabled=!!u.config.undo,this.redoEnabled=!!u.config.redo},s.prototype.undo=function(){var u=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),!1!==u.callEvent("onBeforeUndo",[i])&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,u.copy(i)),void u.callEvent("onAfterUndo",[i]);u.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var u=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),!1!==u.callEvent("onBeforeRedo",[i])&&i)return this._applyAction(i),this._push(this._undoStack,u.copy(i)),void u.callEvent("onAfterRedo",[i]);u.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(u){this._push(this._undoStack,u),this._redoStack=[]},s.prototype._push=function(u,i){if(i.commands.length&&!1!==this._gantt.callEvent(u===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack",[i])&&i.commands.length){for(u.push(i);u.length>this.maxSteps;)u.shift();return i}},s.prototype._pop=function(u){return u.pop()},s.prototype._reorderCommands=function(u){var i={any:0,link:1,task:2},a={move:1,any:0};u.commands.sort(function(e,t){return"task"===e.entity&&"task"===t.entity?e.type!==t.type?(a[t.type]||0)-(a[e.type]||0):"move"===e.type&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0:(i[t.entity]||i.any)-(i[e.entity]||i.any)})},s.prototype._applyAction=function(u){var i=null,a=this.command.entity,e=this.command.type,t=this._gantt,n={};n[a.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[a.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var r=0;r<u.commands.length;r++){var o=n[(i=u.commands[r]).entity][i.type],c=n[i.entity].get,d=n[i.entity].isExists;if(i.type===e.add)t[o](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===e.remove)t[d](i.value.id)&&t[o](i.value.id);else if(i.type===e.update){var h=t[c](i.value.id);for(var g in i.value)g.startsWith("$")||g.startsWith("_")||(h[g]=i.value[g]);t[o](i.value.id)}else i.type===e.move&&(t[o](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();C.Undo=l},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},l=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function u(i,a){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=a,this._attachEvents()}return u.prototype.store=function(i,a,e){return void 0===e&&(e=!1),a===this._gantt.config.undo_types.task?this._storeTask(i,e):a===this._gantt.config.undo_types.link&&this._storeLink(i,e)},u.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},u.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},u.prototype.startIgnore=function(){this._ignore=!0},u.prototype.stopIgnore=function(){this._ignore=!1},u.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},u.prototype.stopBatchAction=function(){this._ignore||(this._batchAction&&this._undo.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null)},u.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},u.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},u.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var a=this.getInitialTask(i.id);if(i.$local_index===a.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(a))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},u.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var a=this._nestedTasks[i.id],e=0;e<a.length;e++)this._storeTaskCommand(a[e],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},u.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},u.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},u.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},u.prototype.setNestedTasks=function(i,a){for(var t=null,n=[],r=this._getLinks(this._gantt.getTask(i)),o=0;o<a.length;o++)t=this.setInitialTask(a[o]),r=r.concat(this._getLinks(t)),n.push(t);var c={};for(o=0;o<r.length;o++)c[r[o]]=!0;var d=[];for(var o in c)d.push(this.setInitialLink(o));this._nestedTasks[i]=n,this._nestedLinks[i]=d},u.prototype.setInitialTask=function(i,a){var e=this._gantt;if(a||!this._initialTasks[i]||!this._batchMode){var t=e.copy(e.getTask(i));t.$index=e.getGlobalTaskIndex(i),t.$local_index=e.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},u.prototype.getInitialTask=function(i){return this._initialTasks[i]},u.prototype.clearInitialTasks=function(){this._initialTasks={}},u.prototype.setInitialTaskObject=function(i,a){this._initialTasks[i]=a},u.prototype.setInitialLink=function(i,a){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},u.prototype.getInitialLink=function(i){return this._initialLinks[i]},u.prototype.clearInitialLinks=function(){this._initialLinks={}},u.prototype._attachEvents=function(){var i=this,a=null,e=this._gantt,t=function(){a||(a=setTimeout(function(){a=null}),i.clearInitialTasks(),e.eachTask(function(c){i.setInitialTask(c.id)}),i.clearInitialLinks(),e.getLinks().forEach(function(c){i.setInitialLink(c.id)}))},n=function(c){return e.copy(e.getTask(c))};for(var r in _)e.attachEvent(r,function(){return i.startIgnore(),!0}),e.attachEvent(_[r],function(){return i.stopIgnore(),!0});for(r=0;r<l.length;r++)e.attachEvent(l[r],function(){return i.startBatchAction(),!0});e.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(c,d){i.setInitialTask(c,!0),i.onTaskAdded(d)}),e.attachEvent("onAfterTaskUpdate",function(c,d){i.onTaskUpdated(d)}),e.attachEvent("onAfterTaskDelete",function(c,d){i.onTaskDeleted(d)}),e.attachEvent("onAfterLinkAdd",function(c,d){i.setInitialLink(c,!0),i.onLinkAdded(d)}),e.attachEvent("onAfterLinkUpdate",function(c,d){i.onLinkUpdated(d)}),e.attachEvent("onAfterLinkDelete",function(c,d){i.onLinkDeleted(d)}),e.attachEvent("onRowDragEnd",function(c,d){return i.onTaskMoved(n(c)),i.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(c){i.store(c,e.config.undo_types.task);var d=[];return t(),e.eachTask(function(h){d.push(h.id)},c),i.setNestedTasks(c,d),!0});var o=e.getDatastore("task");o.attachEvent("onBeforeItemMove",function(c,d,h){return i.isMoveEventsIgnored()||t(),!0}),o.attachEvent("onAfterItemMove",function(c,d,h){return i.isMoveEventsIgnored()||i.onTaskMoved(n(c)),!0}),e.attachEvent("onRowDragStart",function(c,d,h){return i.toggleIgnoreMoveEvents(!0),t(),!0}),e.attachEvent("onBeforeTaskDrag",function(c){return i.store(c,e.config.undo_types.task)}),e.attachEvent("onLightbox",function(c){return i.store(c,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(c){return i.store(c.id,e.config.undo_types.task),!0}),e.ext.inlineEditors&&e.ext.inlineEditors.attachEvent("onEditStart",function(c){i.store(c.id,e.config.undo_types.task)})},u.prototype._storeCommand=function(i){var a=this._undo;if(a.updateConfigs(),a.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var e=a.action.create([i]);a.logAction(e)}},u.prototype._storeEntityCommand=function(i,a,e,t){var n=this._undo.command.create(i,a,e,t);this._storeCommand(n)},u.prototype._storeTaskCommand=function(i,a){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),a,this._undo.command.entity.task)},u.prototype._storeLinkCommand=function(i,a){this._storeEntityCommand(i,this.getInitialLink(i.id),a,this._undo.command.entity.link)},u.prototype._getLinks=function(i){return i.$source.concat(i.$target)},u.prototype._storeTask=function(i,a){var e=this;void 0===a&&(a=!1);var t=this._gantt;return this.setInitialTask(i,a),t.eachTask(function(n){e.setInitialTask(n.id)},i),!0},u.prototype._storeLink=function(i,a){return void 0===a&&(a=!1),this.setInitialLink(i,a),!0},u}();C.Monitor=s},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(266),l=f(265);C.default=function(s){var u=new l.Undo(s),i=new _.Monitor(u,s);function a(c,d,h){c&&(c.id===d&&(c.id=h),c.parent===d&&(c.parent=h))}function e(c,d,h){a(c.value,d,h),a(c.oldValue,d,h)}function t(c,d,h){c&&(c.source===d&&(c.source=h),c.target===d&&(c.target=h))}function n(c,d,h){t(c.value,d,h),t(c.oldValue,d,h)}function r(c,d,h){for(var g=u,p=0;p<c.length;p++)for(var y=c[p],v=0;v<y.commands.length;v++)y.commands[v].entity===g.command.entity.task?e(y.commands[v],d,h):y.commands[v].entity===g.command.entity.link&&n(y.commands[v],d,h)}function o(c,d,h){for(var g=u,p=0;p<c.length;p++)for(var y=c[p],v=0;v<y.commands.length;v++){var m=y.commands[v];m.entity===g.command.entity.link&&(m.value&&m.value.id===d&&(m.value.id=h),m.oldValue&&m.oldValue.id===d&&(m.oldValue.id=h))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return u.undo()},redo:function(){return u.redo()},getUndoStack:function(){return u.getUndoStack()},setUndoStack:function(c){return u.setUndoStack(c)},getRedoStack:function(){return u.getRedoStack()},setRedoStack:function(c){return u.setRedoStack(c)},clearUndoStack:function(){return u.clearUndoStack()},clearRedoStack:function(){return u.clearRedoStack()},saveState:function(c,d){return i.store(c,d,!0)},getInitialState:function(c,d){return d===s.config.undo_types.link?i.getInitialLink(c):i.getInitialTask(c)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(c,d){var h=u;r(h.getUndoStack(),c,d),r(h.getRedoStack(),c,d)}),s.attachEvent("onLinkIdChange",function(c,d){var h=u;o(h.getUndoStack(),c,d),o(h.getRedoStack(),c,d)}),s.attachEvent("onGanttReady",function(){u.updateConfigs()})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(1),l=function(){function s(u){this._gantt=u}return s.prototype.getNode=function(){var u=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",u._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(u){return this._root=u,this},s.prototype.show=function(u,i){var a=this._gantt,e=document.body,t=this.getNode();if(_.isChildOf(t,e)||(this.hide(),e.appendChild(t)),this._isLikeMouseEvent(u)){var n=this._calculateTooltipPosition(u);i=n.top,u=n.left}return t.style.top=i+"px",t.style.left=u+"px",a._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var u=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),u._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(u){return this.getNode().innerHTML=u,this},s.prototype._isLikeMouseEvent=function(u){return!(!u||"object"!=typeof u)&&"clientX"in u&&"clientY"in u},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(u){var i=this._gantt,a=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=i.config.tooltip_offset_x,r=i.config.tooltip_offset_y,o=document.body,c=_.getRelativeEventPosition(u,o),d=_.getNodePosition(o);c.y+=d.y,t.top=c.y,t.left=c.x,t.top+=r,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var h=window.scrollY+o.scrollTop;return t.top<a.top-h?(t.top=a.top,t.bottom=t.top+t.height):t.bottom>a.bottom&&(t.bottom=a.bottom,t.top=t.bottom-t.height),t.left<a.left?(t.left=a.left,t.right=a.left+t.width):t.right>a.right&&(t.right=a.right,t.left=t.right-t.width),c.x>=t.left&&c.x<=t.right&&(t.left=c.x-t.width-n,t.right=t.left+t.width),c.y>=t.top&&c.y<=t.bottom&&(t.top=c.y-t.height-r,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var u,i=this._gantt,a=this._getViewPort(),e=a,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return a===i.$task_data?(e=i.$task,t=0,n=0,u=_.getNodePosition(i.$task)):u=_.getNodePosition(e),{left:u.x+n,top:u.y+t,width:u.width,height:u.height,bottom:u.y+u.height+t,right:u.x+u.width+n}},s}();C.Tooltip=l},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(57),l=f(1),s=f(2),u=f(268),i=function(){function a(e){this._listeners={},this.tooltip=new u.Tooltip(e),this._gantt=e,this._domEvents=_(),this._initDelayedFunctions()}return a.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},a.prototype.hideTooltip=function(){this.delayHide()},a.prototype.attach=function(e){var t=this,n=document.body;e.global||(n=this._gantt.$root);var o=null,c=function(d){var h=l.getTargetNode(d),g=l.closest(h,e.selector);if(!l.isChildOf(h,t.tooltip.getNode())){var p=function(){o=g,e.onmouseenter(d,g)};o?g&&g===o?e.onmousemove(d,g):(e.onmouseleave(d,o),o=null,g&&g!==o&&p()):g&&p()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",c),this._listeners[e.selector]={node:n,handler:c}},a.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},a.prototype.tooltipFor=function(e){var t=this,n=function(r){var o=r;return document.createEventObject&&!document.createEvent&&(o=document.createEventObject(r)),o};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(r,o){var c=e.html(r,o);c&&t.delayShow(n(r),c)},onmousemove:function(r,o){var c=e.html(r,o);c?t.delayShow(n(r),c):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},a.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(n,r){!1===t.callEvent("onBeforeTooltip",[n])?e.tooltip.hide():(e.tooltip.setContent(r),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},a}();C.TooltipManager=i},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(269);C.default=function(l){l.config.tooltip_timeout=30,l.config.tooltip_offset_y=20,l.config.tooltip_offset_x=10,l.config.tooltip_hide_timeout=30;var s=new _.TooltipManager(l);l.ext.tooltips=s,l.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+l.config.task_attribute+"]:not(.gantt_task_row)",html:function(u){if(!l.config.touch||l.config.touch_tooltip){var i=l.locate(u);if(l.isTaskExists(i)){var a=l.getTask(i);return l.templates.tooltip_text(a.start_date,a.end_date,a)}return null}},global:!1})}),l.attachEvent("onDestroy",function(){s.destructor()}),l.attachEvent("onLightbox",function(){s.hideTooltip()}),l.attachEvent("onBeforeTooltip",function(){if(l.getState().link_source_id)return!1}),l.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){var u=this;this.show=function(i,a){void 0===a?u._showForTask(i):u._showAtCoordinates(i,a)},this.hide=function(i){var a=u._gantt,e=u._quickInfoBox;u._quickInfoBoxId=0;var t=u._quickInfoTask;if(u._quickInfoTask=null,e&&e.parentNode){if(a.config.quick_info_detached)return a.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden","auto"===e.style.right?e.style.left="-350px":e.style.right="-350px",i&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),a.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return u._quickInfoBox?u._quickInfoBox:null},this.setContainer=function(i){i&&(u._container="string"==typeof i?document.getElementById(i):i)},this.setContent=function(i){var a=u._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:a.config.quickinfo_buttons};i||(i=e),i.taskId||(i.taskId=e.taskId),i.header||(i.header=e.header),i.header.title||(i.header.title=e.header.title),i.header.date||(i.header.date=e.header.date),i.content||(i.content=e.content),i.buttons||(i.buttons=e.buttons);var t=u.getNode();t||(t=u._createQuickInfoElement()),i.taskId&&(u._quickInfoBoxId=i.taskId);var n=t.querySelector(".gantt_cal_qi_title"),r=n.querySelector(".gantt_cal_qi_tcontent"),o=n.querySelector(".gantt_cal_qi_tdate"),c=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");a._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),r.innerHTML=i.header.title,o.innerHTML=i.header.date,n.style.display=i.header.title||i.header.date?"":"none",c.innerHTML=i.content;var h=i.buttons;d.style.display=h.length?"":"none";for(var g="",p=0;p<h.length;p++){var y=a._waiAria.quickInfoButtonAttrString(a.locale.labels[h[p]]);g+='<div class="gantt_qi_big_icon '+h[p]+'" title="'+a.locale.labels[h[p]]+'" '+y+"><div class='gantt_menu_icon "+h[p]+"'></div><div>"+a.locale.labels[h[p]]+"</div></div>"}d.innerHTML=g,a.eventRemove(t,"click",u._qiButtonClickHandler),a.eventRemove(t,"keypress",u._qiKeyPressHandler),a.event(t,"click",u._qiButtonClickHandler),a.event(t,"keypress",u._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,u._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var a=(i=i||event).which||event.keyCode;13!==a&&32!==a||setTimeout(function(){u._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return l.prototype._showAtCoordinates=function(s,u){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,u),this._gantt.callEvent("onQuickInfo",[null])},l.prototype._showForTask=function(s){var u=this._gantt;if((s!==this._quickInfoBoxId||!u.utils.dom.isChildOf(this._quickInfoBox,document.body))&&u.config.show_quick_info){this.hide(!0);var i=this._getContainer(),a=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);a&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(a,6),u.callEvent("onQuickInfo",[s]))}},l.prototype._get_event_counter_part=function(s,u,i,a){var e=this._gantt,t=e.getTaskNode(s);if(!t&&!(t=e.getTaskRowNode(s)))return null;var n=0,r=u+t.offsetTop+t.offsetHeight,o=t;if(e.utils.dom.isChildOf(o,i))for(;o&&o!==i;)n+=o.offsetLeft,o=o.offsetParent;var c=e.getScrollState();return o?{left:n,top:r,dx:n+t.offsetWidth/2-c.x>i.offsetWidth/2?1:0,dy:r+t.offsetHeight/2-c.y>a.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},l.prototype._createQuickInfoElement=function(){var s=this,u=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",u._waiAria.quickInfoAttr(i);var a='<div class="gantt_cal_qi_title" '+u._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(a+='<div class="gantt_cal_qi_controls">',i.innerHTML=a+="</div>",u.config.quick_info_detached){var e=this._getContainer();u.event(e.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},l.prototype._init_quick_info=function(s){var u=this._gantt,i=u.getTask(s);return"boolean"==typeof this._quickInfoReadonly&&u.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=u.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},l.prototype._prepare_quick_info_classname=function(s){var u=this._gantt,i=u.getTask(s),a="gantt_cal_quick_info",e=u.templates.quick_info_class(i.start_date,i.end_date,i);return e&&(a+=" "+e),a},l.prototype._fill_quick_data=function(s){var u=this._gantt,i=u.getTask(s);this._quickInfoBoxId=s;var a=[];if(this._quickInfoReadonly)for(var e=u.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||a.push(e[n]);else a=u.config.quickinfo_buttons;this.setContent({header:{title:u.templates.quick_info_title(i.start_date,i.end_date,i),date:u.templates.quick_info_date(i.start_date,i.end_date,i)},content:u.templates.quick_info_content(i.start_date,i.end_date,i),buttons:a})},l.prototype._appendAtCoordinates=function(s,u){var i=this._quickInfoBox,a=this._getContainer();i.parentNode&&"#document-fragment"!==i.parentNode.nodeName.toLowerCase()||a.parent.appendChild(i),i.style.left=s+"px",i.style.top=u+"px"},l.prototype._show_quick_info=function(s,u){var i=this._gantt,a=this._quickInfoBox;if(i.config.quick_info_detached){var e=this._getContainer();a.parentNode&&"#document-fragment"!==a.parentNode.nodeName.toLowerCase()||e.parent.appendChild(a);var t=a.offsetWidth,n=a.offsetHeight,r=i.getScrollState(),c=e.yViewport,d=e.xViewport.offsetWidth+r.x-t,h=s.top-r.y+n,g=s.top;h>c.offsetHeight/2&&(g=s.top-(n+s.height+2*u))<r.y&&h<=c.offsetHeight&&(g=s.top),g<r.y&&(g=r.y);var p=Math.min(Math.max(r.x,s.left-s.dx*(t-s.width)),d);this._appendAtCoordinates(p,g)}else a.style.top="20px",1===s.dx?(a.style.right="auto",a.style.left="-300px",setTimeout(function(){a.style.left="10px"},1)):(a.style.left="auto",a.style.right="-300px",setTimeout(function(){a.style.right="10px"},1)),a.className+=" gantt_qi_"+(1===s.dx?"left":"right"),i.$root.appendChild(a)},l.prototype._qi_button_click=function(s){var u=this._gantt;if(s&&s!==this._quickInfoBox){var a=s.className;if(-1!==a.indexOf("_icon")){var e=this._quickInfoBoxId;u.$click.buttons[a.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(s.parentNode)}},l.prototype._getContainer=function(){var s=this._gantt,u=this._container?this._container:s.$task_data;return u&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:s.$task,yViewport:s.$task_data}:(u=this._container?this._container:s.$grid_data)&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},l}();C.QuickInfo=_},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(271);C.default=function(l){l.ext||(l.ext={}),l.ext.quickInfo=new _.QuickInfo(l),l.config.quickinfo_buttons=["icon_delete","icon_edit"],l.config.quick_info_detached=!0,l.config.show_quick_info=!0,l.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},l.templates.quick_info_content=function(e,t,n){return n.details||n.text},l.templates.quick_info_date=function(e,t,n){return l.templates.task_time(e,t,n)},l.templates.quick_info_class=function(e,t,n){return""},l.attachEvent("onTaskClick",function(e,t){return l.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){l.ext.quickInfo.show(e)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],u=function(){return l.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)l.attachEvent(s[i],u);function a(){return l.ext.quickInfo.hide(),l.ext.quickInfo._quickInfoBox=null,!0}l.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&l.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&u()}),l.attachEvent("onGanttReady",a),l.attachEvent("onDestroy",a),l.event(window,"keydown",function(e){27===e.keyCode&&l.ext.quickInfo.hide()})}},function($,C){$.exports=function(f){f.ext||(f.ext={}),f.ext.overlay={};var _={};function l(){if(f.$task_data){f.event(f.$task_data,"scroll",function(t){f.ext.$overlay_area&&(f.ext.$overlay_area.style.top=t.target.scrollTop+"px")});var e=document.createElement("div");e.className="gantt_overlay_area",f.$task_data.appendChild(e),f.ext.$overlay_area=e,s()}}function s(){for(var e in _){var t=_[e];t.isAttached||u(t)}}function u(e){f.ext.$overlay_area.appendChild(e.node),e.isAttached=!0}function i(){f.ext.$overlay_area.style.display="block"}function a(){var e=!1;for(var t in _)if(_[t].isVisible){e=!0;break}e||(f.ext.$overlay_area.style.display="none")}f.attachEvent("onBeforeGanttRender",function(){f.ext.$overlay_area||l(),s(),a()}),f.attachEvent("onGanttReady",function(){l(),s(),a()}),f.ext.overlay.addOverlay=function(e,t){return t=t||f.uid(),_[t]=(n=t,r=e,(o=document.createElement("div")).setAttribute("data-overlay-id",n),o.className="gantt_overlay",o.style.display="none",{id:n,render:r,isVisible:!1,isAttached:!1,node:o}),t;var n,r,o},f.ext.overlay.deleteOverlay=function(e){return!!_[e]&&(delete _[e],a(),!0)},f.ext.overlay.getOverlaysIds=function(){var e=[];for(var t in _)e.push(t);return e},f.ext.overlay.refreshOverlay=function(e){i(),_[e].isVisible=!0,_[e].node.innerHTML="",_[e].node.style.display="block",_[e].render(_[e].node)},f.ext.overlay.showOverlay=function(e){i(),this.refreshOverlay(e)},f.ext.overlay.hideOverlay=function(e){_[e].isVisible=!1,_[e].node.style.display="none",a()},f.ext.overlay.isOverlayVisible=function(e){return!!e&&_[e].isVisible}}},function($,C,f){var _=f(2).replaceValidZeroId;$.exports=function(l){l.config.multiselect=!0,l.config.multiselect_one_level=!1,l._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=l.config.multiselect_one_level;var s=this._active;this._active=l.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){l.$data.tasksStore.silent(function(){var u=l.$data.tasksStore;s?u.select(s+""):u.unselect(null)})},getLastSelected:function(){var s=l.$data.tasksStore.getSelectedId();return s&&l.isTaskExists(s)?s:null},select:function(s,u){return!!(s&&l.callEvent("onBeforeTaskMultiSelect",[s,!0,u])&&l.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),l.callEvent("onTaskMultiSelect",[s,!0,u]),l.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,u){this._selected[s]?this.unselect(s,u):this.select(s,u)},unselect:function(s,u){s&&l.callEvent("onBeforeTaskMultiSelect",[s,!1,u])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),l.callEvent("onTaskMultiSelect",[s,!1,u]),l.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!l.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var u in this._selected)this._selected[u]&&l.isTaskExists(u)?s.push(u):this._selected[u]=!1;return s.sort(function(i,a){return l.getGlobalTaskIndex(i)>l.getGlobalTaskIndex(a)?1:-1}),s},forSelected:function(s){for(var u=this.getSelected(),i=0;i<u.length;i++)s(u[i])},isSameLevel:function(s){if(!this._one_level)return!0;var u=this.getLastSelected();return!u||!l.isTaskExists(u)||!l.isTaskExists(s)||l.calculateTaskLevel(l.getTask(u))==l.calculateTaskLevel(l.getTask(s))},afterSelect:function(s){l.isTaskExists(s)&&l._quickRefresh(function(){l.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||l._is_icon_open_click(s))return!1;var u=l.locate(s);if(!u||!l.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),a=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=l.config.multiselect,r=function(){var c=l.ext.inlineEditors,d=c.getState(),h=c.locateCell(s.target);l.config.inline_editors_multiselect_open&&h&&c.getEditorConfig(h.columnName)&&(c.isVisible()&&d.id==h.id&&d.columnName==h.columnName||c.startEdit(h.id,h.columnName)),this.setFirstSelected(u),this.isSelected(u)||this.select(u,s),i=this.getSelected();for(var g=0;g<i.length;g++)i[g]!==u&&this.unselect(i[g],s)}.bind(this),o=function(){if(t){if(u){for(var c=l.getGlobalTaskIndex(this.getFirstSelected()),d=l.getGlobalTaskIndex(u),h=l.getGlobalTaskIndex(t),g=t;l.getGlobalTaskIndex(g)!==c;)this.unselect(g,s),g=c>h?l.getNext(g):l.getPrev(g);for(g=u;l.getGlobalTaskIndex(g)!==c;)this.select(g,s)&&!e&&(e=!0,a=g),g=c>d?l.getNext(g):l.getPrev(g)}}else t=u}.bind(this);return n&&(s.ctrlKey||s.metaKey)?(this.isSelected(u)||this.setFirstSelected(u),u&&this.toggle(u,s)):n&&s.shiftKey?(l.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(u),i.length?o():r()):r(),this.isSelected(u)?this.setLastSelected(u):a?u==t&&this.setLastSelected(s.shiftKey?a:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=l.selectTask;l.selectTask=function(i){if(!(i=_(i,this.config.root_id)))return!1;var a=l._multiselect,e=i;return a.isActive()?(a.select(i,null)&&a.setLastSelected(i),a.setFirstSelected(a.getLastSelected())):e=s.call(this,i),e};var u=l.unselectTask;l.unselectTask=function(i){var a=l._multiselect,e=a.isActive();(i=i||a.getLastSelected())&&e&&(a.unselect(i,null),i==a.getLastSelected()&&a.setLastSelected(null),l.refreshTask(i),a.setFirstSelected(a.getLastSelected()));var t=i;return e||(t=u.call(this,i)),t},l.toggleTaskSelection=function(i){var a=l._multiselect;i&&a.isActive()&&(a.toggle(i),a.setFirstSelected(a.getLastSelected()))},l.getSelectedTasks=function(){var i=l._multiselect;return i.isActive(),i.getSelected()},l.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},l.isSelectedTask=function(i){return this._multiselect.isSelected(i)},l.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},l.attachEvent("onGanttReady",function(){var i=l.$data.tasksStore.isSelected;l.$data.tasksStore.isSelected=function(a){return l._multiselect.isActive()?l._multiselect.isSelected(a):i.call(this,a)}})}(),l.attachEvent("onTaskIdChange",function(s,u){var i=l._multiselect;if(!i.isActive())return!0;l.isSelectedTask(s)&&(i.unselect(s,null),i.select(u,null))}),l.attachEvent("onAfterTaskDelete",function(s,u){var i=l._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(a){l.isTaskExists(a)||i.unselect(a,null)})}),l.attachEvent("onBeforeTaskMultiSelect",function(s,u,i){var a=l._multiselect;return!(u&&a.isActive()&&a._one_level)||a.isSameLevel(s)}),l.attachEvent("onTaskClick",function(s,u){return l._multiselect.doSelection(u)&&l.callEvent("onMultiSelect",[u]),!0})}},function($,C){$.exports=function(f){function _(s){if(!f.config.show_markers||!s.start_date)return!1;var u=f.getState();if(!(+s.start_date>+u.max_date||(!s.end_date||+s.end_date<+u.min_date)&&+s.start_date<+u.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var a="gantt_marker";f.templates.marker_class&&(a+=" "+f.templates.marker_class(s)),s.css&&(a+=" "+s.css),s.title&&(i.title=s.title),i.className=a;var e=f.posFromDate(s.start_date);i.style.left=e+"px";var t=Math.max(f.getRowTop(f.getVisibleTaskCount()),0)+"px";if(f.config.timeline_placeholder&&(t=f.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var n=f.posFromDate(s.end_date);i.style.width=Math.max(n-e,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function l(){if(f.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",f.$task_data.appendChild(s),f.$marker_area=s}}f._markers||(f._markers=f.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||f.uid(),s}})),f.config.show_markers=!0,f.attachEvent("onBeforeGanttRender",function(){f.$marker_area||l()}),f.attachEvent("onDataRender",function(){f.$marker_area||(l(),f.renderMarkers())}),f.attachEvent("onGanttLayoutReady",function(){f.attachEvent("onBeforeGanttRender",function(){l(),f.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return f.$marker_area}}).addLayer(_)},{once:!0})}),f.getMarker=function(s){return this._markers?this._markers.getItem(s):null},f.addMarker=function(s){return this._markers.addItem(s)},f.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},f.updateMarker=function(s){this._markers.refresh(s)},f._getMarkers=function(){return this._markers.getItems()},f.renderMarkers=function(){this._markers.refresh()}}},function($,C){$.exports=function(f){f.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new f.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var _;return(_=f.config.keyboard_navigation_cells?new f.$keyboardNavigation.TaskCell:new f.$keyboardNavigation.TaskRow).isValid()||(_=_.fallback()),_},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var _=this.activeNode;return _&&!_.isValid()&&(_=_.fallback()),_},fromDomElement:function(_){for(var l=[f.$keyboardNavigation.TaskRow,f.$keyboardNavigation.TaskCell,f.$keyboardNavigation.HeaderCell],s=0;s<l.length;s++)if(l[s].prototype.fromDomElement){var u=l[s].prototype.fromDomElement(_);if(u)return u}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(_){var l=!0;this.activeNode&&this.activeNode.compareTo(_)&&(l=!1),this.isEnabled()&&(l&&this.blurNode(this.activeNode),this.activeNode=_,this.focusNode(this.activeNode,!l))},focusNode:function(_,l){_&&_.focus&&_.focus(l)},blurNode:function(_){_&&_.blur&&_.blur()},keyDownHandler:function(_){if(!f.$keyboardNavigation.isModal()&&this.isEnabled()&&!_.defaultPrevented){var l=this.globalNode,s=f.$keyboardNavigation.shortcuts.getCommandFromEvent(_),u=this.getActiveNode();!1!==f.$keyboardNavigation.facade.callEvent("onKeyDown",[s,_])&&(u?u.findHandler(s)?u.doAction(s,_):l.findHandler(s)&&l.doAction(s,_):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(_,l){clearTimeout(this._timeout),this._timeout=setTimeout(f.bind(function(){this._timeout=null,_()},this),l||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function($,C){$.exports=function(f){!function(){var _=[];function l(){return!!_.length}function s(n){setTimeout(function(){l()||f.$destroyed||f.focus()},1)}function u(n){f.eventRemove(n,"keydown",a),f.event(n,"keydown",a),_.push(n)}function i(){var n=_.pop();n&&f.eventRemove(n,"keydown",a),s()}function a(n){var r=n.currentTarget;r==_[_.length-1]&&f.$keyboardNavigation.trapFocus(r,n)}function e(){u(f.getLightbox())}f.attachEvent("onLightbox",e),f.attachEvent("onAfterLightbox",i),f.attachEvent("onLightboxChange",function(){i(),e()}),f.attachEvent("onAfterQuickInfo",function(){s()}),f.attachEvent("onMessagePopup",function(n){t=f.utils.dom.getActiveElement(),u(n)}),f.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;f.$keyboardNavigation.isModal=l}()}},function($,C,f){$.exports=function(_){var l=f(1),s=f(2).replaceValidZeroId;_.$keyboardNavigation.TaskCell=function(u,i){if(!(u=s(u,_.config.root_id))){var a=_.getChildren(_.config.root_id);a[0]&&(u=a[0])}this.taskId=u,this.columnIndex=i||0,_.isTaskExists(this.taskId)&&(this.index=_.getTaskIndex(this.taskId),this.globalIndex=_.getGlobalTaskIndex(this.taskId))},_.$keyboardNavigation.TaskCell.prototype=_._compose(_.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return _.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!_.getGridColumns()[this.columnIndex]},fallback:function(){var u=_.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=u;if(u instanceof _.$keyboardNavigation.TaskRow){for(var a=_.getGridColumns(),e=this.columnIndex;e>=0&&!a[e];)e--;a[e]&&(i=new _.$keyboardNavigation.TaskCell(u.taskId,e))}return i},fromDomElement:function(u){if(!_.config.keyboard_navigation_cells)return null;var i=_.locate(u);if(_.isTaskExists(i)){var a=0,e=l.locateAttribute(u,"data-column-index");return e&&(a=1*e.getAttribute("data-column-index")),new _.$keyboardNavigation.TaskCell(i,a)}return null},getNode:function(){if(_.isTaskExists(this.taskId)&&_.isTaskVisible(this.taskId)){if(_.config.show_grid){var u=_.$grid.querySelector(".gantt_row["+_.config.task_attribute+"='"+this.taskId+"']");return u?u.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return _.getTaskNode(this.taskId)}},keys:{up:function(){var u,i=_.getPrev(this.taskId);u=_.isTaskExists(i)?new _.$keyboardNavigation.TaskCell(i,this.columnIndex):new _.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(u)},down:function(){var u=_.getNext(this.taskId);_.isTaskExists(u)&&this.moveTo(new _.$keyboardNavigation.TaskCell(u,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var u=_.getGridColumns();this.columnIndex<u.length-1&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var u=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,u.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(_.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(0).id,this.columnIndex))}}}),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskRow.prototype.keys),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskCell.prototype.keys)}},function($,C){$.exports=function(f){f.$keyboardNavigation.TaskRow=function(_){if(!_){var l=f.getChildren(f.config.root_id);l[0]&&(_=l[0])}this.taskId=_,f.isTaskExists(this.taskId)&&(this.index=f.getTaskIndex(this.taskId),this.globalIndex=f.getGlobalTaskIndex(this.taskId))},f.$keyboardNavigation.TaskRow.prototype=f._compose(f.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return f.isTaskExists(this.taskId)&&f.getTaskIndex(this.taskId)>-1},fallback:function(){if(!f.getVisibleTaskCount()){var _=new f.$keyboardNavigation.HeaderCell;return _.isValid()?_:null}var l=-1;if(f.getTaskByIndex(this.globalIndex-1))l=this.globalIndex-1;else if(f.getTaskByIndex(this.globalIndex+1))l=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(f.getTaskByIndex(s)){l=s;break}s--}if(l>-1)return new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(l).id)},fromDomElement:function(_){if(f.config.keyboard_navigation_cells)return null;var l=f.locate(_);return f.isTaskExists(l)?new f.$keyboardNavigation.TaskRow(l):null},getNode:function(){if(f.isTaskExists(this.taskId)&&f.isTaskVisible(this.taskId))return f.config.show_grid?f.$grid.querySelector(".gantt_row["+f.config.task_attribute+"='"+this.taskId+"']"):f.getTaskNode(this.taskId)},focus:function(_){if(!_){var l,u=f.getTaskPosition(f.getTask(this.taskId)),i=f.getTaskHeight(this.taskId),a=f.getScrollState();l=f.$task?f.$task.offsetWidth:a.inner_width,u.top<a.y||u.top+i>a.y+(f.$grid_data||f.$task_data?(f.$grid_data||f.$task_data).offsetHeight:a.inner_height)?f.scrollTo(null,u.top-5*i):f.config.scroll_on_click&&f.config.show_chart&&(u.left>a.x+l?f.scrollTo(u.left-f.config.task_scroll_offset):u.left+u.width<a.x&&f.scrollTo(u.left+u.width-f.config.task_scroll_offset))}f.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[_]),function(){var e=f.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),r=e.$config.scrollX;if(r&&e.$config.scrollable){var o=f.$ui.getView(r);o&&o.scrollTo(t,n)}var c=e.$config.scrollY;if(c){var d=f.$ui.getView(c);d&&d.scrollTo(t,n)}}()},keys:{pagedown:function(){f.getVisibleTaskCount()&&this.moveTo(new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(f.getVisibleTaskCount()-1).id))},pageup:function(){f.getVisibleTaskCount()&&this.moveTo(new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(0).id))},up:function(){var _,l=f.getPrev(this.taskId);_=f.isTaskExists(l)?new f.$keyboardNavigation.TaskRow(l):new f.$keyboardNavigation.HeaderCell,this.moveTo(_)},down:function(){var _=f.getNext(this.taskId);f.isTaskExists(_)&&this.moveTo(new f.$keyboardNavigation.TaskRow(_))},"shift+down":function(){f.hasChild(this.taskId)&&!f.getTask(this.taskId).$open&&f.open(this.taskId)},"shift+up":function(){f.hasChild(this.taskId)&&f.getTask(this.taskId).$open&&f.close(this.taskId)},"shift+right":function(){if(!f.isReadonly(this)){var _=f.getPrevSibling(this.taskId);f.isTaskExists(_)&&!f.isChildOf(this.taskId,_)&&(f.getTask(_).$open=!0,!1!==f.moveTask(this.taskId,-1,_)&&f.updateTask(this.taskId))}},"shift+left":function(){if(!f.isReadonly(this)){var _=f.getParent(this.taskId);f.isTaskExists(_)&&!1!==f.moveTask(this.taskId,f.getTaskIndex(_)+1,f.getParent(_))&&f.updateTask(this.taskId)}},space:function(_){f.isSelectedTask(this.taskId)?f.unselectTask(this.taskId):f.selectTask(this.taskId)},"ctrl+left":function(_){f.close(this.taskId)},"ctrl+right":function(_){f.open(this.taskId)},delete:function(_){f.isReadonly(this)||f.$click.buttons.delete(this.taskId)},enter:function(){f.isReadonly(this)||f.showLightbox(this.taskId)},"ctrl+enter":function(){f.isReadonly(this)||f.createTask({},this.taskId)}}}),f.$keyboardNavigation.TaskRow.prototype.bindAll(f.$keyboardNavigation.TaskRow.prototype.keys)}},function($,C,f){$.exports=function(_){var l=f(1);_.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},_.$keyboardNavigation.HeaderCell.prototype=_._compose(_.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!_.config.show_grid&&_.getVisibleTaskCount()||!_.getGridColumns()[this.index]&&_.getVisibleTaskCount())},fallback:function(){if(!_.config.show_grid)return _.getVisibleTaskCount()?new _.$keyboardNavigation.TaskRow:null;for(var s=_.getGridColumns(),u=this.index;u>=0&&!s[u];)u--;return s[u]?new _.$keyboardNavigation.HeaderCell(u):null},fromDomElement:function(s){var u=l.locateClassName(s,"gantt_grid_head_cell");if(u){for(var i=0;u&&u.previousSibling;)u=u.previousSibling,i+=1;return new _.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return _.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=_.getGridColumns();this.index<s.length-1&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,u=_.getChildren(_.config.root_id);_.isTaskExists(u[0])&&(s=u[0]),s&&this.moveTo(_.config.keyboard_navigation_cells?new _.$keyboardNavigation.TaskCell(s,this.index):new _.$keyboardNavigation.TaskRow(s))},end:function(){var s=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){l.getActiveElement().click()},"ctrl+enter":function(){_.isReadonly(this)||_.createTask({},this.taskId)}}}),_.$keyboardNavigation.HeaderCell.prototype.bindAll(_.$keyboardNavigation.HeaderCell.prototype.keys)}},function($,C){$.exports=function(f){f.$keyboardNavigation.KeyNavNode=function(){},f.$keyboardNavigation.KeyNavNode.prototype=f._compose(f.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(_){f.$keyboardNavigation.dispatcher.setActiveNode(_)},compareTo:function(_){if(!_)return!1;for(var l in this){if(!!this[l]!=!!_[l])return!1;var s=!(!this[l]||!this[l].toString),u=!(!_[l]||!_[l].toString);if(u!=s)return!1;if(u&&s){if(_[l].toString()!=this[l].toString())return!1}else if(_[l]!=this[l])return!1}return!0},getNode:function(){},focus:function(){var _=this.getNode();if(_){var l=f.$keyboardNavigation.facade;!1!==l.callEvent("onBeforeFocus",[_])&&_&&(_.setAttribute("tabindex","-1"),_.$eventAttached||(_.$eventAttached=!0,f.event(_,"focus",function(s){return s.preventDefault(),!1},!1)),f.utils.dom.isChildOf(document.activeElement,_)&&(_=document.activeElement),_.focus&&_.focus(),l.callEvent("onFocus",[this.getNode()]))}},blur:function(){var _=this.getNode();_&&(f.$keyboardNavigation.facade.callEvent("onBlur",[_]),_.setAttribute("tabindex","-1"))}})}},function($,C){$.exports=function(f){f.$keyboardNavigation.GanttNode=function(){},f.$keyboardNavigation.GanttNode.prototype=f._compose(f.$keyboardNavigation.EventHandler,{focus:function(){f.focus()},blur:function(){},isEnabled:function(){return f.$container.hasAttribute("tabindex")},scrollHorizontal:function(_){var l=f.dateFromPos(f.getScrollState().x),s=f.getScale();l=f.date.add(l,_<0?-s.step:s.step,s.unit),f.scrollTo(f.posFromDate(l))},scrollVertical:function(_){var l=f.getScrollState().y;f.scrollTo(null,l+(_<0?-1:1)*f.config.row_height)},keys:{"alt+left":function(_){this.scrollHorizontal(-1)},"alt+right":function(_){this.scrollHorizontal(1)},"alt+up":function(_){this.scrollVertical(-1)},"alt+down":function(_){this.scrollVertical(1)},"ctrl+z":function(){f.undo&&f.undo()},"ctrl+r":function(){f.redo&&f.redo()}}}),f.$keyboardNavigation.GanttNode.prototype.bindAll(f.$keyboardNavigation.GanttNode.prototype.keys)}},function($,C,f){$.exports=function(_){var l;l=f(1),_.$keyboardNavigation.getFocusableNodes=l.getFocusableNodes,_.$keyboardNavigation.trapFocus=function(s,u){if(9!=u.keyCode)return!1;for(var i=_.$keyboardNavigation.getFocusableNodes(s),a=l.getActiveElement(),e=-1,t=0;t<i.length;t++)if(i[t]==a){e=t;break}if(u.shiftKey){if(e<=0){var n=i[i.length-1];if(n)return n.focus(),u.preventDefault(),!0}}else if(e>=i.length-1){var r=i[0];if(r)return r.focus(),u.preventDefault(),!0}return!1}}},function($,C){$.exports=function(f){f.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(_){this._handlers||(this._handlers={});var l=f.$keyboardNavigation.shortcuts.getHash(_);return this._handlers[l]},doAction:function(_,l){var s=this.findHandler(_);if(s){if(!1===f.$keyboardNavigation.facade.callEvent("onBeforeAction",[_,l]))return;s.call(this,l),l.preventDefault?l.preventDefault():l.returnValue=!1}},bind:function(_,l){this._handlers||(this._handlers={});for(var s=f.$keyboardNavigation.shortcuts,u=s.parse(_),i=0;i<u.length;i++)this._handlers[s.getHash(u[i])]=l},unbind:function(_){for(var l=f.$keyboardNavigation.shortcuts,s=l.parse(_),u=0;u<s.length;u++)this._handlers[l.getHash(s[u])]&&delete this._handlers[l.getHash(s[u])]},bindAll:function(_){for(var l in _)this.bind(l,_[l])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function($,C){$.exports=function(f){f.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(_){for(var l=[],s=this.getExpressions(this.trim(_)),u=0;u<s.length;u++){for(var i=this.getWords(s[u]),a=this.createCommand(),e=0;e<i.length;e++)this.commandKeys[i[e]]?a.modifiers[i[e]]=!0:a.keyCode=this.specialKeys[i[e]]?this.specialKeys[i[e]]:i[e].charCodeAt(0);l.push(a)}return l},getCommandFromEvent:function(_){var l=this.createCommand();l.modifiers.shift=!!_.shiftKey,l.modifiers.alt=!!_.altKey,l.modifiers.ctrl=!!_.ctrlKey,l.modifiers.meta=!!_.metaKey,l.keyCode=_.which||_.keyCode,l.keyCode>=96&&l.keyCode<=105&&(l.keyCode-=48);var s=String.fromCharCode(l.keyCode);return s&&(l.keyCode=s.toLowerCase().charCodeAt(0)),l},getHashFromEvent:function(_){return this.getHash(this.getCommandFromEvent(_))},getHash:function(_){var l=[];for(var s in _.modifiers)_.modifiers[s]&&l.push(s);return l.push(_.keyCode),l.join(this.junctionChar)},getExpressions:function(_){return _.split(this.junctionChar)},getWords:function(_){return _.split(this.combinationChar)},trim:function(_){return _.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function($,C,f){$.exports=function(_){var l=f(5);!function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),a={},e=0;e<i.length;e++){var t=i[e];for(var n in"function"==typeof t&&(t=new t),t)a[n]=t[n]}return a},f(285)(s),f(284)(s),f(283)(s),f(282)(s),f(281)(s),f(280)(s),f(279)(s),f(278)(s),f(277)(s),f(276)(s);var u=f(1);!function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(m){var k=i.activeNode;return(k instanceof s.$keyboardNavigation.TaskRow||k instanceof s.$keyboardNavigation.TaskCell)&&k.taskId==m};var a=function(m){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!n(m))&&!r(m)&&!u.closest(m.target,".gantt_cal_light"))return i.keyDownHandler(m)},e=function(m){if(i.$preventDefault)return m.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var m=!u.isChildOf(document.activeElement,s.$container)&&"body"!=document.activeElement.localName,k=i.getActiveNode();if(k&&!m){var b,S,w=k.getNode();w&&w.parentNode&&(b=w.parentNode.scrollTop,S=w.parentNode.scrollLeft),k.focus(!0),w&&w.parentNode&&(w.parentNode.scrollTop=b,w.parentNode.scrollLeft=S)}}};function n(m){return!!u.closest(m.target,".gantt_grid_editor_placeholder")}function r(m){return!!u.closest(m.target,".no_keyboard_navigation")}function o(m){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&n(m))return!0;if(!r(m)){var k,b=i.fromDomElement(m);b&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&u.isChildOf(m.target,s.$task)&&(b=new s.$keyboardNavigation.TaskCell(b.taskId,i.activeNode.columnIndex)),k=b),k?i.isEnabled()?i.delay(function(){i.setActiveNode(k)}):i.activeNode=k:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",a),s.eventRemove(s.$container,"focus",e),s.eventRemove(s.$container,"mousedown",o),s.config.keyboard_navigation?(s.event(s.$root,"keydown",a),s.event(s.$container,"focus",e),s.event(s.$container,"mousedown",o),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var c=s.attachEvent("onGanttReady",function(){if(s.detachEvent(c),s.$data.tasksStore.attachEvent("onStoreUpdated",function(k){if(s.config.keyboard_navigation&&i.isEnabled()){var b=i.getActiveNode();b&&b.taskId==k&&t()}}),s._smart_render){var m=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(k,b){if(s.config.keyboard_navigation&&i.isEnabled()){var S=i.getActiveNode();if(S&&void 0!==S.taskId){for(var w=!1,x=0;x<b.length;x++)if(b[x].id==S.taskId&&b[x].start_date){w=!0;break}w||b.push(s.getTask(S.taskId))}}return m.apply(this,arguments)}}}),d=null,h=!1;s.attachEvent("onTaskCreated",function(m){return d=m.id,!0}),s.attachEvent("onAfterTaskAdd",function(m,k){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(m==d&&(h=!0,setTimeout(function(){h=!1,d=null})),h&&k.type==s.config.types.placeholder)return;var b=0,S=i.activeNode;S instanceof s.$keyboardNavigation.TaskCell&&(b=S.columnIndex),k.type==s.config.types.placeholder&&!1===s.config.placeholder_task.focusOnCreate||i.setActiveNode(new(s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow)(m,b))}}),s.attachEvent("onTaskIdChange",function(m,k){if(!s.config.keyboard_navigation)return!0;var b=i.activeNode;return i.isTaskFocused(m)&&(b.taskId=k),!0});var g=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(m){var k={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return k[m]||k.gantt}function y(m){for(var k=s.getGridColumns(),b=0;b<k.length;b++)if(k[b].name==m)return b;return 0}s.attachEvent("onDestroy",function(){clearInterval(g)});var v={};l(v),s.mixin(v,{addShortcut:function(m,k,b){var S=p(b);S&&S.prototype.bind(m,k)},getShortcutHandler:function(m,k){var b=s.$keyboardNavigation.shortcuts.parse(m);if(b.length)return v.getCommandHandler(b[0],k)},getCommandHandler:function(m,k){var b=p(k);if(b&&m)return b.prototype.findHandler(m)},removeShortcut:function(m,k){var b=p(k);b&&b.prototype.unbind(m)},focus:function(m){var k,b=m?m.type:null,S=p(b);switch(b){case"taskCell":k=new S(m.id,y(m.column));break;case"taskRow":k=new S(m.id);break;case"headerCell":k=new S(y(m.column))}i.delay(function(){k?i.setActiveNode(k):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var m=i.getActiveNode(),k=(S=m)instanceof s.$keyboardNavigation.GanttNode?"gantt":S instanceof s.$keyboardNavigation.HeaderCell?"headerCell":S instanceof s.$keyboardNavigation.TaskRow?"taskRow":S instanceof s.$keyboardNavigation.TaskCell?"taskCell":null,b=s.getGridColumns();switch(k){case"taskCell":return{type:"taskCell",id:m.taskId,column:b[m.columnIndex].name};case"taskRow":return{type:"taskRow",id:m.taskId};case"headerCell":return{type:"headerCell",column:b[m.index].name}}}var S;return null}}),s.$keyboardNavigation.facade=v,s.ext.keyboardNavigation=v,s.focus=function(){v.focus()},s.addShortcut=v.addShortcut,s.getShortcutHandler=v.getShortcutHandler,s.removeShortcut=v.removeShortcut}()}(_)}},function($,C,f){function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(l)}$.exports=function(l){var s=f(2);function u(r,o,c){if(!r||Array.isArray(c)&&!c[0])return 0;if(r&&!Array.isArray(c)){var d=[];return r.map(function(m){d.push({resource_id:m,value:8})}),d}if(c[0].resource_id||(c=[{resource_id:c,value:8}]),"string"==typeof r&&(r=r.split(",")),1==r.length)return c[0].resource_id=r[0],[c[0]];for(var h=[],g=0;g<r.length;g++){var p=r[g],y=c.map(function(m){return m.resource_id}).indexOf(p);if(y>-1)c[y].resource_id=p,h.push(c[y]);else{var v=l.copy(c[0]);v.resource_id=p,h.push(v)}}return h}function i(r,o,c){return r}function a(r){return r.map(e).sort().join(",")}function e(r){return r&&"object"==_(r)?String(r.resource_id):String(r)}function t(r,o){return r[o]instanceof Array?r[o].length?a(r[o]):0:r[o]}function n(){var r=this;this.$data.tasksStore._listenerToDrop&&this.$data.tasksStore.detachEvent(this.$data.tasksStore._listenerToDrop);var o=s.delay(function(){if(!r._groups.dynamicGroups)return!0;if(r._groups.regroup){var c=l.getScrollState();r._groups.regroup(),c&&l.scrollTo(c.x,c.y)}return!0});this.$data.tasksStore.attachEvent("onAfterUpdate",function(){return o.$pending||o(),!0})}l._groups={relation_property:null,relation_id_property:"$group_id",group_id:null,group_text:null,loading:!1,loaded:0,dynamicGroups:!1,set_relation_value:void 0,_searchCache:null,init:function(r){var o=this;r.attachEvent("onClear",function(){o.clear()}),o.clear();var c=r.$data.tasksStore.getParent;this._searchCache=null,r.attachEvent("onBeforeTaskMove",function(h,g,p){var y=g===this.config.root_id,v=this._groups.dynamicGroups&&!(this._groups.set_relation_value instanceof Function);if(o.is_active()&&(y||v))return!1;var m=r.getTask(h);if(this._groups.save_tree_structure&&r.isTaskExists(m.parent)&&r.isTaskExists(g)){var k=r.getTask(m.parent),b=r.getTask(g);b.$virtual&&r.isChildOf(k.id,b.id)&&(m.parent=r.config.root_id);for(var S=!1,w=b;w;)h==w.parent&&(S=!0),w=r.isTaskExists(w.parent)?r.getTask(w.parent):null;if(S)return!1}return!0}),r.attachEvent("onRowDragStart",function(h,g){var p=r.getTask(h);return this._groups.save_tree_structure&&r.isTaskExists(p.parent)&&r.config.order_branch&&"marker"!=r.config.order_branch&&(p.$initial_parent=p.parent),!0}),r.attachEvent("onRowDragEnd",function(h,g){if(r.config.order_branch&&"marker"!=r.config.order_branch){var p=r.getTask(h);if(p.$initial_parent){if(p.parent==r.config.root_id){var y=r.getTask(p.$rendered_parent),v=r.getTask(p.$initial_parent),m=!1;this._groups.dynamicGroups&&y[this._groups.group_id]!=v[this._groups.group_id]&&(m=!0),this._groups.dynamicGroups||y[this._groups.group_id]==v[this._groups.relation_property]||(m=!0),m&&(p.parent=p.$initial_parent)}delete p.$initial_parent}}}),r.$data.tasksStore._listenerToDrop=r.$data.tasksStore.attachEvent("onStoreUpdated",r.bind(n,r)),r.$data.tasksStore.getParent=function(h){return o.is_active()?o.get_parent(r,h):c.apply(this,arguments)};var d=r.$data.tasksStore.setParent;r.$data.tasksStore.setParent=function(h,g){if(!o.is_active())return d.apply(this,arguments);if(o.set_relation_value instanceof Function&&r.isTaskExists(g)){var p=(m=r.getTask(g))[o.relation_id_property];if(!m.$virtual){var y=t(m,o.relation_property);o._searchCache||o._buildCache(),p=r.getTask(o._searchCache[y])[o.relation_id_property]}void 0===h[o.group_id]&&(h[o.group_id]=p),o.save_tree_structure&&h[o.group_id]!=p&&(h[o.group_id]=p),p&&(p="string"==typeof p?p.split(","):[p]),h[o.relation_property]=o.set_relation_value(p,h.id,h[o.relation_property])||p}else if(r.isTaskExists(g)){var m=r.getTask(g);o.dynamicGroups||(h[o.relation_property]=m.$virtual?m[o.relation_id_property]:m[o.relation_property]),this._setParentInner.apply(this,arguments)}else o.dynamicGroups&&(void 0===h[o.group_id]||!h.$virtual&&h[o.relation_property][0]===[][0])&&(h[o.relation_property]=0);return r.isTaskExists(g)&&(h.$rendered_parent=g,!r.getTask(g).$virtual)?d.apply(this,arguments)||g:void 0},r.attachEvent("onBeforeTaskDisplay",function(h,g){return!(o.is_active()&&g.type==r.config.types.project&&!g.$virtual)}),r.attachEvent("onBeforeParse",function(){o.loading=!0,o._clearCache()}),r.attachEvent("onTaskLoading",function(){return o.is_active()&&(o.loaded--,o.loaded<=0&&(o.loading=!1,o._clearCache(),r.eachTask(r.bind(function(h){this.get_parent(r,h)},o)))),!0}),r.attachEvent("onParse",function(){o.loading=!1,o.loaded=0})},_clearCache:function(){this._searchCache=null},_buildCache:function(){this._searchCache={};for(var r=l.$data.tasksStore.getItems(),o=0;o<r.length;o++)this._searchCache[r[o][this.relation_id_property]]=r[o].id},get_parent:function(r,o,c){void 0===o.id&&(o=r.getTask(o));var d=t(o,this.relation_property);if(this.save_tree_structure&&r.isTaskExists(o.parent)){var h=r.getTask(o.parent),g=t(h,this.relation_property);if("project"!=h.type&&d==g)return o.parent}if(this._groups_pull[d]===o.id)return r.config.root_id;if(void 0!==this._groups_pull[d])return this._groups_pull[d];var p=r.config.root_id;if(!this.loading&&void 0!==d){this._searchCache||this._buildCache();var y=this._searchCache[d];r.isTaskExists(y)&&y!=o.id&&(p=this._searchCache[d]),this._groups_pull[d]=p}return p},clear:function(){this._groups_pull={},this.relation_property=null,this.group_id=null,this.group_text=null,this._clearCache()},is_active:function(){return!!this.relation_property},generate_sections:function(r,o){for(var c=[],d=0;d<r.length;d++){var h=l.copy(r[d]);h.type=o,void 0===h.open&&(h.open=!0),h.$virtual=!0,h.readonly=!0,h[this.relation_id_property]=h[this.group_id],h.text=h[this.group_text],c.push(h)}return c},clear_temp_tasks:function(r){for(var o=0;o<r.length;o++)r[o].$virtual&&(r.splice(o,1),o--)},generate_data:function(r,o){var c=r.getLinks(),d=r.getTaskByTime();this.clear_temp_tasks(d),d.forEach(function(p){p.$calculate_duration=!1});var h=[];this.is_active()&&o&&o.length&&(h=this.generate_sections(o,r.config.types.project));var g={links:c};return g.data=h.concat(d),g},update_settings:function(r,o,c){this.clear(),this.relation_property=r,this.group_id=o,this.group_text=c},group_tasks:function(r,o,c,d,h){this.update_settings(c,d,h);var g=this.generate_data(r,o);this.loaded=g.data.length;var p=[];r.eachTask(function(v){r.isSelectedTask(v.id)&&p.push(v.id)}),r._clear_data();var y=r.config.auto_scheduling_initial;r.config.auto_scheduling_initial=!1,r.parse(g),p.forEach(function(v){r.isTaskExists(v)&&r.selectTask(v)}),r.config.auto_scheduling_initial=y}},l._groups.init(l),l.groupBy=function(r){var o=this,c=l.getTaskByTime();this._groups.set_relation_value=r.set_relation_value,this._groups.dynamicGroups=!1,this._groups.save_tree_structure=r.save_tree_structure;var y,d=function(y,v){for(var m=!1,k=!1,b=0;b<y.length;b++){var S=y[b][v];if(Array.isArray(S)&&(k=!0,S.length&&void 0!==S[0].resource_id)){m=!0;break}}return{haveArrays:k,haveResourceAssignments:m}}(c,r.relation_property);d.haveArrays&&(this._groups.dynamicGroups=!0),this._groups.set_relation_value||(this._groups.set_relation_value=(y=d).haveResourceAssignments?u:y.haveArrays?i:null),(r=r||{}).default_group_label=r.default_group_label||this.locale.labels.default_group||"None";var h=r.relation_property||null,g=r.group_id||"key",p=r.group_text||"label";this._groups.regroup=function(){var y=l.getTaskByTime(),v={},m=!1;y.forEach(function(b){b.$virtual&&void 0!==b.$open&&(v[b[g]]=b.$open,m=!0)});var b,k=(b=r).groups?l._groups.dynamicGroups?function(T,E){var I={},L=[],N={},z=E.relation_property,U=E.delimiter||",",W=!1,Y=0;s.forEach(E.groups,function(tt){tt.default&&(W=!0,Y=tt.group_id),N[tt.key||tt[E.group_id]]=tt});for(var O=0;O<T.length;O++){var H,X,K=T[O][z];if(s.isArray(K))if(K.length>0)H=a(K),X=K.map(function(tt,V){var st;return st=tt&&"object"==_(tt)?tt.resource_id:tt,(tt=N[st]).label||tt.text}).sort().join(U);else{if(W)continue;H=0,X=E.default_group_label}else if(K)X=N[H=K].label||N[H].text;else{if(W)continue;H=0,X=E.default_group_label}void 0!==H&&void 0===I[H]&&(I[H]={key:H,label:X},H===Y&&(I[H].default=!0),I[H][E.group_text]=X,I[H][E.group_id]=H)}return(L=s.hashToArray(I)).forEach(function(tt){tt.key==Y&&(tt.default=!0)}),L}(y,b):b.groups:null;return k&&m&&k.forEach(function(b){void 0!==v[b[g]]&&(b.open=v[b[g]])}),o._groups.group_tasks(o,k,h,g,p),!0},this._groups.regroup()},l.$services.getService("state").registerProvider("groupBy",function(){return{group_mode:l._groups.is_active()?l._groups.relation_property:null}})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(_){function l(){var o=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!o||o!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(o){console.error("Fullscreen is not available:",o)}}_.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:l()}:void 0});var u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},a=null;function e(o,c){c.width=o.width,c.height=o.height,c.top=o.top,c.left=o.left,c.position=o.position,c.zIndex=o.zIndex}var t=!1;function n(){var o,c,d;_.$container&&(l()?t&&(o="onExpand",c=_.ext.fullscreen.getFullscreenElement(),d=document.body,e(c.style,i),u={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",c.style.width="100vw",c.style.height="100vh",c.style.top="0px",c.style.left="0px",c.style.position="absolute",c.style.zIndex=1,i.modified=!0,a=function(h){for(var g=h.parentNode,p=[];g&&g.style;)p.push({element:g,originalPositioning:g.style.position}),g.style.position="static",g=g.parentNode;return p}(c)):t&&(t=!1,o="onCollapse",function(){var c=_.ext.fullscreen.getFullscreenElement(),d=document.body;i.modified&&(u.padding&&(d.style.padding=u.padding),u.paddingTop&&(d.style.paddingTop=u.paddingTop),u.paddingRight&&(d.style.paddingRight=u.paddingRight),u.paddingBottom&&(d.style.paddingBottom=u.paddingBottom),u.paddingLeft&&(d.style.paddingLeft=u.paddingLeft),d.style.overflow=u.overflow,u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(i,c.style),i.modified=!1),a.forEach(function(g){g.element.style.position=g.originalPositioning}),a=null}()),setTimeout(function(){_.render()}),setTimeout(function(){_.callEvent(o,[_.ext.fullscreen.getFullscreenElement()])}))}function r(){return!_.$container||!_.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}_.ext.fullscreen={expand:function(){if(!r()&&!l()&&_.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var o=document.body,c=o.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=o.msRequestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullscreen||o.requestFullscreen;d&&d.apply(o,c)}},collapse:function(){if(!r()&&l()&&_.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var o=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;o&&o.apply(document)}},toggle:function(){r()||(l()?this.collapse():this.expand())},getFullscreenElement:function(){return _.$root}},_.expand=function(){_.ext.fullscreen.expand()},_.collapse=function(){_.ext.fullscreen.collapse()},_.attachEvent("onGanttReady",function(){_.event(document,"webkitfullscreenchange",n),_.event(document,"mozfullscreenchange",n),_.event(document,"MSFullscreenChange",n),_.event(document,"fullscreenChange",n),_.event(document,"fullscreenchange",n)})}},function($,C,f){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var l=function(a){switch(_(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};$.exports=function(a,e,t,n){return e=e||"&",t=t||"=",null===a&&(a=void 0),"object"===_(a)?u(i(a),function(r){var o=encodeURIComponent(l(r))+t;return s(a[r])?u(a[r],function(c){return o+encodeURIComponent(l(c))}).join(e):o+encodeURIComponent(l(a[r]))}).join(e):n?encodeURIComponent(l(n))+t+encodeURIComponent(l(a)):""};var s=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function u(a,e){if(a.map)return a.map(e);for(var t=[],n=0;n<a.length;n++)t.push(e(a[n],n));return t}var i=Object.keys||function(a){var e=[];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&e.push(t);return e}},function($,C,f){"use strict";function _(s,u){return Object.prototype.hasOwnProperty.call(s,u)}$.exports=function(s,u,i,a){i=i||"=";var e={};if("string"!=typeof s||0===s.length)return e;var t=/\+/g;s=s.split(u=u||"&");var n=1e3;a&&"number"==typeof a.maxKeys&&(n=a.maxKeys);var r=s.length;n>0&&r>n&&(r=n);for(var o=0;o<r;++o){var c,d,h,g,p=s[o].replace(t,"%20"),y=p.indexOf(i);y>=0?(c=p.substr(0,y),d=p.substr(y+1)):(c=p,d=""),h=decodeURIComponent(c),g=decodeURIComponent(d),_(e,h)?l(e[h])?e[h].push(g):e[h]=[e[h],g]:e[h]=g}return e};var l=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)}},function($,C,f){"use strict";C.decode=C.parse=f(290),C.encode=C.stringify=f(289)},function($,C,f){"use strict";function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(l)}$.exports={isString:function(l){return"string"==typeof l},isObject:function(l){return"object"===_(l)&&null!==l},isNull:function(l){return null===l},isNullOrUndefined:function(l){return null==l}}},function($,C){$.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function($,C,f){(function(_,l){var s;function u(i){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}!function(i){var a="object"==u(C)&&C&&!C.nodeType&&C,e="object"==u(_)&&_&&!_.nodeType&&_,t="object"==(void 0===l?"undefined":u(l))&&l;t.global!==t&&t.window!==t&&t.self!==t||(i=t);var n,r,o=2147483647,c=36,h=26,g=38,p=700,k=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-1,T=Math.floor,E=String.fromCharCode;function I(Z){throw new RangeError(w[Z])}function L(Z,K){for(var tt=Z.length,V=[];tt--;)V[tt]=K(Z[tt]);return V}function N(Z,K){var tt=Z.split("@"),V="";return tt.length>1&&(V=tt[0]+"@",Z=tt[1]),V+L((Z=Z.replace(S,".")).split("."),K).join(".")}function z(Z){for(var K,tt,V=[],st=0,D=Z.length;st<D;)(K=Z.charCodeAt(st++))>=55296&&K<=56319&&st<D?56320==(64512&(tt=Z.charCodeAt(st++)))?V.push(((1023&K)<<10)+(1023&tt)+65536):(V.push(K),st--):V.push(K);return V}function U(Z){return L(Z,function(K){var tt="";return K>65535&&(tt+=E((K-=65536)>>>10&1023|55296),K=56320|1023&K),tt+E(K)}).join("")}function W(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:c}function Y(Z,K){return Z+22+75*(Z<26)-((0!=K)<<5)}function O(Z,K,tt){var V=0;for(Z=tt?T(Z/p):Z>>1,Z+=T(Z/K);Z>x*h>>1;V+=c)Z=T(Z/x);return T(V+(x+1)*Z/(Z+g))}function H(Z){var K,tt,V,st,D,M,P,F,B,q,nt=[],at=Z.length,ct=0,gt=128,et=72;for((tt=Z.lastIndexOf("-"))<0&&(tt=0),V=0;V<tt;++V)Z.charCodeAt(V)>=128&&I("not-basic"),nt.push(Z.charCodeAt(V));for(st=tt>0?tt+1:0;st<at;){for(D=ct,M=1,P=c;st>=at&&I("invalid-input"),((F=W(Z.charCodeAt(st++)))>=c||F>T((o-ct)/M))&&I("overflow"),ct+=F*M,!(F<(B=P<=et?1:P>=et+h?h:P-et));P+=c)M>T(o/(q=c-B))&&I("overflow"),M*=q;et=O(ct-D,K=nt.length+1,0==D),T(ct/K)>o-gt&&I("overflow"),gt+=T(ct/K),ct%=K,nt.splice(ct++,0,gt)}return U(nt)}function X(Z){var K,tt,V,st,D,M,P,F,B,q,nt,at,ct,gt,et,ht=[];for(at=(Z=z(Z)).length,K=128,tt=0,D=72,M=0;M<at;++M)(nt=Z[M])<128&&ht.push(E(nt));for(V=st=ht.length,st&&ht.push("-");V<at;){for(P=o,M=0;M<at;++M)(nt=Z[M])>=K&&nt<P&&(P=nt);for(P-K>T((o-tt)/(ct=V+1))&&I("overflow"),tt+=(P-K)*ct,K=P,M=0;M<at;++M)if((nt=Z[M])<K&&++tt>o&&I("overflow"),nt==K){for(F=tt,B=c;!(F<(q=B<=D?1:B>=D+h?h:B-D));B+=c)ht.push(E(Y(q+(et=F-q)%(gt=c-q),0))),F=T(et/gt);ht.push(E(Y(F,0))),D=O(tt,ct,V==st),tt=0,++V}++tt,++K}return ht.join("")}if(n={version:"1.4.1",ucs2:{decode:z,encode:U},decode:H,encode:X,toASCII:function(Z){return N(Z,function(K){return b.test(K)?"xn--"+X(K):K})},toUnicode:function(Z){return N(Z,function(K){return k.test(K)?H(K.slice(4).toLowerCase()):K})}},"object"==u(f(59))&&f(59))void 0===(s=function(){return n}.call(C,f,C,_))||(_.exports=s);else if(a&&e)if(_.exports==a)e.exports=n;else for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);else i.punycode=n}(this)}).call(this,f(293)($),f(4))},function($,C,f){"use strict";function _(m){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(m)}var l=f(294),s=f(292);function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}C.parse=v,C.resolve=function(m,k){return v(m,!1,!0).resolve(k)},C.resolveObject=function(m,k){return m?v(m,!1,!0).resolveObject(k):k},C.format=function(m){return s.isString(m)&&(m=v(m)),m instanceof u?m.format():u.prototype.format.call(m)},C.Url=u;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),n=["'"].concat(t),r=["%","/","?",";","#"].concat(n),o=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=f(291);function v(m,k,b){if(m&&s.isObject(m)&&m instanceof u)return m;var S=new u;return S.parse(m,k,b),S}u.prototype.parse=function(m,k,b){if(!s.isString(m))throw new TypeError("Parameter 'url' must be a string, not "+_(m));var S=m.indexOf("?"),w=-1!==S&&S<m.indexOf("#")?"?":"#",x=m.split(w);x[0]=x[0].replace(/\\/g,"/");var T=m=x.join(w);if(T=T.trim(),!b&&1===m.split("#").length){var E=e.exec(T);if(E)return this.path=T,this.href=T,this.pathname=E[1],E[2]?(this.search=E[2],this.query=k?y.parse(this.search.substr(1)):this.search.substr(1)):k&&(this.search="",this.query={}),this}var I=i.exec(T);if(I){var L=(I=I[0]).toLowerCase();this.protocol=L,T=T.substr(I.length)}if(b||I||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var N="//"===T.substr(0,2);!N||I&&g[I]||(T=T.substr(2),this.slashes=!0)}if(!g[I]&&(N||I&&!p[I])){for(var z,U,W=-1,Y=0;Y<o.length;Y++)-1!==(O=T.indexOf(o[Y]))&&(-1===W||O<W)&&(W=O);for(-1!==(U=-1===W?T.lastIndexOf("@"):T.lastIndexOf("@",W))&&(z=T.slice(0,U),T=T.slice(U+1),this.auth=decodeURIComponent(z)),W=-1,Y=0;Y<r.length;Y++){var O;-1!==(O=T.indexOf(r[Y]))&&(-1===W||O<W)&&(W=O)}-1===W&&(W=T.length),this.host=T.slice(0,W),T=T.slice(W),this.parseHost(),this.hostname=this.hostname||"";var H="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!H)for(var X=this.hostname.split(/\./),Z=(Y=0,X.length);Y<Z;Y++){var K=X[Y];if(K&&!K.match(c)){for(var tt="",V=0,st=K.length;V<st;V++)K.charCodeAt(V)>127?tt+="x":tt+=K[V];if(!tt.match(c)){var D=X.slice(0,Y),M=X.slice(Y+1),P=K.match(d);P&&(D.push(P[1]),M.unshift(P[2])),M.length&&(T="/"+M.join(".")+T),this.hostname=D.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),H||(this.hostname=l.toASCII(this.hostname));var F=this.port?":"+this.port:"";this.host=(this.hostname||"")+F,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==T[0]&&(T="/"+T))}if(!h[L])for(Y=0,Z=n.length;Y<Z;Y++){var q=n[Y];if(-1!==T.indexOf(q)){var nt=encodeURIComponent(q);nt===q&&(nt=escape(q)),T=T.split(q).join(nt)}}var at=T.indexOf("#");-1!==at&&(this.hash=T.substr(at),T=T.slice(0,at));var ct=T.indexOf("?");return-1!==ct?(this.search=T.substr(ct),this.query=T.substr(ct+1),k&&(this.query=y.parse(this.query)),T=T.slice(0,ct)):k&&(this.search="",this.query={}),T&&(this.pathname=T),p[L]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(F=this.pathname||"")+(this.search||"")),this.href=this.format(),this},u.prototype.format=function(){var m=this.auth||"";m&&(m=(m=encodeURIComponent(m)).replace(/%3A/i,":"),m+="@");var k=this.protocol||"",b=this.pathname||"",S=this.hash||"",w=!1,x="";this.host?w=m+this.host:this.hostname&&(w=m+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(w+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(x=y.stringify(this.query));var T=this.search||x&&"?"+x||"";return k&&":"!==k.substr(-1)&&(k+=":"),this.slashes||(!k||p[k])&&!1!==w?(w="//"+(w||""),b&&"/"!==b.charAt(0)&&(b="/"+b)):w||(w=""),S&&"#"!==S.charAt(0)&&(S="#"+S),T&&"?"!==T.charAt(0)&&(T="?"+T),k+w+(b=b.replace(/[?#]/g,function(E){return encodeURIComponent(E)}))+(T=T.replace("#","%23"))+S},u.prototype.resolve=function(m){return this.resolveObject(v(m,!1,!0)).format()},u.prototype.resolveObject=function(m){if(s.isString(m)){var k=new u;k.parse(m,!1,!0),m=k}for(var b=new u,S=Object.keys(this),w=0;w<S.length;w++){var x=S[w];b[x]=this[x]}if(b.hash=m.hash,""===m.href)return b.href=b.format(),b;if(m.slashes&&!m.protocol){for(var T=Object.keys(m),E=0;E<T.length;E++){var I=T[E];"protocol"!==I&&(b[I]=m[I])}return p[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(m.protocol&&m.protocol!==b.protocol){if(!p[m.protocol]){for(var L=Object.keys(m),N=0;N<L.length;N++){var z=L[N];b[z]=m[z]}return b.href=b.format(),b}if(b.protocol=m.protocol,m.host||g[m.protocol])b.pathname=m.pathname;else{for(var U=(m.pathname||"").split("/");U.length&&!(m.host=U.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),""!==U[0]&&U.unshift(""),U.length<2&&U.unshift(""),b.pathname=U.join("/")}return b.search=m.search,b.query=m.query,b.host=m.host||"",b.auth=m.auth,b.hostname=m.hostname||m.host,b.port=m.port,(b.pathname||b.search)&&(b.path=(b.pathname||"")+(b.search||"")),b.slashes=b.slashes||m.slashes,b.href=b.format(),b}var O=b.pathname&&"/"===b.pathname.charAt(0),H=m.host||m.pathname&&"/"===m.pathname.charAt(0),X=H||O||b.host&&m.pathname,Z=X,K=b.pathname&&b.pathname.split("/")||[],tt=(U=m.pathname&&m.pathname.split("/")||[],b.protocol&&!p[b.protocol]);if(tt&&(b.hostname="",b.port=null,b.host&&(""===K[0]?K[0]=b.host:K.unshift(b.host)),b.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(""===U[0]?U[0]=m.host:U.unshift(m.host)),m.host=null),X=X&&(""===U[0]||""===K[0])),H)b.host=m.host||""===m.host?m.host:b.host,b.hostname=m.hostname||""===m.hostname?m.hostname:b.hostname,b.search=m.search,b.query=m.query,K=U;else if(U.length)K||(K=[]),K.pop(),K=K.concat(U),b.search=m.search,b.query=m.query;else if(!s.isNullOrUndefined(m.search))return tt&&(b.hostname=b.host=K.shift(),(P=!!(b.host&&b.host.indexOf("@")>0)&&b.host.split("@"))&&(b.auth=P.shift(),b.host=b.hostname=P.shift())),b.search=m.search,b.query=m.query,s.isNull(b.pathname)&&s.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!K.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;for(var V=K.slice(-1)[0],st=(b.host||m.host||K.length>1)&&("."===V||".."===V)||""===V,D=0,M=K.length;M>=0;M--)"."===(V=K[M])?K.splice(M,1):".."===V?(K.splice(M,1),D++):D&&(K.splice(M,1),D--);if(!X&&!Z)for(;D--;D)K.unshift("..");!X||""===K[0]||K[0]&&"/"===K[0].charAt(0)||K.unshift(""),st&&"/"!==K.join("/").substr(-1)&&K.push("");var P,F=""===K[0]||K[0]&&"/"===K[0].charAt(0);return tt&&(b.hostname=b.host=F?"":K.length?K.shift():"",(P=!!(b.host&&b.host.indexOf("@")>0)&&b.host.split("@"))&&(b.auth=P.shift(),b.host=b.hostname=P.shift())),(X=X||b.host&&K.length)&&!F&&K.unshift(""),K.length?b.pathname=K.join("/"):(b.pathname=null,b.path=null),s.isNull(b.pathname)&&s.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=m.auth||b.auth,b.slashes=b.slashes||m.slashes,b.href=b.format(),b},u.prototype.parseHost=function(){var m=this.host,k=a.exec(m);k&&(":"!==(k=k[0])&&(this.port=k.substr(1)),m=m.substr(0,m.length-k.length)),m&&(this.hostname=m)}},function($,C){$.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function($,C){$.exports=function(){for(var _={},l=0;l<arguments.length;l++){var s=arguments[l];for(var u in s)f.call(s,u)&&(_[u]=s[u])}return _};var f=Object.prototype.hasOwnProperty},function($,C,f){var _=f(14).Buffer;$.exports=function(l){if(l instanceof Uint8Array){if(0===l.byteOffset&&l.byteLength===l.buffer.byteLength)return l.buffer;if("function"==typeof l.buffer.slice)return l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}if(_.isBuffer(l)){for(var s=new Uint8Array(l.length),u=l.length,i=0;i<u;i++)s[i]=l[i];return s.buffer}throw new Error("Argument must be a Buffer")}},function($,C,f){"use strict";$.exports=s;var _=f(60),l=f(18);function s(u){if(!(this instanceof s))return new s(u);_.call(this,u)}l.inherits=f(9),l.inherits(s,_),s.prototype._transform=function(u,i,a){a(null,u)}},function($,C,f){(function(_){function l(s){try{if(!_.localStorage)return!1}catch{return!1}var u=_.localStorage[s];return null!=u&&"true"===String(u).toLowerCase()}$.exports=function(s,u){if(l("noDeprecation"))return s;var i=!1;return function(){if(!i){if(l("throwDeprecation"))throw new Error(u);l("traceDeprecation")?console.trace(u):console.warn(u),i=!0}return s.apply(this,arguments)}}}).call(this,f(4))},function($,C,f){(function(_,l){!function(s,u){"use strict";if(!s.setImmediate){var i,a=1,e={},t=!1,n=s.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(s);r=r&&r.setTimeout?r:s,"[object process]"==={}.toString.call(s.process)?i=function(d){l.nextTick(function(){c(d)})}:function(){if(s.postMessage&&!s.importScripts){var d=!0,h=s.onmessage;return s.onmessage=function(){d=!1},s.postMessage("","*"),s.onmessage=h,d}}()?(d="setImmediate$"+Math.random()+"$",h=function(g){g.source===s&&"string"==typeof g.data&&0===g.data.indexOf(d)&&c(+g.data.slice(d.length))},s.addEventListener?s.addEventListener("message",h,!1):s.attachEvent("onmessage",h),i=function(g){s.postMessage(d+g,"*")}):s.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(h){c(h.data)},i=function(h){d.port2.postMessage(h)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var d=n.documentElement;i=function(h){var g=n.createElement("script");g.onreadystatechange=function(){c(h),g.onreadystatechange=null,d.removeChild(g),g=null},d.appendChild(g)}}():i=function(d){setTimeout(c,0,d)},r.setImmediate=function(d){"function"!=typeof d&&(d=new Function(""+d));for(var h=new Array(arguments.length-1),g=0;g<h.length;g++)h[g]=arguments[g+1];return e[a]={callback:d,args:h},i(a),a++},r.clearImmediate=o}var d,h;function o(d){delete e[d]}function c(d){if(t)setTimeout(c,0,d);else{var h=e[d];if(h){t=!0;try{!function(g){var p=g.callback,y=g.args;switch(y.length){case 0:p();break;case 1:p(y[0]);break;case 2:p(y[0],y[1]);break;case 3:p(y[0],y[1],y[2]);break;default:p.apply(undefined,y)}}(h)}finally{o(d),t=!1}}}}}(typeof self>"u"?void 0===_?this:_:self)}).call(this,f(4),f(10))},function($,C){},function($,C,f){"use strict";var _=f(21).Buffer,l=f(302);function s(u,i,a){u.copy(i,a)}$.exports=function(){function u(){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(i){var a={data:i,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},u.prototype.unshift=function(i){var a={data:i,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length},u.prototype.shift=function(){if(0!==this.length){var i=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,i}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(i){if(0===this.length)return"";for(var a=this.head,e=""+a.data;a=a.next;)e+=i+a.data;return e},u.prototype.concat=function(i){if(0===this.length)return _.alloc(0);if(1===this.length)return this.head.data;for(var a=_.allocUnsafe(i>>>0),e=this.head,t=0;e;)s(e.data,a,t),t+=e.data.length,e=e.next;return a},u}(),l&&l.inspect&&l.inspect.custom&&($.exports.prototype[l.inspect.custom]=function(){var u=l.inspect({length:this.length});return this.constructor.name+" "+u})},function($,C){},function($,C,f){(function(_,l,s){var u=f(70),i=f(9),a=f(69),e=f(68),t=f(298),n=a.IncomingMessage,r=a.readyStates,o=$.exports=function(d){var h,g=this;e.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+new _(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(y){g.setHeader(y,d.headers[y])});var y,p=!0;if("disable-fetch"===d.mode||"requestTimeout"in d&&!u.abortController)p=!1,h=!0;else if("prefer-streaming"===d.mode)h=!1;else if("allow-wrong-content-type"===d.mode)h=!u.overrideMimeType;else{if(d.mode&&"default"!==d.mode&&"prefer-fast"!==d.mode)throw new Error("Invalid value for opts.mode");h=!0}g._mode=(y=h,u.fetch&&p?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&y?"arraybuffer":u.vbArray&&y?"text:vbarray":"text"),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};i(o,e.Writable),o.prototype.setHeader=function(d,h){var g=d.toLowerCase();-1===c.indexOf(g)&&(this._headers[g]={name:d,value:h})},o.prototype.getHeader=function(d){var h=this._headers[d.toLowerCase()];return h?h.value:null},o.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},o.prototype._onFinish=function(){var d=this;if(!d._destroyed){var h=d._opts,g=d._headers,p=null;"GET"!==h.method&&"HEAD"!==h.method&&(p=u.arraybuffer?t(_.concat(d._body)):u.blobConstructor?new l.Blob(d._body.map(function(b){return t(b)}),{type:(g["content-type"]||{}).value||""}):_.concat(d._body).toString());var y=[];if(Object.keys(g).forEach(function(b){var S=g[b].name,w=g[b].value;Array.isArray(w)?w.forEach(function(x){y.push([S,x])}):y.push([S,w])}),"fetch"===d._mode){var v=null;if(u.abortController){var m=new AbortController;v=m.signal,d._fetchAbortController=m,"requestTimeout"in h&&0!==h.requestTimeout&&(d._fetchTimer=l.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},h.requestTimeout))}l.fetch(d._opts.url,{method:d._opts.method,headers:y,body:p||void 0,mode:"cors",credentials:h.withCredentials?"include":"same-origin",signal:v}).then(function(b){d._fetchResponse=b,d._connect()},function(b){l.clearTimeout(d._fetchTimer),d._destroyed||d.emit("error",b)})}else{var k=d._xhr=new l.XMLHttpRequest;try{k.open(d._opts.method,d._opts.url,!0)}catch(b){return void s.nextTick(function(){d.emit("error",b)})}"responseType"in k&&(k.responseType=d._mode.split(":")[0]),"withCredentials"in k&&(k.withCredentials=!!h.withCredentials),"text"===d._mode&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in h&&(k.timeout=h.requestTimeout,k.ontimeout=function(){d.emit("requestTimeout")}),y.forEach(function(b){k.setRequestHeader(b[0],b[1])}),d._response=null,k.onreadystatechange=function(){switch(k.readyState){case r.LOADING:case r.DONE:d._onXHRProgress()}},"moz-chunked-arraybuffer"===d._mode&&(k.onprogress=function(){d._onXHRProgress()}),k.onerror=function(){d._destroyed||d.emit("error",new Error("XHR error"))};try{k.send(p)}catch(b){return void s.nextTick(function(){d.emit("error",b)})}}}},o.prototype._onXHRProgress=function(){(function(d){try{var h=d.status;return null!==h&&0!==h}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},o.prototype._connect=function(){var d=this;d._destroyed||(d._response=new n(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(h){d.emit("error",h)}),d.emit("response",d._response))},o.prototype._write=function(d,h,g){this._body.push(d),g()},o.prototype.abort=o.prototype.destroy=function(){this._destroyed=!0,l.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},o.prototype.end=function(d,h,g){"function"==typeof d&&(g=d,d=void 0),e.Writable.prototype.end.call(this,d,h,g)},o.prototype.flushHeaders=function(){},o.prototype.setTimeout=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,f(14).Buffer,f(4),f(10))},function($,C){C.read=function(f,_,l,s,u){var i,a,e=8*u-s-1,t=(1<<e)-1,n=t>>1,r=-7,o=l?u-1:0,c=l?-1:1,d=f[_+o];for(o+=c,i=d&(1<<-r)-1,d>>=-r,r+=e;r>0;i=256*i+f[_+o],o+=c,r-=8);for(a=i&(1<<-r)-1,i>>=-r,r+=s;r>0;a=256*a+f[_+o],o+=c,r-=8);if(0===i)i=1-n;else{if(i===t)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,s),i-=n}return(d?-1:1)*a*Math.pow(2,i-s)},C.write=function(f,_,l,s,u,i){var a,e,t,n=8*i-u-1,r=(1<<n)-1,o=r>>1,c=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,h=s?1:-1,g=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(e=isNaN(_)?1:0,a=r):(a=Math.floor(Math.log(_)/Math.LN2),_*(t=Math.pow(2,-a))<1&&(a--,t*=2),(_+=a+o>=1?c/t:c*Math.pow(2,1-o))*t>=2&&(a++,t/=2),a+o>=r?(e=0,a=r):a+o>=1?(e=(_*t-1)*Math.pow(2,u),a+=o):(e=_*Math.pow(2,o-1)*Math.pow(2,u),a=0));u>=8;f[l+d]=255&e,d+=h,e/=256,u-=8);for(a=a<<u|e,n+=u;n>0;f[l+d]=255&a,d+=h,a/=256,n-=8);f[l+d-h]|=128*g}},function($,C,f){"use strict";C.byteLength=function(r){var o=e(r),d=o[1];return 3*(o[0]+d)/4-d},C.toByteArray=function(r){for(var o,c=e(r),d=c[0],h=c[1],g=new s(3*(d+(b=h))/4-b),p=0,y=h>0?d-4:d,v=0;v<y;v+=4)o=l[r.charCodeAt(v)]<<18|l[r.charCodeAt(v+1)]<<12|l[r.charCodeAt(v+2)]<<6|l[r.charCodeAt(v+3)],g[p++]=o>>16&255,g[p++]=o>>8&255,g[p++]=255&o;var b;return 2===h&&(o=l[r.charCodeAt(v)]<<2|l[r.charCodeAt(v+1)]>>4,g[p++]=255&o),1===h&&(o=l[r.charCodeAt(v)]<<10|l[r.charCodeAt(v+1)]<<4|l[r.charCodeAt(v+2)]>>2,g[p++]=o>>8&255,g[p++]=255&o),g},C.fromByteArray=function(r){for(var o,c=r.length,d=c%3,h=[],g=0,p=c-d;g<p;g+=16383)h.push(n(r,g,g+16383>p?p:g+16383));return 1===d?h.push(_[(o=r[c-1])>>2]+_[o<<4&63]+"=="):2===d&&h.push(_[(o=(r[c-2]<<8)+r[c-1])>>10]+_[o>>4&63]+_[o<<2&63]+"="),h.join("")};for(var _=[],l=[],s=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)_[i]=u[i],l[u.charCodeAt(i)]=i;function e(r){var o=r.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=r.indexOf("=");return-1===c&&(c=o),[c,c===o?0:4-c%4]}function t(r){return _[r>>18&63]+_[r>>12&63]+_[r>>6&63]+_[63&r]}function n(r,o,c){for(var h=[],g=o;g<c;g+=3)h.push(t((r[g]<<16&16711680)+(r[g+1]<<8&65280)+(255&r[g+2])));return h.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function($,C,f){"use strict";(function(_){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(l){l.ext=l.ext||{},l.ext.export_api=l.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",_prepareConfigPDF:function(s,u){if(s&&s.raw){var i=null;s.start&&s.end&&(i={start_date:l.config.start_date,end_date:l.config.end_date},l.config.start_date=l.date.str_to_date(l.config.date_format)(s.start),l.config.end_date=l.date.str_to_date(l.config.date_format)(s.end)),s=l.mixin(s,{name:"gantt."+u,data:l.ext.export_api._serializeHtml()}),i&&(l.config.start_date=i.start_date,l.config.end_date=i.end_date)}else s=l.mixin(s||{},{name:"gantt."+u,data:l.ext.export_api._serializeAll(),config:l.config}),l.ext.export_api._fixColumns(s.config.columns);s.version=l.version,l.ext.export_api._sendToExport(s,u)},exportToPDF:function(s){l.ext.export_api._prepareConfigPDF(s,"pdf")},exportToPNG:function(s){l.ext.export_api._prepareConfigPDF(s,"png")},exportToICal:function(s){s=l.mixin(s||{},{name:"gantt.ical",data:l.ext.export_api._serializePlain().data,version:l.version}),l.ext.export_api._sendToExport(s,"ical")},exportToExcel:function(s){var u,i,a,e,t=l.config.smart_rendering;if("base-colors"===(s=s||{}).visual&&(l.config.smart_rendering=!1),s.start||s.end){a=l.getState(),i=[l.config.start_date,l.config.end_date],e=l.getScrollState();var n=l.date.str_to_date(l.config.date_format);u=l.eachTask,s.start&&(l.config.start_date=n(s.start)),s.end&&(l.config.end_date=n(s.end)),l.render(),l.config.smart_rendering=t,l.eachTask=l.ext.export_api._eachTaskTimed(l.config.start_date,l.config.end_date)}else"base-colors"===s.visual&&(l.render(),l.config.smart_rendering=t);l._no_progress_colors="base-colors"===s.visual;var r=null;l.env.isNode||(r=l.ext.export_api._serializeTable(s).data),(s=l.mixin(s,{name:"gantt.xlsx",title:"Tasks",data:r,columns:l.ext.export_api._serializeColumns({rawDates:!0}),version:l.version})).visual&&(s.scales=l.ext.export_api._serializeScales(s)),l.ext.export_api._sendToExport(s,"excel"),(s.start||s.end)&&(l.config.start_date=a.min_date,l.config.end_date=a.max_date,l.eachTask=u,l.render(),l.scrollTo(e.x,e.y),l.config.start_date=i[0],l.config.end_date=i[1])},exportToJSON:function(s){s=l.mixin(s||{},{name:"gantt.json",data:l.ext.export_api._serializeAll(),config:l.config,columns:l.ext.export_api._serializeColumns(),worktime:l.ext.export_api._getWorktimeSettings(),version:l.version}),l.ext.export_api._sendToExport(s,"json")},importFromExcel:function(s){try{var u=s.data;if(!(u instanceof FormData)&&u instanceof File){var i=new FormData;i.append("file",u),s.data=i}}catch{}l.env.isNode?l.ext.export_api._nodejsImportExcel(s):l.ext.export_api._sendImportAjaxExcel(s)},importFromMSProject:function(s){var u=s.data;try{if(!(u instanceof FormData)&&u instanceof File){var i=new FormData;i.append("file",u),s.data=i}}catch{}l.env.isNode?l.ext.export_api._nodejsImportMSP(s):l.ext.export_api._sendImportAjaxMSP(s)},importFromPrimaveraP6:function(s){return s.type="primaveraP6-parse",l.importFromMSProject(s)},exportToMSProject:function(s){(s=s||{}).skip_circular_links=void 0===s.skip_circular_links||!!s.skip_circular_links;var u=l.templates.xml_format,i=l.templates.format_date,a=l.config.xml_date,e=l.config.date_format;l.config.xml_date="%d-%m-%Y %H:%i:%s",l.config.date_format="%d-%m-%Y %H:%i:%s",l.templates.xml_format=l.date.date_to_str("%d-%m-%Y %H:%i:%s"),l.templates.format_date=l.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=l.ext.export_api._serializeAll();l.ext.export_api._customProjectProperties(t,s),l.ext.export_api._customTaskProperties(t,s),s.skip_circular_links&&l.ext.export_api._clearRecLinks(t),s=l.ext.export_api._exportConfig(t,s),l.ext.export_api._sendToExport(s,s.type||"msproject"),l.config.xml_date=a,l.config.date_format=e,l.templates.xml_format=u,l.templates.format_date=i,l.config.$custom_data=null,l.config.custom=null},exportToPrimaveraP6:function(s){return(s=s||{}).type="primaveraP6",l.exportToMSProject(s)},_nodejsImportExcel:function(s){var u=f(35),i=f(58),a=(s.server||l.ext.export_api._apiUrl).split("://")[1],e=a.split("/")[0].split(":"),t=a.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},r=new i;r.append("file",s.data),r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:s.sheet||0})),n.headers["Content-Type"]=r.getHeaders()["content-type"];var o=u.request(n,function(c){var d="";c.on("data",function(h){d+=h}),c.on("end",function(h){s.callback(d.toString())})});o.on("error",function(c){console.error(c)}),r.pipe(o)},_nodejsImportMSP:function(s){var u=f(35),i=f(58),a=(s.server||l.ext.export_api._apiUrl).split("://")[1],e=a.split("/")[0].split(":"),t=a.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},r={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0},o=new i;o.append("file",s.data),o.append("type",s.type||"msproject-parse"),o.append("data",JSON.stringify(r),n),n.headers["Content-Type"]=o.getHeaders()["content-type"];var c=u.request(n,function(d){var h="";d.on("data",function(g){h+=g}),d.on("end",function(g){s.callback(h.toString())})});c.on("error",function(d){console.error(d)}),o.pipe(c)},_fixColumns:function(s){for(var u=0;u<s.length;u++)s[u].label=s[u].label||l.locale.labels["column_"+s[u].name],"string"==typeof s[u].width&&(s[u].width=1*s[u].width)},_xdr:function(s,u,i){l.env.isNode?l.ext.export_api._nodejsPostRequest(s,u,i):l.ajax.post(s,u,i)},_nodejsPostRequest:function(s,u,i){var a=f(35),e=s.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),r={hostname:t[0],port:t[1]||80,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(u).length}},o=a.request(r,function(c){var d=[];c.on("data",function(h){d.push(h)}),c.on("end",function(h){i(_.concat(d))})});o.on("error",function(c){console.error(c)}),o.write(JSON.stringify(u)),o.end()},_markColumns:function(s){var u=s.config.columns;if(u)for(var i=0;i<u.length;i++)u[i].template&&(u[i].$template=!0)},_sendImportAjaxExcel:function(s){var u=s.server||l.ext.export_api._apiUrl,i=s.store||0,a=s.data,e=s.callback;a.append("type","excel-parse"),a.append("data",JSON.stringify({sheet:s.sheet||0})),i&&a.append("store",i);var t=new XMLHttpRequest;t.onreadystatechange=function(n){4===t.readyState&&0===t.status&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",u,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(a)},_ajaxToExport:function(s,u,i){delete s.callback;var a=s.server||l.ext.export_api._apiUrl,e="type="+u+"&store=1&data="+encodeURIComponent(JSON.stringify(s));l.ext.export_api._xdr(a,e,function(t){var n=t.xmlDoc||t,r=null;if(!(n.status>400))try{r=JSON.parse(n.responseText)}catch{}i(r)})},_serializableGanttConfig:function(s){var u=l.mixin({},s);return u.columns&&(u.columns=u.columns.map(function(i){var a=l.mixin({},i);return delete a.editor,a})),delete u.editor_types,u},_sendToExport:function(s,u){var i=l.date.date_to_str(l.config.date_format||l.config.xml_date);if(s.config&&(s.config=l.copy(l.ext.export_api._serializableGanttConfig(s.config)),l.ext.export_api._markColumns(s,u),s.config.start_date&&s.config.end_date&&(s.config.start_date instanceof Date&&(s.config.start_date=i(s.config.start_date)),s.config.end_date instanceof Date&&(s.config.end_date=i(s.config.end_date)))),l.env.isNode){var a=s.server||l.ext.export_api._apiUrl,e={type:u,store:0,data:JSON.stringify(s)};return l.ext.export_api._xdr(a,e,s.callback||function(r){console.log(r)})}if(s.callback)return l.ext.export_api._ajaxToExport(s,u,s.callback);var n=l.ext.export_api._createHiddenForm();n.firstChild.action=s.server||l.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(s),n.firstChild.childNodes[1].value=u,n.firstChild.submit()},_createHiddenForm:function(){if(!l.ext.export_api._hidden_export_form){var s=l.ext.export_api._hidden_export_form=document.createElement("div");s.style.display="none",s.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(s)}return l.ext.export_api._hidden_export_form},_copyObjectBase:function(s){var u={start_date:void 0,end_date:void 0};for(var i in s)"$"!==i.charAt(0)&&(u[i]=s[i]);var a=l.templates.xml_format||l.templates.format_date;return u.start_date=a(u.start_date),u.end_date&&(u.end_date=a(u.end_date)),u},_color_box:null,_color_hash:{},_getStyles:function(s){if(l.ext.export_api._color_box||(l.ext.export_api._color_box=document.createElement("DIV"),l.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(l.ext.export_api._color_box)),l.ext.export_api._color_hash[s])return l.ext.export_api._color_hash[s];l.ext.export_api._color_box.className=s;var u=l.ext.export_api._getColor(l.ext.export_api._color_box,"color"),i=l.ext.export_api._getColor(l.ext.export_api._color_box,"backgroundColor");return l.ext.export_api._color_hash[s]=u+";"+i},_getMinutesWorktimeSettings:function(s){var u=[];return s.forEach(function(i){u.push(i.startMinute),u.push(i.endMinute)}),u},_getWorktimeSettings:function(){var s,u={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(l.config.work_time){var i=l._working_time_helper;if(i&&i.get_calendar)s=i.get_calendar();else if(i)s={hours:i.hours,minutes:null,dates:i.dates};else if(l.config.worktimes&&l.config.worktimes.global){var a=l.config.worktimes.global;if(a.parsed){var e=l.ext.export_api._getMinutesWorktimeSettings(a.parsed.hours);for(var t in s={hours:null,minutes:e,dates:{}},a.parsed.dates)s.dates[t]=Array.isArray(a.parsed.dates[t])?l.ext.export_api._getMinutesWorktimeSettings(a.parsed.dates[t]):a.parsed.dates[t]}else s={hours:a.hours,minutes:null,dates:a.dates}}else s=u}else s=u;return s},_eachTaskTimed:function(s,u){return function(i,a,e){e=e||l;var t=l.getChildren(a=a||l.config.root_id);if(t)for(var n=0;n<t.length;n++){var r=l._pull[t[n]];(!s||r.end_date>s)&&(!u||r.start_date<u)&&i.call(e,r),l.hasChild(r.id)&&l.eachTask(i,r.id,e)}}},_originalCopyObject:l.json._copyObject,_copyObjectPlain:function(s){var u=l.templates.task_text(s.start_date,s.end_date,s),i=l.ext.export_api._copyObjectBase(s);return i.text=u||i.text,i},_getColor:function(s,u){var i=s.currentStyle?s.currentStyle[u]:getComputedStyle(s,null)[u],a=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(a&&4===a.length?("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable:function(s){var u=l.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=l.ext.export_api._copyObjectColumns(s,l.ext.export_api._copyObjectPlain(s));i.start_date&&(i.start_date=u(s.start_date)),i.end_date&&(i.end_date=u(s.end_date));var a=l._day_index_by_date?l._day_index_by_date:l.columnIndexByDate;i.$start=a.call(l,s.start_date),i.$end=a.call(l,s.end_date),i.$level=s.$level,i.$type=s.$rendered_type;var e=l.templates;return i.$text=e.task_text(s.start,s.end_date,s),i.$left=e.leftside_text?e.leftside_text(s.start,s.end_date,s):"",i.$right=e.rightside_text?e.rightside_text(s.start,s.end_date,s):"",i},_copyObjectColors:function(s){var u=l.ext.export_api._copyObjectTable(s),i=l.getTaskNode(s.id);if(i&&i.firstChild){var a=l.ext.export_api._getColor(l._no_progress_colors?i:i.firstChild,"backgroundColor");"363636"===a&&(a=l.ext.export_api._getColor(i,"backgroundColor")),u.$color=a}else s.color&&(u.$color=s.color);return u},_copyObjectColumns:function(s,u){for(var i=0;i<l.config.columns.length;i++){var a=l.config.columns[i].template;if(a){var e=a(s);e instanceof Date&&(e=l.templates.date_grid(e,s)),u["_"+i]=e}}return u},_copyObjectAll:function(s){for(var u=l.ext.export_api._copyObjectBase(s),i=["leftside_text","rightside_text","task_text","progress_text","task_class"],a=0;a<i.length;a++){var e=l.templates[i[a]];e&&(u["$"+a]=e(s.start_date,s.end_date,s))}return l.ext.export_api._copyObjectColumns(s,u),u.open=s.$open,u},_serializeHtml:function(){var s=l.config.smart_scales,u=l.config.smart_rendering;(s||u)&&(l.config.smart_rendering=!1,l.config.smart_scales=!1,l.render());var i=l.$container.parentNode.innerHTML;return(s||u)&&(l.config.smart_scales=s,l.config.smart_rendering=u,l.render()),i},_serializeAll:function(){l.json._copyObject=l.ext.export_api._copyObjectAll;var s=l.ext.export_api._exportSerialize();return l.json._copyObject=l.ext.export_api._originalCopyObject,s},_serializePlain:function(){var s=l.templates.xml_format,u=l.templates.format_date;l.templates.xml_format=l.date.date_to_str("%Y%m%dT%H%i%s",!0),l.templates.format_date=l.date.date_to_str("%Y%m%dT%H%i%s",!0),l.json._copyObject=l.ext.export_api._copyObjectPlain;var i=l.ext.export_api._exportSerialize();return l.templates.xml_format=s,l.templates.format_date=u,l.json._copyObject=l.ext.export_api._originalCopyObject,delete i.links,i},_getRaw:function(){if(l._scale_helpers){var s=l._get_scales(),u=l.config.min_column_width,i=l._get_resize_options().x?Math.max(l.config.autosize_min_width,0):l.config.$task.offsetWidth,a=l.config.config.scale_height-1;return l._scale_helpers.prepareConfigs(s,u,i,a)}var e=l.$ui.getView("timeline");if(e){var t=e.$config.width;"x"!==l.config.autosize&&"xy"!==l.config.autosize||(t=Math.max(l.config.autosize_min_width,0));var n=l.getState(),r=(s=e._getScales(),u=l.config.min_column_width,a=l.config.scale_height-1,l.config.rtl);return e.$scaleHelper.prepareConfigs(s,u,t,a,n.min_date,n.max_date,r)}},_serializeTable:function(s){l.json._copyObject=s.visual?l.ext.export_api._copyObjectColors:l.ext.export_api._copyObjectTable;var u=l.ext.export_api._exportSerialize();if(l.json._copyObject=l.ext.export_api._originalCopyObject,delete u.links,s.cellColors){var i=l.templates.timeline_cell_class||l.templates.task_cell_class;if(i){for(var a=l.ext.export_api._getRaw(),e=a[0].trace_x,t=1;t<a.length;t++)a[t].trace_x.length>e.length&&(e=a[t].trace_x);for(t=0;t<u.data.length;t++){u.data[t].styles=[];for(var n=l.getTask(u.data[t].id),r=0;r<e.length;r++){var o=i(n,e[r]);o&&u.data[t].styles.push({index:r,styles:l.ext.export_api._getStyles(o)})}}}}return u},_serializeScales:function(s){for(var u=[],i=l.ext.export_api._getRaw(),a=1/0,e=0,t=0;t<i.length;t++)a=Math.min(a,i[t].col_width);for(t=0;t<i.length;t++){var n=0,r=0,o=[];u.push(o);var c=i[t];e=Math.max(e,c.trace_x.length);for(var d=c.format||c.template||(c.date?l.date.date_to_str(c.date):l.config.date_scale),h=0;h<c.trace_x.length;h++){var g=c.trace_x[h];r=n+Math.round(c.width[h]/a);var p={text:d(g),start:n,end:r,styles:""};if(s.cellColors){var y=c.css||l.templates.scaleCell_class;if(y){var v=y(g);v&&(p.styles=l.ext.export_api._getStyles(v))}}o.push(p),n=r}}return{width:e,height:u.length,data:u}},_serializeColumns:function(s){l.exportMode=!0;for(var u=[],i=l.config.columns,a=0,e=0;e<i.length;e++)"add"!==i[e].name&&"buttons"!==i[e].name&&(u[a]={id:i[e].template?"_"+e:i[e].name,header:i[e].label||l.locale.labels["column_"+i[e].name],width:i[e].width?Math.floor(i[e].width/4):""},"duration"===i[e].name&&(u[a].type="number"),"start_date"!==i[e].name&&"end_date"!==i[e].name||(u[a].type="date",s&&s.rawDates&&(u[a].id=i[e].name)),a++);return l.exportMode=!1,u},_exportSerialize:function(){l.exportMode=!0;var s=l.templates.xml_format,u=l.templates.format_date;l.templates.xml_format=l.templates.format_date=l.date.date_to_str(l.config.date_format||l.config.xml_date);var i=l.serialize();return l.templates.xml_format=s,l.templates.format_date=u,l.exportMode=!1,i},_setLevel:function(s){for(var u=0;u<s.length;u++){0==s[u].parent&&(s[u]._lvl=1);for(var i=u+1;i<s.length;i++)s[u].id==s[i].parent&&(s[i]._lvl=s[u]._lvl+1)}},_clearLevel:function(s){for(var u=0;u<s.length;u++)delete s[u]._lvl},_clearRecLinks:function(s){l.ext.export_api._setLevel(s.data);for(var u={},i=0;i<s.data.length;i++)u[s.data[i].id]=s.data[i];var a={};for(i=0;i<s.links.length;i++){var e=s.links[i];l.isTaskExists(e.source)&&l.isTaskExists(e.target)&&u[e.source]&&u[e.target]&&(a[e.id]=e)}for(var t in a)l.ext.export_api._makeLinksSameLevel(a[t],u);var n={};for(var t in u)l.ext.export_api._clearCircDependencies(u[t],a,u,{},n,null);for(Object.keys(a)&&l.ext.export_api._clearLinksSameLevel(a,u),i=0;i<s.links.length;i++)a[s.links[i].id]||(s.links.splice(i,1),i--);l.ext.export_api._clearLevel(s.data)},_clearCircDependencies:function(s,u,i,a,e,t){var n=s.$_source;if(n){a[s.id]&&l.ext.export_api._onCircDependencyFind(t,u,a,e),a[s.id]=!0;for(var r={},o=0;o<n.length;o++)if(!e[n[o]]){var c=u[n[o]],d=i[c._target];r[d.id]&&l.ext.export_api._onCircDependencyFind(c,u,a,e),r[d.id]=!0,l.ext.export_api._clearCircDependencies(d,u,i,a,e,c)}a[s.id]=!1}},_onCircDependencyFind:function(s,u,i,a){s&&(l.callEvent("onExportCircularDependency",[s.id,s])&&delete u[s.id],delete i[s._source],delete i[s._target],a[s.id]=!0)},_makeLinksSameLevel:function(s,u){var i,a,e={target:u[s.target],source:u[s.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(i="source",a=e.target._lvl):(i="target",a=e.source._lvl);do{var t=u[e[i].parent];if(!t)break;e[i]=t}while(e[i]._lvl<a);for(var n=u[e.source.parent],r=u[e.target.parent];n&&r&&n.id!=r.id;)e.source=n,e.target=r,n=u[e.source.parent],r=u[e.target.parent]}s._target=e.target.id,s._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(s.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(s.id)},_clearLinksSameLevel:function(s,u){for(var i in s)delete s[i]._target,delete s[i]._source;for(var a in u)delete u[a].$_source,delete u[a].$_target},_customProjectProperties:function(s,u){if(u&&u.project){for(var i in u.project)l.config.$custom_data||(l.config.$custom_data={}),l.config.$custom_data[i]="function"==typeof u.project[i]?u.project[i](l.config):u.project[i];delete u.project}},_customTaskProperties:function(s,u){u&&u.tasks&&(s.data.forEach(function(i){for(var a in u.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[a]="function"==typeof u.tasks[a]?u.tasks[a](i,l.config):u.tasks[a]}),delete u.tasks)},_exportConfig:function(s,u){var i=u.name||"gantt.xml";delete u.name,l.config.custom=u;var a=l.ext.export_api._getWorktimeSettings(),e=l.getSubtaskDates();if(e.start_date&&e.end_date){var t=l.templates.format_date||l.templates.xml_format;l.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var r={callback:u.callback||null,config:l.config,data:s,manual:void 0!==u.auto_scheduling&&!!u.auto_scheduling,name:i,worktime:a};for(var o in u)r[o]=u[o];return r},_sendImportAjaxMSP:function(s){var u=s.server||l.ext.export_api._apiUrl,i=s.store||0,a=s.data,e=s.callback,t={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0};a.append("type",s.type||"msproject-parse"),a.append("data",JSON.stringify(t)),i&&a.append("store",i);var n=new XMLHttpRequest;n.onreadystatechange=function(r){4===n.readyState&&0===n.status&&e&&e(null)},n.onload=function(){var r=null;if(!(n.status>400))try{r=JSON.parse(n.responseText)}catch{}e&&e(r)},n.open("POST",u,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a)}},l.exportToPDF=l.ext.export_api.exportToPDF,l.exportToPNG=l.ext.export_api.exportToPNG,l.exportToICal=l.ext.export_api.exportToICal,l.exportToExcel=l.ext.export_api.exportToExcel,l.exportToJSON=l.ext.export_api.exportToJSON,l.importFromExcel=l.ext.export_api.importFromExcel,l.importFromMSProject=l.ext.export_api.importFromMSProject,l.exportToMSProject=l.ext.export_api.exportToMSProject,l.importFromPrimaveraP6=l.ext.export_api.importFromPrimaveraP6,l.exportToPrimaveraP6=l.ext.export_api.exportToPrimaveraP6}}).call(this,f(14).Buffer)},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=function(){function l(s){var u=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(u._trace.length>=10){for(var i=u._trace.slice(u._trace.length-10),a=[],e=1;e<i.length;e++)a.push({x:i[e].x-i[e-1].x,y:i[e].y-i[e-1].y});var t={x:0,y:0};return a.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){u._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){u._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var a=u._gantt;return{x:a.$ui.getView(i.$config.scrollX).getScrollState().position,y:a.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var a=u._calculateDirectionVector(),e=u._startPoint.x-i.x,t=u._startPoint.y-i.y;return a&&(a.angleDegrees<15?t=0:a.angleDegrees>75&&(e=0)),{x:u._scrollState.x+e,y:u._scrollState.y+t}},this._setScrollPosition=function(i,a){var e=u._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(i.$id,a.x,a.y)})},this._stopDrag=function(i){var a=u._gantt;if(u._trace=[],a.$root.classList.remove("gantt_noselect"),void 0!==u._originalReadonly&&(a.config.readonly=u._originalReadonly),void 0!==u._originAutoscroll&&(a.config.autoscroll=u._originAutoscroll),a.config.drag_timeline){var e=a.config.drag_timeline.useKey;if(e&&!0!==i[e])return}u._mouseDown=!1},this._startDrag=function(i){var a=u._gantt;u._originAutoscroll=a.config.autoscroll,a.config.autoscroll=!1,a.$root.classList.add("gantt_noselect"),u._originalReadonly=a.config.readonly,a.config.readonly=!0,u._trace=[],u._mouseDown=!0;var e=u._getScrollPosition(u._timeline);u._scrollState={x:e.x,y:e.y},u._startPoint={x:i.clientX,y:i.clientY},u._trace.push(u._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return l.create=function(s){return new l(s)},l.prototype.destructor=function(){this._domEvents.detachAll()},l.prototype.attach=function(s){var u=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline,t=e.useKey,n=e.ignore;if(!1!==e.enabled){var r=".gantt_task_line, .gantt_task_link";void 0!==n&&(r=n instanceof Array?n.join(", "):n),r&&i.utils.dom.closest(a.target,r)||t&&!0!==a[t]||u._startDrag(a)}}}),this._domEvents.attach(document,"keydown",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&!0===a[e]&&u._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&!1===a[e]&&(u._clearDndReadyStyles(),u._stopDrag(a))}}),this._domEvents.attach(document,"mouseup",function(a){u._stopDrag(a)}),this._domEvents.attach(i.$root,"mouseup",function(a){u._stopDrag(a)}),this._domEvents.attach(document,"mouseleave",function(a){u._stopDrag(a)}),this._domEvents.attach(i.$root,"mouseleave",function(a){u._stopDrag(a)}),this._domEvents.attach(i.$root,"mousemove",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(!e||!0===a[e]){var n=(u._gantt.config.click_drag||{}).useKey;if((!u._gantt.ext.clickDrag||!n||e||!a[n])&&!0===u._mouseDown){u._trace.push({x:a.clientX,y:a.clientY});var r=u._countNewScrollPosition({x:a.clientX,y:a.clientY});u._setScrollPosition(s,r),u._scrollState=r,u._startPoint={x:a.clientX,y:a.clientY}}}}})},l}();C.EventsManager=_},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(309);C.default=function(l){l.ext||(l.ext={}),l.ext.dragTimeline={create:function(){return _.EventsManager.create(l)}},l.config.drag_timeline={enabled:!0}}},function($,C){$.exports=function(f){return f._isProjectEnd=function(_){return!this._hasDuration({start_date:_.end_date,end_date:this._getProjectEnd(),task:_})},{_cache:{},_slackHelper:null,reset:function(){this._cache={}},_calculateCriticalPath:function(){this.reset()},isCriticalTask:function(_){if(!_)return!1;if(f.config.auto_scheduling_use_progress&&1===_.progress)return this._cache[_.id]=!1,!1;if(void 0===this._cache[_.id])if(f.isSummaryTask(_)){var l=!1;f.eachTask(function(s){l||(l=this.isCriticalTask(s))}.bind(this),_.id),this._cache[_.id]=l}else this._cache[_.id]=this._slackHelper.getTotalSlack(_)<=0;return this._cache[_.id]},init:function(_){this._slackHelper=_;var l=f.bind(function(){return this.reset(),!0},this),s=f.bind(function(i,a){return this._cache&&(this._cache[a]=this._cache[i],delete this._cache[i]),!0},this);f.attachEvent("onAfterLinkAdd",l),f.attachEvent("onAfterLinkUpdate",l),f.attachEvent("onAfterLinkDelete",l),f.attachEvent("onAfterTaskAdd",l),f.attachEvent("onTaskIdChange",s),f.attachEvent("onAfterTaskUpdate",l),f.attachEvent("onAfterTaskDelete",l),f.attachEvent("onParse",l),f.attachEvent("onClearAll",l);var u=function(){f.config.highlight_critical_path&&!f.getState("batchUpdate").batch_update&&f.render()};f.attachEvent("onAfterLinkAdd",u),f.attachEvent("onAfterLinkUpdate",u),f.attachEvent("onAfterLinkDelete",u),f.attachEvent("onAfterTaskAdd",u),f.attachEvent("onTaskIdChange",function(i,a){return f.config.highlight_critical_path&&f.isTaskExists(a)&&f.refreshTask(a),!0}),f.attachEvent("onAfterTaskUpdate",u),f.attachEvent("onAfterTaskDelete",u)}}}},function($,C,f){$.exports=function(_){var l=f(74)(_),s=f(73)(_),u={_freeSlack:{},_totalSlack:{},_slackNeedCalculate:!0,_linkedTasksById:{},_successorsByTaskId:{},_projectEnd:null,_calculateSlacks:function(){var i=l.getLinkedTasks(),a=s.findLoops(i);if(a.length){_.callEvent("onAutoScheduleCircularLink",[a]);var e={};a.forEach(function(c){c.linkKeys.forEach(function(d){e[d]=!0})});for(var t=0;t<i.length;t++)i[t].hashSum in e&&(i.splice(t,1),t--)}var n=s.topologicalSort(i).reverse(),r={};i.forEach(function(c){r[c.source]||(r[c.source]={linked:[]}),r[c.source].linked.push({target:c.target,link:c})});var o={_cache:{},getDist:function(c,d){var h="".concat(c.id,"_").concat(d.id);if(this._cache[h])return this._cache[h];var g=_.calculateDuration({start_date:c.end_date,end_date:d.start_date,task:c});return this._cache[h]=g,g}};this._projectEnd=_.getSubtaskDates().end_date,this._calculateFreeSlack(i,n,r,o),this._calculateTotalSlack(i,n,r,o)},_isCompletedTask:function(i){return _.config.auto_scheduling_use_progress&&1==i.progress},_calculateFreeSlack:function(i,a,e,t){var n=this._freeSlack={},r={};_.eachTask(function(h){_.isSummaryTask(h)||(r[h.id]=h)});var o={};for(var c in i.forEach(function(h){var g=r[h.source];if(g){o[h.source]=!0;var p=t.getDist(g,_.getTask(h.target));p-=h.lag||0,n[h.source]=void 0!==n[h.source]?Math.min(p,n[h.source]):p}}),r)if(!o[c]){var d=r[c];n[d.id]=this._isCompletedTask(d)?0:_.calculateDuration({start_date:d.end_date,end_date:this._projectEnd,task:d})}return this._freeSlack},_disconnectedTaskSlack:function(i){return this._isCompletedTask(i)?0:Math.max(_.calculateDuration(i.end_date,this._projectEnd),0)},_calculateTotalSlack:function(i,a,e,t){this._totalSlack={},this._slackNeedCalculate=!1;for(var n={},r=_.getTaskByTime(),o=0;o<a.length;o++){var c=_.getTask(a[o]);if(this._isCompletedTask(c))n[c.id]=0;else if(e[c.id]||_.isSummaryTask(c)){for(var d=e[c.id].linked,h=null,g=0;g<d.length;g++){var p=d[g],y=_.getTask(p.target),v=0;void 0!==n[y.id]&&(v+=n[y.id]),v+=t.getDist(c,y),v-=p.link.lag||0,h=null===h?v:Math.min(h,v)}n[c.id]=h||0}else n[c.id]=this.getFreeSlack(c)}return r.forEach(function(m){void 0!==n[m.id]||_.isSummaryTask(m)||(n[m.id]=this.getFreeSlack(m))}.bind(this)),this._totalSlack=n,this._totalSlack},_resetTotalSlackCache:function(){this._slackNeedCalculate=!0},_shouldCalculateTotalSlack:function(){return this._slackNeedCalculate},getFreeSlack:function(i){return this._shouldCalculateTotalSlack()&&this._calculateSlacks(),_.isTaskExists(i.id)?this._isCompletedTask(i)?0:_.isSummaryTask(i)?void 0:this._freeSlack[i.id]||0:0},getTotalSlack:function(i){if(this._shouldCalculateTotalSlack()&&this._calculateSlacks(),void 0===i)return this._totalSlack;var a;if(a=void 0!==i.id?i.id:i,this._isCompletedTask(i))return 0;if(void 0===this._totalSlack[a]){if(_.isSummaryTask(_.getTask(a))){var e=null;return _.eachTask(function(t){var n=this._totalSlack[t.id];void 0!==n&&(null===e||n<e)&&(e=n)}.bind(this),a),this._totalSlack[a]=null!==e?e:_.calculateDuration({start_date:i.end_date,end_date:this._projectEnd,task:i}),this._totalSlack[a]}return 0}return this._totalSlack[a]||0},dropCachedFreeSlack:function(){this._freeSlack={},this._resetTotalSlackCache()},init:function(){function i(){u.dropCachedFreeSlack()}_.attachEvent("onAfterLinkAdd",i),_.attachEvent("onTaskIdChange",i),_.attachEvent("onAfterLinkUpdate",i),_.attachEvent("onAfterLinkDelete",i),_.attachEvent("onAfterTaskAdd",i),_.attachEvent("onAfterTaskUpdate",i),_.attachEvent("onAfterTaskDelete",i),_.attachEvent("onRowDragEnd",i),_.attachEvent("onAfterTaskMove",i),_.attachEvent("onParse",i),_.attachEvent("onClearAll",i)}};return u}},function($,C,f){$.exports=function(_){f(76)(_),f(75)(_);var l=f(312)(_);l.init(),_.getFreeSlack=function(u){return l.getFreeSlack(u)},_.getTotalSlack=function(u){return l.getTotalSlack(u)};var s=f(311)(_);_.config.highlight_critical_path=!1,s.init(l),_.isCriticalTask=function(u){return _.assert(!(!u||void 0===u.id),"Invalid argument for gantt.isCriticalTask"),s.isCriticalTask(u)},_.isCriticalLink=function(u){return this.isCriticalTask(_.getTask(u.source))},_.getSlack=function(u,i){for(var a=0,e=[],t={},n=0;n<u.$source.length;n++)t[u.$source[n]]=!0;for(n=0;n<i.$target.length;n++)t[i.$target[n]]&&e.push(i.$target[n]);if(e[0])for(n=0;n<e.length;n++){var r=this.getLink(e[n]),o=this._getSlack(u,i,this._convertToFinishToStartLink(r.id,r,u,i,u.parent,i.parent));(a>o||0===n)&&(a=o)}else a=this._getSlack(u,i,{});return a},_._getSlack=function(u,i,a){var t,e=this.config.types;t=this.getTaskType(u.type)==e.milestone?u.start_date:u.end_date;var n=i.start_date,r=0;r=+t>+n?-this.calculateDuration({start_date:n,end_date:t,task:u}):this.calculateDuration({start_date:t,end_date:n,task:u});var o=a.lag;return o&&1*o==o&&(r-=o),r}}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(5),l=f(2),s=function(){function u(i,a,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,r){t._el||(t._el=document.createElement("div"));var o=t._el,c=Math.min(n.relative.top,r.relative.top),d=Math.max(n.relative.top,r.relative.top),h=Math.min(n.relative.left,r.relative.left),g=Math.max(n.relative.left,r.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);o.style.height=p.height+"px",o.style.top=p.top+"px"}else o.style.height=Math.abs(d-c)+"px",o.style.top=c+"px";return o.style.width=Math.abs(g-h)+"px",o.style.left=h+"px",o},this._gantt=a,this._view=e,this._viewPort=i.viewPort,this._el.classList.add(i.className),"function"==typeof i.callback&&(this._callback=i.callback),this.render=function(){var n;(n=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),""!==i.className&&t._el.classList.add(i.className),t.draw()},l.isEventable(this._viewPort)||_(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return u.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},u.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},u.prototype.getElement=function(){return this._el},u.prototype.getViewPort=function(){return this._viewPort},u.prototype.setStart=function(i){var a=this._gantt;this._startPoint=i,this._startDate=a.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},u.prototype.setEnd=function(i){var a=this._gantt;if(this._endPoint=i,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=a.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},u.prototype.setPosition=function(i){this._positionPoint=i},u.prototype.dragEnd=function(i){var a,e=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(this._startDate=(a=[this._endDate,this._startDate])[0],this._endDate=a[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},u.prototype.getInBounds=function(){return this._singleRow},u.prototype._getTasksByTop=function(i,a){var e=this._gantt,t=i,n=a;i>a&&(t=a,n=i);for(var r=this._getTaskPositionByTop(t).index,o=this._getTaskPositionByTop(n).index,c=[],d=r;d<=o;d++)e.getTaskByIndex(d)&&c.push(e.getTaskByIndex(d));return c},u.prototype._getTaskPositionByTop=function(i){var a=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(i),n=a.getTaskByIndex(t);if(n){var r=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:r||0,index:t}}var o=e.getTotalHeight();return{top:i>o?o:0,height:a.config.row_height,index:i>o?a.getTaskCount():0}},u}();C.SelectedRegion=s},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(1),l=function(){function s(u){this._mouseDown=!1,this._gantt=u,this._domEvents=u._createDomEventScope()}return s.prototype.attach=function(u,i,a){var e=this,t=this._gantt,n=u.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},"static"===this._originPosition&&(n.style.position="relative");var r=t.$services.getService("state");r.registerProvider("clickDrag",function(){return{autoscroll:!1}});var o=null;this._domEvents.attach(n,"mousedown",function(d){o=null;var h=".gantt_task_line, .gantt_task_link";void 0!==a&&(h=a instanceof Array?a.join(", "):a),h&&t.utils.dom.closest(d.target,h)||(r.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),i&&!0!==d[i]||(o=e._getCoordinates(d,u)))});var c=_.getRootNode(t.$root)||document.body;this._domEvents.attach(c,"mouseup",function(d){if(o=null,(!i||!0===d[i])&&!0===e._mouseDown){e._mouseDown=!1;var h=e._getCoordinates(d,u);u.dragEnd(h)}}),this._domEvents.attach(n,"mousemove",function(d){if(!i||!0===d[i]){var g=(e._gantt.config.drag_timeline||{}).useKey;if(!e._gantt.ext.clickDrag||!g||i||!d[g]){var p=null;if(!e._mouseDown&&o)return p=e._getCoordinates(d,u),void(Math.abs(o.relative.left-p.relative.left)>5&&o&&(e._mouseDown=!0,u.setStart(t.copy(o)),u.setPosition(t.copy(o)),u.setEnd(t.copy(o)),o=null));!0===e._mouseDown&&(p=e._getCoordinates(d,u),u.setEnd(p),u.render())}}})},s.prototype.detach=function(){var u=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),u.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(u,i){var a=i.getViewPort(),e=a.getBoundingClientRect(),t=u.clientX,n=u.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+a.scrollLeft,top:n-e.top+a.scrollTop}}},s}();C.EventsManager=l},function($,C,f){"use strict";var _=this&&this.__assign||function(){return(_=Object.assign||function(u){for(var i,a=1,e=arguments.length;a<e;a++)for(var t in i=arguments[a])Object.prototype.hasOwnProperty.call(i,t)&&(u[t]=i[t]);return u}).apply(this,arguments)};Object.defineProperty(C,"__esModule",{value:!0});var l=f(315),s=f(314);C.default=function(u){u.ext||(u.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},a=new l.EventsManager(u);u.ext.clickDrag=a,u.attachEvent("onGanttReady",function(){var e=_({viewPort:u.$task_data},i);if(u.config.click_drag){var t=u.config.click_drag;e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||u.$task_data,e.useRequestAnimationFrame=void 0===t.useRequestAnimationFrame?i.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=void 0===t.singleRow?i.singleRow:t.singleRow;var n=u.$ui.getView("timeline"),r=new s.SelectedRegion(e,u,n);u.ext.clickDrag.attach(r,t.useKey,t.ignore)}}),u.attachEvent("onDestroy",function(){a.destructor()})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.attachUIHandlers=function(_,l,s,u){var i=function(){var a,e,t=!1;function n(S,w){_.config.auto_scheduling&&!_._autoscheduling_in_progress&&(_.getState().batch_update?t=!0:_.autoSchedule(w.source))}function r(S,w){var x=_.config.auto_scheduling_use_progress;return _.config.auto_scheduling_use_progress=!1,_.isCircularLink(w)?(_.callEvent("onCircularLinkError",[w,s.getLoopContainingLink(w)]),_.config.auto_scheduling_use_progress=x,!1):(_.config.auto_scheduling_use_progress=x,!0)}function o(S,w){var x=_.getTask(w.source),T=_.getTask(w.target);return!(!_.config.auto_scheduling_descendant_links&&(_.isChildOf(x.id,T.id)&&_.isSummaryTask(T)||_.isChildOf(T.id,x.id)&&_.isSummaryTask(x)))}function c(S,w,x,T){return!!S!=!!w||!(!S&&!w)&&(S.valueOf()>w.valueOf()?_._hasDuration({start_date:w,end_date:S,task:T}):_._hasDuration({start_date:S,end_date:w,task:x}))}function d(S,w){return!!c(S.start_date,w.start_date,S,w)||_.getConstraintType(S)!==_.getConstraintType(w)||!!c(S.constraint_date,w.constraint_date,S,w)||!(!c(S.start_date,w.start_date,S,w)&&(!c(S.end_date,w.end_date,S,w)&&S.duration===w.duration||S.type===_.config.types.milestone))||void 0}function h(S){return _.config.auto_scheduling_compatibility?l.getLinkedTasks(S,!0):u.getConnectedGroupRelations(S)}function g(S,w){if(_.config.schedule_from_end){if(S.end_date.valueOf()===w.end_date.valueOf())return!0}else if(S.start_date.valueOf()===w.start_date.valueOf())return!0}function p(S){!1!==S.auto_scheduling&&(_.config.schedule_from_end?(S.constraint_type=_.config.constraint_types.FNLT,S.constraint_date=new Date(S.end_date)):(S.constraint_type=_.config.constraint_types.SNET,S.constraint_date=new Date(S.start_date)))}function y(S){_.config.auto_scheduling_compatibility&&(S.constraint_type!==_.config.constraint_types.SNET&&S.constraint_type!==_.config.constraint_types.FNLT||(S.constraint_type=null,S.constraint_date=null))}_.attachEvent("onAfterBatchUpdate",function(){t&&_.autoSchedule(),t=!1}),_.attachEvent("onAfterLinkUpdate",n),_.attachEvent("onAfterLinkAdd",n),_.attachEvent("onAfterLinkDelete",function(S,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress&&_.isTaskExists(w.target)){var x=_.getTask(w.target),T=_._getPredecessors(x);T.length&&(_.getState().batch_update?t=!0:_.autoSchedule(T[0].source,!1))}}),_.attachEvent("onParse",function(){_.config.auto_scheduling&&_.config.auto_scheduling_initial&&_.autoSchedule()}),_.attachEvent("onBeforeLinkAdd",r),_.attachEvent("onBeforeLinkAdd",o),_.attachEvent("onBeforeLinkUpdate",r),_.attachEvent("onBeforeLinkUpdate",o),_.attachEvent("onBeforeTaskDrag",function(S,w,x){return _.config.auto_scheduling&&_.config.auto_scheduling_move_projects&&("progress"!==_.getState().drag_mode&&(a=h(S)),e=S),!0});var v,k=null;if(_.ext&&_.ext.inlineEditors){var b={start_date:!0,end_date:!0,duration:!0,constraint_type:!0,constraint_date:!0};_.ext.inlineEditors.attachEvent("onBeforeSave",function(S){return b[S.columnName]&&(k=S.id,"constraint_type"===S.columnName&&(v=!0),("duration"===S.columnName||"keepDuration"!==_.config.inline_editors_date_processing&&(_.config.schedule_from_end&&"start_date"===S.columnName||!_.config.schedule_from_end&&"end_date"===S.columnName))&&(_.getTask(S.id).$keep_constraints=!0)),!0})}_.attachEvent("onBeforeTaskChanged",function(S,w,x){return function(S,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var x=_.getTask(S),T=_.config.auto_scheduling_use_progress&&1===w.progress!=(1===x.progress);d(w,x)&&(g(x,w)||p(x),_.config.auto_scheduling_move_projects&&e==S?(_.calculateDuration(w)!==_.calculateDuration(x)&&function(E,I){for(var L=!1,N=0;N<a.length;N++){var z=_.getLink(I[N].id);!z||z.type!==_.config.links.start_to_start&&z.type!==_.config.links.start_to_finish||(I.splice(N,1),N--,L=!0)}if(L){var U={};for(N=0;N<I.length;N++)U[I[N].id]=!0;var W=h(E);for(N=0;N<W.length;N++)U[W[N].id]||I.push(W[N])}}(S,a),T?_.autoSchedule():_._autoSchedule(S,a)):_.autoSchedule(x.id),y(x))}return a=null,e=null,!0}(S,x)}),_.ext.inlineEditors&&_.ext.inlineEditors.attachEvent("onBeforeSave",function(S){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var w=_.ext.inlineEditors.getEditorConfig(S.columnName);"start_date"!==w.map_to&&"end_date"!==w.map_to&&"duration"!==w.map_to||(k=S.id)}return!0}),_.attachEvent("onLightboxSave",function(S,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){v=!1;var x=_.getTask(S);d(w,x)&&(k=S,g(w,x)&&(w.$keep_constraints=!0),_.getConstraintType(w)===_.getConstraintType(x)&&+w.constraint_date==+x.constraint_date||(v=!0))}return!0}),_.attachEvent("onAfterTaskUpdate",function(S,w){return _.config.auto_scheduling&&!_._autoscheduling_in_progress&&null!==k&&k==S&&(k=null,w.$keep_constraints?delete w.$keep_constraints:v||p(w),_.autoSchedule(w.id),v||y(w)),!0})};_.attachEvent("onGanttReady",function(){i()},{once:!0})}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.LoopsFinder=function(l,s,u){var i=this;this.isCircularLink=function(a){return!!i.getLoopContainingLink(a)},this.getLoopContainingLink=function(a){var e=i._graphHelper,n=i._gantt,r=i._linksBuilder.getLinkedTasks();n.isLinkExists(a.id)||(r=r.concat(n._formatLink(a)));for(var o=e.findLoops(r),c=0;c<o.length;c++)for(var d=o[c].links,h=0;h<d.length;h++)if(d[h]==a.id)return o[c];return null},this.findCycles=function(){var a=i._graphHelper,e=i._linksBuilder.getLinkedTasks();return a.findLoops(e)},this._linksBuilder=u,this._graphHelper=s,this._gantt=l}},function($,C,f){"use strict";function _(s,u,i){for(var a,e=[s],t=[],n={},r={};e.length>0;)if(!i[a=e.shift()]){i[a]=!0,t.push(a);for(var o=0;o<u.length;o++){var c=u[o];c.source==a||c.sourceParent==a?(i[c.target]||(e.push(c.target),r[c.id]=!0,u.splice(o,1),o--),n[c.hashSum]=c):c.target!=a&&c.targetParent!=a||(i[c.source]||(e.push(c.source),r[c.id]=!0,u.splice(o,1),o--),n[c.hashSum]=c)}}var d=[],h=[];for(var o in r)d.push(o);for(var o in n)h.push(n[o]);return{tasks:t,links:d,processedLinks:h}}Object.defineProperty(C,"__esModule",{value:!0}),C.ConnectedGroupsHelper=function(s,u){var i=this;this.getConnectedGroupRelations=function(a){return _(a,i._linksBuilder.getLinkedTasks(),{}).processedLinks},this.getConnectedGroup=function(a){var e=i._linksBuilder.getLinkedTasks();if(void 0!==a){if(i._gantt.getTask(a).type===i._gantt.config.types.project)return{tasks:[],links:[]};var t=_(a,e,{});return{tasks:t.tasks,links:t.links}}return function(n){for(var r,o,c,d={},h=[],g=0;g<n.length;g++)if(o=n[g].target,c=null,d[r=n[g].source]?d[o]||(c=o):c=r,c){var p=n.length;h.push(_(c,n,d)),p!==n.length&&(g=-1)}return h}(e).map(function(n){return{tasks:n.tasks,links:n.links}})},this._linksBuilder=u,this._gantt=s}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(72),l=f(23),s=function(){function u(){}return u.Create=function(i){var a=new u;return a._gantt=i,a._comparator=new _.default(i),a},u.prototype.resolveRelationDate=function(i,a,e){for(var t=null,n=null,r=null,o=this._gantt.getTask(i),c=a.predecessors,d=null,h=0;h<c.length;h++){var g=c[h];r=g.preferredStart;var p=this.getEarliestStartDate(g,e,o);this._comparator.isSmallerOrDefault(d,p,o)&&(d=p),this._comparator.isSmallerOrDefault(r,p,o)&&this._comparator.isSmallerOrDefault(t,p,o)&&(t=p,n=g.id)}!c.length&&this._gantt.config.project_start&&((this._comparator.isSmallerOrDefault(o.start_date,this._gantt.config.project_start,o)||this._gantt.config.auto_scheduling_strict&&this._comparator.isGreaterOrDefault(o.start_date,this._gantt.config.project_start,o))&&(t=this._gantt.config.project_start),!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[o,o.start_date])&&(t=o.start_date));var y=null;t&&(o.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:o}),y=this._gantt.calculateEndDate({start_date:t,duration:o.duration,task:o})):t=y=this._gantt.getClosestWorkTime({date:t,dir:"past",task:o}));var m=l.TaskPlan.Create(e[i]);return m.link=n,m.task=i,m.start_date=t,m.end_date=y,m.kind="asap",d&&(m.earliestSchedulingStart=d,m.earliestSchedulingEnd=this._gantt.calculateEndDate({start_date:d,duration:o.duration,task:o})),m},u.prototype.getPredecessorEndDate=function(i,a){var e=a[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.end_date?e.end_date:this._gantt.calculateEndDate({start_date:e.start_date,duration:t.duration,task:t}):t.end_date},u.prototype.getEarliestStartDate=function(i,a,e){var t,n=this.getPredecessorEndDate(i.source,a),r=e,o=this._gantt.getTask(i.source);if(n&&i.lag&&1*i.lag==1*i.lag)t=this._gantt.getClosestWorkTime({date:n,dir:"future",task:o}),i.sourceLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.sourceLag,task:o})),i.targetLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.targetLag,task:r})),t=this._gantt.calculateEndDate({start_date:t,duration:1*i.trueLag,task:r});else{var c=this._gantt.getLink(i.id).type===this._gantt.config.links.finish_to_finish;t=this._gantt.getClosestWorkTime(!r.duration&&c?{date:n,dir:"past",task:r}:{date:n,dir:"future",task:r})}return t},u}();C.AsapStrategy=s},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(72),l=f(23),s=function(){function u(){}return u.Create=function(i){var a=new u;return a._gantt=i,a._comparator=new _.default(i),a},u.prototype.resolveRelationDate=function(i,a,e){for(var t=null,n=null,r=null,o=null,c=this._gantt.getTask(i),d=a.successors,h=null,g=e[i],p=0;p<d.length;p++){var y=d[p];o=y.preferredStart;var v=this.getLatestEndDate(y,e,c),m=this._gantt.calculateEndDate({start_date:v,duration:-c.duration,task:c});this._comparator.isGreaterOrDefault(h,v,c)&&(h=v),this._comparator.isGreaterOrDefault(o,m,c)&&this._comparator.isGreaterOrDefault(t,v,c)&&(t=v,r=m,n=y.id)}!d.length&&this._gantt.config.project_end&&(this._comparator.isGreaterOrDefault(this._gantt.config.project_end,c.end_date,c)&&(t=this._gantt.config.project_end),!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[c,c.end_date])&&(t=c.end_date)),t&&(c.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:c}),r=this._gantt.calculateEndDate({start_date:t,duration:-c.duration,task:c})):r=t=this._gantt.getClosestWorkTime({date:t,dir:"past",task:c}));var k=l.TaskPlan.Create(g);return k.link=n,k.task=i,k.end_date=t,k.start_date=r,k.kind="alap",h&&(k.latestSchedulingStart=this._gantt.calculateEndDate({start_date:h,duration:-c.duration,task:c}),k.latestSchedulingEnd=h),k},u.prototype.getSuccessorStartDate=function(i,a){var e=a[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.start_date?e.start_date:this._gantt.calculateEndDate({start_date:e.end_date,duration:-t.duration,task:t}):t.start_date},u.prototype.getLatestEndDate=function(i,a,e){var t=this.getSuccessorStartDate(i.target,a),n=e,r=this._gantt.getClosestWorkTime({date:t,dir:"past",task:n});return r&&i.lag&&1*i.lag==1*i.lag&&(r=this._gantt.calculateEndDate({start_date:r,duration:1*-i.lag,task:n})),r},u}();C.AlapStrategy=s},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(321),l=f(320),s=f(36),u=f(23),i=function(){function a(e,t,n){this._gantt=e,this._constraintsHelper=n,this._graphHelper=t,this._asapStrategy=l.AsapStrategy.Create(e),this._alapStrategy=_.AlapStrategy.Create(e)}return a.prototype.generatePlan=function(e,t){var r=this._gantt,o=this._constraintsHelper,c=this._alapStrategy,d=this._asapStrategy,h=this.buildWorkCollections(e,t,this._graphHelper),g=h.orderedIds,p=h.reversedIds,y=h.relationsMap,v=h.plansHash;return this.processConstraints(g,v,r,o),r.config.schedule_from_end?this.iterateTasks(p,g,o.isAlapTask,c,d,y,v):this.iterateTasks(g,p,o.isAsapTask,d,c,y,v)},a.prototype.applyProjectPlan=function(e){for(var t,n,r,o,c=this._gantt,d=[],h=0;h<e.length;h++)if(r=null,o=null,c.isTaskExists((t=e[h]).task)){n=c.getTask(t.task),t.link&&(r=c.getLink(t.link),o=this._gantt.getTask("asap"===t.kind?r.source:r.target));var g=null;t.start_date&&n.start_date.valueOf()!==t.start_date.valueOf()&&(g=t.start_date),g&&(n.start_date=g,n.end_date=c.calculateEndDate(n),d.push(n.id),c.callEvent("onAfterTaskAutoSchedule",[n,g,r,o]))}return d},a.prototype.iterateTasks=function(e,t,n,r,o,c,d){for(var h=this._gantt,g=[],p=0;p<e.length;p++){var y=e[p];if(!1!==(m=h.getTask(y)).auto_scheduling){var v=r.resolveRelationDate(y,c[y],d);this.limitPlanDates(m,v),n(m)?this.processResolvedDate(m,v,g,d):d[m.id]=v}}for(p=0;p<t.length;p++){var m;!1!==(m=h.getTask(y=t[p])).auto_scheduling&&!n(m)&&(v=o.resolveRelationDate(y,c[y],d),this.limitPlanDates(m,v),this.processResolvedDate(m,v,g,d))}return g},a.prototype.processResolvedDate=function(e,t,n,r){if(t.start_date&&this._gantt.isLinkExists(t.link)){var o=null,c=null;if(t.link&&(o=this._gantt.getLink(t.link),c=this._gantt.getTask("asap"===t.kind?o.source:o.target)),e.start_date.valueOf()!==t.start_date.valueOf()&&!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[e,t.start_date,o,c]))return}r[e.id]=t,t.start_date&&n.push(t)},a.prototype.limitPlanDates=function(e,t){var n=t.start_date||e.start_date;return t.earliestStart&&n<t.earliestStart&&(t.start_date=t.earliestStart,t.end_date=t.earliestEnd),t.latestStart&&n>t.latestStart&&(t.start_date=t.latestStart,t.end_date=t.latestEnd),t.latestSchedulingStart&&n>t.latestSchedulingStart&&(t.start_date=t.latestSchedulingStart,t.end_date=t.latestSchedulingEnd),t.earliestSchedulingStart&&n<t.earliestSchedulingStart&&(t.start_date=t.earliestSchedulingStart,t.end_date=t.earliestSchedulingEnd),t.start_date&&(t.start_date>t.latestSchedulingStart||t.start_date<t.earliestSchedulingStart||t.start_date>t.latestStart||t.start_date<t.earliestStart||t.end_date>t.latestSchedulingEnd||t.end_date<t.earliestSchedulingEnd||t.end_date>t.latestEnd||t.end_date<t.earliestEnd)&&(t.conflict=!0),t},a.prototype.buildWorkCollections=function(e,t,n){for(var r=this._gantt,o=n.topologicalSort(e),c=o.slice().reverse(),d={},h={},g=0,p=o.length;g<p;g++){var y=o[g];!1!==(v=r.getTask(y)).auto_scheduling&&(h[y]={successors:[],predecessors:[]},d[y]=null)}for(g=0,p=t.length;g<p;g++){var v;void 0===d[(v=t[g]).id]&&(c.unshift(v.id),o.unshift(v.id),d[v.id]=null,h[v.id]={successors:[],predecessors:[]})}for(g=0,p=e.length;g<p;g++){var m=e[g];h[m.source]&&h[m.source].successors.push(m),h[m.target]&&h[m.target].predecessors.push(m)}return{orderedIds:o,reversedIds:c,relationsMap:h,plansHash:d}},a.prototype.processConstraints=function(e,t,n,r){for(var o=0;o<e.length;o++){var d=n.getTask(e[o]),h=r.getConstraintType(d);if(h&&h!==s.ConstraintTypes.ASAP&&h!==s.ConstraintTypes.ALAP){var g=r.processConstraint(d,u.TaskPlan.Create());t[d.id]=g}}},a}();C.AutoSchedulingPlanner=i},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(2),l=f(36),s=f(23),u=function(){function i(a){var e=this;this.isAsapTask=function(t){var n=e.getConstraintType(t);return e._gantt.config.schedule_from_end?n===l.ConstraintTypes.ASAP:n!==l.ConstraintTypes.ALAP},this.isAlapTask=function(t){return!e.isAsapTask(t)},this.getConstraintType=function(t){if(!1!==t.auto_scheduling){var n=e._getTaskConstraint(t);return n.constraint_type?n.constraint_type:e._gantt.config.schedule_from_end?l.ConstraintTypes.ALAP:l.ConstraintTypes.ASAP}},this._getTaskConstraint=function(t){var n=e._getOwnConstraint(t);if(e._gantt.config.auto_scheduling_project_constraint){var r=l.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(r=l.ConstraintTypes.ALAP),(n&&n.constraint_type)!==r&&n||(n=e._getParentConstraint(t))}return n},this._getOwnConstraint=function(t){return{constraint_type:t.constraint_type,constraint_date:t.constraint_date}},this._getParentConstraint=function(t){var n=l.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(n=l.ConstraintTypes.ALAP);var r={constraint_type:n,constraint_date:null};return e._gantt.eachParent(function(o){r.constraint_type===n&&o.constraint_type&&o.constraint_type!==n&&(r={constraint_type:o.constraint_type,constraint_date:o.constraint_date})},t.id),r},this.hasConstraint=function(t){return!!e.getConstraintType(t)},this.processConstraint=function(t,n){var r=e._getTaskConstraint(t);if(r&&r.constraint_type!==l.ConstraintTypes.ALAP&&r.constraint_type!==l.ConstraintTypes.ASAP&&_.isValidDate(r.constraint_date)){var o=r.constraint_date,c=s.TaskPlan.Create(n);switch(c.task=t.id,r.constraint_type){case l.ConstraintTypes.SNET:c.earliestStart=new Date(o),c.earliestEnd=e._gantt.calculateEndDate({start_date:c.earliestStart,duration:t.duration,task:t}),c.link=null;break;case l.ConstraintTypes.SNLT:c.latestStart=new Date(o),c.latestEnd=e._gantt.calculateEndDate({start_date:c.latestStart,duration:t.duration,task:t}),c.link=null;break;case l.ConstraintTypes.FNET:c.earliestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),c.earliestEnd=new Date(o),c.link=null;break;case l.ConstraintTypes.FNLT:c.latestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),c.latestEnd=new Date(o),c.link=null;break;case l.ConstraintTypes.MSO:c.earliestStart=new Date(o),c.earliestEnd=e._gantt.calculateEndDate({start_date:c.earliestStart,duration:t.duration,task:t}),c.latestStart=c.earliestStart,c.latestEnd=c.earliestEnd,c.link=null;break;case l.ConstraintTypes.MFO:c.earliestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),c.earliestEnd=e._gantt.calculateEndDate({start_date:c.earliestStart,duration:t.duration,task:t}),c.latestStart=c.earliestStart,c.latestEnd=c.earliestEnd,c.link=null}return c}return n},this.getConstraints=function(t,n){var r,o=[],c={},d=function(v){c[v.id]||e.hasConstraint(v)&&!e._gantt.isSummaryTask(v)&&(c[v.id]=v)};if(e._gantt.isTaskExists(t)){var h=e._gantt.getTask(t);d(h)}if(e._gantt.eachTask(function(v){return d(v)},t),n)for(var g=0;g<n.length;g++){var p=n[g];c[p.target]||(r=e._gantt.getTask(p.target),d(r)),c[p.source]||(r=e._gantt.getTask(p.source),d(r))}for(var y in c)c[y].type!==e._gantt.config.types.placeholder&&o.push(c[y]);return o},this._gantt=a}return i.Create=function(a){return new i(a)},i}();C.ConstraintsHelper=u},function($,C,f){$.exports=function(_){f(76)(_),f(75)(_);var l=f(74)(_),s=f(73)(_),u=f(36).ConstraintTypes,i=f(323).ConstraintsHelper.Create(_),a=new(f(322).AutoSchedulingPlanner)(_,s,i),e=new(f(319).ConnectedGroupsHelper)(_,l),t=new(f(318).LoopsFinder)(_,s,l);_.getConnectedGroup=e.getConnectedGroup,_.getConstraintType=i.getConstraintType,_.getConstraintLimitations=function(r){var o=i.processConstraint(r,null);return o?{earliestStart:o.earliestStart||null,earliestEnd:o.earliestEnd||null,latestStart:o.latestStart||null,latestEnd:o.latestEnd||null}:{earliestStart:null,earliestEnd:null,latestStart:null,latestEnd:null}},_.isCircularLink=t.isCircularLink,_.findCycles=t.findCycles,_.config.constraint_types=u,_.config.auto_scheduling=!1,_.config.auto_scheduling_descendant_links=!1,_.config.auto_scheduling_initial=!0,_.config.auto_scheduling_strict=!1,_.config.auto_scheduling_move_projects=!0,_.config.project_start=null,_.config.project_end=null,_.config.schedule_from_end=!1;var n=!1;_.attachEvent("onParse",function(){return n=!0,!0}),_.attachEvent("onBeforeGanttRender",function(){return n=!1,!0}),_._autoSchedule=function(r,o){if(!1!==_.callEvent("onBeforeAutoSchedule",[r])){_._autoscheduling_in_progress=!0;var c=i.getConstraints(r,_.isTaskExists(r)?o:null),d=[],h=s.findLoops(o);if(h.length)_.callEvent("onAutoScheduleCircularLink",[h]);else{!function(p,y){if(_.config.auto_scheduling_compatibility)for(var v=0;v<y.length;v++){var m=y[v],k=_.getTask(m.target);_.config.auto_scheduling_strict&&m.target!=p||(m.preferredStart=new Date(k.start_date))}}(r,o);var g=a.generatePlan(o,c);(p=d=a.applyProjectPlan(g)).length&&_.batchUpdate(function(){for(var y=0;y<p.length;y++)_.updateTask(p[y])},n)}_._autoscheduling_in_progress=!1,_.callEvent("onAfterAutoSchedule",[r,d])}var p},_.autoSchedule=function(r,o){var c;o=void 0===o||!!o,c=void 0!==r?_.config.auto_scheduling_compatibility?l.getLinkedTasks(r,o):e.getConnectedGroupRelations(r):l.getLinkedTasks(),_._autoSchedule(r,c)},_.attachEvent("onTaskLoading",function(r){return r.constraint_date&&"string"==typeof r.constraint_date&&(r.constraint_date=_.date.parseDate(r.constraint_date,"parse_date")),r.constraint_type=_.getConstraintType(r),!0}),_.attachEvent("onTaskCreated",function(r){return r.constraint_type=_.getConstraintType(r),!0}),(0,f(317).attachUIHandlers)(_,l,t,e)}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(324),l=f(316),s=f(313),u=f(310),i=f(308),a=f(288),e=f(287),t=f(286),n=f(275),r=f(274),o=f(273),c=f(272),d=f(270),h=f(267);C.default={auto_scheduling:_,click_drag:l.default,critical_path:s,drag_timeline:u.default,fullscreen:a.default,keyboard_navigation:t,quick_info:c.default,tooltip:d.default,undo:h.default,grouping:e,marker:n,multiselect:r,overlay:o,export_api:i.default}},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(325),l=f(264),s=f(263),u=new l.default(s,_.default);C.Gantt=u;var i=u.getGanttInstance();C.gantt=i},function($,C,f){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var _=f(326);C.gantt=_.gantt,C.Gantt=_.Gantt;var l=f(77),s=f(17);s.gantt=_.gantt,s.Gantt=_.Gantt,_.Gantt.plugin(l.default),C.default=_.gantt}])}}]);