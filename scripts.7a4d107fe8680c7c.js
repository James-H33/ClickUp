!function(C,$){"object"==typeof exports&&"object"==typeof module?module.exports=$():"function"==typeof define&&define.amd?define("dhtmlxgantt",[],$):"object"==typeof exports?exports.dhtmlxgantt=$():C.dhtmlxgantt=$()}(window,function(){return function(C){var $={};function f(_){if($[_])return $[_].exports;var u=$[_]={i:_,l:!1,exports:{}};return C[_].call(u.exports,u,u.exports,f),u.l=!0,u.exports}return f.m=C,f.c=$,f.d=function(_,u,s){f.o(_,u)||Object.defineProperty(_,u,{enumerable:!0,get:s})},f.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},f.t=function(_,u){if(1&u&&(_=f(_)),8&u||4&u&&"object"==typeof _&&_&&_.__esModule)return _;var s=Object.create(null);if(f.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:_}),2&u&&"string"!=typeof _)for(var c in _)f.d(s,c,function(i){return _[i]}.bind(null,c));return s},f.n=function(_){var u=_&&_.__esModule?function(){return _.default}:function(){return _};return f.d(u,"a",u),u},f.o=function(_,u){return Object.prototype.hasOwnProperty.call(_,u)},f.p="/codebase/",f(f.s=327)}([function(C,$,f){function _(i){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var u,s=f(2),c={}.constructor.toString();C.exports={copy:function i(a){var e,t;if(a&&"object"==_(a))switch(!0){case s.isDate(a):t=new Date(a);break;case s.isArray(a):for(t=new Array(a.length),e=0;e<a.length;e++)t[e]=i(a[e]);break;default:for(e in t=a.constructor.toString()!==c?Object.create(a):{},a)Object.prototype.hasOwnProperty.apply(a,[e])&&(t[e]=i(a[e]))}return t||a},defined:function(i){return void 0!==i},mixin:function(i,a,e){for(var t in a)(void 0===i[t]||e)&&(i[t]=a[t]);return i},uid:function(){return u||(u=(new Date).valueOf()),++u},bind:function(i,a){return i.bind?i.bind(a):function(){return i.apply(a,arguments)}},event:function(i,a,e,t){i.addEventListener?i.addEventListener(a,e,void 0!==t&&t):i.attachEvent&&i.attachEvent("on"+a,e)},eventRemove:function(i,a,e,t){i.removeEventListener?i.removeEventListener(a,e,void 0!==t&&t):i.detachEvent&&i.detachEvent("on"+a,e)}}},function(C,$){function f(o){var l=0,d=0,h=0,g=0;if(o.getBoundingClientRect){var p=o.getBoundingClientRect(),y=document.body,v=document.documentElement||document.body.parentNode||document.body,m=window.pageYOffset||v.scrollTop||y.scrollTop,k=window.pageXOffset||v.scrollLeft||y.scrollLeft;l=p.top+m-(v.clientTop||y.clientTop||0),d=p.left+k-(v.clientLeft||y.clientLeft||0),h=document.body.offsetWidth-p.right,g=document.body.offsetHeight-p.bottom}else{for(;o;)l+=parseInt(o.offsetTop,10),d+=parseInt(o.offsetLeft,10),o=o.offsetParent;h=document.body.offsetWidth-o.offsetWidth-d,g=document.body.offsetHeight-o.offsetHeight-l}return{y:Math.round(l),x:Math.round(d),width:o.offsetWidth,height:o.offsetHeight,right:Math.round(h),bottom:Math.round(g)}}function _(o){var l=!1,d=!1;if(window.getComputedStyle){var h=window.getComputedStyle(o,null);l=h.display,d=h.visibility}else o.currentStyle&&(l=o.currentStyle.display,d=o.currentStyle.visibility);return"none"!=l&&"hidden"!=d}function u(o){return!isNaN(o.getAttribute("tabindex"))&&1*o.getAttribute("tabindex")>=0}function s(o){return!{a:!0,area:!0}[o.nodeName.loLowerCase()]||!!o.getAttribute("href")}function c(o){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[o.nodeName.toLowerCase()]||!o.hasAttribute("disabled")}function i(o){if(!o)return"";var l=o.className||"";return l.baseVal&&(l=l.baseVal),l.indexOf||(l=""),t(l)}var a;function e(o){var l;return o.tagName?l=o:(l=(o=o||window.event).target||o.srcElement).shadowRoot&&o.composedPath&&(l=o.composedPath()[0]),l}function t(o){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(o)}function n(){return document.head.createShadowRoot||document.head.attachShadow}function r(o){if(!o||!n())return document.body;for(;o.parentNode&&(o=o.parentNode);)if(o instanceof ShadowRoot)return o.host;return document.body}C.exports={getNodePosition:f,getFocusableNodes:function(o){for(var l=o.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(l,0),h=0;h<d.length;h++)d[h].$position=h;for(d.sort(function(p,y){return 0===p.tabIndex&&0!==y.tabIndex?1:0!==p.tabIndex&&0===y.tabIndex?-1:p.tabIndex===y.tabIndex?p.$position-y.$position:p.tabIndex<y.tabIndex?-1:1}),h=0;h<d.length;h++){var g=d[h];(u(g)||c(g)||s(g))&&_(g)||(d.splice(h,1),h--)}return d},getScrollSize:function(){var o=document.createElement("div");o.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(o);var l=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),l},getClassName:i,addClassName:function(o,l){l&&-1===o.className.indexOf(l)&&(o.className+=" "+l)},removeClassName:function(o,l){l=l.split(" ");for(var d=0;d<l.length;d++){var h=new RegExp("\\s?\\b"+l[d]+"\\b(?![-_.])","");o.className=o.className.replace(h,"")}},insertNode:function(o,l){a||(a=document.createElement("div")),a.innerHTML=l;var d=a.firstChild;return o.appendChild(d),d},removeNode:function(o){o&&o.parentNode&&o.parentNode.removeChild(o)},getChildNodes:function(o,l){for(var d=o.childNodes,h=d.length,g=[],p=0;p<h;p++){var y=d[p];y.className&&-1!==y.className.indexOf(l)&&g.push(y)}return g},toNode:function(o){return"string"==typeof o?document.getElementById(o)||document.querySelector(o)||document.body:o||document.body},locateClassName:function(o,l,d){var h=e(o),g="";for(void 0===d&&(d=!0);h;){if(g=i(h)){var p=g.indexOf(l);if(p>=0){if(!d)return h;var y=0===p||!t(g.charAt(p-1)),v=p+l.length>=g.length||!t(g.charAt(p+l.length));if(y&&v)return h}}h=h.parentNode}return null},locateAttribute:function(o,l){if(l){for(var d=e(o);d;){if(d.getAttribute&&d.getAttribute(l))return d;d=d.parentNode}return null}},getTargetNode:e,getRelativeEventPosition:function(o,l){var d=document.documentElement,h=f(l);return{x:o.clientX+d.scrollLeft-d.clientLeft-h.x+l.scrollLeft,y:o.clientY+d.scrollTop-d.clientTop-h.y+l.scrollTop}},isChildOf:function(o,l){if(!o||!l)return!1;for(;o&&o!=l;)o=o.parentNode;return o===l},hasClass:function(o,l){return"classList"in o?o.classList.contains(l):new RegExp("\\b"+l+"\\b").test(o.className)},closest:function(o,l){if(o.closest)return o.closest(l);if(o.matches||o.msMatchesSelector||o.webkitMatchesSelector){var d=o;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,l))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}return console.error("Your browser is not supported"),null},getRootNode:r,hasShadowParent:function(o){return!!r(o)},isShadowDomSupported:n,getActiveElement:function(){var o=document.activeElement;return o.shadowRoot&&(o=o.shadowRoot.activeElement),o===document.body&&document.getSelection&&(o=document.getSelection().focusNode||document.body),o}}},function(C,$){function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var _={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function u(i){return!(!i||"object"!==f(i)||!(i.getFullYear&&i.getMonth&&i.getDate))}function s(i,a){var e=[];if(i.filter)return i.filter(a);for(var t=0;t<i.length;t++)a(i[t],t)&&(e[e.length]=i[t]);return e}function c(i){return 0===i}C.exports={getSecondsInUnit:function(i){return _[i]||_.hour},forEach:function(i,a){if(i.forEach)i.forEach(a);else for(var e=i.slice(),t=0;t<e.length;t++)a(e[t],t)},arrayMap:function(i,a){if(i.map)return i.map(a);for(var e=i.slice(),t=[],n=0;n<e.length;n++)t.push(a(e[n],n));return t},arrayIncludes:function(i,a){if(i.includes)return i.includes(a);for(var e=0;e<i.length;e++)if(i[e]===a)return!0;return!1},arrayFind:function(i,a){if(i.find)return i.find(a);for(var e=0;e<i.length;e++)if(a(i[e],e))return i[e]},arrayFilter:s,arrayDifference:function(i,a){return s(i,function(e,t){return!a(e,t)})},arraySome:function(i,a){if(0===i.length)return!1;for(var e=0;e<i.length;e++)if(a(i[e],e,i))return!0;return!1},hashToArray:function(i){var a=[];for(var e in i)i.hasOwnProperty(e)&&a.push(i[e]);return a},sortArrayOfHash:function(i,a,e){var t=function(n,r){return n<r};i.sort(function(n,r){return n[a]===r[a]?0:e?t(n[a],r[a]):t(r[a],n[a])})},throttle:function(i,a){var e=!1;return function(){e||(i.apply(null,arguments),e=!0,setTimeout(function(){e=!1},a))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&void 0!==i.length&&i.pop&&i.push},isDate:u,isValidDate:function(i){return u(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&"object"===f(i)&&"function String() { [native code] }"===Function.prototype.toString.call(i.constructor)},isNumberObject:function(i){return i&&"object"===f(i)&&"function Number() { [native code] }"===Function.prototype.toString.call(i.constructor)},isBooleanObject:function(i){return i&&"object"===f(i)&&"function Boolean() { [native code] }"===Function.prototype.toString.call(i.constructor)},delay:function(i,a){var e,t=function n(){n.$cancelTimeout(),n.$pending=!0;var r=Array.prototype.slice.call(arguments);e=setTimeout(function(){i.apply(this,r),n.$pending=!1},a)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(e),t.$pending=!1},t.$execute=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var a,e=[];for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.push(a);return e},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,a){return c(i)&&!c(a)&&(i="0"),i},checkZeroId:c,findBinary:function(i,a){for(var e,t,n,r=0,o=i.length-1;r<=o;)if(t=+i[e=Math.floor((r+o)/2)],n=+i[e-1],t<a)r=e+1;else{if(!(t>a)){for(;+i[e]==+i[e+1];)e++;return e}if(!isNaN(n)&&n<a)return e-1;o=e-1}return i.length-1}}},function(C,$){C.exports=function(f,_){for(var u in _)_.hasOwnProperty(u)&&(f[u]=_[u]);function s(){this.constructor=f}f.prototype=null===_?Object.create(_):(s.prototype=_.prototype,new s)}},function(C,$){function f(u){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch{"object"===(typeof window>"u"?"undefined":f(window))&&(_=window)}C.exports=_},function(C,$){var f=function(){this._silent_mode=!1,this.listeners={}};f.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}},C.exports=function(u){var s=new f;u.attachEvent=function(c,i,a){c="ev_"+c.toLowerCase(),s.listeners[c]||(s.listeners[c]=function(u){var s={},c=0,i=function(){var a=!0;for(var e in s){var t=s[e].apply(u,arguments);a=a&&t}return a};return i.addEvent=function(a,e){if("function"==typeof a){var t;if(e&&e.id?t=e.id:(t=c,c++),e&&e.once){var n=a;a=function(){n(),i.removeEvent(t)}}return s[t]=a,t}return!1},i.removeEvent=function(a){delete s[a]},i.clear=function(){s={}},i}(this)),a&&a.thisObject&&(i=i.bind(a.thisObject));var e=c+":"+s.listeners[c].addEvent(i,a);return a&&a.id&&(e=a.id),e},u.attachAll=function(c){this.attachEvent("listen_all",c)},u.callEvent=function(c,i){if(s._silent_mode)return!0;var a="ev_"+c.toLowerCase(),e=s.listeners;return e.ev_listen_all&&e.ev_listen_all.apply(this,[c].concat(i)),!e[a]||e[a].apply(this,i)},u.checkEvent=function(c){return!!s.listeners["ev_"+c.toLowerCase()]},u.detachEvent=function(c){if(c){var i=s.listeners;for(var a in i)i[a].removeEvent(c);var e=c.split(":");if(i=s.listeners,2===e.length){var t=e[0];i[t]&&i[t].removeEvent(e[1])}}},u.detachAllEvents=function(){for(var c in s.listeners)s.listeners[c].clear()}}},function(C,$){C.exports=function(f,_,u,s,c){var i=_.getItemIndexByTopPosition(c.y)||0,a=_.getItemIndexByTopPosition(c.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),a+1)}}},function(C,$){function f(){console.log("Method is not implemented.")}function _(){}_.prototype.render=f,_.prototype.set_value=f,_.prototype.get_value=f,_.prototype.focus=f,C.exports=function(u){return _}},function(C,$){var f=typeof window<"u",_={isIE:f&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:f&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:f&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:f&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:f&&navigator.userAgent.indexOf("Opera")>=0,isChrome:f&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:f&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:f&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:f&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:f&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!f||typeof navigator>"u"};C.exports=_},function(C,$){C.exports="function"==typeof Object.create?function(f,_){f.super_=_,f.prototype=Object.create(_.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:function(f,_){f.super_=_;var u=function(){};u.prototype=_.prototype,f.prototype=new u,f.prototype.constructor=f}},function(C,$){var f,_,u=C.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function i(h){if(f===setTimeout)return setTimeout(h,0);if((f===s||!f)&&setTimeout)return f=setTimeout,setTimeout(h,0);try{return f(h,0)}catch{try{return f.call(null,h,0)}catch{return f.call(this,h,0)}}}!function(){try{f="function"==typeof setTimeout?setTimeout:s}catch{f=s}try{_="function"==typeof clearTimeout?clearTimeout:c}catch{_=c}}();var a,e=[],t=!1,n=-1;function r(){t&&a&&(t=!1,a.length?e=a.concat(e):n=-1,e.length&&o())}function o(){if(!t){var h=i(r);t=!0;for(var g=e.length;g;){for(a=e,e=[];++n<g;)a&&a[n].run();n=-1,g=e.length}a=null,t=!1,function(p){if(_===clearTimeout)return clearTimeout(p);if((_===c||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(p);try{_(p)}catch{try{return _.call(null,p)}catch{return _.call(this,p)}}}(h)}}function l(h,g){this.fun=h,this.array=g}function d(){}u.nextTick=function(h){var g=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)g[p-1]=arguments[p];e.push(new l(h,g)),1!==e.length||t||i(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(h){return[]},u.binding=function(h){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(h){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(C,$){C.exports=function(f){var _=function(){};return _.prototype={show:function(u,s,c,i){},hide:function(){},set_value:function(u,s,c,i){this.get_input(i).value=u},get_value:function(u,s,c){return this.get_input(c).value||""},is_changed:function(u,s,c,i){var a=this.get_value(s,c,i);return a&&u&&a.valueOf&&u.valueOf?a.valueOf()!=u.valueOf():a!=u},is_valid:function(u,s,c,i){return!0},save:function(u,s,c){},get_input:function(u){return u.querySelector("input")},focus:function(u){var s=this.get_input(u);s&&(s.focus&&s.focus(),s.select&&s.select())}},_}},function(C,$,f){var _=f(0),u=f(5),s=f(1),c=function(){"use strict";function i(a,e,t,n){a&&(this.$container=s.toNode(a),this.$parent=a),this.$config=_.mixin(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+_.uid(),this.$name="cell",this.$factory=t,u(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(a){return null},i.prototype.scrollTo=function(a,e){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*a==a&&(t.scrollLeft=a),1*e==e&&(t.scrollTop=e)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(a){if(this.$parent)return this.$parent.resize(a);!1===a&&(this.$preResize=!0);var e=this.$container,t=e.offsetWidth,n=e.offsetHeight,r=this.getSize();e===document.body&&(t=document.body.offsetWidth,n=document.body.offsetHeight),t<r.minWidth&&(t=r.minWidth),t>r.maxWidth&&(t=r.maxWidth),n<r.minHeight&&(n=r.minHeight),n>r.maxHeight&&(n=r.maxHeight),this.setSize(t,n),this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(a){this._hide(!1),a&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(a){if(!0===a&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===a&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=a},i.prototype.$toHTML=function(a,e){void 0===a&&(a=""),e=[e||"",this.$config.css||""].join(" ");var t=this.$config,n="";return t.raw?a="string"==typeof t.raw?t.raw:"":(a||(a="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(n="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+a+"</div>"},i.prototype.$fill=function(a,e){this.$view=a,this.$parent=e,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var a=this;this._headerClickHandler=function(e){s.locateAttribute(e,"data-cell-id")==a.$id&&a.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var a={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e="x"===this.$config.mode;a[e?"width":"height"]=a[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return a},i.prototype.getContentSize=function(){var a=this.$lastSize.contentX;a!==1*a&&(a=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:a,height:e}},i.prototype._getBorderSizes=function(){var a={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(a.left=1,a.horizontal++),this._currentBorders[this._borders.right]&&(a.right=1,a.horizontal++),this._currentBorders[this._borders.top]&&(a.top=1,a.vertical++),this._currentBorders[this._borders.bottom]&&(a.bottom=1,a.vertical++)),a},i.prototype.setSize=function(a,e){this.$view.style.width=a+"px",this.$view.style.height=e+"px";var t=this._getBorderSizes();this.$lastSize={x:a,y:e,contentX:a-t.horizontal,contentY:e-t.vertical},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(a,e){e||(e=this);var t=e.$view;for(var n in this._borders)s.removeClassName(t,this._borders[n]);"string"==typeof a&&(a=[a]);var r={};for(n=0;n<a.length;n++)s.addClassName(t,a[n]),r[a[n]]=!0;e._currentBorders=r},i.prototype._sizeContent=function(){var a=this.$view.childNodes[0];a&&"gantt_layout_content"==a.className&&(a.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var a=this.$lastSize;a.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],t=this.$view.childNodes[1],n="x"===this.$config.mode;if(this.$config.collapsed)if(t.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=a.y+"px";var r=Math.floor(a.y/2-a.x/2);e.style.transform="rotate(90deg) translate("+r+"px, "+r+"px)",t.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",t.style.display="",t.style.height=a.contentY+"px";e.style.height=this.$config.headerHeight+"px"},i}();C.exports=c},function(C,$,f){"use strict";var _=f(22),u=Object.keys||function(l){var d=[];for(var h in l)d.push(h);return d};C.exports=n;var s=f(18);s.inherits=f(9);var c=f(67),i=f(63);s.inherits(n,c);for(var a=u(i.prototype),e=0;e<a.length;e++){var t=a[e];n.prototype[t]||(n.prototype[t]=i.prototype[t])}function n(l){if(!(this instanceof n))return new n(l);c.call(this,l),i.call(this,l),l&&!1===l.readable&&(this.readable=!1),l&&!1===l.writable&&(this.writable=!1),this.allowHalfOpen=!0,l&&!1===l.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||_.nextTick(o,this)}function o(l){l.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),n.prototype._destroy=function(l,d){this.push(null),this.end(),_.nextTick(d,l)}},function(C,$,f){"use strict";(function(_){var u=f(307),s=f(306),c=f(71);function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(D,M){if(i()<M)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(D=new Uint8Array(M)).__proto__=e.prototype:(null===D&&(D=new e(M)),D.length=M),D}function e(D,M,A){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(D,M,A);if("number"==typeof D){if("string"==typeof M)throw new Error("If encoding is specified then the first argument must be a string");return r(this,D)}return t(this,D,M,A)}function t(D,M,A,R){if("number"==typeof M)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer?function(j,U,K,Q){if(K<0||U.byteLength<K)throw new RangeError("'offset' is out of bounds");if(U.byteLength<K+(Q||0))throw new RangeError("'length' is out of bounds");return U=void 0===K&&void 0===Q?new Uint8Array(U):void 0===Q?new Uint8Array(U,K):new Uint8Array(U,K,Q),e.TYPED_ARRAY_SUPPORT?(j=U).__proto__=e.prototype:j=o(j,U),j}(D,M,A,R):"string"==typeof M?function(j,U,K){if("string"==typeof K&&""!==K||(K="utf8"),!e.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var Q=0|d(U,K),et=(j=a(j,Q)).write(U,K);return et!==Q&&(j=j.slice(0,et)),j}(D,M,A):function(j,U){if(e.isBuffer(U)){var K=0|l(U.length);return 0===(j=a(j,K)).length||U.copy(j,0,0,K),j}if(U){if(typeof ArrayBuffer<"u"&&U.buffer instanceof ArrayBuffer||"length"in U)return"number"!=typeof U.length||(Q=U.length)!=Q?a(j,0):o(j,U);if("Buffer"===U.type&&c(U.data))return o(j,U.data)}var Q;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(D,M)}function n(D){if("number"!=typeof D)throw new TypeError('"size" argument must be a number');if(D<0)throw new RangeError('"size" argument must not be negative')}function r(D,M){if(n(M),D=a(D,M<0?0:0|l(M)),!e.TYPED_ARRAY_SUPPORT)for(var A=0;A<M;++A)D[A]=0;return D}function o(D,M){var A=M.length<0?0:0|l(M.length);D=a(D,A);for(var R=0;R<A;R+=1)D[R]=255&M[R];return D}function l(D){if(D>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|D}function d(D,M){if(e.isBuffer(D))return D.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(D)||D instanceof ArrayBuffer))return D.byteLength;"string"!=typeof D&&(D=""+D);var A=D.length;if(0===A)return 0;for(var R=!1;;)switch(M){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return Y(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return B(D).length;default:if(R)return Y(D).length;M=(""+M).toLowerCase(),R=!0}}function h(D,M,A){var R=D[M];D[M]=D[A],D[A]=R}function g(D,M,A,R,j){if(0===D.length)return-1;if("string"==typeof A?(R=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=j?0:D.length-1),A<0&&(A=D.length+A),A>=D.length){if(j)return-1;A=D.length-1}else if(A<0){if(!j)return-1;A=0}if("string"==typeof M&&(M=e.from(M,R)),e.isBuffer(M))return 0===M.length?-1:p(D,M,A,R,j);if("number"==typeof M)return M&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?j?Uint8Array.prototype.indexOf.call(D,M,A):Uint8Array.prototype.lastIndexOf.call(D,M,A):p(D,[M],A,R,j);throw new TypeError("val must be string, number or Buffer")}function p(D,M,A,R,j){var U,K=1,Q=D.length,et=M.length;if(void 0!==R&&("ucs2"===(R=String(R).toLowerCase())||"ucs-2"===R||"utf16le"===R||"utf-16le"===R)){if(D.length<2||M.length<2)return-1;K=2,Q/=2,et/=2,A/=2}function at(dt,ut){return 1===K?dt[ut]:dt.readUInt16BE(ut*K)}if(j){var X=-1;for(U=A;U<Q;U++)if(at(D,U)===at(M,-1===X?0:U-X)){if(-1===X&&(X=U),U-X+1===et)return X*K}else-1!==X&&(U-=U-X),X=-1}else for(A+et>Q&&(A=Q-et),U=A;U>=0;U--){for(var rt=!0,ct=0;ct<et;ct++)if(at(D,U+ct)!==at(M,ct)){rt=!1;break}if(rt)return U}return-1}function y(D,M,A,R){A=Number(A)||0;var j=D.length-A;R?(R=Number(R))>j&&(R=j):R=j;var U=M.length;if(U%2!=0)throw new TypeError("Invalid hex string");R>U/2&&(R=U/2);for(var K=0;K<R;++K){var Q=parseInt(M.substr(2*K,2),16);if(isNaN(Q))return K;D[A+K]=Q}return K}function v(D,M,A,R){return tt(Y(M,D.length-A),D,A,R)}function m(D,M,A,R){return tt(function(j){for(var U=[],K=0;K<j.length;++K)U.push(255&j.charCodeAt(K));return U}(M),D,A,R)}function k(D,M,A,R){return m(D,M,A,R)}function b(D,M,A,R){return tt(B(M),D,A,R)}function S(D,M,A,R){return tt(function(j,U){for(var K,Q,at=[],X=0;X<j.length&&!((U-=2)<0);++X)Q=(K=j.charCodeAt(X))>>8,at.push(K%256),at.push(Q);return at}(M,D.length-A),D,A,R)}function x(D,M,A){return u.fromByteArray(0===M&&A===D.length?D:D.slice(M,A))}function w(D,M,A){A=Math.min(D.length,A);for(var R=[],j=M;j<A;){var U,K,Q,et,at=D[j],X=null,rt=at>239?4:at>223?3:at>191?2:1;if(j+rt<=A)switch(rt){case 1:at<128&&(X=at);break;case 2:128==(192&(U=D[j+1]))&&(et=(31&at)<<6|63&U)>127&&(X=et);break;case 3:K=D[j+2],128==(192&(U=D[j+1]))&&128==(192&K)&&(et=(15&at)<<12|(63&U)<<6|63&K)>2047&&(et<55296||et>57343)&&(X=et);break;case 4:K=D[j+2],Q=D[j+3],128==(192&(U=D[j+1]))&&128==(192&K)&&128==(192&Q)&&(et=(15&at)<<18|(63&U)<<12|(63&K)<<6|63&Q)>65535&&et<1114112&&(X=et)}null===X?(X=65533,rt=1):X>65535&&(R.push((X-=65536)>>>10&1023|55296),X=56320|1023&X),R.push(X),j+=rt}return function(ct){var dt=ct.length;if(dt<=T)return String.fromCharCode.apply(String,ct);for(var ut="",_t=0;_t<dt;)ut+=String.fromCharCode.apply(String,ct.slice(_t,_t+=T));return ut}(R)}$.Buffer=e,$.SlowBuffer=function(D){return+D!=D&&(D=0),e.alloc(+D)},$.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==_.TYPED_ARRAY_SUPPORT?_.TYPED_ARRAY_SUPPORT:function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===D.foo()&&"function"==typeof D.subarray&&0===D.subarray(1,1).byteLength}catch{return!1}}(),$.kMaxLength=i(),e.poolSize=8192,e._augment=function(D){return D.__proto__=e.prototype,D},e.from=function(D,M,A){return t(null,D,M,A)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(D,M,A){return R=null,U=M,K=A,n(j=D),j<=0?a(R,j):void 0!==U?"string"==typeof K?a(R,j).fill(U,K):a(R,j).fill(U):a(R,j);var R,j,U,K},e.allocUnsafe=function(D){return r(null,D)},e.allocUnsafeSlow=function(D){return r(null,D)},e.isBuffer=function(D){return!(null==D||!D._isBuffer)},e.compare=function(D,M){if(!e.isBuffer(D)||!e.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(D===M)return 0;for(var A=D.length,R=M.length,j=0,U=Math.min(A,R);j<U;++j)if(D[j]!==M[j]){A=D[j],R=M[j];break}return A<R?-1:R<A?1:0},e.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(D,M){if(!c(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return e.alloc(0);var A;if(void 0===M)for(M=0,A=0;A<D.length;++A)M+=D[A].length;var R=e.allocUnsafe(M),j=0;for(A=0;A<D.length;++A){var U=D[A];if(!e.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(R,j),j+=U.length}return R},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<D;M+=2)h(this,M,M+1);return this},e.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<D;M+=4)h(this,M,M+3),h(this,M+1,M+2);return this},e.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<D;M+=8)h(this,M,M+7),h(this,M+1,M+6),h(this,M+2,M+5),h(this,M+3,M+4);return this},e.prototype.toString=function(){var D=0|this.length;return 0===D?"":0===arguments.length?w(this,0,D):function(M,A,R){var j=!1;if((void 0===A||A<0)&&(A=0),A>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(A>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return P(this,A,R);case"utf8":case"utf-8":return w(this,A,R);case"ascii":return E(this,A,R);case"latin1":case"binary":return I(this,A,R);case"base64":return x(this,A,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,A,R);default:if(j)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),j=!0}}.apply(this,arguments)},e.prototype.equals=function(D){if(!e.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===e.compare(this,D)},e.prototype.inspect=function(){var D="",M=$.INSPECT_MAX_BYTES;return this.length>0&&(D=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(D+=" ... ")),"<Buffer "+D+">"},e.prototype.compare=function(D,M,A,R,j){if(!e.isBuffer(D))throw new TypeError("Argument must be a Buffer");if(void 0===M&&(M=0),void 0===A&&(A=D?D.length:0),void 0===R&&(R=0),void 0===j&&(j=this.length),M<0||A>D.length||R<0||j>this.length)throw new RangeError("out of range index");if(R>=j&&M>=A)return 0;if(R>=j)return-1;if(M>=A)return 1;if(this===D)return 0;for(var U=(j>>>=0)-(R>>>=0),K=(A>>>=0)-(M>>>=0),Q=Math.min(U,K),et=this.slice(R,j),at=D.slice(M,A),X=0;X<Q;++X)if(et[X]!==at[X]){U=et[X],K=at[X];break}return U<K?-1:K<U?1:0},e.prototype.includes=function(D,M,A){return-1!==this.indexOf(D,M,A)},e.prototype.indexOf=function(D,M,A){return g(this,D,M,A,!0)},e.prototype.lastIndexOf=function(D,M,A){return g(this,D,M,A,!1)},e.prototype.write=function(D,M,A,R){if(void 0===M)R="utf8",A=this.length,M=0;else if(void 0===A&&"string"==typeof M)R=M,A=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(A)?(A|=0,void 0===R&&(R="utf8")):(R=A,A=void 0)}var j=this.length-M;if((void 0===A||A>j)&&(A=j),D.length>0&&(A<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");for(var U=!1;;)switch(R){case"hex":return y(this,D,M,A);case"utf8":case"utf-8":return v(this,D,M,A);case"ascii":return m(this,D,M,A);case"latin1":case"binary":return k(this,D,M,A);case"base64":return b(this,D,M,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,D,M,A);default:if(U)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),U=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function E(D,M,A){var R="";A=Math.min(D.length,A);for(var j=M;j<A;++j)R+=String.fromCharCode(127&D[j]);return R}function I(D,M,A){var R="";A=Math.min(D.length,A);for(var j=M;j<A;++j)R+=String.fromCharCode(D[j]);return R}function P(D,M,A){var R=D.length;(!M||M<0)&&(M=0),(!A||A<0||A>R)&&(A=R);for(var j="",U=M;U<A;++U)j+=V(D[U]);return j}function L(D,M,A){for(var R=D.slice(M,A),j="",U=0;U<R.length;U+=2)j+=String.fromCharCode(R[U]+256*R[U+1]);return j}function H(D,M,A){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+M>A)throw new RangeError("Trying to access beyond buffer length")}function F(D,M,A,R,j,U){if(!e.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>j||M<U)throw new RangeError('"value" argument is out of bounds');if(A+R>D.length)throw new RangeError("Index out of range")}function z(D,M,A,R){M<0&&(M=65535+M+1);for(var j=0,U=Math.min(D.length-A,2);j<U;++j)D[A+j]=(M&255<<8*(R?j:1-j))>>>8*(R?j:1-j)}function W(D,M,A,R){M<0&&(M=4294967295+M+1);for(var j=0,U=Math.min(D.length-A,4);j<U;++j)D[A+j]=M>>>8*(R?j:3-j)&255}function N(D,M,A,R,j,U){if(A+R>D.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function O(D,M,A,R,j){return j||N(D,0,A,4),s.write(D,M,A,R,23,4),A+4}function q(D,M,A,R,j){return j||N(D,0,A,8),s.write(D,M,A,R,52,8),A+8}e.prototype.slice=function(D,M){var A,R=this.length;if((D=~~D)<0?(D+=R)<0&&(D=0):D>R&&(D=R),(M=void 0===M?R:~~M)<0?(M+=R)<0&&(M=0):M>R&&(M=R),M<D&&(M=D),e.TYPED_ARRAY_SUPPORT)(A=this.subarray(D,M)).__proto__=e.prototype;else{var j=M-D;A=new e(j,void 0);for(var U=0;U<j;++U)A[U]=this[U+D]}return A},e.prototype.readUIntLE=function(D,M,A){D|=0,M|=0,A||H(D,M,this.length);for(var R=this[D],j=1,U=0;++U<M&&(j*=256);)R+=this[D+U]*j;return R},e.prototype.readUIntBE=function(D,M,A){D|=0,M|=0,A||H(D,M,this.length);for(var R=this[D+--M],j=1;M>0&&(j*=256);)R+=this[D+--M]*j;return R},e.prototype.readUInt8=function(D,M){return M||H(D,1,this.length),this[D]},e.prototype.readUInt16LE=function(D,M){return M||H(D,2,this.length),this[D]|this[D+1]<<8},e.prototype.readUInt16BE=function(D,M){return M||H(D,2,this.length),this[D]<<8|this[D+1]},e.prototype.readUInt32LE=function(D,M){return M||H(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},e.prototype.readUInt32BE=function(D,M){return M||H(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},e.prototype.readIntLE=function(D,M,A){D|=0,M|=0,A||H(D,M,this.length);for(var R=this[D],j=1,U=0;++U<M&&(j*=256);)R+=this[D+U]*j;return R>=(j*=128)&&(R-=Math.pow(2,8*M)),R},e.prototype.readIntBE=function(D,M,A){D|=0,M|=0,A||H(D,M,this.length);for(var R=M,j=1,U=this[D+--R];R>0&&(j*=256);)U+=this[D+--R]*j;return U>=(j*=128)&&(U-=Math.pow(2,8*M)),U},e.prototype.readInt8=function(D,M){return M||H(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},e.prototype.readInt16LE=function(D,M){M||H(D,2,this.length);var A=this[D]|this[D+1]<<8;return 32768&A?4294901760|A:A},e.prototype.readInt16BE=function(D,M){M||H(D,2,this.length);var A=this[D+1]|this[D]<<8;return 32768&A?4294901760|A:A},e.prototype.readInt32LE=function(D,M){return M||H(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},e.prototype.readInt32BE=function(D,M){return M||H(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},e.prototype.readFloatLE=function(D,M){return M||H(D,4,this.length),s.read(this,D,!0,23,4)},e.prototype.readFloatBE=function(D,M){return M||H(D,4,this.length),s.read(this,D,!1,23,4)},e.prototype.readDoubleLE=function(D,M){return M||H(D,8,this.length),s.read(this,D,!0,52,8)},e.prototype.readDoubleBE=function(D,M){return M||H(D,8,this.length),s.read(this,D,!1,52,8)},e.prototype.writeUIntLE=function(D,M,A,R){D=+D,M|=0,A|=0,R||F(this,D,M,A,Math.pow(2,8*A)-1,0);var j=1,U=0;for(this[M]=255&D;++U<A&&(j*=256);)this[M+U]=D/j&255;return M+A},e.prototype.writeUIntBE=function(D,M,A,R){D=+D,M|=0,A|=0,R||F(this,D,M,A,Math.pow(2,8*A)-1,0);var j=A-1,U=1;for(this[M+j]=255&D;--j>=0&&(U*=256);)this[M+j]=D/U&255;return M+A},e.prototype.writeUInt8=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,1,255,0),e.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),this[M]=255&D,M+1},e.prototype.writeUInt16LE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8):z(this,D,M,!0),M+2},e.prototype.writeUInt16BE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>8,this[M+1]=255&D):z(this,D,M,!1),M+2},e.prototype.writeUInt32LE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D):W(this,D,M,!0),M+4},e.prototype.writeUInt32BE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D):W(this,D,M,!1),M+4},e.prototype.writeIntLE=function(D,M,A,R){if(D=+D,M|=0,!R){var j=Math.pow(2,8*A-1);F(this,D,M,A,j-1,-j)}var U=0,K=1,Q=0;for(this[M]=255&D;++U<A&&(K*=256);)D<0&&0===Q&&0!==this[M+U-1]&&(Q=1),this[M+U]=(D/K>>0)-Q&255;return M+A},e.prototype.writeIntBE=function(D,M,A,R){if(D=+D,M|=0,!R){var j=Math.pow(2,8*A-1);F(this,D,M,A,j-1,-j)}var U=A-1,K=1,Q=0;for(this[M+U]=255&D;--U>=0&&(K*=256);)D<0&&0===Q&&0!==this[M+U+1]&&(Q=1),this[M+U]=(D/K>>0)-Q&255;return M+A},e.prototype.writeInt8=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,1,127,-128),e.TYPED_ARRAY_SUPPORT||(D=Math.floor(D)),D<0&&(D=255+D+1),this[M]=255&D,M+1},e.prototype.writeInt16LE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8):z(this,D,M,!0),M+2},e.prototype.writeInt16BE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>8,this[M+1]=255&D):z(this,D,M,!1),M+2},e.prototype.writeInt32LE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24):W(this,D,M,!0),M+4},e.prototype.writeInt32BE=function(D,M,A){return D=+D,M|=0,A||F(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),e.TYPED_ARRAY_SUPPORT?(this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D):W(this,D,M,!1),M+4},e.prototype.writeFloatLE=function(D,M,A){return O(this,D,M,!0,A)},e.prototype.writeFloatBE=function(D,M,A){return O(this,D,M,!1,A)},e.prototype.writeDoubleLE=function(D,M,A){return q(this,D,M,!0,A)},e.prototype.writeDoubleBE=function(D,M,A){return q(this,D,M,!1,A)},e.prototype.copy=function(D,M,A,R){if(A||(A=0),R||0===R||(R=this.length),M>=D.length&&(M=D.length),M||(M=0),R>0&&R<A&&(R=A),R===A||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),D.length-M<R-A&&(R=D.length-M+A);var j,U=R-A;if(this===D&&A<M&&M<R)for(j=U-1;j>=0;--j)D[j+M]=this[j+A];else if(U<1e3||!e.TYPED_ARRAY_SUPPORT)for(j=0;j<U;++j)D[j+M]=this[j+A];else Uint8Array.prototype.set.call(D,this.subarray(A,A+U),M);return U},e.prototype.fill=function(D,M,A,R){if("string"==typeof D){if("string"==typeof M?(R=M,M=0,A=this.length):"string"==typeof A&&(R=A,A=this.length),1===D.length){var j=D.charCodeAt(0);j<256&&(D=j)}if(void 0!==R&&"string"!=typeof R)throw new TypeError("encoding must be a string");if("string"==typeof R&&!e.isEncoding(R))throw new TypeError("Unknown encoding: "+R)}else"number"==typeof D&&(D&=255);if(M<0||this.length<M||this.length<A)throw new RangeError("Out of range index");if(A<=M)return this;var U;if(M>>>=0,A=void 0===A?this.length:A>>>0,D||(D=0),"number"==typeof D)for(U=M;U<A;++U)this[U]=D;else{var K=e.isBuffer(D)?D:Y(new e(D,R).toString()),Q=K.length;for(U=0;U<A-M;++U)this[U+M]=K[U%Q]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function V(D){return D<16?"0"+D.toString(16):D.toString(16)}function Y(D,M){var A;M=M||1/0;for(var R=D.length,j=null,U=[],K=0;K<R;++K){if((A=D.charCodeAt(K))>55295&&A<57344){if(!j){if(A>56319){(M-=3)>-1&&U.push(239,191,189);continue}if(K+1===R){(M-=3)>-1&&U.push(239,191,189);continue}j=A;continue}if(A<56320){(M-=3)>-1&&U.push(239,191,189),j=A;continue}A=65536+(j-55296<<10|A-56320)}else j&&(M-=3)>-1&&U.push(239,191,189);if(j=null,A<128){if((M-=1)<0)break;U.push(A)}else if(A<2048){if((M-=2)<0)break;U.push(A>>6|192,63&A|128)}else if(A<65536){if((M-=3)<0)break;U.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;U.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return U}function B(D){return u.toByteArray(function(M){if((M=(A=M,A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")).replace(G,"")).length<2)return"";for(var A;M.length%4!=0;)M+="=";return M}(D))}function tt(D,M,A,R){for(var j=0;j<R&&!(j+A>=M.length||j>=D.length);++j)M[j+A]=D[j];return j}}).call(this,f(4))},function(C,$,f){var _=f(8);C.exports=function(u){return _.isNode||!u.$root}},function(C,$){C.exports=function(f,_,u,s){return!!((s=_?_.config:s)&&s.placeholder_task&&u.exists(f))&&u.getItem(f).type===s.types.placeholder}},function(C,$,f){(function(_){var u;u=typeof window<"u"?window:_,C.exports=u}).call(this,f(4))},function(C,$,f){(function(_){function u(c){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function s(c){return Object.prototype.toString.call(c)}$.isArray=function(c){return Array.isArray?Array.isArray(c):"[object Array]"===s(c)},$.isBoolean=function(c){return"boolean"==typeof c},$.isNull=function(c){return null===c},$.isNullOrUndefined=function(c){return null==c},$.isNumber=function(c){return"number"==typeof c},$.isString=function(c){return"string"==typeof c},$.isSymbol=function(c){return"symbol"===u(c)},$.isUndefined=function(c){return void 0===c},$.isRegExp=function(c){return"[object RegExp]"===s(c)},$.isObject=function(c){return"object"===u(c)&&null!==c},$.isDate=function(c){return"[object Date]"===s(c)},$.isError=function(c){return"[object Error]"===s(c)||c instanceof Error},$.isFunction=function(c){return"function"==typeof c},$.isPrimitive=function(c){return null===c||"boolean"==typeof c||"number"==typeof c||"string"==typeof c||"symbol"===u(c)||void 0===c},$.isBuffer=_.isBuffer}).call(this,f(14).Buffer)},function(C,$){C.exports=function(f,_,u,s,c){if(!f.start_date||!f.end_date)return null;var i=u.getItemTop(f.id),a=u.getItemHeight(f.id);if(i>_.y_end||i+a<_.y)return!1;var e=u.posFromDate(f.start_date),t=u.posFromDate(f.end_date),n=Math.min(e,t)-200,r=Math.max(e,t)+200;return!(n>_.x_end||r<_.x)}},function(C,$){C.exports=function(f){return f.config.smart_rendering&&f._smart_render}},function(C,$,f){var _=f(14),u=_.Buffer;function s(i,a){for(var e in i)a[e]=i[e]}function c(i,a,e){return u(i,a,e)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?C.exports=_:(s(_,$),$.Buffer=c),s(u,c),c.from=function(i,a,e){if("number"==typeof i)throw new TypeError("Argument must not be a number");return u(i,a,e)},c.alloc=function(i,a,e){if("number"!=typeof i)throw new TypeError("Argument must be a number");var t=u(i);return void 0!==a?"string"==typeof e?t.fill(a,e):t.fill(a):t.fill(0),t},c.allocUnsafe=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return u(i)},c.allocUnsafeSlow=function(i){if("number"!=typeof i)throw new TypeError("Argument must be a number");return _.SlowBuffer(i)}},function(C,$,f){"use strict";(function(_){C.exports=!_.version||0===_.version.indexOf("v0.")||0===_.version.indexOf("v1.")&&0!==_.version.indexOf("v1.8.")?{nextTick:function(u,s,c,i){if("function"!=typeof u)throw new TypeError('"callback" argument must be a function');var a,e,t=arguments.length;switch(t){case 0:case 1:return _.nextTick(u);case 2:return _.nextTick(function(){u.call(null,s)});case 3:return _.nextTick(function(){u.call(null,s,c)});case 4:return _.nextTick(function(){u.call(null,s,c,i)});default:for(a=new Array(t-1),e=0;e<a.length;)a[e++]=arguments[e];return _.nextTick(function(){u.apply(null,a)})}}}:_}).call(this,f(10))},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(){this.link=null,this.task=null,this.start_date=null,this.end_date=null,this.latestStart=null,this.earliestStart=null,this.earliestEnd=null,this.latestEnd=null,this.latestSchedulingStart=null,this.earliestSchedulingStart=null,this.latestSchedulingEnd=null,this.earliestSchedulingEnd=null,this.kind="asap",this.conflict=!1}return u.Create=function(s){var c=new u;if(s)for(var i in c)void 0!==s[i]&&(c[i]=s[i]);return c},u}();$.TaskPlan=_},function(C,$,f){var _=f(2);function s(i,a,e){return a=a||[],"<"+i+c(e||[])+">"+(a.innerHTML||"")+"</"+i+">"}function c(i){var a="";return _.forEach(i,function(e){a+=" "+e.key+"='"+e.value+"'"}),a}C.exports={getHtmlSelect:function(i,a,e){var t="",n=this;return _.forEach(i=i||[],function(r){var o=[{key:"value",value:r.key}];e==r.key&&(o[o.length]={key:"selected",value:"selected"}),r.attributes&&(o=o.concat(r.attributes)),t+=n.getHtmlOption({innerHTML:r.label},o)}),s("select",{innerHTML:t},a)},getHtmlOption:function(i,a){return s("option",i,a)},getHtmlButton:function(i,a){return s("button",i,a)},getHtmlDiv:function(i,a){return s("div",i,a)},getHtmlLabel:function(i,a){return s("label",i,a)},getHtmlInput:function(i){return"<input"+c(i||[])+">"}}},function(C,$,f){var _=f(3),u=f(24);C.exports=function(s){var c=f(7)(s);function i(){return c.apply(this,arguments)||this}return _(i,c),i.prototype.render=function(a){var e="<div class='gantt_cal_ltext' style='height:"+(a.height||"23")+"px;'>";return(e+=u.getHtmlSelect(a.options,[{key:"style",value:"width:100%;"}]))+"</div>"},i.prototype.set_value=function(a,e,t,n){var r=a.firstChild;!r._dhx_onchange&&n.onchange&&(r.onchange=n.onchange,r._dhx_onchange=!0),void 0===e&&(e=(r.options[0]||{}).value),r.value=e||""},i.prototype.get_value=function(a){return a.firstChild.value},i.prototype.focus=function(a){s._focus(a.firstChild,!0)},i}},function(C,$,f){var _=f(0);C.exports={createDropTargetObject:function(u){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return u&&_.mixin(s,u,!0),s},nextSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),(c.getParent(u)!=i.targetParent||i.targetIndex<c.getBranchIndex(u))&&(i.targetIndex+=1),i},prevSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),c.getParent(u)==i.targetParent&&i.targetIndex>c.getBranchIndex(u)&&(i.targetIndex-=1),i},firstChildTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(u,s,c){var i=c.getChildren(s),a=this.createDropTargetObject();return a.targetId=i[i.length-1],a.targetParent=s,a.targetIndex=i.length,a.nextSibling=!0,a}}},function(C,$,f){var _=f(20);C.exports=function(u,s,c,i){var a=s.width[u];return!(a<=0||i.config.smart_rendering&&!_(i)&&!(s.left[u]-a<=c.x_end&&s.left[u]+a>=c.x))}},function(C,$){C.exports=function(f,_){var u=0,s=f.left.length-1;if(_)for(var c=0;c<f.left.length;c++){var i=f.left[c];if(i<_.x&&(u=c),i>_.x_end){s=c;break}}return{start:u,end:s}}},function(C,$){C.exports=function(f,_,u){return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:0,right:1/0}}},function(C,$){C.exports=function(f){function _(i,a,e){if(!f._isAllowedUnscheduledTask(i)&&f._isTaskInTimelineLimits(i)){var t=a.getItemPosition(i),n=e,r=a.$getTemplates(),o=f.getTaskType(i.type),l=a.getBarHeight(i.id,o==n.types.milestone),d=0;o==n.types.milestone&&(d=(l-t.height)/2);var h=Math.floor((a.getItemHeight(i.id)-l)/2);o==n.types.milestone&&(t.left-=Math.round(l/2),t.width=l);var g=document.createElement("div"),p=Math.round(t.width);a.$config.item_attribute&&(g.setAttribute(a.$config.item_attribute,i.id),g.setAttribute(a.$config.bind+"_id",i.id)),n.show_progress&&o!=n.types.milestone&&function(S,x,w,T,E){var I=1*S.progress||0;w=Math.max(w-2,0);var P=document.createElement("div"),L=Math.round(w*I);L=Math.min(w,L),S.progressColor&&(P.style.backgroundColor=S.progressColor,P.style.opacity=1),P.style.width=L+"px",P.className="gantt_task_progress",P.innerHTML=E.progress_text(S.start_date,S.end_date,S),T.rtl&&(P.style.position="absolute",P.style.right="0px");var H=document.createElement("div");if(H.className="gantt_task_progress_wrapper",H.appendChild(P),x.appendChild(H),f.config.drag_progress&&!f.isReadonly(S)){var F=document.createElement("div"),z=L;T.rtl&&(z=w-L),F.style.left=z+"px",F.className="gantt_task_progress_drag",P.appendChild(F),x.appendChild(F)}}(i,g,p,n,r);var y=(S=i,x=p,w=r,T=document.createElement("div"),f.getTaskType(S.type)!=f.config.types.milestone?T.innerHTML=w.task_text(S.start_date,S.end_date,S):f.getTaskType(S.type)==f.config.types.milestone&&x&&(T.style.height=T.style.width=x+"px"),T.className="gantt_task_content",T);i.textColor&&(y.style.color=i.textColor),g.appendChild(y);var v=function(S,x,w,T){var E=T.$getConfig(),I=["gantt_task_line"];x&&I.push(x);var P=f.getState(),L=f.getTask(w);if(f.getTaskType(L.type)==E.types.milestone?I.push("gantt_milestone"):f.getTaskType(L.type)==E.types.project&&I.push("gantt_project"),I.push("gantt_bar_"+f.getTaskType(L.type)),f.isSummaryTask(L)&&I.push("gantt_dependent_task"),f.isSplitTask(L)&&(E.open_split_tasks&&!L.$open||!E.open_split_tasks)&&I.push("gantt_split_parent"),E.select_task&&f.isSelectedTask(w)&&I.push("gantt_selected"),w==P.drag_id&&(I.push("gantt_drag_"+P.drag_mode),P.touch_drag&&I.push("gantt_touch_"+P.drag_mode)),P.link_source_id==w&&I.push("gantt_link_source"),P.link_target_id==w&&I.push("gantt_link_target"),E.highlight_critical_path&&f.isCriticalTask&&f.isCriticalTask(L)&&I.push("gantt_critical_task"),P.link_landing_area&&P.link_target_id&&P.link_source_id&&P.link_target_id!=P.link_source_id&&(P.link_target_id==w||P.link_source_id==w)){var z=P.link_to_start,W=f.isLinkAllowed(P.link_source_id,w,P.link_from_start,z);I.push(W?z?"link_start_allow":"link_finish_allow":z?"link_start_deny":"link_finish_deny")}return I.join(" ")}(0,r.task_class(i.start_date,i.end_date,i),i.id,a);(i.color||i.progressColor||i.textColor)&&(v+=" gantt_task_inline_color"),t.width<20&&(v+=" gantt_thin_task"),g.className=v;var m=["left:"+t.left+"px","top:"+(h+t.top)+"px","height:"+(o==n.types.milestone?t.height:l)+"px","line-height:"+Math.max(l<30?l-2:l,0)+"px","width:"+p+"px"];i.color&&m.push("background-color:"+i.color),i.textColor&&m.push("color:"+i.textColor),g.style.cssText=m.join(";");var k=function(S,x,w,T){var E="gantt_left "+s(!x.rtl,S),I=null;return T&&(I={type:"marginRight",value:T}),u(S,w.leftside_text,E,I)}(i,n,r,d);k&&g.appendChild(k),(k=function(S,x,w,T){var E="gantt_right "+s(!!x.rtl,S),I=null;return T&&(I={type:"marginLeft",value:T}),u(S,w.rightside_text,E,I)}(i,n,r,d))&&g.appendChild(k),f._waiAria.setTaskBarAttr(i,g);var b=f.getState();return f.isReadonly(i)||(n.drag_resize&&!f.isSummaryTask(i)&&o!=n.types.milestone&&c(g,"gantt_task_drag",i,function(S){var x=document.createElement("div");return x.className=S,x},n),n.drag_links&&n.show_links&&c(g,"gantt_link_control",i,function(S){var x=document.createElement("div");x.className=S,x.style.cssText=["height:"+l+"px","line-height:"+l+"px"].join(";");var w=document.createElement("div");w.className="gantt_link_point";var T=!1;return b.link_source_id&&n.touch&&(T=!0),w.style.display=T?"block":"",x.appendChild(w),x},n,d)),g}var S,x,w,T}function u(i,a,e,t){if(!a)return null;var n=a(i.start_date,i.end_date,i);if(!n)return null;var r=document.createElement("div");return r.className="gantt_side_content "+e,r.innerHTML=n,t&&(r.style[t.type]=Math.abs(t.value)+"px"),r}function s(i,a){var e=i?{$source:[f.config.links.start_to_start],$target:[f.config.links.start_to_start,f.config.links.finish_to_start]}:{$source:[f.config.links.finish_to_start,f.config.links.finish_to_finish],$target:[f.config.links.finish_to_finish]};for(var t in e)for(var n=a[t],r=0;r<n.length;r++)for(var o=f.getLink(n[r]),l=0;l<e[t].length;l++)if(o.type==e[t][l])return"gantt_link_crossing";return""}function c(i,a,e,t,n,r){var o,l=f.getState();+e.start_date>=+l.min_date&&((o=t([a,n.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),r&&(o.style.marginLeft=r+"px"),i.appendChild(o)),+e.end_date<=+l.max_date&&((o=t([a,n.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),r&&(o.style.marginRight=r+"px"),i.appendChild(o))}return function(i,a,e){var t=(e=a.$getConfig()).type_renderers[f.getTaskType(i.type)],n=_;return t?t.call(f,i,function(r){return n.call(f,r,a,e)},a):n.call(f,i,a,e)}}},function(C,$,f){function u(i,a){(null==a||a>i.length)&&(a=i.length);for(var e=0,t=new Array(a);e<a;e++)t[e]=i[e];return t}var s=f(2);function c(i){if(i._delayRender&&i._delayRender.$cancelTimeout(),i.$gantt){var a=i.$gantt.$data.tasksStore,e=i.$config.rowStore,t="_attached_"+e.$config.name;i[t]&&(a.detachEvent(i[t]),i[t]=null),e.$attachedResourceViewHandler&&(e.detachEvent(e.$attachedResourceViewHandler),e.$attachedResourceViewHandler=null,a.detachEvent(e.$attachedTaskStoreHandler),e.$attachedTaskStoreHandler=null)}}C.exports=function(i){var a=i.prototype.init,e=i.prototype.destructor;return{init:function(){a.apply(this,arguments),this._linkToTaskStore()},destructor:function(){c(this),e.apply(this,arguments)},previousDragId:null,relevantResources:null,_linkToTaskStore:function(){if(this.$config.rowStore&&this.$gantt.$data.tasksStore){var t=this.$gantt.$data.tasksStore,n=this.$config.rowStore;c(this);var r=this,o=s.delay(function(){if(r.$gantt.getState().lightbox)o();else{var d=r.$config.rowStore,h=r._getRelevantResources();if(h){if("nothing_to_repaint"==h)return;d._quick_refresh=!0,r.relevantResources.forEach(function(g){d.refresh(g)}),d._quick_refresh=!1}else d.refresh()}},300);this._delayRender=o;var l="_attached_"+n.$config.name;r[l]||(r[l]=t.attachEvent("onStoreUpdated",function(){if(!o.$pending&&!this._skipResourceRepaint){var d=r.$gantt.getState();if("progress"==d.drag_mode)return!0;d.drag_mode&&d.drag_id&&(r.previousDragId=d.drag_id),o()}return!0})),this.$gantt.attachEvent("onDestroy",function(){return c(r),!0}),n.$attachedResourceViewHandler||(n.$attachedResourceViewHandler=n.attachEvent("onBeforeFilter",function(){return!r.$gantt.getState().lightbox&&(o.$pending&&o.$cancelTimeout(),r._updateNestedTasks(),!0)}),n.$attachedTaskStoreHandler=t.attachEvent("onAfterDelete",function(){n._mark_recompute=!0}))}},_getRelevantResources:function(){if(!this.$gantt.getTaskAssignments)return null;var t=this.$gantt.getState(),n=this.$config.rowStore,r=[];if(t.drag_mode&&t.drag_id)if(this.previousDragId==t.drag_id){if(this.relevantResources)return this.relevantResources;r=this.$gantt.getTaskAssignments(this.previousDragId)}else this.previousDragId=t.drag_id,r=this.$gantt.getTaskAssignments(this.previousDragId);else{if(!this.previousDragId)return null;r=this.$gantt.getTaskAssignments(this.previousDragId),this.previousDragId=null}if(!r.length)return this.relevantResources="nothing_to_repaint";var o=[];return r.forEach(function(l){o.push(l.resource_id),n.eachParent(function(d){o.push(d.id)},l.resource_id)}),this.relevantResources=function _(i){return function(a){if(Array.isArray(a))return u(a)}(i)||function(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}(i)||function(a,e){if(a){if("string"==typeof a)return u(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if("Object"===t&&a.constructor&&(t=a.constructor.name),"Map"===t||"Set"===t)return Array.from(a);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(a,e)}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))},_updateNestedTasks:function(){var t=this.$gantt,n=t.getDatastore(t.config.resource_store);n.$config.fetchTasks&&n.silent(function(){var r=[],o={},l={};for(var d in n.eachItem(function(h){if("task"!=h.$role){var g=t.getResourceAssignments(h.id),p={};g.sort(function(y,v){var m=n.pull,k=m["".concat(y.task_id,"_").concat(y.resource_id)],b=m["".concat(v.task_id,"_").concat(v.resource_id)];return k&&b?k.$local_index-b.$local_index:0}),g.forEach(function(y){if(!p[y.task_id]){p[y.task_id]=!0;var v=t.getTask(y.task_id),m=Object.create(v);m.id=v.id+"_"+h.id,m.$task_id=v.id,m.$resource_id=h.id,m[n.$parentProperty]=h.id,m.$role="task",r.push(m),o[m.id]=!0}})}else l[h.id]=!0}),l)o[d]||n.removeItem(d);r.length&&n.parse(r)})}}}},function(C,$){C.exports=function(f,_,u){return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:0,right:1/0}}},function(C,$){C.exports=function(f){var _=[];return{delegate:function(u,s,c,i){_.push([u,s,c,i]),f.$services.getService("mouseEvents").delegate(u,s,c,i)},destructor:function(){for(var u=f.$services.getService("mouseEvents"),s=0;s<_.length;s++){var c=_[s];u.detach(c[0],c[1],c[2],c[3])}_=[]}}}},function(C,$,f){var _=f(1),u=f(0),s=f(5),c=f(223),i=f(47),a=f(221),e=f(220).default,t=function(n,r,o,l){this.$config=u.mixin({},r||{}),this.$gantt=l,this.$parent=n,s(this),this.$state={},u.mixin(this,i(this))};t.prototype={init:function(n){var r=this.$gantt,o=r._waiAria.gridAttrString(),l=r._waiAria.gridDataAttrString(),d=this.$getConfig(),h=d.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(h=this.$config.reorder_grid_columns),n.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+o+"></div>",this.$grid=n.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+r._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+l+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var g=d[this.$config.bind+"_attribute"];if(!g&&this.$config.bind&&(g="data-"+this.$config.bind+"-id"),this.$config.item_attribute=g||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var y=c(r,this);y.init(),this._renderHeaderResizers=y.doOnRender,this._mouseDelegates=f(33)(r),a(r,this).init(),this._addLayers(this.$gantt),this._initEvents(),h&&(this._columnDND=new e(r,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(n,r){var o=n[r];if(o&&"*"!=o){var l=this.$gantt,d=1*o;isNaN(d)?l.assert(!1,"Wrong "+r+" value of column "+n.name):n[r]=d}},setSize:function(n,r){this.$config.width=this.$state.width=n,this.$config.height=this.$state.height=r;for(var o,l=this.getGridColumns(),d=0,h=(k=this.$getConfig()).grid_elastic_columns,g=0,p=l.length;g<p;g++)this._validateColumnWidth(l[g],"min_width"),this._validateColumnWidth(l[g],"max_width"),this._validateColumnWidth(l[g],"width"),d+=1*l[g].width;if(!isNaN(d)&&this.$config.scrollable||(d=o=this._setColumnsWidth(n+1)),this.$config.scrollable&&h&&!isNaN(d)){var y="width";"min_width"==h&&(y="min_width");var v=0;l.forEach(function(S){v+=S[y]||k.min_grid_column_width}),v--;var m=Math.max(v,n);d=this._setColumnsWidth(m),o=n}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var k=this.$getConfig();o!==n&&(void 0!==o?(k.grid_width=o,this.$config.width=o-1):isNaN(d)||(this._setColumnsWidth(d),k.grid_width=d,this.$config.width=d-1));var b=Math.max(this.$state.height-k.scale_height,0);this.$grid_data.style.height=b+"px",this.refresh()},getSize:function(){var n=this.$getConfig(),r=this.$config.rowStore?this.getTotalHeight():0,o=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?o:0,contentY:this.isVisible()?n.scale_height+r:0,scrollHeight:this.isVisible()?r:0,scrollWidth:this.isVisible()?o:0}},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._gridCacheAttached){var r=this;n._gridCacheAttached=n.attachEvent("onBeforeFilter",function(){r._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._gridCacheAttached&&(n.detachEvent(n._gridCacheAttached),n._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var n=this.$config.scrollLeft||0,r=this.$config.scrollTop||0,o=this.$config.height||0,l=this.$config.width||0;return{y:r,y_end:r+o,x:n,x_end:n+l,height:o,width:l}},scrollTo:function(n,r){if(this.isVisible()){var o=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n==n&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=n,o=!0),1*r==r&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=r,o=!0),o&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(n,r){for(var o=this.$getConfig().columns,l=0,d=0;d<o.length;d++)if(r&&o[d].hide&&l++,o[d].name==n)return d-l;return null},getColumn:function(n){var r=this.getColumnIndex(n);return null===r?null:this.$getConfig().columns[r]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var n=this.$gantt,r=this;return[{renderer:n.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return r.isVisible()}]},{renderer:n.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return n.config.resize_rows}]}]},_addLayers:function(n){if(this.$config.bind){this._taskLayers=[];var r=this,o=this.$gantt.$services.getService("layers"),l=o.getDataRender(this.$config.bind);l||(l=o.createDataRender({name:this.$config.bind,defaultContainer:function(){return r.$grid_data}}));for(var d=this.$config.layers,h=0;d&&h<d.length;h++){var g=d[h];g.view=this;var p=l.addLayer(g);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(n){var r=this.$getConfig(),o=this.$config.rowStore;if(o&&null===n&&this.isVisible()&&r.smart_rendering){var l;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(l=d.getScrollState().scrollSize)}if(l||(l=o?this.getTotalHeight():0),l){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var h=this.$rowsPlaceholder=document.createElement("div");h.style.visibility="hidden",h.style.height=l+"px",h.style.width="1px",this.$grid_data.appendChild(h)}}},_initSmartRenderingPlaceholder:function(){var n=this.$config.rowStore;n&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=n.attachEvent("onStoreUpdated",u.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var n=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",n.bind(function(r,o,l){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.close(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",n.bind(function(r,o,l){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.open(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(n){var r=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var o=0;o<this._taskLayers.length;o++)r.removeLayer(this._taskLayers[o]);this._taskLayers=[]},_getColumnWidth:function(n,r,o){var d=Math.max(o,n.min_width||r.min_grid_column_width||10);return n.max_width&&(d=Math.min(d,n.max_width)),d},_checkGridColumnMinWidthLimits:function(n,r){for(var o=0,l=n.length;o<l;o++){var d=1*n[o].width;!n[o].min_width&&d<r.min_grid_column_width&&(n[o].min_width=d)}},_getGridWidthLimits:function(){for(var n=this.$getConfig(),r=this.getGridColumns(),o=0,l=0,d=0;d<r.length;d++)o+=r[d].min_width?r[d].min_width:n.min_grid_column_width,void 0!==l&&(l=r[d].max_width?l+r[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(r,n),[o,l]},_setColumnsWidth:function(n,r){var o=this.$getConfig(),l=this.getGridColumns(),d=0,h=n;r=window.isNaN(r)?-1:r;for(var g=0,p=l.length;g<p;g++)d+=1*l[g].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,g=0,p=l.length;g<p;g++)d+=1*l[g].width;var y=h-d,v=0;for(g=0;g<r+1;g++)v+=l[g].width;for(d-=v,g=r+1;g<l.length;g++){var m=l[g],k=Math.round(y*(m.width/d));y<0?m.min_width&&m.width+k<m.min_width?k=m.min_width-m.width:!m.min_width&&o.min_grid_column_width&&m.width+k<o.min_grid_column_width&&(k=o.min_grid_column_width-m.width):m.max_width&&m.width+k>m.max_width&&(k=m.max_width-m.width),d-=m.width,m.width+=k,y-=k}for(var b=y>0?1:-1;y>0&&1===b||y<0&&-1===b;){var S=y;for(g=r+1;g<l.length;g++){var x;if((x=l[g].width+b)==this._getColumnWidth(l[g],o,x)&&(y-=b,l[g].width=x),!y)break}if(S==y)break}return y&&r>-1&&(x=l[r].width+y)==this._getColumnWidth(l[r],o,x)&&(l[r].width=x),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var n=this.getGridColumns(),r=0,o=0;o<n.length;o++){var l=parseFloat(n[o].width);if(window.isNaN(l))return!1;r+=l}return r},_calculateGridWidth:function(){for(var n=this.$getConfig(),r=this.getGridColumns(),o=0,l=[],d=[],h=0;h<r.length;h++){var g=parseFloat(r[h].width);window.isNaN(g)&&(g=n.min_grid_column_width||10,l.push(h)),d[h]=g,o+=g}var p=this._getGridWidth()+1;if(n.autofit||l.length){var y=p-o;if(n.autofit&&!n.grid_elastic_columns)for(h=0;h<d.length;h++){var v=Math.round(y/(d.length-h));d[h]+=v,(m=this._getColumnWidth(r[h],n,d[h]))!=d[h]&&(v=m-d[h],d[h]=m),y-=v}else if(l.length)for(h=0;h<l.length;h++){v=Math.round(y/(l.length-h));var m,k=l[h];d[k]+=v,(m=this._getColumnWidth(r[k],n,d[k]))!=d[k]&&(v=m-d[k],d[k]=m),y-=v}for(h=0;h<d.length;h++)r[h].width=d[h]}else{var b=p!=o;this.$config.width=o-1,n.grid_width=o,b&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var n=this.$gantt,r=this.$getConfig(),o=this.$gantt.locale,l=this.$gantt.templates,d=this.getGridColumns();r.rtl&&(d=d.reverse());for(var h=[],g=0,p=o.labels,y=r.scale_height-1,v=0;v<d.length;v++){var m=v==d.length-1,k=d[v];k.name||(k.name=n.uid()+"");var b=1*k.width,S=this._getGridWidth();m&&S>g+b&&(k.width=b=S-g),g+=b;var x=n._sort&&k.name==n._sort.name?"<div class='gantt_sort gantt_"+n._sort.direction+"'></div>":"",w=["gantt_grid_head_cell","gantt_grid_head_"+k.name,m?"gantt_last_cell":"",l.grid_header_class(k.name,k)].join(" "),E=k.label||p["column_"+k.name]||p[k.name],I="<div class='"+w+"' style='width:"+(b-(m?1:0))+"px;' "+n._waiAria.gridScaleCellAttrString(k,E=E||"")+" data-column-id='"+k.name+"' column_id='"+k.name+"' data-column-name='"+k.name+"' data-column-index='"+v+"'>"+E+x+"</div>";h.push(I)}this.$grid_scale.style.height=r.scale_height+"px",this.$grid_scale.style.lineHeight=y+"px",this.$grid_scale.innerHTML=h.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},C.exports=t},function(C,$,f){(function(_){var u=f(305),s=f(69),c=f(297),i=f(296),a=f(295),e=$;e.request=function(t,n){t="string"==typeof t?a.parse(t):c(t);var r=-1===_.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||r,l=t.hostname||t.host,d=t.port,h=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?o+"//"+l:"")+(d?":"+d:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var g=new u(t);return n&&g.on("response",n),g},e.get=function(t,n){var r=e.request(t,n);return r.end(),r},e.ClientRequest=u,e.IncomingMessage=s.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,f(4))},function(C,$,f){"use strict";var _;Object.defineProperty($,"__esModule",{value:!0}),(_=$.ConstraintTypes||($.ConstraintTypes={})).ASAP="asap",_.ALAP="alap",_.SNET="snet",_.SNLT="snlt",_.FNET="fnet",_.FNLT="fnlt",_.MSO="mso",_.MFO="mfo"},,function(C,$,f){},function(C,$,f){var _=f(2);C.exports=function(u){var s={};return u.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(c,i,a,e){var t=c.id+"_"+i+"_"+a.unit+"_"+a.step;return s[t]?s[t]:s[t]=function(n,r,o,l){var d,h=!1;u.config.process_resource_assignments&&r===u.config.resource_property?(d="task"==n.$role?u.getResourceAssignments(n.$resource_id,n.$task_id):u.getResourceAssignments(n.id),h=!0):d="task"==n.$role?[]:u.getTaskBy(r,n.id);for(var p,y,v,k,g=function(I,P,L){for(var H=P.unit,F=P.step,z={},W={},N=0;N<I.length;N++){var O=I[N],q=O;L&&(q=u.getTask(O.task_id));var G=O.start_date||q.start_date,V=O.end_date||q.end_date;L&&(O.start_date&&(G=new Date(Math.max(O.start_date.valueOf(),q.start_date.valueOf()))),O.end_date&&(V=new Date(Math.min(O.end_date.valueOf(),q.end_date.valueOf()))));var Y=_.findBinary(P.trace_x,G.valueOf()),B=new Date(P.trace_x[Y]||u.date[H+"_start"](new Date(G))),tt=u.config.work_time?u.getTaskCalendar(q):u;for(W[tt.id]={};B<V;){var D=W[tt.id],M=B,A=M.valueOf();B=u.date.add(B,F,H),!1!==D[A]&&(tt.isWorkTime({date:M,task:q,unit:H})?(z[A]||(z[A]={tasks:[],assignments:[]}),z[A].tasks.push(q),L&&z[A].assignments.push(O)):D[A]=!1)}}return z}(d,o,h),b=o.unit,S=o.step,x=[],w=l.$getConfig(),T=0;T<o.trace_x.length;T++)p=new Date(o.trace_x[T]),y=u.date.add(p,S,b),k=g[p.valueOf()]||{},x.push((v=k.tasks||[]).length||w.resource_render_empty_cells?{start_date:p,end_date:y,tasks:v,assignments:k.assignments||[]}:null);return x}(c,i,a,e)}}},function(C,$,f){var _=f(0),u=f(41),s=f(31),c=f(3),i=function(a){function e(t,n,r,o){var l=a.apply(this,arguments)||this;return l.$config.bindLinks=null,l}return c(e,a),_.mixin(e.prototype,{init:function(){void 0===this.$config.bind&&(this.$config.bind=this.$getConfig().resource_store),a.prototype.init.apply(this,arguments)},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceRow(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(e),!0),e}(u);C.exports=i},function(C,$,f){var _=f(50),u=f(5),s=f(0),c=f(2),i=f(47),a=f(142),e=function(t,n,r,o){this.$config=s.mixin({},n||{}),this.$scaleHelper=new _(o),this.$gantt=o,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),u(this)};e.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),r=n[this.$config.bind+"_attribute"],o=n[this.$config.bindLinks+"_attribute"];!r&&this.$config.bind&&(r="data-"+this.$config.bind+"-id"),!o&&this.$config.bindLinks&&(o="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=r||null,this.$config.link_attribute=o||null;var l=this._createLayerConfig();this.$config.layers||(this.$config.layers=l.tasks),this.$config.linkLayers||(this.$config.linkLayers=l.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,n){var r=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*n===n){this.$config.height=n;var o=Math.max(this.$config.height-r.scale_height);this.$task_data.style.height=o+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",this.$task_bg.style.height=r.smart_rendering&&this.$config.rowStore?this.getTotalHeight()+"px":"";for(var l=this._tasks,d=this.$task_data.childNodes,h=0,g=d.length;h<g;h++){var p=d[h];p.hasAttribute("data-layer")&&p.style&&(p.style.width=l.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,r=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?r:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?r:0}},scrollTo:function(t,n){if(this.isVisible()){var r=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,r=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),r=!0),r&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort();this.$task_scale.innerHTML=this._getScaleChunkHtml(this._scales,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,r=this.$config.height||0,o=this.$config.width||0;return{y:n,y_end:n+r,x:t,x_end:t+o,height:r,width:o}},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(r,o){return!o.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var n=this,r=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var o=r.getDataRender(this.$config.bind);o||(o=r.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),o.container=function(){return n.$task_data};for(var l=this.$config.layers,d=0;l&&d<l.length;d++){"string"==typeof(y=l[d])&&(y=this.$gantt.$ui.layers[y]()),("function"==typeof y||y&&y.render&&y.update)&&(y={renderer:y}),y.view=this;var h=o.addLayer(y);this._taskLayers.push(h),y.expose&&(this._taskRenderer=o.getLayer(h))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var g=r.getDataRender(this.$config.bindLinks);g||(g=r.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var y;"string"==typeof y&&(y=this.$gantt.$ui.layers[y]()),(y=p[d]).view=this;var v=g.addLayer(y);this._taskLayers.push(v),p[d].expose&&(this._linkRenderer=g.getLayer(v))}}},_initStaticBackgroundRender:function(){var t=this,n=a.create(),r=t.$config.rowStore;r&&(this._staticBgHandler=r.attachEvent("onStoreUpdated",function(o,l,d){if(null===o&&t.isVisible()){var h=t.$getConfig();if(h.static_background||h.timeline_placeholder){var g=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),g){var y=t.getTotalHeight();h.timeline_placeholder&&(y=h.timeline_placeholder.height||t.$task_data.offsetHeight||99999),n.render(p,h,t.getScale(),y,t.getItemHeight(l?l.id:null))}}else h.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){n.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var n=this.$gantt.$services.getService("layers"),r=n.getDataRender(this.$config.bind),o=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var l=0;l<this._taskLayers.length;l++)r.removeLayer(this._taskLayers[l]);if(this._linkLayers)for(l=0;l<this._linkLayers.length;l++)o.removeLayer(this._linkLayers[l]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),n="",r=0,o=0,l=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,h=this._getScales();o=t.scale_height;var g=this.$config.width;"x"!=t.autosize&&"xy"!=t.autosize||(g=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(h,t.min_column_width,g,o-1,l.min_date,l.max_date,t.rtl),y=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},n=this._getScaleChunkHtml(p,0,this.$config.width),r=y.full_width+"px",o+="px"}this.$task_scale.style.height=o,this.$task_data.style.width=this.$task_scale.style.width=r,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(t,n,r){for(var o=[],l=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var h="gantt_scale_line",g=l(t[d]);g&&(h+=" "+g),o.push('<div class="'+h+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],n,r)+"</div>")}return o.join("")},_prepareScaleHtml:function(t,n,r){var o=this.$getConfig(),l=this.$gantt.templates,d=[],h=null,g=null,p=t.format||t.template||t.date;"string"==typeof p&&(p=this.$gantt.date.date_to_str(p));var y=0,v=t.count;!o.smart_scales||isNaN(n)||isNaN(r)||(y=c.findBinary(t.left,n),v=c.findBinary(t.left,r)+1),g=t.css||function(){},!t.css&&o.inherit_scale_class&&(g=l.scale_cell_class);for(var m=y;m<v&&t.trace_x[m];m++){h=new Date(t.trace_x[m]);var k=p.call(this,h),b=t.width[m],w="",T="",E="";if(b){w="width:"+b+"px;height:"+t.height+"px;"+(o.smart_scales?"position:absolute;left:"+t.left[m]+"px":""),E="gantt_scale_cell"+(m==t.count-1?" gantt_last_cell":""),(T=g.call(this,h))&&(E+=" "+T);var I="<div class='"+E+"'"+this.$gantt._waiAria.getTimelineCellAttr(k)+" style='"+w+"'>"+k+"</div>";d.push(I)}}return d.join("")},dateFromPos:function(t){var n=this._tasks;if(t<0||t>n.full_width||!n.full_width)return null;var r=c.findBinary(this._tasks.left,t),l=n.width[r]||n.col_width,d=0;l&&(d=(t-this._tasks.left[r])/l,n.rtl&&(d=1-d));var h=0;return d&&(h=this._getColumnDuration(n,n.trace_x[r])),new Date(n.trace_x[r].valueOf()+Math.round(d*h))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var n=String(t.valueOf());if(void 0!==this._posFromDateCache[n])return this._posFromDateCache[n];var r=this.columnIndexByDate(t);this.$gantt.assert(r>=0,"Invalid day index");var o=Math.floor(r),l=r%1,d=this._tasks.left[Math.min(o,this._tasks.width.length-1)];o==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),l&&(d+=o<this._tasks.width.length?this._tasks.width[o]*(l%1):1);var h=Math.round(d);return this._posFromDateCache[n]=h,Math.round(h)},_getNextVisibleColumn:function(t,n,r){for(var o=+n[t],l=t;r[o];)o=+n[++l];return l},_getPrevVisibleColumn:function(t,n,r){for(var o=+n[t],l=t;r[o];)o=+n[--l];return l},_getClosestVisibleColumn:function(t,n,r){var o=this._getNextVisibleColumn(t,n,r);return n[o]||(o=this._getPrevVisibleColumn(t,n,r)),o},columnIndexByDate:function(t){var n=new Date(t).valueOf(),r=this._tasks.trace_x_ascending,o=this._tasks.ignore_x,l=this.$gantt.getState();if(n<=l.min_date)return this._tasks.rtl?r.length:0;if(n>=l.max_date)return this._tasks.rtl?0:r.length;var d=c.findBinary(r,n),h=this._getClosestVisibleColumn(d,r,o),p=this._tasks.trace_index_transition;if(!r[h])return p?p[0]:0;var y=(t-r[h])/this._getColumnDuration(this._tasks,r[h]);return p?p[h]+(1-y):h+y},getItemPosition:function(t,n,r){var o,l,d;return this._tasks.rtl?(l=this.posFromDate(n||t.start_date),o=this.posFromDate(r||t.end_date)):(o=this.posFromDate(n||t.start_date),l=this.posFromDate(r||t.end_date)),d=Math.max(l-o,0),{left:o,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,n){var r=this.$getConfig(),o=this.$config.rowStore.getItem(t),l=o.task_height||o.bar_height||r.bar_height||r.task_height,d=this.getItemHeight(t);return"full"==l&&(l=d-(r.task_height_offset||5)),l=Math.min(l,d),n&&(l=Math.round(l/Math.sqrt(2))),Math.max(l,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),n=this.$scaleHelper,r=[n.primaryScale(t)].concat(n.getSubScales(t));return n.sortScales(r),r},_getColumnDuration:function(t,n){return this.$gantt.date.add(n,t.step,t.unit)-n},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var n=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){this._clearLayers(this.$gantt),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},C.exports=e},function(C,$,f){var _=f(3),u=f(1),s=function(c){"use strict";function i(a,e,t){var n=c.apply(this,arguments)||this;return a&&(n.$root=!0),n._parseConfig(e),n.$name="layout",n}return _(i,c),i.prototype.destructor=function(){this.$container&&this.$view&&u.removeNode(this.$view);for(var a=0;a<this.$cells.length;a++)this.$cells[a].destructor();this.$cells=[],c.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(a,e){var t,n=!1,r=[],o=[],l=[];function d(v){v.$parent.show(),n=!0,r.push(v)}function h(v){v.$parent.hide(),n=!0,o.push(v)}for(var g=0;g<e.length;g++)a[(t=e[g]).$config.scroll]?h(t):t.shouldHide()?l.push(t):t.shouldShow()?d(t):t.isVisible()?r.push(t):o.push(t);var p={};for(g=0;g<r.length;g++)r[g].$config.group&&(p[r[g].$config.group]=!0);for(l.forEach(function(v){v.$config.group&&p[v.$config.group]||h(v)}),g=0;g<o.length;g++)if((t=o[g]).$config.group&&p[t.$config.group]){d(t);for(var y=0;y<r.length;y++)if(r[y]==t){this.$gantt.$scrollbarRepaint=!0;break}}return n},i.prototype._syncCellSizes=function(a,e){if(a){var t={};return this._eachChild(function(n){n.$config.group&&"scrollbar"!=n.$name&&"resizer"!=n.$name&&(t[n.$config.group]||(t[n.$config.group]=[]),t[n.$config.group].push(n))}),t[a]&&this._syncGroupSize(t[a],e),t[a]}},i.prototype._syncGroupSize=function(a,e){if(a.length)for(var t=a[0].$parent._xLayout?"width":"height",n=a[0].$parent.getNextSibling(a[0].$id)?1:-1,r=e.value,o=e.isGravity,l=0;l<a.length;l++){var d=a[l].getSize(),h=n>0?a[l].$parent.getNextSibling(a[l].$id):a[l].$parent.getPrevSibling(a[l].$id);"resizer"==h.$name&&(h=n>0?h.$parent.getNextSibling(h.$id):h.$parent.getPrevSibling(h.$id));var g=h.getSize();if(o)a[l].$config.gravity=r;else if(h[t]){var p=d.gravity+g.gravity,y=d[t]+g[t],v=p/y;a[l].$config.gravity=v*r,h.$config[t]=y-r,h.$config.gravity=p-v*r}else a[l].$config[t]=r;var m=this.$gantt.$ui.getView("grid");!m||a[l].$content!==m||m.$config.scrollable||o||(this.$gantt.config.grid_width=r)}},i.prototype.resize=function(a){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),c.prototype.resize.call(this,!0),c.prototype.resize.call(this,!1),e){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var n=this.getCellsByType("scroller"),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();var o=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(o,n);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var h=d.$parent,g=h.getContentSize(o);o.x&&(h.$config.$originalWidthStored||(h.$config.$originalWidthStored=!0,h.$config.$originalWidth=h.$config.width),h.$config.width=g.width),o.y&&(h.$config.$originalHeightStored||(h.$config.$originalHeightStored=!0,h.$config.$originalHeight=h.$config.height),h.$config.height=g.height)}),l=!0),l)for(this.resize(),r=0;r<t.length;r++)t[r].$config.hidden||t[r].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(a,e){if(a(e=e||this),e.$cells)for(var t=0;t<e.$cells.length;t++)this._eachChild(a,e.$cells[t])},i.prototype.isChild=function(a){var e=!1;return this._eachChild(function(t){t!==a&&t.$content!==a||(e=!0)}),e},i.prototype.getCellsByType=function(a){var e=[];if(a===this.$name&&e.push(this),this.$content&&this.$content.$name==a&&e.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var n=i.prototype.getCellsByType.call(this.$cells[t],a);n.length&&e.push.apply(e,n)}return e},i.prototype.getNextSibling=function(a){var e=this.cellIndex(a);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},i.prototype.getPrevSibling=function(a){var e=this.cellIndex(a);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},i.prototype.cell=function(a){for(var e=0;e<this.$cells.length;e++){var t=this.$cells[e];if(t.$id===a)return t;var n=t.cell(a);if(n)return n}},i.prototype.cellIndex=function(a){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===a)return e;return-1},i.prototype.moveView=function(a,e){if(this.$cells[e]!==a)return window.alert("Not implemented");var t=this.$view;(e+=this.$config.header?1:0)>=t.childNodes.length?t.appendChild(a.$view):t.insertBefore(a.$view,t.childNodes[e])},i.prototype._parseConfig=function(a){this.$cells=[],this._xLayout=!a.rows;for(var e=a.rows||a.cols||a.views,t=0;t<e.length;t++){var n=e[t];n.mode=this._xLayout?"x":"y";var r=this.$factory.initUI(n,this);r?(r.$parent=this,this.$cells.push(r)):(e.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var a=u.insertNode(this.$container,this.$toHTML());this.$fill(a,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(a,e){this.$view=a,this.$parent=e;for(var t=u.getChildNodes(a,"gantt_layout_cell"),n=t.length-1;n>=0;n--){var r=this.$cells[n];r.$fill(t[n],this),r.$config.hidden&&r.$view.parentNode.removeChild(r.$view)}},i.prototype.$toHTML=function(){for(var a=this._xLayout?"x":"y",e=[],t=0;t<this.$cells.length;t++)e.push(this.$cells[t].$toHTML());return c.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+a)},i.prototype.getContentSize=function(a){for(var e,t,n,r=0,o=0,l=0;l<this.$cells.length;l++)(t=this.$cells[l]).$config.hidden||(e=t.getContentSize(a),"scrollbar"===t.$config.view&&a[t.$config.scroll]&&(e.height=0,e.width=0),t.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=t._getBorderSizes(),this._xLayout?(r+=e.width+n.horizontal,o=Math.max(o,e.height+n.vertical)):(r=Math.max(r,e.width+n.horizontal),o+=e.height+n.vertical));return{width:r+=(n=this._getBorderSizes()).horizontal,height:o+=n.vertical}},i.prototype._cleanElSize=function(a){return 1*(a||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(a){var e,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:"border-box"==(e=window.getComputedStyle?window.getComputedStyle(a,null):{width:a.clientWidth,height:a.clientHeight}).boxSizing};e.MozBoxSizing&&(n.boxSizing="border-box"==e.MozBoxSizing);for(var r=0;r<t.length;r++)n[t[r]]=e[t[r]]?this._cleanElSize(e[t[r]]):0;var o={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return o.borderBox?(o.innerWidth-=o.horPaddings,o.innerHeight-=o.vertPaddings):(o.outerWidth+=o.horPaddings,o.outerHeight+=o.vertPaddings),o},i.prototype._getAutosizeMode=function(a){var e={x:!1,y:!1};return"xy"===a?e.x=e.y=!0:"y"===a||!0===a?e.y=!0:"x"===a&&(e.x=!0),e},i.prototype.autosize=function(a){var e=this._getAutosizeMode(a),t=this._getBoxStyles(this.$container),n=this.getContentSize(a),r=this.$container;e.x&&(t.borderBox&&(n.width+=t.horPaddings),r.style.width=n.width+"px"),e.y&&(t.borderBox&&(n.height+=t.vertPaddings),r.style.height=n.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var a=0,e=0,t=1e11,n=0,r=1e11,o=0,l=0;l<this.$cells.length;l++){var d=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(a+=!d.width&&d.minWidth?d.minWidth:d.width,t+=d.maxWidth,e+=d.minWidth,n=Math.max(n,d.height),r=Math.min(r,d.maxHeight),o=Math.max(o,d.minHeight)):(n+=!d.height&&d.minHeight?d.minHeight:d.height,r+=d.maxHeight,o+=d.minHeight,a=Math.max(a,d.width),t=Math.min(t,d.maxWidth),e=Math.max(e,d.minWidth)))}var h=c.prototype.getSize.call(this);return h.maxWidth>=1e5&&(h.maxWidth=t),h.maxHeight>=1e5&&(h.maxHeight=r),h.minWidth=h.minWidth!=h.minWidth?0:h.minWidth,h.minHeight=h.minHeight!=h.minHeight?0:h.minHeight,this._xLayout?(h.minWidth+=this.$config.margin*this.$cells.length||0,h.minWidth+=2*this.$config.padding||0,h.minHeight+=2*this.$config.padding||0):(h.minHeight+=this.$config.margin*this.$cells.length||0,h.minHeight+=2*this.$config.padding||0),h},i.prototype._calcFreeSpace=function(a,e,t){var n=t?e.minWidth:e.minHeight,r=e.maxWidth,o=a;return o?(o>r&&(o=r),o<n&&(o=n),this._free-=o):((o=Math.floor(this._free/this._gravity*e.gravity))>r&&(this._free-=o=r,this._gravity-=e.gravity),o<n&&(this._free-=o=n,this._gravity-=e.gravity)),o},i.prototype._calcSize=function(a,e,t){var n=a,r=t?e.minWidth:e.minHeight,o=t?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>o&&(n=o),n<r&&(n=r),n},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var a=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,t=e.length-1,n=t;n>=0;n--)if(!e[n].$config.hidden){t=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var r=n>=t,o="";!r&&e[n+1]&&"scrollbar"==e[n+1].$config.view&&(this._xLayout?r=!0:o="gantt_layout_cell_border_transparent"),this._setBorders(r?[]:[a,o],e[n])}},i.prototype._updateCellVisibility=function(){for(var a=this._visibleCells||{},e=!this._visibleCells,t={},n=null,r=[],o=0;o<this._sizes.length;o++)(n=this.$cells[o]).$config.hide_empty&&r.push(n),!e&&n.$config.hidden&&a[n.$id]?n._hide(!0):n.$config.hidden||a[n.$id]||n._hide(!1),n.$config.hidden||(t[n.$id]=!0);for(this._visibleCells=t,o=0;o<r.length;o++){var l=!0;(n=r[o]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(l=!1)}),n.$config.hidden=l}},i.prototype.setSize=function(a,e){this._configureBorders(),c.prototype.setSize.call(this,a,e),e=this.$lastSize.contentY,a=this.$lastSize.contentX;var t,n,r=this.$config.padding||0;this.$view.style.padding=r+"px",this._gravity=0,this._free=this._xLayout?a:e,this._free-=2*r,this._updateCellVisibility();for(var o=0;o<this._sizes.length;o++)if(!(t=this.$cells[o]).$config.hidden){var l=this.$config.margin||0;"resizer"!=t.$name||l||(l=-1),o!==this.$cells.length-1&&(t.$view.style[this._xLayout?"marginRight":"marginBottom"]=l+"px",this._free-=l),n=this._sizes[o],this._xLayout?n.width||(this._gravity+=n.gravity):n.height||(this._gravity+=n.gravity)}for(o=0;o<this._sizes.length;o++)if(!(t=this.$cells[o]).$config.hidden){var g=(n=this._sizes[o]).width,p=n.height;this._xLayout?this._calcFreeSpace(g,n,!0):this._calcFreeSpace(p,n,!1)}for(o=0;o<this.$cells.length;o++)if(!(t=this.$cells[o]).$config.hidden){n=this._sizes[o];var y=void 0,v=void 0;this._xLayout?(y=this._calcSize(n.width,n,!0),v=e-2*r):(y=a-2*r,v=this._calcSize(n.height,n,!1)),t.setSize(y,v)}},i}(f(12));C.exports=s},function(C,$){C.exports=function(f,_,u,s,c){var i=u.$gantt.getTask(f.source),a=u.$gantt.getTask(f.target),e=u.getItemTop(i.id),t=u.getItemHeight(i.id),n=u.getItemTop(a.id),r=u.getItemHeight(a.id);if(_.y>e+t&&_.y>n+r||_.y_end<n&&_.y_end<e)return!1;var o=u.posFromDate(i.start_date),l=u.posFromDate(i.end_date),d=u.posFromDate(a.start_date),h=u.posFromDate(a.end_date);if(o>l){var g=l;l=o,o=g}return d>h&&(g=h,h=d,d=g),o+=-100,d+=-100,h+=100,!(_.x>(l+=100)&&_.x>h||_.x_end<o&&_.x_end<d)}},function(C,$,f){var _=f(148);C.exports=function(){var u=[],s=!1;function c(){u=[],s=!1}var i=!1;return function(a,e,t,n,r){var g;g=n,i||(i=!0,g.attachEvent("onPreFilter",c),g.attachEvent("onStoreUpdated",c),g.attachEvent("onClearAll",c),g.attachEvent("onBeforeStoreUpdate",c)),s||function(g,p,y){var v=p.$getConfig();g.getVisibleItems().forEach(function(m){var k=_(m,p,v,y);k&&u.push({id:m.id,rec:k})}),u.sort(function(m,k){return m.rec.right<k.rec.right?-1:1}),s=!0}(n,e,a);for(var o=[],l=0;l<u.length;l++){var d=u[l],h=d.rec;h.right<r.x||h.left<r.x_end&&h.right>r.x&&h.top<r.y_end&&h.bottom>r.y&&o.push(d.id)}return{ids:o}}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(210),u=f(209),s=f(208);$.LargerUnitsCache=s.LargerUnitsCache,$.createCacheObject=function(){return typeof Map<"u"?new _.WorkUnitsMapCache:new u.WorkUnitsObjectCache}},function(C,$,f){var _=f(0),u=f(2);function s(e,t,n,r,o){return this.date=e,this.unit=t,this.task=n,this.id=r,this.calendar=o,this}function c(e,t,n,r,o,l){return this.date=e,this.dir=t,this.unit=n,this.task=r,this.id=o,this.calendar=l,this}function i(e,t,n,r,o,l,d){return this.start_date=e,this.duration=t,this.unit=n,this.step=r,this.task=o,this.id=l,this.calendar=d,this}function a(e,t,n,r){return this.start_date=e,this.end_date=t,this.task=n,this.calendar=r,this.unit=null,this.step=null,this}C.exports=function(e){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=u.isDate(t)?{date:t}:_.mixin({},t),!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,n=arguments[0];if(n instanceof s)return n;if((t=n.date?new s(n.date,n.unit,n.task,null,n.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||e.config.duration_unit,!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var n,r=arguments[0];if(r instanceof c)return r;if(n=u.isDate(r)?new c(r):new c(r.date,r.dir,r.unit,r.task,null,r.calendar),r.id&&(n.task=r),n.dir=r.dir||"any",n.unit=r.unit||e.config.duration_unit,!u.isValidDate(n.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(t){var n,r=a;if(t instanceof r)return t;if(u.isDate(t)?n=new r(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new r(t.start_date,t.end_date,t.task),null!=t.id&&(n.task=t)),n.unit=n.unit||e.config.duration_unit,n.step=n.step||e.config.duration_step,n.start_date=n.start_date||n.start||n.date,!u.isValidDate(n.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!u.isValidDate(n.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,n,r,o){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,n,r,o){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,n,r,o){var l,d=arguments[0];if(d instanceof i)return d;if(l=u.isDate(d)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),null!=d.id&&(l.task=d,l.unit=null,l.step=null),l.unit=l.unit||e.config.duration_unit,l.step=l.step||e.config.duration_step,!u.isValidDate(l.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return l}}}},function(C,$,f){var _=f(222);C.exports=function(u){var s={},c={},i=null,a=-1,e=null,t=_(u);return{_resetTopPositionHeight:function(){s={},c={},t.resetCache()},_resetHeight:function(){var r=this.getCacheStateTotalHeight(this.$config.rowStore);e?this.shouldClearHeightCache(e,r)&&(e=r,i=null):e=r,a=-1,t.resetCache()},getRowTop:function(n){if(t.canUseSimpleCalculation())return t.getRowTop(n);var r=this.$config.rowStore;if(!r)return 0;if(void 0!==c[n])return c[n];for(var o=r.getIndexRange(),l=0,d=0,h=0;h<o.length;h++)c[h]=l,l+=this.getItemHeight(o[h].id),h<n&&(d=l);return d},getItemTop:function(n){if(this.$config.rowStore){if(void 0!==s[n])return s[n];var r=this.$config.rowStore;if(!r)return 0;var o=r.getIndexById(n);if(-1===o&&r.getParent&&r.exists(n)){var l=r.getParent(n);if(r.exists(l)){var d=r.getItem(l);if(this.$gantt.isSplitTask(d))return this.getItemTop(l)}}return s[n]=this.getRowTop(o),s[n]}return 0},getItemHeight:function(n){if(t.canUseSimpleCalculation())return t.getItemHeight(n);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==i[n])return i[n];var r=this.$getConfig().row_height;if(this.$config.rowStore){var o=this.$config.rowStore;if(!o)return r;var l=o.getItem(n);return i[n]=l&&l.row_height||r}return r},_fillHeightCache:function(n){if(n){i={};var r=this.$getConfig().row_height;n.eachItem(function(o){return i[o.id]=o&&o.row_height||r})}},getCacheStateTotalHeight:function(n){var r=this.$getConfig().row_height,o={},l=[],d=0;return n&&n.eachItem(function(h){l.push(h),o[h.id]=h.row_height,d+=h.row_height||r}),{globalHeight:r,items:l,count:l.length,sumHeight:d}},shouldClearHeightCache:function(n,r){if(n.count!=r.count||n.globalHeight!=r.globalHeight||n.sumHeight!=r.sumHeight)return!0;for(var o in n.items){var l=r.items[o];if(void 0!==l&&l!=n.items[o])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(-1!=a)return a;if(this.$config.rowStore){var n=this.$config.rowStore;this._fillHeightCache(n);var r=this.getItemHeight.bind(this),o=0;return n.getVisibleItems().forEach(function(l){o+=r(l.id)}),a=o,o}return 0},getItemIndexByTopPosition:function(n){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(n);for(var r=this.$config.rowStore,o=0;o<r.countVisible();o++){var l=this.getRowTop(o),d=this.getRowTop(o+1);if(!d){var h=r.getIdByIndex(o);d=l+this.getItemHeight(h)}if(n>=l&&n<d)return o}return r.countVisible()+2}return 0}}}},function(C,$){function f(u,s,c){for(var i=0;i<s.length;i++)u.isLinkExists(s[i])&&(c[s[i]]=u.getLink(s[i]))}function _(u,s,c){f(u,s.$source,c),f(u,s.$target,c)}C.exports={getSubtreeLinks:function(u,s){var c={};return u.isTaskExists(s)&&_(u,u.getTask(s),c),u.eachTask(function(i){_(u,i,c)},s),c},getSubtreeTasks:function(u,s){var c={};return u.eachTask(function(i){c[i.id]=i},s),c}}},function(C,$,f){var _=f(0);C.exports=function(u){var s=u.date,c=u.$services;return{getSum:function(i,a,e){void 0===e&&(e=i.length-1),void 0===a&&(a=0);for(var t=0,n=a;n<=e;n++)t+=i[n];return t},setSumWidth:function(i,a,e,t){var n=a.width;if(void 0===t&&(t=n.length-1),void 0===e&&(e=0),!(e>n.length-1||t-e+1<=0||t>n.length-1)){var o=i-this.getSum(n,e,t);this.adjustSize(o,n,e,t),this.adjustSize(-o,n,t+1),a.full_width=this.getSum(n)}},splitSize:function(i,a){for(var e=[],t=0;t<a;t++)e[t]=0;return this.adjustSize(i,e),e},adjustSize:function(i,a,e,t){e||(e=0),void 0===t&&(t=a.length-1);for(var n=t-e+1,r=this.getSum(a,e,t),o=e;o<=t;o++){var l=Math.floor(i*(r?a[o]/r:1/n));r-=a[o],i-=l,n--,a[o]+=l}a[a.length-1]+=i},sortScales:function(i){function a(t,n){var r=new Date(1970,0,1);return s.add(r,n,t)-r}i.sort(function(t,n){return a(t.unit,t.step)<a(n.unit,n.step)?1:a(t.unit,t.step)>a(n.unit,n.step)?-1:0});for(var e=0;e<i.length;e++)i[e].index=e},_isLegacyMode:function(i){var a=i||u.config;return a.scale_unit||a.date_scale||a.subscales},_prepareScaleObject:function(i){var a=i.format;return a||(a=i.template||i.date||"%d %M"),"string"==typeof a&&(a=u.date.date_to_str(a)),{unit:i.unit||"day",step:i.step||1,format:a,css:i.css}},primaryScale:function(i){var a,e=c.getService("templateLoader"),t=this._isLegacyMode(i),n=i||u.config;if(t)e.initTemplate("date_scale",void 0,void 0,n,u.config.templates),a={unit:u.config.scale_unit,step:u.config.step,template:u.templates.date_scale,date:u.config.date_scale,css:u.templates.scale_cell_class};else{var r=n.scales[0];a={unit:r.unit,step:r.step,template:r.template,format:r.format,date:r.date,css:r.css||u.templates.scale_cell_class}}return this._prepareScaleObject(a)},getSubScales:function(i){var a=this._isLegacyMode(i),e=i||u.config;return(a?e.subscales||[]:e.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(i,a,e,t,n,r,o){for(var l=this.splitSize(t,i.length),d=e,h=[],g=i.length-1;g>=0;g--){var p=g==i.length-1,y=this.initScaleConfig(i[g],n,r);p&&this.processIgnores(y),this.initColSizes(y,a,d,l[g]),this.limitVisibleRange(y),p&&(d=y.full_width),h.unshift(y)}for(g=0;g<h.length-1;g++)this.alineScaleColumns(h[h.length-1],h[g]);for(g=0;g<h.length;g++)o&&this.reverseScale(h[g]),this.setPosSettings(h[g]);return h},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var a=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var e=0;e<i.trace_x.length;e++)i.trace_indexes[i.trace_x[e].valueOf()]=e,i.trace_index_transition[a[i.trace_x[e].valueOf()]]=e;return i},setPosSettings:function(i){for(var a=0,e=i.trace_x.length;a<e;a++)i.left.push((i.width[a-1]||0)+(i.left[a-1]||0))},_ignore_time_config:function(i,a){if(u.config.skip_off_time){for(var e=!0,t=i,n=0;n<a.step;n++)n&&(t=s.add(i,n,a.unit)),e=e&&!this.isWorkTime(t,a.unit);return e}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,a,e,t){var n=e;i.height=t;var r=void 0===i.display_count?i.count:i.display_count;r||(r=1),i.col_width=Math.floor(n/r),a&&i.col_width<a&&(i.col_width=a,n=i.col_width*r),i.width=[];for(var o=i.ignore_x||{},l=0;l<i.trace_x.length;l++)if(o[i.trace_x[l].valueOf()]||i.display_count==i.count)i.width[l]=0;else{var d=1;"month"==i.unit&&(d=Math.round((s.add(i.trace_x[l],i.step,i.unit)-i.trace_x[l])/864e5)),i.width[l]=d}this.adjustSize(n-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,a,e){var t=_.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(a),max_date:new Date(e)},i);return this.eachColumn(i.unit,i.step,a,e,function(n){t.count++,t.trace_x.push(new Date(n)),t.trace_indexes[n.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,a,e,t,n){for(var r=a.trace_x,l=e||0,d=t||i.trace_x.length-1,h=0,g=1;g<r.length;g++){var p=i.trace_indexes[+r[g]];void 0!==p&&p<=d&&(n&&n.apply(this,[h,g,l,p]),l=p,h=g)}},alineScaleColumns:function(i,a,e,t){this.iterateScales(i,a,e,t,function(n,r,o,l){var d=this.getSum(i.width,o,l-1);this.getSum(a.width,n,r-1)!=d&&this.setSumWidth(d,a,n,r-1)})},eachColumn:function(i,a,e,t,n){var r=new Date(e),o=new Date(t);s[i+"_start"]&&(r=s[i+"_start"](r));var l=new Date(r);for(+l>=+o&&(o=s.add(l,a,i));+l<+o;){n.call(this,new Date(l));var d=l.getTimezoneOffset();l=s.add(l,a,i),l=u._correct_dst_change(l,d,a,i),s[i+"_start"]&&(l=s[i+"_start"](l))}},limitVisibleRange:function(i){var a=i.trace_x,t=0;if(+a[0]<+i.min_date&&0!=i.width.length-1){var n=Math.floor(i.width[0]*((a[1]-i.min_date)/(a[1]-a[0])));t+=i.width[0]-n,i.width[0]=n,a[0]=new Date(i.min_date)}var r=a.length-1,o=a[r],l=s.add(o,i.step,i.unit);if(+l>+i.max_date&&r>0&&(n=i.width[r]-Math.floor(i.width[r]*((l-i.max_date)/(l-o))),t+=i.width[r]-n,i.width[r]=n),t){for(var d=this.getSum(i.width),h=0,g=0;g<i.width.length;g++){var p=Math.floor(t*(i.width[g]/d));i.width[g]+=p,h+=p}this.adjustSize(t-h,i.width)}}}}},function(C,$,f){var _=f(49);C.exports=function(u){var s=new _(u);return s.processIgnores=function(c){var i=c.count;if(c.ignore_x={},u.ignore_time||u.config.skip_off_time){var a=u.ignore_time||function(){return!1};i=0;for(var e=0;e<c.trace_x.length;e++)a.call(u,c.trace_x[e])||this._ignore_time_config.call(u,c.trace_x[e],c)?(c.ignore_x[c.trace_x[e].valueOf()]=!0,c.ignored_colls=!0):i++}c.display_count=i},s}},function(C,$,f){var _=f(50),u=f(49);C.exports=function(c){var i;(function s(c){var i=function(h){var g=new u(h).primaryScale(),p=g.unit,y=g.step;if(h.config.scale_offset_minimal){var v=new _(h),m=[v.primaryScale()].concat(v.getSubScales());v.sortScales(m),p=m[m.length-1].unit,y=m[m.length-1].step||1}return{unit:p,step:y}}(c),a=i.unit,e=i.step,t=function(h,g){var p={start_date:null,end_date:null};if(g.config.start_date&&g.config.end_date){p.start_date=g.date[h+"_start"](new Date(g.config.start_date));var y=new Date(g.config.end_date),v=g.date[h+"_start"](new Date(y));y=+y!=+v?g.date.add(v,1,h):v,p.end_date=y}return p}(a,c);if(!t.start_date||!t.end_date){for(var n=!0,r=c.getTaskByTime(),o=0;o<r.length;o++)if(r[o].type!==c.config.types.project){n=!1;break}if(r.length&&n){var l=r[0].start_date,d=c.date.add(l,1,c.config.duration_unit);t={start_date:new Date(l),end_date:new Date(d)}}else t=c.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=c.date[a+"_start"](t.start_date),t.start_date=c.calculateEndDate({start_date:c.date[a+"_start"](t.start_date),duration:-1,unit:a,step:e}),t.end_date=c.date[a+"_start"](t.end_date),t.end_date=c.calculateEndDate({start_date:t.end_date,duration:2,unit:a,step:e})}c._min_date=t.start_date,c._max_date=t.end_date})(c),!(i=c).config.fit_tasks||+i._min_date==+i._min_date&&+i._max_date==+i._max_date||(i.render(),i.callEvent("onScaleAdjusted",[]))}},function(C,$,f){var _=f(53),u=f(0),s=f(2),c=f(54),i=f(16),a=f(2).replaceValidZeroId;c.default&&(c=c.default);var e=function(t){var h;c.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(h){var g=h;t.initItem&&(g=t.initItem(g));var p=this.getItem(h.id);return p&&p.parent!=g.parent&&this.move(g.id,g.$index||-1,g.parent||this._ganttConfig.root_id),g},this.$parentProperty=t.parentProperty||"parent",this.$getRootId="function"!=typeof t.rootId?(h=t.rootId||0,function(){return h}):t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var n={},r={},o={},l={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,n={},r={},o={},l={},d=!1,this.eachItem(function(h){var g=this.getParent(h.id);o[h.id]=!(!h.$open||!1===o[g]),this._isSplitItem(h)&&(d=!0,n[h.id]=!0,r[h.id]=!0),d&&r[g]&&(r[h.id]=!0),l[h.id]=!(!o[g]&&void 0!==o[g])})}),this.attachEvent("onFilterItem",function(h,g){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var y=l[g.id];return d&&(y&&r[g.id]&&!n[g.id]&&(y=!!p),r[g.id]&&!n[g.id]&&(g.$split_subtask=!0)),g.$expanded_branch=!!l[g.id],!!y}),this.attachEvent("onFilter",function(){n={},r={},o={},l={}}),this};e.prototype=u.mixin({_buildTree:function(t){for(var n=null,r=this.$getRootId(),o=0,l=t.length;o<l;o++)this.setParent(n=t[o],a(this.getParent(n),r)||r);for(o=0,l=t.length;o<l;o++)this._add_branch(n=t[o]),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),u.defined(n.$open)||(n.$open=u.defined(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return"split"==t.render&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var n=this._parseInner(t);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(t,n){var r=this.getParent(t);u.defined(r)||(r=this.$getRootId(),this.setParent(t,r));var o=this.getIndexById(r)+Math.min(Math.max(n,0),this.visibleOrder.length);1*o!==o&&(o=void 0),c.prototype._addItemInner.call(this,t,o),this.setParent(t,r),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,n)},_changeIdInner:function(t,n){var r=this.getChildren(t),o=this._searchVisibleOrder[t];c.prototype._changeIdInner.call(this,t,n);var l=this.getParent(n);this._replace_branch_child(l,t,n),this._branches[t]&&(this._branches[n]=this._branches[t]);for(var d=0;d<r.length;d++){var h=this.getItem(r[d]);h[this.$parentProperty]=n,h.$rendered_parent=n}this._searchVisibleOrder[n]=o,delete this._branches[t]},_traverseBranches:function(t,n){u.defined(n)||(n=this.$getRootId());var r=this._branches[n];if(r)for(var o=0;o<r.length;o++){var l=r[o];t.call(this,l),this._branches[l]&&this._traverseBranches(t,l)}},_updateOrder:function(t){this.fullOrder=_.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),t&&c.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var n=[];this.eachItem(function(o){n.push(o)},t),n.push(this.getItem(t));for(var r=0;r<n.length;r++)this._move_branch(n[r],this.getParent(n[r]),null),c.prototype._removeItemInner.call(this,n[r].id),this._move_branch(n[r],this.getParent(n[r]),null)},move:function(t,n,r){var o=arguments[3],l=(this._ganttConfig||{}).root_id||0;if(o=a(o,l)){if(o===t)return;r=this.getParent(o),n=this.getBranchIndex(o)}if(t!=r){u.defined(r)||(r=this.$getRootId());var d=this.getItem(t),h=this.getParent(d.id),g=this.getChildren(r);if(-1==n&&(n=g.length+1),h==r&&this.getBranchIndex(t)==n)return;if(!1===this.callEvent("onBeforeItemMove",[t,r,n]))return!1;for(var p=[],y=0;y<g.length;y++)i(g[y],null,this,this._ganttConfig)&&(p.push(g[y]),g.splice(y,1),y--);this._replace_branch_child(h,t);var v=(g=this.getChildren(r))[n];(v=a(v,l))?g=g.slice(0,n).concat([t]).concat(g.slice(n)):g.push(t),p.length&&(g=g.concat(p)),this.setParent(d,r),this._branches[r]=g;var m=this.calculateItemLevel(d)-d.$level;d.$level+=m,this.eachItem(function(k){k.$level+=m},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(r)+n),this.callEvent("onAfterItemMove",[t,r,n]),this.refresh()}},getBranchIndex:function(t){var n=this.getChildren(this.getParent(t)),r=n.indexOf(t+"");return-1==r&&(r=n.indexOf(+t)),r},hasChild:function(t){var n=this._branches[t];return n&&n.length},getChildren:function(t){return this._branches[t]||_.$create()},isChildOf:function(t,n){if(!this.exists(t))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var r=this.getItem(t),o=this.getParent(t);if(this.getItem(n).$level>=r.$level)return!1;for(;r&&this.exists(o);){if((r=this.getItem(o))&&r.id==n)return!0;o=this.getParent(r)}return!1},getSiblings:function(t){if(!this.exists(t))return _.$create();var n=this.getParent(t);return this.getChildren(n)},getNextSibling:function(t){for(var n=this.getSiblings(t),r=0,o=n.length;r<o;r++)if(n[r]==t){var l=n[r+1];return 0===l&&r>0&&(l="0"),l||null}return null},getPrevSibling:function(t){for(var n=this.getSiblings(t),r=0,o=n.length;r<o;r++)if(n[r]==t){var l=n[r-1];return 0===l&&r>0&&(l="0"),l||null}return null},getParent:function(t){var n;return(n=void 0!==t.id?t:this.getItem(t))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},c.prototype.clearAll.call(this)},calculateItemLevel:function(t){var n=0;return this.eachParent(function(){n++},t),n},_setParentInner:function(t,n,r){r||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,n):this._move_branch(t,t[this.$parentProperty],n))},setParent:function(t,n,r){this._setParentInner(t,n,r),t[this.$parentProperty]=n},_eachItemCached:function(t,n){for(var r=0,o=n.length;r<o;r++)t.call(this,n[r])},_eachItemIterate:function(t,n,r){var o=this.getChildren(n);for(o.length&&(o=o.slice().reverse());o.length;){var l=o.pop(),d=this.getItem(l);if(t.call(this,d),r&&r.push(d),this.hasChild(d.id))for(var h=this.getChildren(d.id),g=h.length-1;g>=0;g--)o.push(h[g])}},eachItem:function(t,n){var r=this.$getRootId();u.defined(n)||(n=r);var o=a(n,r)||r,l=!1,d=!1,h=null;o===r&&(this._eachItemMainRangeCache?(l=!0,h=this._eachItemMainRangeCache):(d=!0,h=this._eachItemMainRangeCache=[])),l?this._eachItemCached(t,h):this._eachItemIterate(t,o,d?h:null)},eachParent:function(t,n){for(var r={},o=n,l=this.getParent(o);this.exists(l);){if(r[l])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+l);r[l]=!0,o=this.getItem(l),t.call(this,o),l=this.getParent(o)}},_add_branch:function(t,n,r){var o=void 0===r?this.getParent(t):r;this.hasChild(o)||(this._branches[o]=_.$create());var l=this.getChildren(o);l.indexOf(t.id+"")>-1||l.indexOf(+t.id)>-1||(1*n==n?l.splice(n,0,t.id):l.push(t.id),t.$rendered_parent=o)},_move_branch:function(t,n,r){this._eachItemMainRangeCache=null,this._replace_branch_child(n,t.id),this.exists(r)||r==this.$getRootId()?this._add_branch(t,void 0,r):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(o){o.$level=this.calculateItemLevel(o)},t.id)},_replace_branch_child:function(t,n,r){var o=this.getChildren(t);if(o&&void 0!==t){_.$create();var d=o.indexOf(n+"");-1!=d||isNaN(+n)||(d=o.indexOf(+n)),d>-1&&(r?o.splice(d,1,r):o.splice(d,1)),this._branches[t]=o}},sort:function(t,n,r){this.exists(r)||(r=this.$getRootId()),t||(t="order");var o="string"==typeof t?function(p,y){return p[t]==y[t]||s.isDate(p[t])&&s.isDate(y[t])&&p[t].valueOf()==y[t].valueOf()?0:p[t]>y[t]?1:-1}:t;if(n){var l=o;o=function(p,y){return l(y,p)}}var d=this.getChildren(r);if(d){for(var h=[],g=d.length-1;g>=0;g--)h[g]=this.getItem(d[g]);for(h.sort(o),g=0;g<h.length;g++)d[g]=h[g].id,this.sort(t,n,d[g])}},filter:function(t){for(var n in this.pull){var r=this.pull[n].$rendered_parent,o=this.getParent(this.pull[n]);r!==o&&this._move_branch(this.pull[n],r,o)}return c.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){c.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},c.prototype),C.exports=e},function(C,$,f){var _=f(0);C.exports={$create:function(s){return _.mixin(s||[],this)},$removeAt:function(s,c){s>=0&&this.splice(s,c||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,c){if(c||0===c){var i=this.splice(c,this.length-c);this[c]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var c=0;c<this.length;c++)if(s==this[c])return c;return-1},$each:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])},$map:function(s,c){for(var i=0;i<this.length;i++)this[i]=s.call(c||this,this[i]);return this},$filter:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])||(this.splice(i,1),i--);return this}}},function(C,$,f){var _=f(53),u=f(0),s=f(5),c=f(16),i=function(a){return this.pull={},this.$initItem=a.initItem,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=a,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(a){this.attachEvent("onClearAll",a),this.attachEvent("onBeforeParse",a),this.attachEvent("onBeforeUpdate",a),this.attachEvent("onBeforeDelete",a),this.attachEvent("onBeforeAdd",a),this.attachEvent("onParse",a),this.attachEvent("onBeforeFilter",a)},_parseInner:function(a){for(var e=null,t=[],n=0,r=a.length;n<r;n++)e=a[n],this.$initItem&&(this.$config.copyOnParse()&&(e=u.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),t.push(e),this.pull[e.id]=e);return t},parse:function(a){this.isSilent()||this.callEvent("onBeforeParse",[a]);var e=this._parseInner(a);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(a){return this.pull[a]},_updateOrder:function(a){a.call(this.visibleOrder),a.call(this.fullOrder)},updateItem:function(a,e){if(u.defined(e)||(e=this.getItem(a)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[e.id,e]))return!1;u.mixin(this.pull[a],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(a){this._updateOrder(function(){this.$remove(a)}),delete this.pull[a]},removeItem:function(a){var e=this.getItem(a);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[e.id,e]))return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(a),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(a,e){if(this.exists(a.id))this.silent(function(){this.updateItem(a.id,a)});else{var t=this.visibleOrder,n=t.length;(!u.defined(e)||e<0)&&(e=n),e>n&&(e=Math.min(t.length,e))}this.pull[a.id]=a,this.isSilent()||this._updateOrder(function(){-1===this.$find(a.id)&&this.$insertAt(a.id,e)}),this.filter()},isVisible:function(a){return this.visibleOrder.$find(a)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(a,e){return u.defined(a.id)||(a.id=u.uid()),this.$initItem&&(a=this.$initItem(a)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[a.id,a]))&&(this._addItemInner(a,e),this.isSilent()||(this.callEvent("onAfterAdd",[a.id,a]),this.callEvent("onStoreUpdated",[a.id,a,"add"])),a.id)},_changeIdInner:function(a,e){this.pull[a]&&(this.pull[e]=this.pull[a]);var t=this._searchVisibleOrder[a];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(a)]=e}),this._searchVisibleOrder[e]=t,delete this._searchVisibleOrder[a],delete this.pull[a]},changeId:function(a,e){this._changeIdInner(a,e),this.callEvent("onIdChange",[a,e])},exists:function(a){return!!this.pull[a]},_moveInner:function(a,e){var t=this.getIdByIndex(a);this._updateOrder(function(){this.$removeAt(a),this.$insertAt(t,Math.min(this.length,e))})},move:function(a,e){var t=this.getIdByIndex(a),n=this.getItem(t);this._moveInner(a,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(a,e){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,a.call(e||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(a,e){if(a.length!==e.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==e[t])return!1;return!0},refresh:function(a,e){var t;if(!this.isSilent()&&(a&&(t=this.getItem(a)),!1!==this.callEvent("onBeforeStoreUpdate",a?[a,t,"paint"]:[null,null,null]))){var r=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,a){if(!e&&!r){var o=this.visibleOrder;this.filter(),this.arraysEqual(o,this.visibleOrder)||(a=void 0)}}else r||this.filter();this.callEvent("onStoreUpdated",a?[a,t,"paint"]:[null,null,null])}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(a){},serialize:function(){},eachItem:function(a){for(var e=0;e<this.fullOrder.length;e++){var t=this.getItem(this.fullOrder[e]);a.call(this,t)}},find:function(a){var e=[];return this.eachItem(function(t){a(t)&&e.push(t)}),e},filter:function(a){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=_.$create(),t=[];this.eachItem(function(r){this.callEvent("onFilterItem",[r.id,r])&&(c(r.id,null,this,this._ganttConfig)?t.push(r.id):e.push(r.id))});for(var n=0;n<t.length;n++)e.push(t[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(a,e){var t=Math.min(e||1/0,this.countVisible()-1),n=a||0,r=n+"-"+t;if(this._indexRangeCache[r])return this._indexRangeCache[r].slice();for(var o=[],l=n;l<=t;l++)o.push(this.getItem(this.visibleOrder[l]));return this._indexRangeCache[r]=o.slice(),o},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var a=[];for(var e in this.pull)a.push(this.pull[e]);return this._getItemsCache=a.slice(),a},getIdByIndex:function(a){return this.visibleOrder[a]},getIndexById:function(a){var e=this._searchVisibleOrder[a];return void 0===e&&(e=-1),e},_getNullIfUndefined:function(a){return void 0===a?null:a},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(a){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(a)+1])},getPrev:function(a){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(a)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},C.exports=i},function(C,$){C.exports=function(f,_){if(!_)return!0;if(f._on_timeout)return!1;var u=Math.ceil(1e3/_);return u<2||(setTimeout(function(){delete f._on_timeout},u),f._on_timeout=!0,!0)}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(u){var s=this;for(var c in this.addExtension=function(i,a){s._extensions[i]=a},this.getExtension=function(i){return s._extensions[i]},this._extensions={},u)this._extensions[c]=u[c]}},function(C,$,f){var _=f(0);C.exports=function u(s,c){s=s||_.event,c=c||_.eventRemove;var i=[],a={attach:function(e,t,n,r){i.push({element:e,event:t,callback:n,capture:r}),s(e,t,n,r)},detach:function(e,t,n,r){c(e,t,n,r);for(var o=0;o<i.length;o++){var l=i[o];l.element===e&&l.event===t&&l.callback===n&&l.capture===r&&(i.splice(o,1),o--)}},detachAll:function(){for(var e=i.slice(),t=0;t<e.length;t++){var n=e[t];a.detach(n.element,n.event,n.callback,n.capture),a.detach(n.element,n.event,n.callback,void 0),a.detach(n.element,n.event,n.callback,!1),a.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return u(this.event,this.eventRemove)}};return a}},function(C,$){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}C.exports="object"==(typeof self>"u"?"undefined":f(self))?self.FormData:window.FormData},function(C,$){(function(f){C.exports=f}).call(this,{})},function(C,$,f){"use strict";C.exports=s;var _=f(13),u=f(18);function s(a){if(!(this instanceof s))return new s(a);_.call(this,a),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",c)}function c(){var a=this;"function"==typeof this._flush?this._flush(function(e,t){i(a,e,t)}):i(this,null,null)}function i(a,e,t){if(e)return a.emit("error",e);if(null!=t&&a.push(t),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}u.inherits=f(9),u.inherits(s,_),s.prototype.push=function(a,e){return this._transformState.needTransform=!1,_.prototype.push.call(this,a,e)},s.prototype._transform=function(a,e,t){throw new Error("_transform() is not implemented")},s.prototype._write=function(a,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=a,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(a){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(a,e){var t=this;_.prototype._destroy.call(this,a,function(n){e(n),t.emit("close")})}},function(C,$,f){"use strict";var _=f(21).Buffer,u=_.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(l){var d;switch(this.encoding=function(h){var g=function(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}(h);if("string"!=typeof g&&(_.isEncoding===u||!u(h)))throw new Error("Unknown encoding: "+h);return g||h}(l),this.encoding){case"utf16le":this.text=a,this.end=e,d=4;break;case"utf8":this.fillLast=i,d=4;break;case"base64":this.text=t,this.end=n,d=3;break;default:return this.write=r,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(d)}function c(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function i(l){var d=this.lastTotal-this.lastNeed,h=function(g,p,y){if(128!=(192&p[0]))return g.lastNeed=0,"\ufffd";if(g.lastNeed>1&&p.length>1){if(128!=(192&p[1]))return g.lastNeed=1,"\ufffd";if(g.lastNeed>2&&p.length>2&&128!=(192&p[2]))return g.lastNeed=2,"\ufffd"}}(this,l);return void 0!==h?h:this.lastNeed<=l.length?(l.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,d,0,l.length),void(this.lastNeed-=l.length))}function a(l,d){if((l.length-d)%2==0){var h=l.toString("utf16le",d);if(h){var g=h.charCodeAt(h.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",d,l.length-1)}function e(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):d}function t(l,d){var h=(l.length-d)%3;return 0===h?l.toString("base64",d):(this.lastNeed=3-h,this.lastTotal=3,1===h?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",d,l.length-h))}function n(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function r(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}$.StringDecoder=s,s.prototype.write=function(l){if(0===l.length)return"";var d,h;if(this.lastNeed){if(void 0===(d=this.fillLast(l)))return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<l.length?d?d+this.text(l,h):this.text(l,h):d||""},s.prototype.end=function(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+"\ufffd":d},s.prototype.text=function(l,d){var h=function(p,y,v){var m=y.length-1;if(m<v)return 0;var k=c(y[m]);return k>=0?(k>0&&(p.lastNeed=k-1),k):--m<v||-2===k?0:(k=c(y[m]))>=0?(k>0&&(p.lastNeed=k-2),k):--m<v||-2===k?0:(k=c(y[m]))>=0?(k>0&&(2===k?k=0:p.lastNeed=k-3),k):0}(this,l,d);if(!this.lastNeed)return l.toString("utf8",d);this.lastTotal=h;var g=l.length-(h-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",d,g)},s.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},function(C,$,f){(function(_){var u=void 0!==_&&_||typeof self<"u"&&self||window,s=Function.prototype.apply;function c(i,a){this._id=i,this._clearFn=a}$.setTimeout=function(){return new c(s.call(setTimeout,u,arguments),clearTimeout)},$.setInterval=function(){return new c(s.call(setInterval,u,arguments),clearInterval)},$.clearTimeout=$.clearInterval=function(i){i&&i.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(u,this._id)},$.enroll=function(i,a){clearTimeout(i._idleTimeoutId),i._idleTimeout=a},$.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},$._unrefActive=$.active=function(i){clearTimeout(i._idleTimeoutId);var a=i._idleTimeout;a>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},a))},f(301),$.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==_&&_.setImmediate||this&&this.setImmediate,$.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==_&&_.clearImmediate||this&&this.clearImmediate}).call(this,f(4))},function(C,$,f){"use strict";(function(_,u,s){var c=f(22);function i(w){var T=this;this.next=null,this.entry=null,this.finish=function(){!function(E,I,P){var L=E.entry;for(E.entry=null;L;){var H=L.callback;I.pendingcb--,H(void 0),L=L.next}I.corkedRequestsFree?I.corkedRequestsFree.next=E:I.corkedRequestsFree=E}(T,w)}}C.exports=y;var a,e=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?u:c.nextTick;y.WritableState=p;var t=f(18);t.inherits=f(9);var d,n={deprecate:f(300)},r=f(65),o=f(21).Buffer,l=s.Uint8Array||function(){},h=f(64);function g(){}function p(w,T){a=a||f(13);var E=T instanceof a;this.objectMode=!!(w=w||{}).objectMode,E&&(this.objectMode=this.objectMode||!!w.writableObjectMode);var I=w.highWaterMark,P=w.writableHighWaterMark;this.highWaterMark=I||0===I?I:E&&(P||0===P)?P:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===w.decodeStrings),this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){!function(z,W){var V,N=z._writableState,O=N.sync,q=N.writecb;if((V=N).writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0,W)!function(V,Y,B,tt,D){--Y.pendingcb,B?(c.nextTick(D,tt),c.nextTick(x,V,Y),V._writableState.errorEmitted=!0,V.emit("error",tt)):(D(tt),V._writableState.errorEmitted=!0,V.emit("error",tt),x(V,Y))}(z,N,O,W,q);else{var G=b(N);G||N.corked||N.bufferProcessing||!N.bufferedRequest||k(z,N),O?e(m,z,N,G,q):m(z,N,G,q)}}(T,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function y(w){if(a=a||f(13),!(d.call(y,this)||this instanceof a))return new y(w);this._writableState=new p(w,this),this.writable=!0,w&&("function"==typeof w.write&&(this._write=w.write),"function"==typeof w.writev&&(this._writev=w.writev),"function"==typeof w.destroy&&(this._destroy=w.destroy),"function"==typeof w.final&&(this._final=w.final)),r.call(this)}function v(w,T,E,I,P,L,H){T.writelen=I,T.writecb=H,T.writing=!0,T.sync=!0,E?w._writev(P,T.onwrite):w._write(P,L,T.onwrite),T.sync=!1}function m(w,T,E,I){var P,L;E||(P=w,0===(L=T).length&&L.needDrain&&(L.needDrain=!1,P.emit("drain"))),T.pendingcb--,I(),x(w,T)}function k(w,T){T.bufferProcessing=!0;var E=T.bufferedRequest;if(w._writev&&E&&E.next){var P=new Array(T.bufferedRequestCount),L=T.corkedRequestsFree;L.entry=E;for(var H=0,F=!0;E;)P[H]=E,E.isBuf||(F=!1),E=E.next,H+=1;P.allBuffers=F,v(w,T,!0,T.length,P,"",L.finish),T.pendingcb++,T.lastBufferedRequest=null,L.next?(T.corkedRequestsFree=L.next,L.next=null):T.corkedRequestsFree=new i(T),T.bufferedRequestCount=0}else{for(;E;){var z=E.chunk;if(v(w,T,!1,T.objectMode?1:z.length,z,E.encoding,E.callback),E=E.next,T.bufferedRequestCount--,T.writing)break}null===E&&(T.lastBufferedRequest=null)}T.bufferedRequest=E,T.bufferProcessing=!1}function b(w){return w.ending&&0===w.length&&null===w.bufferedRequest&&!w.finished&&!w.writing}function S(w,T){w._final(function(E){T.pendingcb--,E&&w.emit("error",E),T.prefinished=!0,w.emit("prefinish"),x(w,T)})}function x(w,T){var I,P,E=b(T);return E&&(I=w,(P=T).prefinished||P.finalCalled||("function"==typeof I._final?(P.pendingcb++,P.finalCalled=!0,c.nextTick(S,I,P)):(P.prefinished=!0,I.emit("prefinish"))),0===T.pendingcb&&(T.finished=!0,w.emit("finish"))),E}t.inherits(y,r),p.prototype.getBuffer=function(){for(var w=this.bufferedRequest,T=[];w;)T.push(w),w=w.next;return T},function(){try{Object.defineProperty(p.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(w){return!!d.call(this,w)||this===y&&w&&w._writableState instanceof p}})):d=function(w){return w instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(w,T,E){var H,I=this._writableState,P=!1,L=!I.objectMode&&(o.isBuffer(H=w)||H instanceof l);return L&&!o.isBuffer(w)&&(w=function(H){return o.from(H)}(w)),"function"==typeof T&&(E=T,T=null),L?T="buffer":T||(T=I.defaultEncoding),"function"!=typeof E&&(E=g),I.ended?function(H,F){var z=new Error("write after end");H.emit("error",z),c.nextTick(F,z)}(this,E):(L||function(H,F,z,W){var N=!0,O=!1;return null===z?O=new TypeError("May not write null values to stream"):"string"==typeof z||void 0===z||F.objectMode||(O=new TypeError("Invalid non-string/buffer chunk")),O&&(H.emit("error",O),c.nextTick(W,O),N=!1),N}(this,I,w,E))&&(I.pendingcb++,P=function(H,F,z,W,N,O){if(!z){var q=(tt=W,(B=F).objectMode||!1===B.decodeStrings||"string"!=typeof tt||(tt=o.from(tt,N)),tt);W!==q&&(z=!0,N="buffer",W=q)}var B,tt,G=F.objectMode?1:W.length;F.length+=G;var V=F.length<F.highWaterMark;if(V||(F.needDrain=!0),F.writing||F.corked){var Y=F.lastBufferedRequest;F.lastBufferedRequest={chunk:W,encoding:N,isBuf:z,callback:O,next:null},Y?Y.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else v(H,F,!1,G,W,N,O);return V}(this,I,L,w,T,E)),P},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.finished||w.bufferProcessing||!w.bufferedRequest||k(this,w))},y.prototype.setDefaultEncoding=function(w){if("string"==typeof w&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(w,T,E){E(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(w,T,E){var P,L,H,I=this._writableState;"function"==typeof w?(E=w,w=null,T=null):"function"==typeof T&&(E=T,T=null),null!=w&&this.write(w,T),I.corked&&(I.corked=1,this.uncork()),I.ending||I.finished||(P=this,H=E,(L=I).ending=!0,x(P,L),H&&(L.finished?c.nextTick(H):P.once("finish",H)),L.ended=!0,P.writable=!1)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(w,T){this.end(),T(w)}}).call(this,f(10),f(62).setImmediate,f(4))},function(C,$,f){"use strict";var _=f(22);function u(s,c){s.emit("error",c)}C.exports={destroy:function(s,c){var i=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(c?c(s):!s||this._writableState&&this._writableState.errorEmitted||_.nextTick(u,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(t){!c&&t?(_.nextTick(u,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):c&&c(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(C,$,f){C.exports=f(66).EventEmitter},function(C,$){function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(i){return"function"==typeof i}function s(i){return"object"===f(i)&&null!==i}function c(i){return void 0===i}C.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.prototype.setMaxListeners=function(i){if("number"!=typeof i||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},_.prototype.emit=function(i){var a,e,t,n,r,o;if(this._events||(this._events={}),"error"===i&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((a=arguments[1])instanceof Error)throw a;var l=new Error('Uncaught, unspecified "error" event. ('+a+")");throw l.context=a,l}if(c(e=this._events[i]))return!1;if(u(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(s(e))for(n=Array.prototype.slice.call(arguments,1),t=(o=e.slice()).length,r=0;r<t;r++)o[r].apply(this,n);return!0},_.prototype.on=_.prototype.addListener=function(i,a){var e;if(!u(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,u(a.listener)?a.listener:a),this._events[i]?s(this._events[i])?this._events[i].push(a):this._events[i]=[this._events[i],a]:this._events[i]=a,s(this._events[i])&&!this._events[i].warned&&(e=c(this._maxListeners)?_.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[i].length>e&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),"function"==typeof console.trace&&console.trace()),this},_.prototype.once=function(i,a){if(!u(a))throw TypeError("listener must be a function");var e=!1;function t(){this.removeListener(i,t),e||(e=!0,a.apply(this,arguments))}return t.listener=a,this.on(i,t),this},_.prototype.removeListener=function(i,a){var e,t,n,r;if(!u(a))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=(e=this._events[i]).length,t=-1,e===a||u(e.listener)&&e.listener===a)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,a);else if(s(e)){for(r=n;r-- >0;)if(e[r]===a||e[r].listener&&e[r].listener===a){t=r;break}if(t<0)return this;1===e.length?(e.length=0,delete this._events[i]):e.splice(t,1),this._events.removeListener&&this.emit("removeListener",i,a)}return this},_.prototype.removeAllListeners=function(i){var a,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[i]&&delete this._events[i],this;if(0===arguments.length){for(a in this._events)"removeListener"!==a&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events={},this}if(u(e=this._events[i]))this.removeListener(i,e);else if(e)for(;e.length;)this.removeListener(i,e[e.length-1]);return delete this._events[i],this},_.prototype.listeners=function(i){return this._events&&this._events[i]?u(this._events[i])?[this._events[i]]:this._events[i].slice():[]},_.prototype.listenerCount=function(i){if(this._events){var a=this._events[i];if(u(a))return 1;if(a)return a.length}return 0},_.listenerCount=function(i,a){return i.listenerCount(a)}},function(C,$,f){"use strict";(function(_,u){var s=f(22);C.exports=v;var c,i=f(71);v.ReadableState=y,f(66);var a=function(N,O){return N.listeners(O).length},e=f(65),t=f(21).Buffer,n=_.Uint8Array||function(){},r=f(18);r.inherits=f(9);var o=f(304),l=void 0;l=o&&o.debuglog?o.debuglog("stream"):function(){};var d,h=f(303),g=f(64);r.inherits(v,e);var p=["error","close","destroy","pause","resume"];function y(N,O){var q=O instanceof(c=c||f(13));this.objectMode=!!(N=N||{}).objectMode,q&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var G=N.highWaterMark,V=N.readableHighWaterMark;this.highWaterMark=G||0===G?G:q&&(V||0===V)?V:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(d||(d=f(61).StringDecoder),this.decoder=new d(N.encoding),this.encoding=N.encoding)}function v(N){if(c=c||f(13),!(this instanceof v))return new v(N);this._readableState=new y(N,this),this.readable=!0,N&&("function"==typeof N.read&&(this._read=N.read),"function"==typeof N.destroy&&(this._destroy=N.destroy)),e.call(this)}function m(N,O,q,G,V){var Y,tt,D,M,A,B=N._readableState;return null===O?(B.reading=!1,function(tt,D){if(!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,x(tt)}}(N,B)):(V||(tt=B,t.isBuffer(A=D=O)||A instanceof n||"string"==typeof D||void 0===D||tt.objectMode||(M=new TypeError("Invalid non-string/buffer chunk")),Y=M),Y?N.emit("error",Y):B.objectMode||O&&O.length>0?("string"==typeof O||B.objectMode||Object.getPrototypeOf(O)===t.prototype||(O=function(tt){return t.from(tt)}(O)),G?B.endEmitted?N.emit("error",new Error("stream.unshift() after end event")):k(N,B,O,!0):B.ended?N.emit("error",new Error("stream.push() after EOF")):(B.reading=!1,B.decoder&&!q?(O=B.decoder.write(O),B.objectMode||0!==O.length?k(N,B,O,!1):T(N,B)):k(N,B,O,!1))):G||(B.reading=!1)),function(tt){return!tt.ended&&(tt.needReadable||tt.length<tt.highWaterMark||0===tt.length)}(B)}function k(N,O,q,G){O.flowing&&0===O.length&&!O.sync?(N.emit("data",q),N.read(0)):(O.length+=O.objectMode?1:q.length,G?O.buffer.unshift(q):O.buffer.push(q),O.needReadable&&x(N)),T(N,O)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(N,O){this.push(null),O(N)},v.prototype.push=function(N,O){var q,G=this._readableState;return G.objectMode?q=!0:"string"==typeof N&&((O=O||G.defaultEncoding)!==G.encoding&&(N=t.from(N,O),O=""),q=!0),m(this,N,O,!1,q)},v.prototype.unshift=function(N){return m(this,N,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(N){return d||(d=f(61).StringDecoder),this._readableState.decoder=new d(N),this._readableState.encoding=N,this};var b=8388608;function S(N,O){return N<=0||0===O.length&&O.ended?0:O.objectMode?1:N!=N?O.flowing&&O.length?O.buffer.head.data.length:O.length:(N>O.highWaterMark&&(O.highWaterMark=((q=N)>=b?q=b:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q)),N<=O.length?N:O.ended?O.length:(O.needReadable=!0,0));var q}function x(N){var O=N._readableState;O.needReadable=!1,O.emittedReadable||(l("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?s.nextTick(w,N):w(N))}function w(N){l("emit readable"),N.emit("readable"),L(N)}function T(N,O){O.readingMore||(O.readingMore=!0,s.nextTick(E,N,O))}function E(N,O){for(var q=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(l("maybeReadMore read 0"),N.read(0),q!==O.length);)q=O.length;O.readingMore=!1}function I(N){l("readable nexttick read 0"),N.read(0)}function P(N,O){O.reading||(l("resume read 0"),N.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,N.emit("resume"),L(N),O.flowing&&!O.reading&&N.read(0)}function L(N){var O=N._readableState;for(l("flow",O.flowing);O.flowing&&null!==N.read(););}function H(N,O){return 0===O.length?null:(O.objectMode?q=O.buffer.shift():!N||N>=O.length?(q=O.decoder?O.buffer.join(""):1===O.buffer.length?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):(Y=O.decoder,(G=N)<(V=O.buffer).head.data.length?(B=V.head.data.slice(0,G),V.head.data=V.head.data.slice(G)):B=G===V.head.data.length?V.shift():Y?function(tt,D){var M=D.head,A=1,R=M.data;for(tt-=R.length;M=M.next;){var j=M.data,U=tt>j.length?j.length:tt;if(R+=U===j.length?j:j.slice(0,tt),0==(tt-=U)){U===j.length?(++A,D.head=M.next?M.next:D.tail=null):(D.head=M,M.data=j.slice(U));break}++A}return D.length-=A,R}(G,V):function(tt,D){var M=t.allocUnsafe(tt),A=D.head,R=1;for(A.data.copy(M),tt-=A.data.length;A=A.next;){var j=A.data,U=tt>j.length?j.length:tt;if(j.copy(M,M.length-tt,0,U),0==(tt-=U)){U===j.length?(++R,D.head=A.next?A.next:D.tail=null):(D.head=A,A.data=j.slice(U));break}++R}return D.length-=R,M}(G,V),q=B),q);var G,V,Y,B,q}function F(N){var O=N._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,s.nextTick(z,O,N))}function z(N,O){N.endEmitted||0!==N.length||(N.endEmitted=!0,O.readable=!1,O.emit("end"))}function W(N,O){for(var q=0,G=N.length;q<G;q++)if(N[q]===O)return q;return-1}v.prototype.read=function(N){l("read",N),N=parseInt(N,10);var O=this._readableState,q=N;if(0!==N&&(O.emittedReadable=!1),0===N&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return l("read: emitReadable",O.length,O.ended),0===O.length&&O.ended?F(this):x(this),null;if(0===(N=S(N,O))&&O.ended)return 0===O.length&&F(this),null;var G,V=O.needReadable;return l("need readable",V),(0===O.length||O.length-N<O.highWaterMark)&&l("length less than watermark",V=!0),O.ended||O.reading?l("reading or ended",V=!1):V&&(l("do read"),O.reading=!0,O.sync=!0,0===O.length&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(N=S(q,O))),null===(G=N>0?H(N,O):null)?(O.needReadable=!0,N=0):O.length-=N,0===O.length&&(O.ended||(O.needReadable=!0),q!==N&&O.ended&&F(this)),null!==G&&this.emit("data",G),G},v.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(N,O){var q=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=N;break;case 1:G.pipes=[G.pipes,N];break;default:G.pipes.push(N)}G.pipesCount+=1,l("pipe count=%d opts=%j",G.pipesCount,O);var V=O&&!1===O.end||N===u.stdout||N===u.stderr?K:B;function B(){l("onend"),N.end()}G.endEmitted?s.nextTick(V):q.once("end",V),N.on("unpipe",function Y(Q,et){l("onunpipe"),Q===q&&et&&!1===et.hasUnpiped&&(et.hasUnpiped=!0,l("cleanup"),N.removeListener("close",j),N.removeListener("finish",U),N.removeListener("drain",tt),N.removeListener("error",R),N.removeListener("unpipe",Y),q.removeListener("end",B),q.removeListener("end",K),q.removeListener("data",A),D=!0,!G.awaitDrain||N._writableState&&!N._writableState.needDrain||tt())});var Q,tt=(Q=q,function(){var et=Q._readableState;l("pipeOnDrain",et.awaitDrain),et.awaitDrain&&et.awaitDrain--,0===et.awaitDrain&&a(Q,"data")&&(et.flowing=!0,L(Q))});N.on("drain",tt);var D=!1,M=!1;function A(Q){l("ondata"),M=!1,!1!==N.write(Q)||M||((1===G.pipesCount&&G.pipes===N||G.pipesCount>1&&-1!==W(G.pipes,N))&&!D&&(l("false write response, pause",q._readableState.awaitDrain),q._readableState.awaitDrain++,M=!0),q.pause())}function R(Q){l("onerror",Q),K(),N.removeListener("error",R),0===a(N,"error")&&N.emit("error",Q)}function j(){N.removeListener("finish",U),K()}function U(){l("onfinish"),N.removeListener("close",j),K()}function K(){l("unpipe"),q.unpipe(N)}return q.on("data",A),function(Q,et,at){if("function"==typeof Q.prependListener)return Q.prependListener(et,at);Q._events&&Q._events[et]?i(Q._events[et])?Q._events[et].unshift(at):Q._events[et]=[at,Q._events[et]]:Q.on(et,at)}(N,"error",R),N.once("close",j),N.once("finish",U),N.emit("pipe",q),G.flowing||(l("pipe resume"),q.resume()),N},v.prototype.unpipe=function(N){var O=this._readableState,q={hasUnpiped:!1};if(0===O.pipesCount)return this;if(1===O.pipesCount)return N&&N!==O.pipes||(N||(N=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,N&&N.emit("unpipe",this,q)),this;if(!N){var G=O.pipes,V=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var Y=0;Y<V;Y++)G[Y].emit("unpipe",this,q);return this}var B=W(O.pipes,N);return-1===B||(O.pipes.splice(B,1),O.pipesCount-=1,1===O.pipesCount&&(O.pipes=O.pipes[0]),N.emit("unpipe",this,q)),this},v.prototype.addListener=v.prototype.on=function(N,O){var q=e.prototype.on.call(this,N,O);if("data"===N)!1!==this._readableState.flowing&&this.resume();else if("readable"===N){var G=this._readableState;G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.emittedReadable=!1,G.reading?G.length&&x(this):s.nextTick(I,this))}return q},v.prototype.resume=function(){var q,N=this._readableState;return N.flowing||(l("resume"),N.flowing=!0,this,(q=N).resumeScheduled||(q.resumeScheduled=!0,s.nextTick(P,this,q))),this},v.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(N){var O=this,q=this._readableState,G=!1;for(var V in N.on("end",function(){if(l("wrapped end"),q.decoder&&!q.ended){var B=q.decoder.end();B&&B.length&&O.push(B)}O.push(null)}),N.on("data",function(B){l("wrapped data"),q.decoder&&(B=q.decoder.write(B)),(!q.objectMode||null!=B)&&(q.objectMode||B&&B.length)&&(O.push(B)||(G=!0,N.pause()))}),N)void 0===this[V]&&"function"==typeof N[V]&&(this[V]=function(B){return function(){return N[B].apply(N,arguments)}}(V));for(var Y=0;Y<p.length;Y++)N.on(p[Y],this.emit.bind(this,p[Y]));return this._read=function(B){l("wrapped _read",B),G&&(G=!1,N.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=H}).call(this,f(4),f(10))},function(C,$,f){($=C.exports=f(67)).Stream=$,$.Readable=$,$.Writable=f(63),$.Duplex=f(13),$.Transform=f(60),$.PassThrough=f(299)},function(C,$,f){(function(_,u,s){var c=f(70),i=f(9),a=f(68),e=$.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=$.IncomingMessage=function(n,r,o,l){var d=this;if(a.Readable.call(d),d._mode=o,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){_.nextTick(function(){d.emit("close")})}),"fetch"===o){if(d._fetchResponse=r,d.url=r.url,d.statusCode=r.status,d.statusMessage=r.statusText,r.headers.forEach(function(v,m){d.headers[m.toLowerCase()]=v,d.rawHeaders.push(m,v)}),c.writableStream){var h=new WritableStream({write:function(v){return new Promise(function(m,k){d._destroyed?k():d.push(new s(v))?m():d._resumeFetch=m})},close:function(){u.clearTimeout(l),d._destroyed||d.push(null)},abort:function(v){d._destroyed||d.emit("error",v)}});try{return void r.body.pipeTo(h).catch(function(v){u.clearTimeout(l),d._destroyed||d.emit("error",v)})}catch{}}var g=r.body.getReader();!function v(){g.read().then(function(m){if(!d._destroyed){if(m.done)return u.clearTimeout(l),void d.push(null);d.push(new s(m.value)),v()}}).catch(function(m){u.clearTimeout(l),d._destroyed||d.emit("error",m)})}()}else if(d._xhr=n,d._pos=0,d.url=n.responseURL,d.statusCode=n.status,d.statusMessage=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).forEach(function(v){var m=v.match(/^([^:]+):\s*(.*)/);if(m){var k=m[1].toLowerCase();"set-cookie"===k?(void 0===d.headers[k]&&(d.headers[k]=[]),d.headers[k].push(m[2])):void 0!==d.headers[k]?d.headers[k]+=", "+m[2]:d.headers[k]=m[2],d.rawHeaders.push(m[1],m[2])}}),d._charset="x-user-defined",!c.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var y=p.match(/;\s*charset=([^;])(;|$)/);y&&(d._charset=y[1].toLowerCase())}d._charset||(d._charset="utf-8")}};i(t,a.Readable),t.prototype._read=function(){var n=this._resumeFetch;n&&(this._resumeFetch=null,n())},t.prototype._onXHRProgress=function(){var n=this,r=n._xhr,o=null;switch(n._mode){case"text:vbarray":if(r.readyState!==e.DONE)break;try{o=new u.VBArray(r.responseBody).toArray()}catch{}if(null!==o){n.push(new s(o));break}case"text":try{o=r.responseText}catch{n._mode="text:vbarray";break}if(o.length>n._pos){var l=o.substr(n._pos);if("x-user-defined"===n._charset){for(var d=new s(l.length),h=0;h<l.length;h++)d[h]=255&l.charCodeAt(h);n.push(d)}else n.push(l,n._charset);n._pos=o.length}break;case"arraybuffer":if(r.readyState!==e.DONE||!r.response)break;o=r.response,n.push(new s(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=r.response,r.readyState!==e.LOADING||!o)break;n.push(new s(new Uint8Array(o)));break;case"ms-stream":if(o=r.response,r.readyState!==e.LOADING)break;var g=new u.MSStreamReader;g.onprogress=function(){g.result.byteLength>n._pos&&(n.push(new s(new Uint8Array(g.result.slice(n._pos)))),n._pos=g.result.byteLength)},g.onload=function(){n.push(null)},g.readAsArrayBuffer(o)}n._xhr.readyState===e.DONE&&"ms-stream"!==n._mode&&n.push(null)}}).call(this,f(10),f(4),f(14).Buffer)},function(C,$,f){(function(_){$.fetch=e(_.fetch)&&e(_.ReadableStream),$.writableStream=e(_.WritableStream),$.abortController=e(_.AbortController),$.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),$.blobConstructor=!0}catch{}var u;function s(){if(void 0!==u)return u;if(_.XMLHttpRequest){u=new _.XMLHttpRequest;try{u.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{u=null}}else u=null;return u}function c(t){var n=s();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch{}return!1}var i=void 0!==_.ArrayBuffer,a=i&&e(_.ArrayBuffer.prototype.slice);function e(t){return"function"==typeof t}$.arraybuffer=$.fetch||i&&c("arraybuffer"),$.msstream=!$.fetch&&a&&c("ms-stream"),$.mozchunkedarraybuffer=!$.fetch&&i&&c("moz-chunked-arraybuffer"),$.overrideMimeType=$.fetch||!!s()&&e(s().overrideMimeType),$.vbArray=e(_.VBArray),u=null}).call(this,f(4))},function(C,$){var f={}.toString;C.exports=Array.isArray||function(_){return"[object Array]"==f.call(_)}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){this._gantt=s}return u.prototype.isEqual=function(s,c,i){return!this._gantt._hasDuration(s,c,i)},u.prototype.isFirstSmaller=function(s,c,i){return s.valueOf()<c.valueOf()&&!this.isEqual(s,c,i)},u.prototype.isSmallerOrDefault=function(s,c,i){return!(s&&!this.isFirstSmaller(s,c,i))},u.prototype.isGreaterOrDefault=function(s,c,i){return!(s&&!this.isFirstSmaller(c,s,i))},u}();$.default=_},function(C,$,f){var _=f(2);C.exports=function(){return{getVertices:function(u){for(var s,c={},i=0,a=u.length;i<a;i++)c[(s=u[i]).target]=s.target,c[s.source]=s.source;var t=[];for(var i in c)t.push(c[i]);return t},topologicalSort:function(u){for(var s=this.getVertices(u),c={},i=0,a=s.length;i<a;i++)c[s[i]]={id:s[i],$source:[],$target:[],$incoming:0};for(i=0,a=u.length;i<a;i++){var e=c[u[i].target];e.$target.push(i),e.$incoming=e.$target.length,c[u[i].source].$source.push(i)}for(var t=s.filter(function(d){return!c[d].$incoming}),n=[];t.length;){var r=t.pop();n.push(r);var o=c[r];for(i=0;i<o.$source.length;i++){var l=c[u[o.$source[i]].target];l.$incoming--,l.$incoming||t.push(l.id)}}return n},groupAdjacentEdges:function(u){for(var s,c={},i=0,a=u.length;i<a;i++)c[(s=u[i]).source]||(c[s.source]=[]),c[s.source].push(s);return c},tarjanStronglyConnectedComponents:function(u,s){for(var c={},i=[],a=this.groupAdjacentEdges(s),e=!1,t=[],n=0;n<u.length;n++){var r=y(u[n]);if(!r.visited)for(var o=[r],l=0;o.length;){var d=o.pop();d.visited||(d.index=l,d.lowLink=l,l++,i.push(d),d.onStack=!0,d.visited=!0),e=!1,s=a[d.id]||[];for(var h=0;h<s.length;h++){var g=y(s[h].target);if(g.edge=s[h],void 0===g.index){o.push(d),o.push(g),e=!0;break}g.onStack&&(d.lowLink=Math.min(d.lowLink,g.index))}if(!e){if(d.index==d.lowLink){for(var p={tasks:[],links:[],linkKeys:[]};(g=i.pop()).onStack=!1,p.tasks.push(g.id),g.edge&&(p.links.push(g.edge.id),p.linkKeys.push(g.edge.hashSum)),g!=d;);t.push(p)}o.length&&(g=d,(d=o[o.length-1]).lowLink=Math.min(d.lowLink,g.lowLink))}}}return t;function y(v){return c[v]||(c[v]={id:v,onStack:!1,index:void 0,lowLink:void 0,edge:void 0}),c[v]}},findLoops:function(u){var s=[];_.forEach(u,function(a){a.target==a.source&&s.push([a.target,a.source])});var c=this.getVertices(u),i=this.tarjanStronglyConnectedComponents(c,u);return _.forEach(i,function(a){a.tasks.length>1&&s.push(a)}),s}}}},function(C,$){C.exports=function(f){return{getVirtualRoot:function(){return f.mixin(f.getSubtaskDates(),{id:f.config.root_id,type:f.config.types.project,$source:[],$target:[],$virtual:!0})},getLinkedTasks:function(_,u){var s=[_],c=!1;f._isLinksCacheEnabled()||(f._startLinksCache(),c=!0);for(var i=[],a={},e={},t=0;t<s.length;t++)this._getLinkedTasks(s[t],a,u,e);for(var t in e)i.push(e[t]);return c&&f._endLinksCache(),i},_collectRelations:function(_,u,s,c){var i,a=f._getSuccessors(_,u),e=[];s&&(e=f._getPredecessors(_,u));for(var t=[],n=0;n<a.length;n++)c[i=a[n].hashSum]||(c[i]=!0,t.push(a[n]));for(n=0;n<e.length;n++)c[i=e[n].hashSum]||(c[i]=!0,t.push(e[n]));return t},_getLinkedTasks:function(_,u,s,c){for(var i,a=void 0===_?f.config.root_id:_,e=(u={},{}),t=[{from:a,includePredecessors:s,isChild:!1}];t.length;){var n=t.pop(),r=n.isChild;if(!u[a=n.from]){i=f.isTaskExists(a)?f.getTask(a):this.getVirtualRoot(),u[a]=!0;for(var o=this._collectRelations(i,r,s,e),l=0;l<o.length;l++){var d=o[l],h=!0;f.config.auto_scheduling_use_progress&&1==f.getTask(d.target).progress&&(h=!1),h&&(c[d.hashSum]=d),u[d.target]||t.push({from:d.target,includePredecessors:!0,isChild:d.sourceParent==d.targetParent})}if(f.hasChild(i.id)){var p=f.getChildren(i.id);for(l=0;l<p.length;l++)u[p[l]]||t.push({from:p[l],includePredecessors:!0,isChild:!0})}}}return c}}}},function(C,$){C.exports=function(f){f._get_linked_task=function(a,e){var t=null,n=e?a.target:a.source;return f.isTaskExists(n)&&(t=f.getTask(n)),t},f._get_link_target=function(a){return f._get_linked_task(a,!0)},f._get_link_source=function(a){return f._get_linked_task(a,!1)};var _=!1,u={},s={},c={},i={};f._isLinksCacheEnabled=function(){return _},f._startLinksCache=function(){u={},s={},c={},i={},_=!0},f._endLinksCache=function(){u={},s={},c={},i={},_=!1},f._formatLink=function(a){if(_&&u[a.id])return u[a.id];var e=[],t=this._get_link_target(a),n=this._get_link_source(a);if(!n||!t||f.isSummaryTask(t)&&f.isChildOf(n.id,t.id)||f.isSummaryTask(n)&&f.isChildOf(t.id,n.id))return e;var r=f.config.schedule_from_end&&f.config.project_end,o=f.config.auto_scheduling_move_projects;!f.config.auto_scheduling_compatibility&&f.config.auto_scheduling_strict&&(o=!1);for(var l=this.isSummaryTask(n)?this.getSubtaskDates(n.id):{start_date:n.start_date,end_date:n.end_date},d=this._getImplicitLinks(a,n,function(w){return o&&r?w.$source.length||f.getState("tasksDnd").drag_id==w.id?0:f.calculateDuration({start_date:w.end_date,end_date:l.end_date,task:n}):0},!0),h=this.isSummaryTask(t)?this.getSubtaskDates(t.id):{start_date:t.start_date,end_date:t.end_date},g=this._getImplicitLinks(a,t,function(w){return!o||r||w.$target.length||f.getState("tasksDnd").drag_id==w.id?0:f.calculateDuration({start_date:h.start_date,end_date:w.start_date,task:n})}),p=0,y=d.length;p<y;p++)for(var v=d[p],m=0,k=g.length;m<k;m++){var b=g[m];e.push(f._convertToFinishToStartLink(b.task,{id:a.id,type:a.type,source:v.task,target:b.task,subtaskLink:v.subtaskLink,lag:(1*a.lag||0)+(1*v.lag+1*b.lag)},n,t,v.taskParent,b.taskParent))}return _&&(u[a.id]=e),e},f._isAutoSchedulable=function(a){return!1!==a.auto_scheduling},f._getImplicitLinks=function(a,e,t,n){var r=[];if(this.isSummaryTask(e)){var o,l={};for(var d in this.eachTask(function(k){this.isSummaryTask(k)||(l[k.id]=k)},e.id),l){var h=l[d],g=n?h.$source:h.$target;o=!1;for(var p=0;p<g.length;p++){var y=f.getLink(g[p]),m=l[n?y.target:y.source];if(m&&!1!==h.auto_scheduling&&!1!==m.auto_scheduling&&(y.target==m.id&&Math.abs(y.lag)<=m.duration||y.target==h.id&&Math.abs(y.lag)<=h.duration)){o=!0;break}}o||r.push({task:h.id,taskParent:h.parent,lag:t(h),subtaskLink:!0})}}else r.push({task:e.id,taskParent:e.parent,lag:0});return r},f._getDirectDependencies=function(a,e){for(var t=[],n=[],r=e?a.$source:a.$target,o=0;o<r.length;o++){var l=this.getLink(r[o]);if(this.isTaskExists(l.source)&&this.isTaskExists(l.target)){var d=this.getTask(l.target);if(!this._isAutoSchedulable(d))continue;if(f.config.auto_scheduling_use_progress){if(1==d.progress)continue;t.push(l)}else t.push(l)}}for(o=0;o<t.length;o++)n=n.concat(this._formatLink(t[o]));return n},f._getInheritedDependencies=function(a,e){var t,n=!1,r=[];return this.isTaskExists(a.id)&&this.eachParent(function(o){var l;n||(_&&(t=e?s:c)[o.id]?r=r.concat(t[o.id]):this.isSummaryTask(o)&&(this._isAutoSchedulable(o)?(l=this._getDirectDependencies(o,e),_&&(t[o.id]=l),r=r.concat(l)):n=!0))},a.id,this),r},f._getDirectSuccessors=function(a){return this._getDirectDependencies(a,!0)},f._getInheritedSuccessors=function(a){return this._getInheritedDependencies(a,!0)},f._getDirectPredecessors=function(a){return this._getDirectDependencies(a,!1)},f._getInheritedPredecessors=function(a){return this._getInheritedDependencies(a,!1)},f._getSuccessors=function(a,e){var t=this._getDirectSuccessors(a);return e?t:t.concat(this._getInheritedSuccessors(a))},f._getPredecessors=function(a,e){var t,n=String(a.id)+"-"+String(e);if(_&&i[n])return i[n];var r=this._getDirectPredecessors(a);return t=e?r:r.concat(this._getInheritedPredecessors(a)),_&&(i[n]=t),t},f._convertToFinishToStartLink=function(a,e,t,n,r,o){var l={target:a,link:f.config.links.finish_to_start,id:e.id,lag:e.lag||0,sourceLag:0,targetLag:0,trueLag:e.lag||0,source:e.source,preferredStart:null,sourceParent:r,targetParent:o,hashSum:null,subtaskLink:e.subtaskLink},d=0;switch(String(e.type)){case String(f.config.links.start_to_start):l.sourceLag=d=-t.duration;break;case String(f.config.links.finish_to_finish):l.targetLag=d=-n.duration;break;case String(f.config.links.start_to_finish):d=-t.duration-n.duration,l.sourceLag=-t.duration,l.targetLag=-n.duration;break;default:d=0}return l.lag+=d,l.hashSum=l.lag+"_"+l.link+"_"+l.source+"_"+l.target,l}}},function(C,$){C.exports=function(f){f.config.auto_scheduling_use_progress=!1,f.config.auto_scheduling_project_constraint=!1}},function(C,$,f){"use strict";var _=["sZqDF","KKTya","HQmNL","KloSA","evaluation-warning","HRCQX","tqlZN","join","error","now","uEjRS","95913ssuQrm","FKFxb","3003233MOflhj","304931AJnXuj","BXtnr","expire","type","tvSUI","mYzvC","Your evaluation period for dhtmlxGantt has expired.","JkRir","1nkYGUQ","lsmVA","jyJWD","floor","TlHDQ","QaCab","fkCIT","BKubT","rDQUS","kuKWK","NdYsN","1563965dfUIea","625826TFZGiL","16YoZhwd","default","jfbFF","value","EprRg","__esModule","Qolgb","20709AXvdrB","jDfjc","utHwA","19axKonC","lggQV","SGTCX","UqaAc","LDqnY","ZGlUY","IYMei","message","EEygc","uAHWZ","rryFh","aJdOv","defineProperty","xzRCw","jWaZL","BZDbz","JLKmU","aOBJm","text","YKEAc","833631IvfjcE","fpxUp","akNFt","undefined","<br>","Please contact us at <a href='mailto:contact@dhtmlx.com?subject=dhtmlxGantt licensing' target='_blank'>contact@dhtmlx.com</a> or visit","NJhJB","random","HzHbc","JDphN","EXWhD","ivllK","pHJAQ","TqnAp","<a href='https://dhtmlx.com/docs/products/dhtmlxGantt' target='_blank'>dhtmlx.com</a> in order to obtain a license.","BvjnB","bUIsJ"],u=function(i,a){return _[i-=243]},s=u;!function(i,a){for(var e=u;;)try{if(-parseInt(e(306))-parseInt(e(243))-parseInt(e(275))+-parseInt(e(255))*parseInt(e(252))+parseInt(e(245))*parseInt(e(303))-parseInt(e(244))+-parseInt(e(305))*-parseInt(e(314))==816017)break;i.push(i.shift())}catch{i.push(i.shift())}}(_);var c={};c[s(248)]=!0,Object[s(267)]($,s(250),c),$[s(246)]=function(i){var a=s,e={};e[a(286)]=function(n,r){return n===r},e[a(320)]=a(292),e[a(260)]=function(n,r){return n>r},e[a(321)]=function(n,r){return n-r},e[a(294)]=a(300),e[a(268)]=a(296),e[a(274)]=function(n){return n()},e[a(288)]=function(n,r){return n===r},e[a(253)]=a(277),e[a(266)]=a(283),e[a(259)]=function(n,r){return n+r},e[a(265)]=function(n,r){return n*r},e[a(271)]=function(n,r){return n>r},e[a(304)]=a(284),e[a(261)]=function(n,r){return n!==r},e[a(269)]=a(285),e[a(249)]=a(297),e[a(310)]=a(312),e[a(290)]=a(280),e[a(263)]=a(289),e[a(315)]=a(279),e[a(281)]=function(n,r){return n*r},e[a(293)]=function(n,r){return n*r},e[a(247)]=function(n,r){return n*r},e[a(307)]=a(278),e[a(316)]=function(n,r){return n!==r},e[a(291)]=a(270),e[a(264)]=function(n,r,o){return n(r,o)},e[a(324)]=function(n,r){return n*r},e[a(254)]=function(n,r,o){return n(r,o)};var t=e;t[a(254)](setTimeout,function(){var n=a,r={};r[n(258)]=t[n(294)],r[n(257)]=t[n(268)],r[n(298)]=function(v){return t[n(274)](v)},r[n(323)]=function(v,m){return t[n(288)](v,m)},r[n(272)]=t[n(253)],r[n(322)]=t[n(266)],r[n(318)]=function(v,m){return t[n(259)](v,m)},r[n(276)]=function(v,m){return t[n(265)](v,m)},r[n(319)]=function(v,m){return t[n(259)](v,m)},r[n(313)]=function(v,m){return t[n(321)](v,m)},r[n(251)]=function(v,m){return t[n(259)](v,m)},r[n(311)]=function(v,m){return t[n(271)](v,m)},r[n(287)]=t[n(304)],r[n(295)]=function(v,m){return t[n(261)](v,m)},r[n(302)]=t[n(269)],r[n(256)]=t[n(249)];var o=r,l=[t[n(310)],t[n(290)],t[n(263)]][n(299)](t[n(315)]),d=t[n(281)](1e3,60),h=t[n(281)](d,60),g=t[n(293)](h,24),p=t[n(247)](g,32);if(!t[n(288)]("number",t[n(307)])||t[n(316)](t[n(291)],t[n(291)])){var y=function(){var v=n;if(t[v(286)](t[v(320)],t[v(320)]))return t[v(260)](t[v(321)](Date[v(301)](),1691131504e3),p)};t[n(264)](setInterval,function(){var v=n;if(o[v(323)](o[v(287)],o[v(287)])&&o[v(298)](y)&&o[v(295)](o[v(302)],o[v(256)])){var m={};m[v(309)]=o[v(258)],m[v(273)]=l,m[v(308)]=-1,m.id=o[v(257)],i[v(262)](m)}},t[n(264)](function(v,m){var k=n;if(!o[k(323)](o[k(272)],o[k(322)]))return o[k(318)](Math[k(317)](o[k(276)](Math[k(282)](),o[k(319)](o[k(313)](m,v),1))),v)},t[n(324)](1,d),t[n(324)](3,d)))}},1)}},function(C,$){C.exports=function(f){var _=new RegExp("<(?:.|\n)*?>","gm"),u=new RegExp(" +","gm");function s(e){return(e+"").replace(_," ").replace(u," ")}var c=new RegExp("'","gm");function i(e){return(e+"").replace(c,"&#39;")}for(var a in f._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e){var r=i(s(e[n]));t.push(n+"='"+r+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(e){return f._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,t){e.start_date&&e.end_date&&(t.setAttribute("aria-label",s(f.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",f.isSelectedTask(e.id)?"true":"false"))},setTaskBarAttr:function(e,t){this._taskCommonAttr(e,t),!f.isReadonly(e)&&f.config.drag_move&&(e.id!=f.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,t){this._taskCommonAttr(e,t),!f.isReadonly(e)&&f.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-level",e.$level),f.hasChild(e.id)&&t.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,t){var n=f.config.links,l=f.locale.labels.link+" "+f.templates.drag_link(e.source,e.type==n.start_to_start||e.type==n.start_to_finish,e.target,e.type==n.finish_to_start||e.type==n.start_to_start);t.setAttribute("aria-label",s(l)),f.isReadonly(e)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(e){e.setAttribute("role","separator")},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":f.locale.labels[e],tabindex:"0"})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=f.locale.labels.years;break;case"%m":t=f.locale.labels.months;break;case"%d":t=f.locale.labels.days;break;case"%H:%i":t=f.locale.labels.hours+f.locale.labels.minutes}return f._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":f.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",f.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,t){var n="";if("add"==e.name)n=this.getAttributeString({role:"button","aria-label":f.locale.labels.new_task});else{var r={role:"columnheader","aria-label":t};f._sort&&f._sort.name==e.name&&(r["aria-sort"]="asc"==f._sort.direction?"ascending":"descending"),n=this.getAttributeString(r)}return n},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(e,t,n){var r={role:"gridcell","aria-label":t};return e.editor&&!f.isReadonly(n)||(r["aria-readonly"]=!0),this.getAttributeString(r)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":f.locale.labels.new_task})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return f._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},f._waiAria)f._waiAria[a]=function(e){return function(){return f.config.wai_aria_attributes?e.apply(this,arguments):""}}(f._waiAria[a])}},function(C,$){C.exports=function(f){f._extend_to_optional=function(_){var u=_,s={render:u.render,focus:u.focus,set_value:function(c,i,a,e){var t=f._resolve_default_mapping(e);if(!a[t.start_date]||"start_date"==t.start_date&&this._isAllowedUnscheduledTask(a)){s.disable(c,e);var n={};for(var r in t)n[t[r]]=a[r];return u.set_value.call(f,c,i,n,e)}return s.enable(c,e),u.set_value.call(f,c,i,a,e)},get_value:function(c,i,a){return a.disabled?{start_date:null}:u.get_value.call(f,c,i,a)},update_block:function(c,i){if(f.callEvent("onSectionToggle",[f._lightbox_id,i]),c.style.display=i.disabled?"none":"block",i.button){var a=c.previousSibling.querySelector(".gantt_custom_button_label"),e=f.locale.labels;a.innerHTML=i.disabled?e[i.name+"_enable_button"]:e[i.name+"_disable_button"]}f.resizeLightbox()},disable:function(c,i){i.disabled=!0,s.update_block(c,i)},enable:function(c,i){i.disabled=!1,s.update_block(c,i)},button_click:function(c,i,a,e){if(!1!==f.callEvent("onSectionButton",[f._lightbox_id,a])){var t=f._get_typed_lightbox_config()[c];t.disabled?s.enable(e,t):s.disable(e,t)}}};return s},f.form_blocks.duration_optional=f._extend_to_optional(f.form_blocks.duration),f.form_blocks.time_optional=f._extend_to_optional(f.form_blocks.time)}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(25)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var a=u.config.types,e=u.locale.labels,t=[],n=i.filter||function(l,d){return!a.placeholder||d!==a.placeholder};for(var r in a)n(r,a[r])&&t.push({key:a[r],label:e["type_"+r]});i.options=t;var o=i.onchange;return i.onchange=function(){u.changeLightboxType(this.value),this.value===u.config.types.task&&(u._lightbox_new_type="task"),"function"==typeof o&&o.apply(this,arguments)},s.prototype.render.apply(this,arguments)},c}},function(C,$,f){var _=f(3),u=f(24);C.exports=function(s){var c=f(7)(s);function i(){return c.apply(this,arguments)||this}function a(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function e(t,n){for(var r=a(n),o=0;o<t.length;o++)t[o].disabled=r}return _(i,c),i.prototype.render=function(t){var r="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+(t.height||30)+"px;'>",o=[];for(var l in s.config.constraint_types)o.push({key:s.config.constraint_types[l],label:s.locale.labels[s.config.constraint_types[l]]});return t.options=t.options||o,r+="<span data-constraint-type-select>"+u.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(r+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>")+"</div>"},i.prototype.set_value=function(t,n,r,o){var l=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),h=o._time_format_order,g=s._resolve_default_mapping(o);l._eventsInitialized||(l.addEventListener("change",function(v){e(d,v.target.value)}),l._eventsInitialized=!0),s.form_blocks._fill_lightbox_select(d,0,r[g.constraint_date]||new Date,h,o);var y=r[g.constraint_type]||s.getConstraintType(r);l.value=y,e(d,y)},i.prototype.get_value=function(t,n,r){var o=t.querySelector("[data-constraint-type-select] select"),l=t.querySelectorAll("[data-constraint-time-select] select"),d=o.value,h=null;return a(d)||(h=s.form_blocks.getTimePickerValue(l,r)),{constraint_type:d,constraint_date:h}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function(C,$,f){var _=f(2),u=f(1),s=f(24),c=f(3);C.exports=function(i){var a=f(7)(i),e={resources:{},resourcesValues:{},filter:{},eventsInitialized:{},changed:!1};function t(){return a.apply(this,arguments)||this}function n(l){return void 0===l?".gantt_resource_amount_input":"[data-checked='"+(l?"true":"false")+"'] .gantt_resource_amount_input"}function r(l){return e.resources[l.id]}function o(l){return e.filter[l.id]}return i.attachEvent("onAfterLightbox",function(){for(var l in e.filter)e.filter[l].checkbox.checked=!1,e.filter[l].input.value="",e.filter[l].filterApplied=!1;e.resourcesValues={}}),c(t,a),t.prototype.render=function(l){var d;l.options||(l.options=i.serverList("resourceOptions")),l.map_to&&"auto"!=l.map_to||(l.map_to=i.config.resource_property);var h=i.locale.labels.resources_filter_placeholder||l.filter_placeholder||"type to filter",g=i.locale.labels.resources_filter_label||"hide empty";return d="<div"+(isNaN(l.height)?"":" style='height: "+l.height+"px;'")+">",d+="<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='"+h+"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>"+g+"</label></div>",(d+="<div class='gantt_cal_ltext gantt_resources' data-name='"+l.name+"'></div>")+"</div>"},t.prototype.set_value=function(l,d,h,g){var p,k,y=(e.resources[(k=g).id]||(e.resources[k.id]=l.querySelector(".gantt_resources")),e.resources[k.id]),v="";(function(m,k){if(!e.filter[k.id]){var b=m.querySelector(".gantt_resources_filter"),S=b.querySelector(".gantt_resources_filter_input"),x=b.querySelector(".switch_unsetted");e.filter[k.id]={container:b,input:S,checkbox:x,filterApplied:!1}}})(l,g),function(m,k,b,S){if(!e.eventsInitialized[b.id]){var x=function(E){var I,P,L;T(b,m);var z=o(b);L=z.checkbox.checked,P=z.input.value.trim(),z.filterApplied=!!P,i.getState().lightbox&&(k=i.getLightboxValues()),I=function(N,O,q,G){var V,Y;if(G){var B=O[N.map_to]||[];if(_.isArray(B)||(B=[B]),0===(B=B.slice()).length){for(var tt in B=[],(Y=i.copy(N)).options=[],e.resourcesValues[N.id])""!==(D=e.resourcesValues[N.id][tt]).value&&B.push({resource_id:tt,value:D.value,id:D.id});if(0===B.length)return Y}else for(var tt in e.resourcesValues[N.id]){var D;""!==(D=e.resourcesValues[N.id][tt]).value&&(_.arrayFind(B,function(K){return K.id==tt})||B.push({resource_id:tt,value:D.value,id:D.id}))}for(var A={},R=0;R<B.length;R++)A[B[R].resource_id]=!0;V=function(j){if(A[String(j.key)]&&(""===q||j.label.toLowerCase().indexOf(q.toLowerCase())>=0))return j}}else{if(""===q)return N;V=function(j){if(j.label.toLowerCase().indexOf(q.toLowerCase())>=0)return j}}return(Y=i.copy(N)).options=_.arrayFilter(Y.options,V),Y}(b,k,P,L),S.form_blocks.resources.set_value(m,k[b.map_to],k,I)};x=_.throttle(x,100),o(b).container.addEventListener("keyup",x),o(b).container.addEventListener("input",x,!0),o(b).container.addEventListener("change",x,!0),r(b).addEventListener("input",w),r(b).addEventListener("change",w),i.attachEvent("onResourcesSelectActivated",i.bind(w,r(b))),e.eventsInitialized[b.id]=!0}function w(E){var P,L=E.target;if(e.changed=!0,"checkbox"===E.target.type){(P=L.parentNode.querySelector(n())).disabled=!L.checked;var H=P.getAttribute("data-item-id"),F=u.locateClassName(E,"gantt_resource_row"),z=F.querySelector(".gantt_resource_amount_input");if(F.setAttribute("data-checked",L.checked),L.checked){"select"===P.nodeName.toLowerCase()&&i.callEvent("onResourcesSelectActivated",[{target:P}]);var W=H,N=b.default_value;b.options.forEach(function(O){O.key==W&&O.default_value&&(N=O.default_value)}),z&&!z.value&&void 0!==N&&(z.value=N,T(b,this)),z.select?z.select():z.focus&&z.focus()}else e.resourcesValues[b.id]&&delete e.resourcesValues[b.id][H]}else"text"!==E.target.type&&"select"!==E.target.nodeName.toLowerCase()||(P=E.target,T(b,this))}function T(E,I){var P=n(),L=I.querySelectorAll(P);e.resourcesValues[E.id]=e.resourcesValues[E.id]||{};for(var H=0;H<L.length;H++){var F=L[H].getAttribute("data-item-id"),z=L[H].getAttribute("data-assignment-id");L[H].disabled?delete e.resourcesValues[E.id][F]:e.resourcesValues[E.id][F]={value:L[H].value,id:z}}}}(l,h,g,this),_.forEach(g.options,function(m,k){var b,S,x,T,w;g.unassigned_value!=m.key&&(b=g,x=m,w={},(S=d)&&(_.isArray(S)?T=_.arrayFind(S,function(E){return E.resource_id==x.key}):S.resource_id==x.key&&(T=S),T&&(w.value=T.value,w.id=T.id)),e.resourcesValues[b.id]&&e.resourcesValues[b.id][x.key]&&(w.value=e.resourcesValues[b.id][x.key].value,w.id=e.resourcesValues[b.id][x.key].id),v+=["<label class='gantt_resource_row' data-item-id='"+m.key+"' data-checked="+((p=w).value?"true":"false")+">","<input class='gantt_resource_toggle' type='checkbox'",p.value?" checked='checked'":"","><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>","<div class='gantt_resource_cell gantt_resource_cell_label'>",m.label,"</div>","<div class='gantt_resource_cell gantt_resource_cell_value'>",function(b,S,x,w){var T,E="";if(b)return T=[{key:"data-item-id",value:b.key},{key:"data-assignment-id",value:w||""},{key:"class",value:"gantt_resource_amount_input"}],x&&T.push({key:"disabled",value:"disabled"}),b.options?E+=s.getHtmlSelect(b.options,T,S):(T[T.length]={key:"value",value:S||""},E+=s.getHtmlInput(T)),E}(m,p.value,!p.value,p.id),"</div>","<div class='gantt_resource_cell gantt_resource_cell_unit'>",m.unit,"</div>","</label>"].join(""))}),y.innerHTML=v,y.style.zoom="1",y._offsetSizes=y.offsetHeight,y.style.zoom="",i.resizeLightbox(),i._center_lightbox(i.getLightbox()),e.changed=!1},t.prototype.get_value=function(l,d,h){if(!e.changed)return d[h.map_to||i.config.resource_property]||[];for(var g=r(h),p=[],y=n(!0),v=n(!1),m=o(h),k=i.copy(e.resourcesValues[h.id])||{},b=g.querySelectorAll(y),S=g.querySelectorAll(v),x=0;x<S.length;x++)delete k[S[x].getAttribute("data-item-id")];for(x=0;x<b.length;x++){var w=b[x].getAttribute("data-assignment-id"),T=b[x].getAttribute("data-item-id"),E=b[x].value.trim();""!==E&&"0"!==E&&(delete k[T],p[p.length]={resource_id:T,value:E,id:w})}if(m.filterApplied)for(var I in k)p[p.length]={resource_id:I,value:k[I].value,id:k[I].id};return p},t.prototype.focus=function(l){i._focus(l.querySelector(".gantt_resources"))},t}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(25)(u);function c(){return s.apply(this,arguments)||this}function i(a,e){var t=[],n=[];e&&(t=u.getTaskByTime(),a.allow_root&&t.unshift({id:u.config.root_id,text:a.root_label||""}),t=function(d,h,g){var p=h.filter||function(){return!0};d=d.slice(0);for(var y=0;y<d.length;y++){var v=d[y];(v.id==g||u.isChildOf(v.id,g)||!1===p(v.id,v))&&(d.splice(y,1),y--)}return d}(t,a,e),a.sort&&t.sort(a.sort));for(var r=a.template||u.templates.task_text,o=0;o<t.length;o++){var l=r.apply(u,[t[o].start_date,t[o].end_date,t[o]]);void 0===l&&(l=""),n.push({key:t[o].id,label:l})}return a.options=n,a.map_to=a.map_to||"parent",u.form_blocks.select.render.apply(this,arguments)}return _(c,s),c.prototype.render=function(a){return i(a,!1)},c.prototype.set_value=function(a,e,t,n){0===e&&(e="0");var r=document.createElement("div");r.innerHTML=i(n,t.id);var o=r.removeChild(r.firstChild);return a.onselect=null,a.parentNode.replaceChild(o,a),u.form_blocks.select.set_value.apply(u,[o,e,t,n])},c}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(){var s=this;this.canParse=function(c){return!isNaN(s.parse(c))},this.format=function(c){return String(c)},this.parse=function(c){return parseInt(c,10)}}return u.create=function(s){return void 0===s&&(s=null),new u},u}();$.default=_},function(C,$,f){var _=f(3),u=f(84).default;C.exports=function(s){var c=f(7)(s);function i(){return c.apply(this,arguments)||this}function a(n){return n.formatter||new u}function e(n,r){var o=n.getElementsByTagName("select"),l=r._time_format_order,d=0,h=0;if(s.defined(l[3])){var g=o[l[3]],p=parseInt(g.value,10);isNaN(p)&&g.hasAttribute("data-value")&&(p=parseInt(g.getAttribute("data-value"),10)),d=Math.floor(p/60),h=p%60}return new Date(o[l[2]].value,o[l[1]].value,o[l[0]].value,d,h)}function t(n,r){var o=n.getElementsByTagName("input")[1];return(o=a(r).parse(o.value))&&!window.isNaN(o)||(o=1),o<0&&(o*=-1),o}return _(i,c),i.prototype.render=function(n){var r="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,n)+"</div>",o=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",l=n.single_date?" style='display:none'":"",d=n.readonly?" disabled='disabled'":"",h=s._waiAria.lightboxDurationInputAttrString(n),g="gantt_duration_value";return n.formatter&&(o="",g+=" gantt_duration_value_formatted"),"<div style='height:"+(n.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+r+" <div class='gantt_duration' "+l+"><input type='button' class='gantt_duration_dec' value='\u2212'"+d+"><input type='text' value='5days' class='"+g+"'"+d+" "+h+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+o+"<span></span></div></div>"},i.prototype.set_value=function(n,r,o,l){var d,h,g,p,y=n.getElementsByTagName("select"),v=n.getElementsByTagName("input"),m=v[1],k=[v[0],v[2]],b=n.getElementsByTagName("span")[0],S=l._time_format_order;function x(){var T=e.call(s,n,l),E=t.call(s,n,l),I=s.calculateEndDate({start_date:T,duration:E,task:o});b.innerHTML=(s.templates.task_end_date||s.templates.task_date)(I)}function w(T){var E=m.value;E=a(l).parse(E),window.isNaN(E)&&(E=0),(E+=T)<1&&(E=1),m.value=a(l).format(E),x()}k[0].onclick=s.bind(function(){w(-1*s.config.duration_step)},this),k[1].onclick=s.bind(function(){w(1*s.config.duration_step)},this),y[0].onchange=x,y[1].onchange=x,y[2].onchange=x,y[3]&&(y[3].onchange=x),m.onkeydown=s.bind(function(T){var E;return(E=(T=T||window.event).charCode||T.keyCode||T.which)==s.constants.KEY_CODES.DOWN?(w(-1*s.config.duration_step),!1):E==s.constants.KEY_CODES.UP?(w(1*s.config.duration_step),!1):void window.setTimeout(x,1)},this),m.onchange=s.bind(x,this),"string"==typeof(d=s._resolve_default_mapping(l))&&(d={start_date:d}),h=o[d.start_date]||new Date,g=o[d.end_date]||s.calculateEndDate({start_date:h,duration:1,task:o}),p=Math.round(o[d.duration])||s.calculateDuration({start_date:h,end_date:g,task:o}),p=a(l).format(p),s.form_blocks._fill_lightbox_select(y,0,h,S,l),m.value=p,x()},i.prototype.get_value=function(n,r,o){var l=e(n,o),d=t(n,o),h=s.calculateEndDate({start_date:l,duration:d,task:r});return"string"==typeof s._resolve_default_mapping(o)?l:{start_date:l,end_date:h,duration:d}},i.prototype.focus=function(n){s._focus(n.getElementsByTagName("select")[0])},i}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var a="<div class='gantt_cal_ltext' style='height:"+(i.height||"23")+"px;'>";if(i.options&&i.options.length)for(var e=0;e<i.options.length;e++)a+="<label><input type='radio' value='"+i.options[e].key+"' name='"+i.name+"'>"+i.options[e].label+"</label>";return a+"</div>"},c.prototype.set_value=function(i,a,e,t){var n;t.options&&t.options.length&&(n=i.querySelector("input[type=radio][value='"+a+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),n.checked=!0)},c.prototype.get_value=function(i,a){var e=i.querySelector("input[type=radio]:checked");return e?e.value:""},c.prototype.focus=function(i){u._focus(i.querySelector("input[type=radio]"))},c}},function(C,$,f){var _=f(2),u=f(3);C.exports=function(s){var c=f(7)(s);function i(){return c.apply(this,arguments)||this}return u(i,c),i.prototype.render=function(a){var e="<div class='gantt_cal_ltext' style='height:"+(a.height||"23")+"px;'>";if(a.options&&a.options.length)for(var t=0;t<a.options.length;t++)e+="<label><input type='checkbox' value='"+a.options[t].key+"' name='"+a.name+"'>"+a.options[t].label+"</label>";else a.single_value=!0,e+="<label><input type='checkbox' name='"+a.name+"'></label>";return e+"</div>"},i.prototype.set_value=function(a,e,t,n){var r=Array.prototype.slice.call(a.querySelectorAll("input[type=checkbox]"));!a._dhx_onchange&&n.onchange&&(a.onchange=n.onchange,a._dhx_onchange=!0),n.single_value?r[0].checked=!!e:_.forEach(r,function(o){o.checked=!!e&&e.indexOf(o.value)>=0})},i.prototype.get_value=function(a,e,t){return t.single_value?a.querySelector("input[type=checkbox]").checked:_.arrayMap(Array.prototype.slice.call(a.querySelectorAll("input[type=checkbox]:checked")),function(n){return n.value})},i.prototype.focus=function(a){s._focus(a.querySelector("input[type=checkbox]"))},i}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var a=u.form_blocks.getTimePicker.call(this,i),e="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return e+=a,i.single_date?(a=u.form_blocks.getTimePicker.call(this,i,!0),e+="<span></span>"):e+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(e+=a)+"</div>"},c.prototype.set_value=function(i,a,e,t){var n=t,r=i.getElementsByTagName("select"),o=t._time_format_order;if(n.auto_end_date)for(var l=function(){g=new Date(r[o[2]].value,r[o[1]].value,r[o[0]].value,0,0),p=u.calculateEndDate({start_date:g,duration:1,task:e}),u.form_blocks._fill_lightbox_select(r,o.size,p,o,n)},d=0;d<4;d++)r[d].onchange=l;var h=u._resolve_default_mapping(t);"string"==typeof h&&(h={start_date:h});var g=e[h.start_date]||new Date,p=e[h.end_date]||u.calculateEndDate({start_date:g,duration:1,task:e});u.form_blocks._fill_lightbox_select(r,0,g,o,n),u.form_blocks._fill_lightbox_select(r,o.size,p,o,n)},c.prototype.get_value=function(i,a,e){var t,o,l,d,h,n=i.getElementsByTagName("select"),r=e._time_format_order;return t=u.form_blocks.getTimePickerValue(n,e),"string"==typeof u._resolve_default_mapping(e)?t:{start_date:t,end_date:(o=n,l=r,d=t,h=u.form_blocks.getTimePickerValue(o,e,l.size),h<=d&&(!1!==e.autofix_end||e.single_date)?u.date.add(d,u._get_timepicker_step(),"minute"):h)}},c.prototype.focus=function(i){u._focus(i.getElementsByTagName("select")[0])},c}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+(i.height||"130")+"px;'><textarea></textarea></div>"},c.prototype.set_value=function(i,a){u.form_blocks.textarea._get_input(i).value=a||""},c.prototype.get_value=function(i){return u.form_blocks.textarea._get_input(i).value},c.prototype.focus=function(i){var a=u.form_blocks.textarea._get_input(i);u._focus(a,!0)},c.prototype._get_input=function(i){return i.querySelector("textarea")},c}},function(C,$,f){var _=f(3);C.exports=function(u){var s=f(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(i.height||"30")+"px;'></div>"},c.prototype.set_value=function(i,a){i.innerHTML=a||""},c.prototype.get_value=function(i){return i.innerHTML||""},c.prototype.focus=function(){},c}},function(C,$,f){function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}C.exports=function(u){var s=f(1),c=f(2),i=f(90)(u),a=f(89)(u),e=f(88)(u),t=f(25)(u),n=f(87)(u),r=f(86)(u),o=f(85)(u),l=f(83)(u),d=f(82)(u),h=f(81)(u),g=f(80)(u);function p(v,m){var k,b,S="";for(b=0;b<v.length;b++)S+="<div "+u._waiAria.lightboxButtonAttrString(k=u.config._migrate_buttons[v[b]]?u.config._migrate_buttons[v[b]]:v[b])+" class='gantt_btn_set gantt_left_btn_set "+k+"_set'"+(m?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+k+"'></div><div>"+u.locale.labels[k]+"</div></div>";return S}function y(v,m,k){var b,S,x,w,T,E,I="";switch(k.timeFormat[m]){case"%Y":for(v._time_format_order[2]=m,v._time_format_order.size++,v.year_range&&(isNaN(v.year_range)?v.year_range.push&&(x=v.year_range[0],w=v.year_range[1]):b=v.year_range),b=b||10,S=S||Math.floor(b/2),x=x||k.date.getFullYear()-S,w=w||u.getState().max_date.getFullYear()+S,T=x;T<w;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%m":for(v._time_format_order[1]=m,v._time_format_order.size++,T=0;T<12;T++)I+="<option value='"+T+"'>"+u.locale.date.month_full[T]+"</option>";break;case"%d":for(v._time_format_order[0]=m,v._time_format_order.size++,T=1;T<32;T++)I+="<option value='"+T+"'>"+T+"</option>";break;case"%H:%i":for(v._time_format_order[3]=m,v._time_format_order.size++,T=k.first,E=k.date.getDate(),v._time_values=[];T<k.last;)I+="<option value='"+T+"'>"+u.templates.time_picker(k.date)+"</option>",v._time_values.push(T),k.date.setTime(k.date.valueOf()+60*u._get_timepicker_step()*1e3),T=24*(k.date.getDate()!=E?1:0)*60+60*k.date.getHours()+k.date.getMinutes()}return I}u._lightbox_methods={},u._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",u._lightbox_root=u.$root,u.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:u._lightbox_id}}),u.showLightbox=function(v){if(this.callEvent("onBeforeLightbox",[v])){var m=this.getTask(v),k=this.getLightbox(this.getTaskType(m.type));this._center_lightbox(k),this.showCover(),this._fill_lightbox(v,k),this._waiAria.lightboxVisibleAttr(k),this.callEvent("onLightbox",[v])}},u._get_timepicker_step=function(){if(this.config.round_dnd_dates){var v;if((b=this.$ui.getView("timeline"))&&b.isVisible()){var m=u.getScale();v=c.getSecondsInUnit(m.unit)*m.step/60}return(!v||v>=1440)&&(v=this.config.time_step),v}var b;return this.config.time_step},u.getLabel=function(v,m){for(var k=this._get_typed_lightbox_config(),b=0;b<k.length;b++)if(k[b].map_to==v)for(var S=k[b].options,x=0;x<S.length;x++)if(S[x].key==m)return S[x].label;return""},u.updateCollection=function(v,m){m=m.slice(0);var k=u.serverList(v);if(!k)return!1;k.splice(0,k.length),k.push.apply(k,m||[]),u.resetLightbox()},u.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},u.getLightbox=function(v){var m,k,b,S,x,I,w="";if(I=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body,u._lightbox_root=!0===u.config.csp||I?u.$root:document.body,void 0===v&&(v=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(v)){this._lightbox_type=this.getTaskType(v),m=document.createElement("div"),w="gantt_cal_light",k=this._is_lightbox_timepicker(),(u.config.wide_form||k)&&(w+=" gantt_cal_light_wide"),k&&(u.config.wide_form=!0,w+=" gantt_cal_light_full"),m.className=w,m.style.visibility="hidden",b=this._lightbox_template,b+=p(this.config.buttons_left),b+=p(this.config.buttons_right,!0),m.innerHTML=b,u._waiAria.lightboxAttr(m),u.config.drag_lightbox&&(m.firstChild.onmousedown=u._ready_to_dnd,m.firstChild.onselectstart=function(){return!1},m.firstChild.style.cursor="pointer",u._init_dnd_events()),this._lightbox&&this.resetLightbox(),u._lightbox_root.insertBefore(m,u._lightbox_root.firstChild),this._lightbox=m,S=this._get_typed_lightbox_config(v),b=this._render_sections(S);var T=(x=m.querySelector("div.gantt_cal_larea")).style.overflow;x.style.overflow="hidden",x.innerHTML=b,function(E){var I,P,L,H,F,z;for(z=0;z<E.length;z++)L=u._lightbox_root.querySelector("#"+(I=E[z]).id),I.id&&L&&(P=L.querySelector("label"),(H=L.nextSibling)&&(F=H.querySelector("input, select, textarea"))&&(F.id=F.id||"input_"+u.uid(),I.inputId=F.id,P.setAttribute("for",I.inputId)))}(S),this.resizeLightbox(),x.style.overflow=T,this._init_lightbox_events(this),m.style.display="none",m.style.visibility="visible"}return this._lightbox},u._render_sections=function(v){for(var m="",k=0;k<v.length;k++){var b=this.form_blocks[v[k].type];if(b){v[k].id="area_"+this.uid();var x="";v[k].button&&(x="<div class='gantt_custom_button' data-index='"+k+"'><div class='gantt_custom_button_"+v[k].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+v[k].button]+"</div></div>"),this.config.wide_form&&(m+="<div class='gantt_wrap_section' "+(v[k].hidden?" style='display:none'":"")+">"),m+="<div id='"+v[k].id+"' class='gantt_cal_lsection'><label>"+x+this.locale.labels["section_"+v[k].name]+"</label></div>"+b.render.call(this,v[k]),m+="</div>"}}return m},u.resizeLightbox=function(){if(this._lightbox){var v=this._lightbox.querySelector(".gantt_cal_larea");v.style.height="0px",v.style.height=v.scrollHeight+"px",this._lightbox.style.height=v.scrollHeight+this.config.lightbox_additional_height+"px",v.style.height=v.scrollHeight+"px"}},u._center_lightbox=function(v){if(v){v.style.display="block";var m=window.pageYOffset||u._lightbox_root.scrollTop||document.documentElement.scrollTop,k=window.pageXOffset||u._lightbox_root.scrollLeft||document.documentElement.scrollLeft,b=window.innerHeight||document.documentElement.clientHeight;v.style.top=m?Math.round(m+Math.max((b-v.offsetHeight)/2,0))+"px":Math.round(Math.max((b-v.offsetHeight)/2,0)+9)+"px",v.style.left=document.documentElement.scrollWidth>u._lightbox_root.offsetWidth?Math.round(k+(u._lightbox_root.offsetWidth-v.offsetWidth)/2)+"px":Math.round((u._lightbox_root.offsetWidth-v.offsetWidth)/2)+"px"}},u.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(u._lightbox_root||u.$root).appendChild(this._cover))},u.event(window,"deviceorientation",function(){u.getState().lightbox&&u._center_lightbox(u.getLightbox())}),u._init_lightbox_events=function(){u.lightbox_events={},u.lightbox_events.gantt_save_btn=function(){u._save_lightbox()},u.lightbox_events.gantt_delete_btn=function(){u._lightbox_new_type=null,u.callEvent("onLightboxDelete",[u._lightbox_id])&&(u.isTaskExists(u._lightbox_id)?u.$click.buttons.delete(u._lightbox_id):u.hideLightbox())},u.lightbox_events.gantt_cancel_btn=function(){u._cancel_lightbox()},u.lightbox_events.default=function(v,m){if(m.getAttribute("data-dhx-button"))u.callEvent("onLightboxButton",[m.className,m,v]);else{var k,b,S=s.getClassName(m);if(-1!=S.indexOf("gantt_custom_button"))if(-1!=S.indexOf("gantt_custom_button_"))for(k=m.parentNode.getAttribute("data-index"),b=m;b&&-1==s.getClassName(b).indexOf("gantt_cal_lsection");)b=b.parentNode;else k=m.getAttribute("data-index"),b=m.parentNode,m=m.firstChild;var x=u._get_typed_lightbox_config();k&&u.form_blocks[x[1*(k*=1)].type].button_click(k,m,b,b.nextSibling)}},this.event(u.getLightbox(),"click",function(v){v=v||window.event;var m=s.getTargetNode(v),k=s.getClassName(m);return k||(k=s.getClassName(m=m.previousSibling)),m&&k&&0===k.indexOf("gantt_btn_set")&&(k=s.getClassName(m=m.firstChild)),!(!m||!k)&&(u.defined(u.lightbox_events[m.className])?u.lightbox_events[m.className]:u.lightbox_events.default)(v,m)}),u.getLightbox().onkeydown=function(v){var m=v||window.event,k=v.target||v.srcElement,b=s.getClassName(k).indexOf("gantt_btn_set")>-1;switch((v||m).keyCode){case u.constants.KEY_CODES.SPACE:if((v||m).shiftKey)return;b&&k.click&&k.click();break;case u.keys.edit_save:if((v||m).shiftKey)return;b&&k.click?k.click():u._save_lightbox();break;case u.keys.edit_cancel:u._cancel_lightbox()}}},u._cancel_lightbox=function(){var v=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,v.$new]),u.isTaskExists(v.id)&&v.$new&&(this.silent(function(){u.$data.tasksStore.removeItem(v.id),u._update_flags(v.id,null)}),this.refreshData()),this.hideLightbox()},u._save_lightbox=function(){var v=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,v,!!v.$new])&&(u.$data.tasksStore._skipTaskRecalculation="lightbox",v.$new?(delete v.$new,this.addTask(v,v.parent,this.getTaskIndex(v.id))):this.isTaskExists(v.id)&&(this.mixin(this.getTask(v.id),v,!0),this.refreshTask(v.id),this.updateTask(v.id)),u.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},u._resolve_default_mapping=function(v){var m=v.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[v.type]?"auto"==v.map_to?m={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof v.map_to&&(m={start_date:v.map_to}):"constraint"===v.type&&(v.map_to&&"string"!=typeof v.map_to||(m={constraint_type:"constraint_type",constraint_date:"constraint_date"})),m},u.getLightboxValues=function(){var v={};u.isTaskExists(this._lightbox_id)&&(v=this.mixin({},this.getTask(this._lightbox_id)));for(var m=this._get_typed_lightbox_config(),k=0;k<m.length;k++){var b=u._lightbox_root.querySelector("#"+m[k].id);b=b&&b.nextSibling;var S=this.form_blocks[m[k].type];if(S){var x=S.get_value.call(this,b,v,m[k]),w=u._resolve_default_mapping(m[k]);if("string"==typeof w&&"auto"!=w)v[w]=x;else if("object"==_(w))for(var T in w)w[T]&&(v[w[T]]=x[T])}}return"task"==u._lightbox_new_type&&(v.type=u.config.types.task,u._lightbox_new_type=null),v},u.hideLightbox=function(){var v=this.getLightbox();v&&(v.style.display="none"),this._waiAria.lightboxHiddenAttr(v),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},u.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},u.resetLightbox=function(){u._lightbox&&!u._custom_lightbox&&u._lightbox.parentNode.removeChild(u._lightbox),u._lightbox=null,u.hideCover()},u._set_lightbox_values=function(v,m){var k=v,b=m.getElementsByTagName("span"),S=[];u.templates.lightbox_header?(S.push(""),S.push(u.templates.lightbox_header(k.start_date,k.end_date,k)),b[1].innerHTML="",b[2].innerHTML=u.templates.lightbox_header(k.start_date,k.end_date,k)):(S.push(this.templates.task_time(k.start_date,k.end_date,k)),S.push(String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=this.templates.task_time(k.start_date,k.end_date,k),b[2].innerHTML=String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=S[0],b[2].innerHTML=S[1],u._waiAria.lightboxHeader(m,S.join(" "));for(var x=this._get_typed_lightbox_config(this.getLightboxType()),w=0;w<x.length;w++){var T=x[w];if(this.form_blocks[T.type]){var E=u._lightbox_root.querySelector("#"+T.id).nextSibling,I=this.form_blocks[T.type],P=u._resolve_default_mapping(x[w]),L=this.defined(k[P])?k[P]:T.default_value;I.set_value.call(u,E,L,k,T),T.focus&&I.focus.call(u,E)}}u.isTaskExists(v.id)&&(u._lightbox_id=v.id)},u._fill_lightbox=function(v,m){var k=this.getTask(v);this._set_lightbox_values(k,m)},u.getLightboxSection=function(v){for(var m=this._get_typed_lightbox_config(),k=0;k<m.length&&m[k].name!=v;k++);var b=m[k];if(!b)return null;this._lightbox||this.getLightbox();var S=u._lightbox_root.querySelector("#"+b.id),x=S.nextSibling,w={section:b,header:S,node:x,getValue:function(E){return u.form_blocks[b.type].get_value.call(u,x,E||{},b)},setValue:function(E,I){return u.form_blocks[b.type].set_value.call(u,x,E,I||{},b)}},T=this._lightbox_methods["get_"+b.type+"_control"];return T?T(w):w},u._lightbox_methods.get_template_control=function(v){return v.control=v.node,v},u._lightbox_methods.get_select_control=function(v){return v.control=v.node.getElementsByTagName("select")[0],v},u._lightbox_methods.get_textarea_control=function(v){return v.control=v.node.getElementsByTagName("textarea")[0],v},u._lightbox_methods.get_time_control=function(v){return v.control=v.node.getElementsByTagName("select"),v},u._init_dnd_events=function(){var v=u._lightbox_root;this.event(v,"mousemove",u._move_while_dnd),this.event(v,"mouseup",u._finish_dnd)},u._move_while_dnd=function(v){if(u._dnd_start_lb){document.gantt_unselectable||(u._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var m=u.getLightbox(),k=[v.pageX,v.pageY];m.style.top=u._lb_start[1]+k[1]-u._dnd_start_lb[1]+"px",m.style.left=u._lb_start[0]+k[0]-u._dnd_start_lb[0]+"px"}},u._ready_to_dnd=function(v){var m=u.getLightbox();u._lb_start=[parseInt(m.style.left,10),parseInt(m.style.top,10)],u._dnd_start_lb=[v.pageX,v.pageY]},u._finish_dnd=function(){u._lb_start&&(u._lb_start=u._dnd_start_lb=!1,u._lightbox_root.className=u._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},u._focus=function(v,m){if(v&&v.focus&&!u.config.touch)try{m&&v.select&&v.select(),v.focus()}catch{}},u.form_blocks={getTimePicker:function(v,m){var k,b,S,E,I,L,x="",w=this.config,T={first:0,last:1440,date:this.date.date_part(new Date(u._min_date.valueOf())),timeFormat:(E=v,E.time_format?E.time_format:(L=["%d","%m","%Y"],I=u.getScale(),c.getSecondsInUnit(I?I.unit:u.config.duration_unit)<c.getSecondsInUnit("day")&&L.push("%H:%i"),L))};for(v._time_format_order={size:0},u.config.limit_time_select&&(T.first=60*w.first_hour,T.last=60*w.last_hour+1,T.date.setHours(w.first_hour)),k=0;k<T.timeFormat.length;k++)k>0&&(x+=" "),(b=y(v,k,T))&&(S=u._waiAria.lightboxSelectAttrString(T.timeFormat[k]),x+="<select "+(v.readonly?"disabled='disabled'":"")+(m?" style='display:none' ":"")+S+">"+b+"</select>");return x},getTimePickerValue:function(v,m,k){var b,S=m._time_format_order,w=0,T=0,E=k||0;return u.defined(S[3])&&(b=parseInt(v[S[3]+E].value,10),w=Math.floor(b/60),T=b%60),new Date(v[S[2]+E].value,v[S[1]+E].value,v[S[0]+E].value,w,T)},_fill_lightbox_select:function(v,m,k,b){if(v[m+b[0]].value=k.getDate(),v[m+b[1]].value=k.getMonth(),v[m+b[2]].value=k.getFullYear(),u.defined(b[3])){var S=60*k.getHours()+k.getMinutes();S=Math.round(S/u._get_timepicker_step())*u._get_timepicker_step();var x=v[m+b[3]];x.value=S,x.setAttribute("data-value",S)}},template:new i,textarea:new a,select:new t,time:new e,duration:new o,parent:new l,radio:new r,checkbox:new n,resources:new d,constraint:new h,typeselect:new g},u._is_lightbox_timepicker=function(){for(var v=this._get_typed_lightbox_config(),m=0;m<v.length;m++)if("time"==v[m].name&&"time"==v[m].type)return!0;return!1},u._simple_confirm=function(v,m,k,b){if(!v)return k();var S={text:v};m&&(S.title=m),b&&(S.ok=b),k&&(S.callback=function(x){x&&k()}),u.confirm(S)},u._get_typed_lightbox_config=function(v){void 0===v&&(v=this.getLightboxType());var m=function(k){for(var b in this.config.types)if(this.config.types[b]==k)return b;return"task"}.call(this,v);return u.config.lightbox[m+"_sections"]?u.config.lightbox[m+"_sections"]:u.config.lightbox.sections},u._silent_redraw_lightbox=function(v){var m=this.getLightboxType();if(this.getState().lightbox){var k=this.getState().lightbox,b=this.getLightboxValues(),S=this.copy(this.getTask(k));this.resetLightbox();var x=this.mixin(S,b,!0),w=this.getLightbox(v||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(x,w),this.showCover()}else this.resetLightbox(),this.getLightbox(v||void 0);this.callEvent("onLightboxChange",[m,this.getLightboxType()])}}},function(C,$){C.exports=function(f){function _(c){var i=c.$config.scrollX?f.$ui.getView(c.$config.scrollX):null,a=c.$config.scrollY?f.$ui.getView(c.$config.scrollY):null,e={x:null,y:null};return i&&i.getScrollState().visible&&(e.x=i.$view.scrollLeft),a&&a.getScrollState().visible&&(e.y=a.$view.scrollTop),e}function u(){var c;return f.$ui.getView("timeline")&&(c=f.$ui.getView("timeline")._tasks_dnd),c}f.config.touch_drag=500,f.config.touch=!0,f.config.touch_feedback=!0,f.config.touch_feedback_duration=1,f._prevent_touch_scroll=!1,f._touch_feedback=function(){f.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(f.config.touch_feedback_duration)},f.attachEvent("onGanttReady",f.bind(function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),this.config.touch){var c=!0;try{document.createEvent("TouchEvent")}catch{c=!1}c?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return"mouse"==i.pointerType?null:i},function(i){return!i||"mouse"==i.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},f));var s=[];f._touch_events=function(c,i,a){for(var e,t=0,n=!1,r=!1,o=null,l=null,d=null,h=[],g=null,p=0;p<s.length;p++)f.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([f.$container,c[0],function(v){var E,I,P,L,H,m=u();if(!a(v)&&n){l&&clearTimeout(l);var k=i(v);if(m&&(m.drag.id||m.drag.start_drag))return m.on_mouse_move(k),v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,!1;if(!f._prevent_touch_scroll){if(k&&o){var b=o.pageX-k.pageX,S=o.pageY-k.pageY;if(!r&&(Math.abs(b)>5||Math.abs(S)>5)&&(r=!0,t=0,e=g?_(g):f.getScrollState()),r){var x,w=e.x+b,T=e.y+S;if(g?(I=w,P=T,L=(E=g).$config.scrollX?f.$ui.getView(E.$config.scrollX):null,H=E.$config.scrollY?f.$ui.getView(E.$config.scrollY):null,L&&L.scrollTo(I,null),H&&H.scrollTo(null,P),x=_(g)):(f.scrollTo(w,T),x=f.getScrollState()),e.x!=x.x&&S>2*b||e.y!=x.y&&b>2*S)return y(v)}}return y(v)}return!0}}]),s.push([this.$container,"contextmenu",function(v){if(n)return y(v)}]),s.push([this.$container,c[1],function(v){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!a(v))if(v.touches&&v.touches.length>1)n=!1;else{o=i(v),g=function(k){for(var b=f.$layout.getCellsByType("viewCell"),S=0;S<b.length;S++){var x=b[S].$view.getBoundingClientRect();if(k.clientX>=x.left&&k.clientX<=x.right&&k.clientY<=x.bottom&&k.clientY>=x.top)return b[S]}}(o),f._locate_css(o,"gantt_hor_scroll")||f._locate_css(o,"gantt_ver_scroll")||(n=!0);var m=u();l=setTimeout(function(){var k=f.locate(o);m&&k&&!f._locate_css(o,"gantt_link_control")&&!f._locate_css(o,"gantt_grid_data")&&(m.on_mouse_down(o),m.drag&&m.drag.start_drag&&(function(b){var S=f._getTaskLayers(),x=f.getTask(b);if(x&&f.isTaskVisible(b)){d=b;for(var w=0;w<S.length;w++)if((x=S[w].rendered[b])&&x.getAttribute(f.config.task_attribute)&&x.getAttribute(f.config.task_attribute)==b){var T=x.cloneNode(!0);h.push(x),S[w].rendered[b]=T,x.style.display="none",T.className+=" gantt_drag_move ",x.parentNode.appendChild(T)}}}(k),m._start_dnd(o),f._touch_drag=!0,f.refreshTask(k),f._touch_feedback())),l=null},f.config.touch_drag)}}]),s.push([this.$container,c[2],function(v){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!a(v)){l&&clearTimeout(l),f._touch_drag=!1,n=!1;var m=i(v),k=u();if(k&&k.on_mouse_up(m),d&&f.isTaskExists(d)&&(f.refreshTask(d),h.length&&(h.forEach(function(S){S.parentNode&&S.parentNode.removeChild(S)}),f._touch_feedback())),n=r=!1,h=[],d=null,o&&t){var b=new Date;b-t<500?(f.$services.getService("mouseEvents").onDoubleClick(o),y(v)):t=b}else t=new Date}}]),p=0;p<s.length;p++)f.event(s[p][0],s[p][1],s[p][2]);function y(v){return v&&v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,!1}}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(8),u=f(5),s=["ctrlKey","altKey","shiftKey","metaKey"],c=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function a(e){var t=this;this.zoomIn=function(){var n=t.getCurrentLevel()-1;n<0||t.setLevel(n)},this.zoomOut=function(){var n=t.getCurrentLevel()+1;n>t._levels.length-1||t.setLevel(n)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(n){var r=t._getZoomIndexByName(n);-1===r&&t.$gantt.assert(-1!==r,"Invalid zoom level for gantt.ext.zoom.setLevel. "+n+" is not an expected value."),t._setLevel(r,0)},this._getZoomIndexByName=function(n){var r=-1;if("string"==typeof n){if(!isNaN(Number(n))&&t._levels[Number(n)])r=Number(n);else for(var o=0;o<t._levels.length;o++)if(t._levels[o].name===n){r=o;break}}else r=n;return r},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var n=t.$gantt.getScrollState().x;t._visibleDate=t.$gantt.dateFromPos(n+t.$gantt.$task.offsetWidth/2)},this._setLevel=function(n,r){t._activeLevelIndex=n;var o=t.$gantt,l=o.copy(t._levels[t._activeLevelIndex]),d=o.copy(l);if(delete d.name,o.mixin(o.config,d,!0),o.$root&&o.$task){if(r){var h=t.$gantt.dateFromPos(r+t.$gantt.getScrollState().x);t.$gantt.render();var g=t.$gantt.posFromDate(h);t.$gantt.scrollTo(g-r)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var y=t._visibleDate;t.$gantt.render(),g=t.$gantt.posFromDate(y),t.$gantt.scrollTo(g-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,l])}},this._attachWheelEvent=function(n){var r,o=_.isFF?"wheel":"mousewheel";(r="function"==typeof n.element?n.element():n.element)&&t._domEvents.attach(r,o,t.$gantt.bind(function(l){return!(this._useKey&&(s.indexOf(this._useKey)<0||!l[this._useKey]))&&("function"==typeof this._handler?(this._handler.apply(this,[l]),!0):void 0)},t),{passive:!1})},this._defaultHandler=function(n){var r=t.$gantt.$task.getBoundingClientRect().x,o=n.clientX-r,l=!1;(t.$gantt.env.isFF?-40*n.deltaY:n.wheelDelta)>0&&(l=!0),n.preventDefault(),n.stopPropagation(),t._setScaleSettings(l,o)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=e,this._domEvents=this.$gantt._createDomEventScope()}return a.prototype.init=function(e){var t=this;this.$gantt.env.isNode||(this._initialStartDate=e.startDate,this._initialEndDate=e.endDate,this._activeLevelIndex=e.activeLevelIndex?e.activeLevelIndex:0,this._levels=this._mapScales(e.levels||c),this._handler=e.handler||this._defaultHandler,this._minColumnWidth=e.minColumnWidth||60,this._maxColumnWidth=e.maxColumnWidth||240,this._widthStep=e.widthStep||3/8*e.minColumnWidth,this._useKey=e.useKey,this._initialized||(u(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),"wheel"===e.trigger&&(this.$gantt.$root?this._attachWheelEvent(e):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(e)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},a.prototype._mapScales=function(e){return e.map(function(t){return Array.isArray(t)?{scales:t}:t})},a.prototype._setScaleSettings=function(e,t){e?this._stepUp(t):this._stepDown(t)},a.prototype._stepUp=function(e){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,t++),this.$gantt.config.min_column_width=n}else t++;this._setLevel(t,e)}},a.prototype._stepDown=function(e){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=n}else t--;this._setLevel(t,e)}},a}();$.default=i},function(C,$){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(f,_,u){var s=document.createElement("DIV");u=u||window.gantt,s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u;var c=this.vs[this.av];return c.grid=u,u.init(s.id,f,_),s.firstChild.style.border="none",c.gridId=s.id,c.gridObj=s,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(f,_,u){u=u||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u,u.init(s.id,f,_),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),C.exports=null},function(C,$){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}var _,u;window.jQuery&&(_=window.jQuery,u=[],_.fn.dhx_gantt=function(s){if("string"!=typeof(s=s||{})){var c=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)c.push("object"==f(this.gantt)?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var a in s)"data"!=a&&(i.config[a]=s[a]);i.init(this),s.data&&i.parse(s.data),c.push(i)}}),1===c.length?c[0]:c}if(u[s])return u[s].apply(this,[]);_.error("Method "+s+" does not exist on jQuery.dhx_gantt")}),C.exports=null},function(C,$,f){var _=f(1),u=f(15);C.exports=function(s){var c=50,i=30,a=10,e=50,t=null,n=!1,r=null,o={started:!1},l={};function d(k){return k&&_.isChildOf(k,s.$root)&&k.offsetHeight}function h(){var k=!!document.querySelector(".gantt_drag_marker"),b=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),S=!!document.querySelector(".gantt_link_direction"),x=s.getState();return n=k&&!b&&!S,!(!x.drag_mode&&!k||b)||x.autoscroll}function g(k){if(r&&(clearTimeout(r),r=null),k){var b=s.config.autoscroll_speed;b&&b<10&&(b=10),r=setTimeout(function(){t=setInterval(v,b||e)},s.config.autoscroll_delay||a)}}function p(k){k?(g(!0),o.started||(o.x=l.x,o.y=l.y,o.started=!0)):(t&&(clearInterval(t),t=null),g(!1),o.started=!1)}function y(k){var b=h();if(!t&&!r||b||p(!1),!s.config.autoscroll||!b)return!1;l={x:k.clientX,y:k.clientY},"touchmove"==k.type&&(l.x=k.targetTouches[0].clientX,l.y=k.targetTouches[0].clientY),!t&&b&&p(!0)}function v(){if(!h())return p(!1),!1;var O,q,G,V,Y,k=d(s.$task)?s.$task:d(s.$grid)?s.$grid:s.$root;if(k){var b=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(O){b=b||!!document.querySelector(O)}),b&&(k=s.$grid);var S=_.getNodePosition(k),w=l.y-S.y+window.scrollY,T=n?0:m(l.x-S.x,S.width,o.x-S.x),E=m(w,S.height,o.y-S.y+window.scrollY),I=s.getScrollState(),P=I.y,L=I.inner_height,F=I.x,z=I.inner_width;(E&&!L||E<0&&!P||E>0&&P+L>=I.height+2)&&(E=0),(T&&!z||T<0&&!F||T>0&&F+z>=I.width)&&(T=0);var N=s.config.autoscroll_step;N&&N<2&&(N=2),E*=N||i,((T*=N||i)||E)&&(O=T,q=E,G=s.getScrollState(),V=null,Y=null,O&&(V=G.x+O,V=Math.min(G.width,V),V=Math.max(0,V)),q&&(Y=G.y+q,Y=Math.min(G.height,Y),Y=Math.max(0,Y)),s.scrollTo(V,Y))}}function m(k,b,S){return k-c<0&&k<S?-1:k>b-c&&k>S?1:0}s.attachEvent("onGanttReady",function(){if(!u(s)){var k=_.getRootNode(s.$root)||document.body;s.eventRemove(k,"mousemove",y),s.event(k,"mousemove",y),s.eventRemove(k,"touchmove",y),s.event(k,"touchmove",y),s.eventRemove(k,"pointermove",y),s.event(k,"pointermove",y)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function(C,$,f){C.exports=function(_){_.ext||(_.ext={});for(var u=[f(96),f(95),f(94)],s=0;s<u.length;s++)u[s]&&u[s](_);var c=f(93).default;_.ext.zoom=new c(_)}},function(C,$){C.exports=function(f){f.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(C,$){C.exports=function(f){f.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(C,$){C.exports=function(f){f.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},f.attachEvent("onAfterTaskDrag",function(_){var u=f.getTaskNode(_);u&&(u.className+=" gantt_drag_animation",setTimeout(function(){var s=u.className.indexOf(" gantt_drag_animation");s>-1&&(u.className=u.className.slice(0,s))},200))})}},function(C,$){C.exports=function(f){f.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(C,$){C.exports=function(f){f.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(C,$){C.exports=function(f){f.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(C,$){C.exports=function(f){f.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(C,$){function f(_,u){var s=u.skin;if(!s||_)for(var c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var a=c[i].href.match("dhtmlxgantt_([a-z_]+).css");if(a&&(u.skins[a[1]]||!s)){s=a[1];break}}u.skin=s||"terrace";var e=u.skins[u.skin]||u.skins.terrace;!function(r,o,l){for(var d in o)(void 0===r[d]||l)&&(r[d]=o[d])}(u.config,e.config,_);var t=u.getGridColumns();for(t[1]&&!u.defined(t[1].width)&&(t[1].width=e._second_column_width),t[2]&&!u.defined(t[2].width)&&(t[2].width=e._third_column_width),i=0;i<t.length;i++){var n=t[i];"add"==n.name&&(n.width||(n.width=44),u.defined(n.min_width)&&u.defined(n.max_width)||(n.min_width=n.min_width||n.width,n.max_width=n.max_width||n.width),n.min_width&&(n.min_width=+n.min_width),n.max_width&&(n.max_width=+n.max_width),n.width&&(n.width=+n.width,n.width=n.min_width&&n.min_width>n.width?n.min_width:n.width,n.width=n.max_width&&n.max_width<n.width?n.max_width:n.width))}e.config.task_height&&(u.config.task_height=e.config.task_height||"full"),e.config.bar_height&&(u.config.bar_height=e.config.bar_height||"full"),e._lightbox_template&&(u._lightbox_template=e._lightbox_template),e._redefine_lightbox_buttons&&(u.config.buttons_right=e._redefine_lightbox_buttons.buttons_right,u.config.buttons_left=e._redefine_lightbox_buttons.buttons_left),u.resetLightbox()}C.exports=function(_){_.resetSkin||(_.resetSkin=function(){this.skin="",f(!0,this)},_.skins={},_.attachEvent("onGanttLayoutReady",function(){f(!1,this)}))}},function(C,$){C.exports=function(){function f(t){return t.$ui.getView("timeline")}function _(t){return t.$ui.getView("grid")}function u(t){var n=f(t);if(n&&!n.$config.hidden)return n;var r=_(t);return r&&!r.$config.hidden?r:null}function s(t){var n,r=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(o){r=r||!!document.querySelector(o)}),(n=r?_(t):u(t))?i(t,n,"scrollY"):null}function c(t){var n=u(t);return n&&"grid"!=n.id?i(t,n,"scrollX"):null}function i(t,n,r){return t.$ui.getView(n.$config[r])}var a="DEFAULT_VALUE";function e(t,n,r,o){var l=t(this);return l&&l.isVisible()?l[n].apply(l,r):o?o():a}return{getColumnIndex:function(t){var n=e.call(this,_,"getColumnIndex",[t]);return n===a?0:n},dateFromPos:function(t){var n=e.call(this,f,"dateFromPos",Array.prototype.slice.call(arguments));return n===a?this.getState().min_date:n},posFromDate:function(t){var n=e.call(this,f,"posFromDate",[t]);return n===a?0:n},getRowTop:function(t){var n=this,r=e.call(n,f,"getRowTop",[t],function(){return e.call(n,_,"getRowTop",[t])});return r===a?0:r},getTaskTop:function(t){var n=this,r=e.call(n,f,"getItemTop",[t],function(){return e.call(n,_,"getItemTop",[t])});return r===a?0:r},getTaskPosition:function(t,n,r){var o=e.call(this,f,"getItemPosition",[t,n,r]);return o===a?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:o},getTaskBarHeight:function(t,n){var r=this,o=e.call(r,f,"getBarHeight",[t,n],function(){return e.call(r,_,"getItemHeight",[t])});return o===a?0:o},getTaskHeight:function(t){var n=this,r=e.call(n,f,"getItemHeight",[t],function(){return e.call(n,_,"getItemHeight",[t])});return r===a?0:r},columnIndexByDate:function(t){var n=e.call(this,f,"columnIndexByDate",[t]);return n===a?0:n},roundTaskDates:function(){e.call(this,f,"roundTaskDates",[])},getScale:function(){var t=e.call(this,f,"getScale",[]);return t===a?null:t},getTaskNode:function(t){var n=f(this);if(n&&n.isVisible()){var r=n._taskRenderer.rendered[t];return r||(r=n.$task_bars.querySelector("["+n.$config.item_attribute+"='"+t+"']")),r||null}return null},getLinkNode:function(t){var n=f(this);return n.isVisible()?n._linkRenderer.rendered[t]:null},scrollTo:function(t,n){var r=s(this),o=c(this),l={position:0},d={position:0};r&&(d=r.getScrollState()),o&&(l=o.getScrollState());var h=o&&1*t==t,g=r&&1*n==n;if(h&&g)for(var p=r._getLinkedViews(),y=o._getLinkedViews(),v=[],m=0;m<p.length;m++)for(var k=0;k<y.length;k++)p[m].$config.id&&y[k].$config.id&&p[m].$config.id===y[k].$config.id&&v.push(p[m].$config.id);h&&(v&&v.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!0}.bind(this)),o.scroll(t),v&&v.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!1}.bind(this))),g&&r.scroll(n);var b={position:0},S={position:0};r&&(b=r.getScrollState()),o&&(S=o.getScrollState()),this.callEvent("onGanttScroll",[l.position,d.position,S.position,b.position])},showDate:function(t){var n=this.posFromDate(t),r=Math.max(n-this.config.task_scroll_offset,0);this.scrollTo(r)},showTask:function(t){var n=this.getTaskPosition(this.getTask(t)),r=n.left;this.config.rtl&&(r=n.left+n.width);var o,l=Math.max(r-this.config.task_scroll_offset,0),d=this._scroll_state().y;o=d?n.top-(d-this.getTaskBarHeight(t))/2:n.top,this.scrollTo(l,o);var h=_(this),g=f(this);h&&g&&h.$config.scrollY!=g.$config.scrollY&&i(this,h,"scrollY").scrollTo(null,o)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},n=s(this),r=c(this);if(r){var o=r.getScrollState();o.visible&&(t.x=o.size,t.x_inner=o.scrollSize),t.x_pos=o.position||0}if(n){var l=n.getScrollState();l.visible&&(t.y=l.size,t.y_inner=l.scrollSize),t.y_pos=l.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,n,r){var o=this.$ui.getView(t);if(!o)return!1;if(null!==n){var l=this.$ui.getView(o.$config.scrollX);l&&l.scrollTo(n,null)}if(null!==r){var d=this.$ui.getView(o.$config.scrollY);d&&d.scrollTo(null,r)}}}}},function(C,$){C.exports=function(f){}},function(C,$,f){var _=f(1);C.exports=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(c){for(var i=c.getCellsByType("resizer"),a=0;a<i.length;a++){var e=i[a],t=!1,n=e.$parent.getPrevSibling(e.$id);if(n&&n.$config&&"grid"===n.$config.id)t=!0;else{var r=e.$parent.getNextSibling(e.$id);r&&r.$config&&"grid"===r.$config.id&&(t=!0)}t&&(e.$config.css=(e.$config.css?e.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(c){var i=!0;this._legacyGridResizerClass(c),c.attachEvent("onBeforeResize",function(){var a=s.$ui.getView("timeline");a&&(a.$config.hidden=a.$parent.$config.hidden=!s.config.show_chart);var e=s.$ui.getView("grid");if(e){var t=e._getColsTotalWidth(),n=!s.config.show_grid||!s.config.grid_width||0===t;if(i&&!n&&!1!==t&&(s.config.grid_width=t),e.$config.hidden=e.$parent.$config.hidden=n,!e.$config.hidden){var r=e._getGridWidthLimits();if(r[0]&&s.config.grid_width<r[0]&&(s.config.grid_width=r[0]),r[1]&&s.config.grid_width>r[1]&&(s.config.grid_width=r[1]),a&&s.config.show_chart){if(e.$config.width=s.config.grid_width-1,!e.$config.scrollable&&e.$config.scrollY&&s.$root.offsetWidth){var o=e.$gantt.$layout.$container.offsetWidth,l=s.$ui.getView(e.$config.scrollY).$config.width,d=o-(e.$config.width+l);d<0&&(e.$config.width+=d,s.config.grid_width+=d)}if(i)e.$parent.$config.width=s.config.grid_width,e.$parent.$config.group&&s.$layout._syncCellSizes(e.$parent.$config.group,{value:e.$parent.$config.width,isGravity:!1});else if(a&&!_.isChildOf(a.$task,c.$view)){if(!e.$config.original_grid_width){var h=s.skins[s.skin];e.$config.original_grid_width=h&&h.config&&h.config.grid_width?h.config.grid_width:0}s.config.grid_width=e.$config.original_grid_width,e.$parent.$config.width=s.config.grid_width}else e.$parent._setContentSize(e.$config.width,null),s.$layout._syncCellSizes(e.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else a&&_.isChildOf(a.$task,c.$view)&&(e.$config.original_grid_width=s.config.grid_width),i||(e.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(c)},_initScrollStateEvents:function(c){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),a=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(e,t,n){var r=s.getScrollState();s.callEvent("onGanttScroll",[r.x,e,r.x,t])}),a&&a.attachEvent("onScroll",function(e,t,n){var r=s.getScrollState();s.callEvent("onGanttScroll",[e,r.y,t,r.y]);var o=s.$ui.getView("grid");o&&o.$grid_data&&!o.$config.scrollable&&(o.$grid_data.style.left=o.$grid.scrollLeft+"px",o.$grid_data.scrollLeft=o.$grid.scrollLeft)}),c.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),a&&!s.$scroll_hor&&(s.$scroll_hor=a.$scroll_hor)})},_findGridResizer:function(c,i){for(var a,e=c.getCellsByType("resizer"),t=!0,n=0;n<e.length;n++){var r=e[n];r._getSiblings();var o=r._behind,l=r._front;if(o&&o.$content===i||o.isChild&&o.isChild(i)){a=r,t=!0;break}if(l&&l.$content===i||l.isChild&&l.isChild(i)){a=r,t=!1;break}}return{resizer:a,gridFirst:t}},onInitialized:function(c){var i=s.$ui.getView("grid"),a=this._findGridResizer(c,i);if(a.resizer){var e,t=a.gridFirst,n=a.resizer;if("x"!==n.$config.mode)return;n.attachEvent("onResizeStart",function(r,o){var l=s.$ui.getView("grid"),d=l?l.$parent:null;if(d){var h=l._getGridWidthLimits();l.$config.scrollable||(d.$config.minWidth=h[0]),d.$config.maxWidth=h[1]}return s.callEvent("onGridResizeStart",[e=t?r:o])}),n.attachEvent("onResize",function(r,o){return s.callEvent("onGridResize",[e,t?r:o])}),n.attachEvent("onResizeEnd",function(r,o,l,d){var h=t?r:o,g=t?l:d,p=s.$ui.getView("grid"),y=p?p.$parent:null;y&&(y.$config.minWidth=void 0);var v=s.callEvent("onGridResizeEnd",[h,g]);return v&&0!==g&&(s.config.grid_width=g),v})}},onDestroyed:function(c){}}}},function(C,$,f){var _=f(1),u=function(s,c){var i,a,e,t,n;function l(){return{link_source_id:t,link_target_id:a,link_from_start:n,link_to_start:e,link_landing_area:i}}var d=c.$services,h=d.getService("state"),g=d.getService("dnd");h.registerProvider("linksDnD",l);var p=new g(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:c.$root,selector:".gantt_link_point",preventDefault:!0});function y(x,w,T,E,I){var P=function(F,z,W){var V,N=function(F){return c.getTaskPosition(F)}(F),O={x:N.left,y:N.top,width:N.width,height:N.height};if(W.rtl?(O.xEnd=O.x,O.x=O.xEnd+O.width):O.xEnd=O.x+O.width,O.yEnd=O.y+O.height,c.getTaskType(F.type)==c.config.types.milestone){var q=(V=s.getBarHeight(F.id,!0),Math.round(Math.sqrt(2*V*V))-2);O.x+=q/2*(W.rtl?1:-1),O.xEnd+=q/2*(W.rtl?-1:1),O.width=N.xEnd-N.x}return O}(x,0,E),L={x:P.x,y:P.y};w||(L.x=P.xEnd),L.y+=c.getTaskHeight(x.id)/2;var H=c.getTaskType(x.type)==c.config.types.milestone&&I?2:0;return T=T||0,E.rtl&&(T*=-1),L.x+=(w?-1:1)*T-H,L}function m(x){var w=l(),T=["gantt_link_tooltip"];w.link_source_id&&w.link_target_id&&(c.isLinkAllowed(w.link_source_id,w.link_target_id,w.link_from_start,w.link_to_start)?T.push("gantt_allowed_link"):T.push("gantt_invalid_link"));var E=c.templates.drag_link_class(w.link_source_id,w.link_from_start,w.link_target_id,w.link_to_start);E&&T.push(E);var I="<div class='"+E+"'>"+c.templates.drag_link(w.link_source_id,w.link_from_start,w.link_target_id,w.link_to_start)+"</div>";x.innerHTML=I}function k(){t=n=a=null,e=!0}function b(x,w,T,E){var I=(p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction),P=l(),L=["gantt_link_direction"];c.templates.link_direction_class&&L.push(c.templates.link_direction_class(P.link_source_id,P.link_from_start,P.link_target_id,P.link_to_start));var B,tt,H=Math.sqrt(Math.pow(T-x,2)+Math.pow(E-w,2));if(H=Math.max(0,H-3)){I.className=L.join(" ");var z=Math.atan((E-w)/(T-x));2==S(x,T,w,E)?z+=Math.PI:3==S(x,T,w,E)&&(z-=Math.PI);var W=Math.sin(z),N=Math.cos(z),O=Math.round(w),q=Math.round(x),G=["-webkit-transform: rotate("+z+"rad)","-moz-transform: rotate("+z+"rad)","-ms-transform: rotate("+z+"rad)","-o-transform: rotate("+z+"rad)","transform: rotate("+z+"rad)","width:"+Math.round(H)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){G.push('-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11 = '+(tt=N)+",M12 = -"+(B=W)+",M21 = "+B+",M22 = "+tt+",SizingMethod = 'auto expand')\"");var V=Math.abs(Math.round(x-T)),Y=Math.abs(Math.round(E-w));switch(S(x,T,w,E)){case 1:O-=Y;break;case 2:q-=V,O-=Y;break;case 3:q-=V}}G.push("top:"+O+"px"),G.push("left:"+q+"px"),I.style.cssText=G.join(";")}}function S(x,w,T,E){return w>=x?E<=T?1:4:E<=T?2:3}p.attachEvent("onBeforeDragStart",c.bind(function(x,w){var T=w.target||w.srcElement;if(k(),c.getState("tasksDnd").drag_id)return!1;if(_.locateClassName(T,"gantt_link_point")){_.locateClassName(T,"task_start_date")&&(n=!0);var E=c.locate(w);t=E;var I=c.getTask(E);return c.isReadonly(I)?(k(),!1):(this._dir_start=y(I,!!n,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",c.bind(function(x,w){c.config.touch&&c.refreshData(),m(p.config.marker)},this)),p.attachEvent("onDragMove",c.bind(function(x,w){var Y,B,T=p.config,E=function v(x,w){var W,N,O,T=p.getPosition(x),E=(N=0,O=0,(W=w)&&(N=W.offsetWidth||0,O=W.offsetHeight||0),{width:N,height:O}),I=function(){var W=c.$root;return{right:W.offsetWidth,bottom:W.offsetHeight}}(),P=c.config.tooltip_offset_x||10,L=c.config.tooltip_offset_y||10,H=c.config.scroll_size||18,F=c.$container.getBoundingClientRect().y+window.scrollY,z={y:T.y+L,x:T.x+P,bottom:T.y+E.height+L+H,right:T.x+E.width+P+H};return z.bottom>I.bottom+F&&(z.y=I.bottom+F-E.height-L),z.right>I.right&&(z.x=I.right-E.width-P),z}(w,T.marker);(Y=T.marker).style.left=(B=E).x+"px",Y.style.top=B.y+"px";var I=!!_.locateClassName(w,"gantt_link_control"),P=a,L=i,H=e,F=c.locate(w),z=!0,W=_.getTargetNode(w);if(_.isChildOf(W,c.$root)||(I=!1,F=null),I&&(z=!_.locateClassName(w,"task_end_date"),I=!!F),a=F,i=I,e=z,I){var N=c.getTask(F),O=s.$getConfig(),q=_.locateClassName(w,"gantt_link_control"),G=0;q&&(G=Math.floor(q.offsetWidth/2)),this._dir_end=y(N,!!e,G,O)}else this._dir_end=_.getRelativeEventPosition(w,s.$task_data),c.env.isEdge&&(this._dir_end.y+=window.scrollY);var V=!(L==I&&P==F&&H==z);return V&&(P&&c.refreshTask(P,!1),F&&c.refreshTask(F,!1)),V&&m(T.marker),b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",c.bind(function(){var x=l();if(x.link_source_id&&x.link_target_id&&x.link_source_id!=x.link_target_id){var w=c._get_link_type(x.link_from_start,x.link_to_start),T={source:x.link_source_id,target:x.link_target_id,type:w};T.type&&c.isLinkAllowed(T)&&c.callEvent("onLinkCreated",[T])&&c.addLink(T)}k(),c.config.touch?c.refreshData():(x.link_source_id&&c.refreshTask(x.link_source_id,!1),x.link_target_id&&c.refreshTask(x.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),c.attachEvent("onGanttRender",c.bind(function(){p._direction&&b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};C.exports={createLinkDND:function(){return{init:u}}}},function(C,$,f){var _=f(1),u=f(0),s=f(55),c=f(2);C.exports={createTaskDND:function(){var i;return{extend:function(a){a.roundTaskDates=function(e){i.round_task_dates(e)}},init:function(a,e){return t=a,r=(n=e).$services,a._tasks_dnd=i={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=n._createDomEventScope(),this.clear_drag_state();var o=n.config.drag_mode;this.set_actions(),r.getService("state").registerProvider("tasksDnd",u.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var l={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var h in o)this._events[d][h]=l[d];this._handlers[o.move]=this._move,this._handlers[o.resize]=this._resize,this._handlers[o.progress]=this._resize_progress},set_actions:function(){var o=t.$task_data;this._domEvents.attach(o,"mousemove",n.bind(function(l){this.on_mouse_move(l)},this)),this._domEvents.attach(o,"mousedown",n.bind(function(l){this.on_mouse_down(l)},this)),this._domEvents.attach(document.body,"mouseup",n.bind(function(l){this.on_mouse_up(l)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(o,l,d){var h=t.$getConfig(),g=this._drag_task_coords(o,d);d.left?(o.start_date=n.dateFromPos(g.start+l),o.start_date||(o.start_date=new Date(n.getState().min_date))):(o.end_date=n.dateFromPos(g.end+l),o.end_date||(o.end_date=new Date(n.getState().max_date)));var p=this._calculateMinDuration(h.min_duration,h.duration_unit);o.end_date-o.start_date<h.min_duration&&(d.left?o.start_date=n.calculateEndDate(o.end_date,-p,h.duration_unit,o):o.end_date=n.calculateEndDate(o.start_date,p,h.duration_unit,o)),n._init_task_timing(o)},_calculateMinDuration:function(o,l){return Math.ceil(o/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[l])},_resize_progress:function(o,l,d){var h=this._drag_task_coords(o,d),g=t.$getConfig().rtl?h.start-d.pos.x:d.pos.x-h.start,p=Math.max(0,g);o.progress=Math.min(1,p/Math.abs(h.end-h.start))},_find_max_shift:function(o,l){var d;for(var h in o){var g=o[h],p=n.getTask(g.id),y=this._drag_task_coords(p,g),v=n.posFromDate(new Date(n.getState().min_date)),m=n.posFromDate(new Date(n.getState().max_date));if(y.end+l>m){var k=m-y.end;(k<d||void 0===d)&&(d=k)}else if(y.start+l<v){var b=v-y.start;(b>d||void 0===d)&&(d=b)}}return d},_move:function(o,l,d,h){var g=this._drag_task_coords(o,d),p=null,y=null;h?(p=new Date(+d.obj.start_date+h),y=new Date(+d.obj.end_date+h)):(p=n.dateFromPos(g.start+l),y=n.dateFromPos(g.end+l)),p?y?(o.start_date=p,o.end_date=y):(o.end_date=new Date(n.getState().max_date),o.start_date=n.dateFromPos(n.posFromDate(o.end_date)-(g.end-g.start))):(o.start_date=new Date(n.getState().min_date),o.end_date=n.dateFromPos(n.posFromDate(o.start_date)+(g.end-g.start)))},_drag_task_coords:function(o,l){return{start:l.obj_s_x=l.obj_s_x||n.posFromDate(o.start_date),end:l.obj_e_x=l.obj_e_x||n.posFromDate(o.end_date)}},_mouse_position_change:function(o,l){var d=o.x-l.x,h=o.y-l.y;return Math.sqrt(d*d+h*h)},_is_number:function(o){return!isNaN(parseFloat(o))&&isFinite(o)},on_mouse_move:function(o){if(this.drag.start_drag){var l=_.getRelativeEventPosition(o,n.$task_data),d=this.drag.start_drag.start_x,h=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(h)&&this._mouse_position_change({x:d,y:h},l)>20)&&this._start_dnd(o)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(o)}},_update_item_on_move:function(o,l,d,h,g,p){var y=n.getTask(l),v=n.mixin({},y),m=n.mixin({},y);this._handlers[d].apply(this,[m,o,h,p]),n.mixin(y,m,!0),n.callEvent("onTaskDrag",[y.id,d,m,v,g]),n.mixin(y,m,!0),n.refreshTask(l)},_update_on_move:function(o){var l=this.drag,d=t.$getConfig();if(l.mode){var h=_.getRelativeEventPosition(o,t.$task_data);if(l.pos&&l.pos.x==h.x)return;l.pos=h;var g=n.dateFromPos(h.x);if(!g||isNaN(g.getTime()))return;var p=h.x-l.start_x,y=n.getTask(l.id);if(this._handlers[l.mode]){if(l.mode===d.drag_mode.move){var v={};this._isMultiselect()&&n.getSelectedTasks().indexOf(l.id)>=0&&(v=this.dragMultiple);var m=!1;if(n.isSummaryTask(y)&&n.config.drag_project){var k={};k[l.id]=u.copy(l),m=!0,v=u.mixin(k,this.dragMultiple)}var b=this._find_max_shift(v,p);for(var S in void 0!==b&&(p=b),this._update_item_on_move(p,l.id,l.mode,l,o),v){var x=v[S];if(m&&x.id!=l.id&&(n._bulk_dnd=!0),void 0===b&&(m||Object.keys(v).length>1))var w=g-n.dateFromPos(l.start_x);this._update_item_on_move(p,x.id,x.mode,x,o,w)}n._bulk_dnd=!1}else this._update_item_on_move(p,l.id,l.mode,l,o);n._update_parents(l.id)}}},on_mouse_down:function(o,l){if(2!=o.button||void 0===o.button){var d=t.$getConfig(),h=n.locate(o),g=null;if(n.isTaskExists(h)&&(g=n.getTask(h)),!n.isReadonly(g)&&!this.drag.mode){this.clear_drag_state();var p=_.getClassName(l=l||o.target||o.srcElement),y=this._get_drag_mode(p,l);if(!p||!y)return l.parentNode?this.on_mouse_down(o,l.parentNode):void 0;if(y)if(y.mode&&y.mode!=d.drag_mode.ignore&&d["drag_"+y.mode]){if(h=n.locate(l),g=n.copy(n.getTask(h)||{}),n.isReadonly(g))return this.clear_drag_state(),!1;if(n.isSummaryTask(g)&&!d.drag_project&&y.mode!=d.drag_mode.progress)return void this.clear_drag_state();y.id=h;var v=_.getRelativeEventPosition(o,n.$task_data);y.start_x=v.x,y.start_y=v.y,y.obj=g,this.drag.start_drag=y,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(n.checkEvent("onMouseDown")&&n.callEvent("onMouseDown",[p.split(" ")[0]])&&l.parentNode)return this.on_mouse_down(o,l.parentNode)}}},_fix_dnd_scale_time:function(o,l){var d=t.$getConfig(),h=n.getScale().unit,g=n.getScale().step;function p(y){if(n.config.correct_work_time){var v=t.$getConfig();n.isWorkTime(y.start_date,void 0,y)||(y.start_date=n.calculateEndDate({start_date:y.start_date,duration:-1,unit:v.duration_unit,task:y}))}}d.round_dnd_dates||(h="minute",g=d.time_step),l.mode==d.drag_mode.resize?l.left?(o.start_date=n.roundDate({date:o.start_date,unit:h,step:g}),p(o)):(o.end_date=n.roundDate({date:o.end_date,unit:h,step:g}),function(y){if(n.config.correct_work_time){var v=t.$getConfig();n.isWorkTime(new Date(y.end_date-1),void 0,y)||(y.end_date=n.calculateEndDate({start_date:y.end_date,duration:1,unit:v.duration_unit,task:y}))}}(o)):l.mode==d.drag_mode.move&&(o.start_date=n.roundDate({date:o.start_date,unit:h,step:g}),p(o),o.end_date=n.calculateEndDate(o))},_fix_working_times:function(o,l){var d=t.$getConfig();(l=l||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?l.left?o.start_date=n.getClosestWorkTime({date:o.start_date,dir:"future",task:o}):o.end_date=n.getClosestWorkTime({date:o.end_date,dir:"past",task:o}):l.mode==d.drag_mode.move&&n.correctTaskWorkTime(o)},_finalize_mouse_up:function(o,l,d,h){var g=n.getTask(o);if(l.work_time&&l.correct_work_time&&this._fix_working_times(g,d),this._fix_dnd_scale_time(g,d),this._fireEvent("before_finish",d.mode,[o,d.mode,n.copy(d.obj),h])){var p=o;n._init_task_timing(g),this.clear_drag_state(),n.updateTask(g.id),this._fireEvent("after_finish",d.mode,[p,d.mode,h])}else this.clear_drag_state(),o==d.id&&(d.obj._dhx_changed=!1,n.mixin(g,d.obj,!0)),n.refreshTask(g.id)},on_mouse_up:function(o){var l=this.drag;if(l.mode&&l.id){var d=t.$getConfig(),h=n.getTask(l.id),g=this.dragMultiple,p=!1,y=0;l.mode===d.drag_mode.move&&(n.isSummaryTask(h)&&d.drag_project||this._isMultiselect())&&(p=!0,y=Object.keys(g).length);var v=function(){if(p)for(var m in g)this._finalize_mouse_up(g[m].id,d,g[m],o);this._finalize_mouse_up(l.id,d,l,o)};p&&y>10?n.batchUpdate(function(){v.call(this)}.bind(this)):v.call(this)}this.clear_drag_state()},_get_drag_mode:function(o,l){var d=t.$getConfig().drag_mode,h={mode:null,left:null};switch((o||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":h.mode=d.move;break;case"gantt_task_drag":h.mode=d.resize;var g=l.getAttribute("data-bind-property");h.left="start_date"==g;break;case"gantt_task_progress_drag":h.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":h.mode=d.ignore;break;default:h=null}return h},_start_dnd:function(o){var l=this.drag=this.drag.start_drag;delete l.start_drag;var d=t.$getConfig(),h=l.id;if(d["drag_"+l.mode]&&n.callEvent("onBeforeDrag",[h,l.mode,o])&&this._fireEvent("before_start",l.mode,[h,l.mode,o])){delete l.start_drag;var g=n.getTask(h);if(n.isReadonly(g))return void this.clear_drag_state();if(this._isMultiselect()){var p=n.getSelectedTasks();p.indexOf(l.id)>=0&&c.forEach(p,n.bind(function(y){var v=n.getTask(y);n.isSummaryTask(v)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(v.id),this.dragMultiple[y]=n.mixin({id:v.id,obj:n.copy(v)},this.drag)},this))}n.isSummaryTask(g)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(g.id),n.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(o,l,d){n.assert(this._events[o],"Invalid stage:{"+o+"}");var h=this._events[o][l];return n.assert(h,"Unknown after drop mode:{"+l+"}"),n.assert(d,"Invalid event arguments"),!n.checkEvent(h)||n.callEvent(h,d)},round_task_dates:function(o){var l=this.drag,d=t.$getConfig();l||(l={mode:d.drag_mode.move}),this._fix_dnd_scale_time(o,l)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return n.config.drag_multiple&&!!(n.getSelectedTasks&&n.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(o){n.eachTask(function(l){this.dragMultiple[l.id]=n.mixin({id:l.id,obj:n.copy(l)},this.drag)},o,this)}},i.init(e);var t,n,r},destructor:function(){i&&(i.destructor(),i=null)}}}}},function(C,$,f){var _=f(0),u=f(110),s=f(109),c=f(1);C.exports=function(a){var e=a.$services;return{onCreated:function(t){var n=t.$config;n.bind=_.defined(n.bind)?n.bind:"task",n.bindLinks=_.defined(n.bindLinks)?n.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=u.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=f(33)(a)},onInitialized:function(t){this._attachDomEvents(a),this._attachStateProvider(a,t),t._tasksDnD.init(t,a),t._linksDnD.init(t,a),"timeline"==t.$config.id&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(a),this._clearStateProvider(a),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){a.$task=t.$task,a.$task_scale=t.$task_scale,a.$task_data=t.$task_data,a.$task_bg=t.$task_bg,a.$task_links=t.$task_links,a.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function n(r,o){if(r&&this.callEvent("onLinkDblClick",[r,o])){var l=this.getLink(r);if(this.isReadonly(l))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(r))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(r)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(r,o){var l=this.locate(r,this.config.link_attribute);l&&this.callEvent("onLinkClick",[l,r])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(r,o){var l=c.getRelativeEventPosition(r,t.$task_data),d=t.dateFromPos(l.x),h=Math.floor(t.columnIndexByDate(d)),g=t.getScale().trace_x[h];t.callEvent("onScaleClick",[r,g])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(r,o,l){o=this.locate(r,t.config.link_attribute),n.call(this,o,r)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(r,o,l){o=this.locate(r);var d=this.getTask(o),h=null;return l.parentNode&&c.getClassName(l.parentNode)&&(h=c.getClassName(l.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),h&&n.call(this,h,r),!1},t),this.$task)},_attachStateProvider:function(t,n){var r=n;e.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:r._tasks?r._tasks.unit:void 0,scale_step:r._tasks?r._tasks.step:void 0}})},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}}},function(C,$,f){var _=f(1);function u(c,i){var a=_.getNodePosition(i.$grid_data);return c.x+=a.x+i.$grid.scrollLeft,c.y+=a.y-i.$grid_data.scrollTop,c}function s(c,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=_.getNodePosition(c.$root);return i>e.width&&(i=e.width-a-2),i}C.exports={removeLineHighlight:function(c){c.markerLine&&c.markerLine.parentNode&&c.markerLine.parentNode.removeChild(c.markerLine),c.markerLine=null},highlightPosition:function(c,i,a){var e=function(n,r){var o=_.getNodePosition(r.$grid_data),l=_.getRelativeEventPosition(n,r.$grid_data),d=o.x+r.$grid.scrollLeft,h=l.y-10,g=r.getItemHeight(n.targetId);h<o.y&&(h=o.y);var p=r.getTotalHeight();return h>o.y+p-g&&(h=o.y+p-g),o.x=d,o.y=h,o.width=s(r.$gantt,o.width,9),o}(c,a);i.marker.style.left=e.x+9+"px",i.marker.style.width=e.width+"px",i.marker.style.overflow="hidden";var r,o,l,d,h,g,t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),c.child?(r=t,d=u({x:0,y:(o=a).getItemTop(l=c.targetParent)},o),h=o.$grid_data.getBoundingClientRect().bottom+window.scrollY,g=s(o.$gantt,o.$grid_data.offsetWidth),r.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",r.style.width=g+"px",r.style.top=d.y+"px",r.style.left=d.x+"px",r.style.height=o.getItemHeight(l)+"px",d.y>h&&(r.style.top=h+"px")):function(n,r,o){var l=function(g,p){var y=p.$config.rowStore,v={x:0,y:0},m=p.$grid_data.querySelector(".gantt_tree_indent"),k=15,b=0;if(m&&(k=m.offsetWidth),g.targetId!==y.$getRootId()){var S=p.getItemTop(g.targetId),x=p.getItemHeight(g.targetId);if(b=y.exists(g.targetId)?y.calculateItemLevel(y.getItem(g.targetId)):0,g.prevSibling)v.y=S;else if(g.nextSibling){var w=0;y.eachItem(function(T){-1!==y.getIndexById(T.id)&&w++},g.targetId),v.y=S+x+w*x}else v.y=S+x,b+=1}return v.x=40+b*k,v.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-v.x,0),v.x),u(v,p)}(n,o),d=o.$grid_data.getBoundingClientRect().bottom+window.scrollY;r.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",r.style.left=l.x+"px",r.style.height="4px";var h=l.y-2;r.style.top=h+"px",r.style.width=l.width+"px",h>d&&(r.style.top=d+"px")}(c,t,a),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function(C,$,f){var _=f(26);C.exports=function(u,s,c,i,a){var e;if(s!==a.$getRootId())e=c<.25?_.prevSiblingTarget(u,s,a):!(c>.6)||a.hasChild(s)&&a.getItem(s).$open?_.firstChildTarget(u,s,a):_.nextSiblingTarget(u,s,a);else{var t=a.$getRootId();e=a.hasChild(t)&&i>=0?_.lastChildTarget(u,t,a):_.firstChildTarget(u,t,a)}return e}},function(C,$,f){var _=f(26);function u(i,a,e,t,n){for(var r=a;t.exists(r);){var o=t.calculateItemLevel(t.getItem(r));if((o===e||o===e-1)&&t.getBranchIndex(r)>-1)break;r=n?t.getPrev(r):t.getNext(r)}return t.exists(r)?t.calculateItemLevel(t.getItem(r))===e?n?_.nextSiblingTarget(i,r,t):_.prevSiblingTarget(i,r,t):_.firstChildTarget(i,r,t):null}function s(i,a,e,t){return u(i,a,e,t,!0)}function c(i,a,e,t){return u(i,a,e,t,!1)}C.exports=function(i,a,e,t,n,r){var o;if(a!==n.$getRootId()){var l=n.getItem(a),d=n.calculateItemLevel(l);if(d===r){var h=n.getPrevSibling(a);e<.5&&!h?o=_.prevSiblingTarget(i,a,n):(e<.5&&(a=h),o=_.nextSiblingTarget(i,a,n))}else if(d>r)n.eachParent(function(m){n.calculateItemLevel(m)===r&&(a=m.id)},l),o=s(i,a,r,n);else{var g=s(i,a,r,n),p=c(i,a,r,n);o=e<.5?g:p}}else{var y=n.$getRootId(),v=n.getChildren(y);o=_.createDropTargetObject(),o=v.length&&t>=0?s(i,function(m){for(var k=m.getNext();m.exists(k);){var b=m.getNext(k);if(!m.exists(b))return k;k=b}return null}(n),r,n):c(i,y,r,n)}return o}},function(C,$,f){var _=f(1),u=f(26),s=f(114),c=f(113),i=f(112),a=f(16);C.exports={init:function(e,t){var n=e.$services.getService("dnd");if(t.$config.bind&&e.getDatastore(t.$config.bind)){var r=new n(t.$grid_data,{updates_per_second:60});e.defined(t.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=t.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",e.bind(function(h,g){var p=o(g);if(!p||(e.hideQuickInfo&&e._hideQuickInfo(),_.closest(g.target,".gantt_grid_editor_placeholder")))return!1;var y=p.getAttribute(t.$config.item_attribute),v=t.$config.rowStore.getItem(y);return!e.isReadonly(v)&&!l(y)&&(r.config.initial_open_state=v.$open,!!e.callEvent("onRowDragStart",[y,g.target||g.srcElement,g])&&void 0)},e)),r.attachEvent("onAfterDragStart",e.bind(function(h,g){var p=o(g);r.config.marker.innerHTML=p.outerHTML;var y=r.config.marker.firstChild;y&&(r.config.marker.style.opacity=.4,y.style.position="static",y.style.pointerEvents="none"),r.config.id=p.getAttribute(t.$config.item_attribute);var v=t.$config.rowStore,m=v.getItem(r.config.id);r.config.level=v.calculateItemLevel(m),r.config.drop_target=u.createDropTargetObject({targetParent:v.getParent(m.id),targetIndex:v.getBranchIndex(m.id),targetId:m.id,nextSibling:!0}),m.$open=!1,m.$transparent=!0,this.refreshData()},e)),r.attachEvent("onDragMove",e.bind(function(h,g){var p=function d(h){var g,p=function(b){var S=_.getRelativeEventPosition(b,t.$grid_data).y,x=t.$config.rowStore;document.doctype||(S+=window.scrollY),S=S||0;var w=t.$state.scrollTop||0,T=e.$grid_data.getBoundingClientRect().height+w+window.scrollY,E=w,I=t.getItemIndexByTopPosition(t.$state.scrollTop);if(x.exists(I)||(I=x.countVisible()-1),I<0)return x.$getRootId();var P=x.getIdByIndex(I),L=t.$state.scrollTop/t.getItemHeight(P),H=L-Math.floor(L);H>.1&&H<.9&&(T-=t.getItemHeight(P)*H,E+=t.getItemHeight(P)*(1-H));var F=_.getNodePosition(t.$grid_data),W=r.config.marker.offsetHeight;S+W+window.scrollY>=T&&(r.config.marker.style.top=F.y+F.height-W+"px"),S>=T?S=T:S<=E&&(S=E,r.config.marker.style.top=F.y+"px");var N=t.getItemIndexByTopPosition(S);if(N>x.countVisible()-1||N<0)return x.$getRootId();var O=x.getIdByIndex(N);return l(O)?x.getPrevSibling(O):x.getIdByIndex(N)}(h),y=null,v=t.$config.rowStore,m=!t.$getConfig().order_branch_free,k=_.getRelativeEventPosition(h,t.$grid_data).y;return document.doctype||(k+=window.scrollY),p!==v.$getRootId()&&(y=(k-t.getItemTop(p))/t.getItemHeight(p)),m?(g=s(r.config.id,p,y,k,v,r.config.level))&&g.targetParent&&l(g.targetParent)&&(p=v.getPrevSibling(g.targetParent),g=s(r.config.id,p,y,k,v,r.config.level)):g=c(r.config.id,p,y,k,v),g}(g);return p&&!1!==e.callEvent("onBeforeRowDragMove",[r.config.id,p.targetParent,p.targetIndex])||(p=u.createDropTargetObject(r.config.drop_target)),i.highlightPosition(p,r.config,t),r.config.drop_target=p,this.callEvent("onRowDragMove",[r.config.id,p.targetParent,p.targetIndex]),!0},e)),r.attachEvent("onDragEnd",e.bind(function(){var h=t.$config.rowStore,g=h.getItem(r.config.id);i.removeLineHighlight(r.config),g.$transparent=!1,g.$open=r.config.initial_open_state;var p=r.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])?g.$drop_target=null:(h.move(r.config.id,p.targetIndex,p.targetParent),e.render(),this.callEvent("onRowDragEnd",[r.config.id,p.targetParent,p.targetIndex])),h.refresh(g.id)},e))}function o(h){return _.locateAttribute(h,t.$config.item_attribute)}function l(h){return a(h,e,e.getDatastore(t.$config.bind))}}}},function(C,$,f){var _=f(1),u=f(16);C.exports={init:function(s,c){var i=s.$services.getService("dnd");if(c.$config.bind&&s.getDatastore(c.$config.bind)){var a=new i(c.$grid_data,{updates_per_second:60});s.defined(c.$getConfig().dnd_sensitivity)&&(a.config.sensitivity=c.$getConfig().dnd_sensitivity),a.attachEvent("onBeforeDragStart",s.bind(function(r,o){var l=e(o);if(!l||(s.hideQuickInfo&&s._hideQuickInfo(),_.closest(o.target,".gantt_grid_editor_placeholder")))return!1;var d=l.getAttribute(c.$config.item_attribute);if(n(d))return!1;var h=t().getItem(d);return!s.isReadonly(h)&&(a.config.initial_open_state=h.$open,!!s.callEvent("onRowDragStart",[d,o.target||o.srcElement,o])&&void 0)},s)),a.attachEvent("onAfterDragStart",s.bind(function(r,o){var l=e(o);a.config.marker.innerHTML=l.outerHTML;var d=a.config.marker.firstChild;d&&(d.style.position="static"),a.config.id=l.getAttribute(c.$config.item_attribute);var h=t(),g=h.getItem(a.config.id);a.config.index=h.getBranchIndex(a.config.id),a.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},s)),a.lastTaskOfLevel=function(r){for(var o=null,l=t().getItems(),d=0,h=l.length;d<h;d++)l[d].$level==r&&(o=l[d]);return o?o.id:null},a._getGridPos=s.bind(function(r){var o=_.getNodePosition(c.$grid_data),l=o.x+c.$grid.scrollLeft,d=r.pos.y-10,h=c.getItemHeight(a.config.id);d<o.y&&(d=o.y);var g=c.getTotalHeight();d>o.y+g-h&&(d=o.y+g-h);var p=o.y+o.height;return d>p-h&&(d=p-h),o.x=l,o.y=d,o},s),a._getTargetY=s.bind(function(r){var o=_.getNodePosition(c.$grid_data),l=c.$state.scrollTop||0,d=s.$grid_data.getBoundingClientRect().height+l,h=r.pageY-o.y+l;return h>d?h=d:h<l&&(h=l),h},s),a._getTaskByY=s.bind(function(r,o){var l=t(),d=c.getItemIndexByTopPosition(r=r||0);return(d=o<d?d-1:d)>l.countVisible()-1?null:l.getIdByIndex(d)},s),a.attachEvent("onDragMove",s.bind(function(r,o){var l=s.$grid_data.getBoundingClientRect(),d=l.height+l.y+(c.$state.scrollTop||0)+window.scrollY,h=a.config,g=a._getGridPos(o),p=c.$getConfig(),y=t();h.marker.style.top=g.y<d?g.y+"px":d+"px",h.marker.style.left=g.x+10+"px";var v=_.getNodePosition(s.$root);g.width>v.width&&(h.marker.style.width=v.width-10-2+"px",h.marker.style.overflow="hidden");var m=y.getItem(a.config.id),k=a._getTargetY(o),b=a._getTaskByY(k,y.getIndexById(m.id));function S(z,W){return!y.isChildOf(x.id,W.id)&&(z.$level==W.$level||p.order_branch_free)}if(y.exists(b)||(b=a.lastTaskOfLevel(p.order_branch_free?m.$level:0))==a.config.id&&(b=null),y.exists(b)){var x=y.getItem(b),w=c.getItemTop(x.id),T=c.getItemHeight(x.id);if(w+T/2<k){var E=y.getIndexById(x.id),I=y.getNext(x.id),P=y.getItem(I);if(n(I)){var L=y.getPrev(P.id);P=y.getItem(L)}if(P){if(P.id==m.id)return p.order_branch_free&&y.isChildOf(m.id,x.id)&&1==y.getChildren(x.id).length?void y.move(m.id,y.getBranchIndex(x.id)+1,y.getParent(x.id)):void 0;x=P}else if(I=y.getIdByIndex(E),P=y.getItem(I),n(I)&&(L=y.getPrev(P.id),P=y.getItem(L)),S(P,m)&&P.id!=m.id)return void y.move(m.id,-1,y.getParent(P.id))}else if(p.order_branch_free&&x.id!=m.id&&S(x,m)&&!n(x.id)){if(!y.hasChild(x.id))return x.$open=!0,void y.move(m.id,-1,x.id);if(y.getIndexById(x.id)||T/3<k)return}E=y.getIndexById(x.id),L=y.getIdByIndex(E-1);for(var H=y.getItem(L),F=1;(!H||H.id==x.id)&&E-F>=0;)L=y.getIdByIndex(E-F),H=y.getItem(L),F++;if(m.id==x.id||n(x.id))return;S(x,m)&&m.id!=x.id?y.move(m.id,0,0,x.id):x.$level!=m.$level-1||y.getChildren(x.id).length?H&&S(H,m)&&m.id!=H.id&&y.move(m.id,-1,y.getParent(H.id)):y.move(m.id,0,x.id)}return!0},s)),a.attachEvent("onDragEnd",s.bind(function(){var r=t(),o=r.getItem(a.config.id);o.$transparent=!1,o.$open=a.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[a.config.id,a.config.parent,a.config.index])?(r.move(a.config.id,a.config.index,a.config.parent),o.$drop_target=null):this.callEvent("onRowDragEnd",[a.config.id,o.$drop_target]),s.render(),this.refreshData()},s))}function e(r){return _.locateAttribute(r,c.$config.item_attribute)}function t(){return s.getDatastore(c.$config.bind)}function n(r){return u(r,s,t())}}}},function(C,$,f){var _=f(0),u=f(116),s=f(115);C.exports=function(i){return{onCreated:function(a){a.$config=_.mixin(a.$config,{bind:"task"}),"grid"==a.$config.id&&(this.extendGantt(a),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(a),i.ext.inlineEditors.init()),this._mouseDelegates=f(33)(i)},onInitialized:function(a){var e=a.$getConfig();e.order_branch&&("marker"==e.order_branch?s.init(a.$gantt,a):u.init(a.$gantt,a)),this.initEvents(a,i),"grid"==a.$config.id&&this.extendDom(a)},onDestroyed:function(a){"grid"==a.$config.id&&i.ext.inlineEditors.destructor(),this.clearEvents(a,i)},initEvents:function(a,e){this._mouseDelegates.delegate("click","gantt_row",e.bind(function(t,n,r){var o=a.$getConfig();if(null!==n){var l=this.getTask(n);o.scroll_on_click&&!e._is_icon_open_click(t)&&this.showDate(l.start_date),e.callEvent("onTaskRowClick",[n,r])}},e),a.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind(function(t,n,r){var o=r.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[o,t])){var l=a.$getConfig();if("add"!=o){if(l.sort&&o){for(var d,h=o,g=0;g<l.columns.length;g++)if(l.columns[g].name==o){d=l.columns[g];break}if(d&&void 0!==d.sort&&!0!==d.sort&&!(h=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==o?this._sort.direction:"desc";this._sort={name:o,direction:p="desc"==p?"asc":"desc"},this.sort(h,"desc"==p)}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",a.$grid,[t,l.root_id])}},e),a.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind(function(t,n,r){if(!a.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1},e),a.$grid)},clearEvents:function(a,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(a){i.$grid=a.$grid,i.$grid_scale=a.$grid_scale,i.$grid_data=a.$grid_data},extendGantt:function(a){i.getGridColumns=i.bind(a.getGridColumns,a),a.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),a.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),a.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),a.attachEvent("onColumnResizeComplete",function(e,t){i.config.grid_width=t}),a.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),a.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),a.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),a.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}}},function(C,$,f){var _=f(32),u=f(6);C.exports=function(s){return{render:function(c,i,a){var e=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(c.id)+i.getItemHeight(c.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize'></div>",t.setAttribute(e.task_grid_row_resizer_attribute,c.id),s._waiAria.gridSeparatorAttr(t),t},update:null,getRectangle:_,getVisibleRange:u}}},function(C,$,f){var _=f(29),u=f(6),s=f(28),c=f(27),i=f(39);function a(t,n,r,o){var l=100*(1-(1*t||0)),d=o.posFromDate(n),h=o.posFromDate(r),g=document.createElement("div");return g.className="gantt_histogram_hor_bar",g.style.top=l+"%",g.style.left=d+"px",g.style.width=h-d+1+"px",g}function e(t,n,r){if(t===n)return null;var o=1-Math.max(t,n),l=Math.abs(t-n),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*o+"%",d.style.height=100*l+"%",d.style.left=r+"px",d}C.exports=function(t){var n=i(t),r={},o={},l={};function d(p,y){var v=r[p];v&&v[y]&&v[y].parentNode&&v[y].parentNode.removeChild(v[y])}function h(p,y,v,m,k,b,S){var x=l[p.id];x&&x.parentNode&&x.parentNode.removeChild(x);var w=function(T,E,I,P){for(var L=E.getScale(),H=document.createElement("div"),F=s(L,P),z=F.start;z<=F.end;z++){var W=L.trace_x[z],N=L.trace_x[z+1]||t.date.add(W,L.step,L.unit),O=L.trace_x[z].valueOf(),q=Math.min(T[O]/I,1)||0;if(q<0)return null;var G=Math.min(T[N.valueOf()]/I,1)||0,V=a(q,W,N,E);V&&H.appendChild(V);var Y=e(q,G,E.posFromDate(N));Y&&H.appendChild(Y)}return H}(v,k,b,S);return w&&y&&(w.setAttribute("data-resource-id",p.id),w.setAttribute(k.$config.item_attribute,p.id),w.style.position="absolute",w.style.top=y.top+1+"px",w.style.height=k.getItemHeight(p.id)-1+"px",w.style.left=0),w}function g(p,y,v,m,k,b,S){var x=k.histogram_cell_class(b.start_date,b.end_date,p,b.tasks,b.assignments),w=k.histogram_cell_label(b.start_date,b.end_date,p,b.tasks,b.assignments),T=k.histogram_cell_allocated(b.start_date,b.end_date,p,b.tasks,b.assignments),E=S.getItemHeight(p.id)-1;if(x||w){var I=document.createElement("div");return I.className=["gantt_histogram_cell",x].join(" "),I.setAttribute(S.$config.item_attribute,p.id),I.style.cssText=["left:"+y.left+"px","width:"+y.width+"px","height:"+E+"px","line-height:"+E+"px","top:"+(y.top+1)+"px"].join(";"),w&&(w="<div class='gantt_histogram_label'>"+w+"</div>"),T&&(w="<div class='gantt_histogram_fill' style='height:"+100*Math.min(T/v||0,1)+"%;'></div>"+w),w&&(I.innerHTML=w),I}return null}return{render:function(p,y,v,m){var k=y.$getTemplates(),b=y.getScale(),S=n(p,v.resource_property,b,y),x=[],w={},T=p.capacity||y.$config.capacity||24;r[p.id]={},o[p.id]=null,l[p.id]=null;for(var E=!!m,I=s(b,m),P=I.start;P<=I.end;P++){var L=S[P];if(L&&(!E||c(P,b,m,t))){var H=k.histogram_cell_capacity(L.start_date,L.end_date,p,L.tasks,L.assignments);w[L.start_date.valueOf()]=H||0;var F=y.getItemPosition(p,L.start_date,L.end_date),z=g(p,F,T,0,k,L,y);z&&(x.push(z),r[p.id][P]=z)}}var W=null;if(x.length){W=document.createElement("div");for(var N=0;N<x.length;N++)W.appendChild(x[N]);var O=h(p,F,w,0,y,T,m);O&&(W.appendChild(O),l[p.id]=O),o[p.id]=W}return W},update:function(p,y,v,m,k){var b=v.$getTemplates(),S=v.getScale(),x=n(p,m.resource_property,S,v),w=p.capacity||v.$config.capacity||24,T={},E=!!k,I=s(S,k),P={};if(r&&r[p.id])for(var L in r[p.id])P[L]=L;for(var H=I.start;H<=I.end;H++){var F=x[H];if(P[H]=!1,F){var z=b.histogram_cell_capacity(F.start_date,F.end_date,p,F.tasks,F.assignments);T[F.start_date.valueOf()]=z||0;var W=v.getItemPosition(p,F.start_date,F.end_date);if(!E||c(H,S,k,t)){var N=r[p.id];if(N&&N[H])N&&N[H]&&!N[H].parentNode&&y.appendChild(N[H]);else{var O=g(p,W,w,0,b,F,v);O&&(y.appendChild(O),r[p.id][H]=O)}}else d(p.id,H)}}for(var L in P)!1!==P[L]&&d(p.id,L);var q=h(p,W,T,0,v,w,k);q&&(y.appendChild(q),l[p.id]=q)},getRectangle:_,getVisibleRange:u}}},function(C,$,f){var _=f(29),u=f(6),s=f(28),c=f(27),i=f(39);C.exports=function(a){var e=i(a),t={};function n(o,l,d,h,g){var p=d.resource_cell_class(l.start_date,l.end_date,o,l.tasks,l.assignments),y=d.resource_cell_value(l.start_date,l.end_date,o,l.tasks,l.assignments),v=g.getItemHeight(o.id)-1;if(p||y){var m=g.getItemPosition(o,l.start_date,l.end_date),k=document.createElement("div");return k.setAttribute(g.$config.item_attribute,o.id),k.className=["gantt_resource_marker",p].join(" "),k.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+v+"px","line-height:"+v+"px","top:"+m.top+"px"].join(";"),y&&(k.innerHTML=y),k}return null}function r(o,l){t[o]&&t[o][l]&&t[o][l].parentNode&&t[o][l].parentNode.removeChild(t[o][l])}return{render:function(o,l,d,h){var g=l.$getTemplates(),p=l.getScale(),y=e(o,d.resource_property,l.getScale(),l),v=!!h,m=[];t[o.id]={};for(var k=s(p,h),b=k.start;b<=k.end;b++){var S=y[b];if(S&&(!v||c(b,p,h,a))){var x=n(o,S,g,0,l);x&&(m.push(x),t[o.id][b]=x)}}var w=null;if(m.length){w=document.createElement("div");for(var T=0;T<m.length;T++)w.appendChild(m[T])}return w},update:function(o,l,d,h,g){var p=d.$getTemplates(),y=d.getScale(),v=e(o,h.resource_property,d.getScale(),d),m=s(y,g),k={};if(t&&t[o.id])for(var b in t[o.id])k[b]=b;for(var S=m.start;S<=m.end;S++){var x=v[S];if(k[S]=!1,x)if(c(S,y,g,a))if(t[o.id]&&t[o.id][S])t[o.id]&&t[o.id][S]&&!t[o.id][S].parentNode&&l.appendChild(t[o.id][S]);else{var w=n(o,x,p,0,d);w&&(l.appendChild(w),t[o.id][S]=w)}else r(o.id,S)}for(var b in k)!1!==k[b]&&r(o.id,b)},getRectangle:_,getVisibleRange:u}}},function(C,$,f){function _(i){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var u=f(2),s=f(32),c=f(6);C.exports=function(i){return{render:function(a,e,t,n){for(var r=e.getGridColumns(),o=e.$getTemplates(),l=e.$config.rowStore,d=[],h=0;h<r.length;h++){var g,p,y,v=h==r.length-1,m=r[h];"add"==m.name?(p="<div "+(T=i._waiAria.gridAddButtonAttrString(m))+" class='gantt_add'></div>",y=""):(p=m.template?m.template(a):a[m.name],u.isDate(p)&&(p=o.date_grid(p,a,m.name)),null!=p||(p=""),y=p,p="<div class='gantt_tree_content'>"+p+"</div>");var k="gantt_cell"+(v?" gantt_last_cell":""),b=[];if(m.tree){k+=" gantt_cell_tree";for(var S=0;S<a.$level;S++)b.push(o.grid_indent(a));!l.hasChild(a.id)||i.isSplitTask(a)&&!i.config.open_split_tasks?(b.push(o.grid_blank(a)),b.push(o.grid_file(a))):(b.push(o.grid_open(a)),b.push(o.grid_folder(a)))}var x="width:"+(m.width-(v?1:0))+"px;";this.defined(m.align)&&(x+="text-align:"+m.align+";justify-content:"+{right:"flex-end",left:"flex-start",center:"center"}[m.align]+";");var T=i._waiAria.gridCellAttrString(m,y,a);b.push(p),g="<div class='"+k+"' data-column-index='"+h+"' data-column-name='"+m.name+"' style='"+x+"' "+T+">"+b.join("")+"</div>",d.push(g)}switch(k="",l.$config.name){case"task":k=i.getGlobalTaskIndex(a.id)%2==0?"":" odd";break;case"resource":k=l.visibleOrder.indexOf(a.id)%2==0?"":" odd"}if(k+=a.$transparent?" gantt_transparent":"",k+=a.$dataprocessor_class?" "+a.$dataprocessor_class:"",o.grid_row_class){var E=o.grid_row_class.call(i,a.start_date,a.end_date,a);E&&(k+=" "+E)}l.isSelected(a.id)&&(k+=" gantt_selected");var I=document.createElement("div");I.className="gantt_row"+k+" gantt_row_"+i.getTaskType(a.type);var P=e.getItemHeight(a.id);return I.style.height=P+"px",I.style.lineHeight=P+"px",t.smart_rendering&&(I.style.position="absolute",I.style.left="0px",I.style.top=e.getItemTop(a.id)+"px"),e.$config.item_attribute&&(I.setAttribute(e.$config.item_attribute,a.id),I.setAttribute(e.$config.bind+"_id",a.id)),i._waiAria.taskRowAttr(a,I),I.innerHTML=d.join(""),I},update:null,getRectangle:s,getVisibleRange:c,onrender:function(a,e,t){for(var n=t.getGridColumns(),r=0;r<n.length;r++){var o=n[r];if(o.onrender){var l=e.querySelector("[data-column-name="+o.name+"]");if(l){var d=o.onrender(a,l);if(d&&"string"==typeof d)l.innerHTML=d;else if(d&&"object"===_(d)&&i.config.external_render){var h=i.config.external_render;h.isElement(d)&&h.renderElement(d,l)}}}}}}}},function(C,$,f){var _=f(43),u=f(44);C.exports=function(s){var c={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=s.copy(e)},get_lines:function(e){this.clear(),this.point(e[0]);for(var t=1;t<e.length;t++)this.line_to(e[t]);return this.get_path()},line_to:function(e){var t=s.copy(e),r=this._get_line(this.current_pos,t);this.path.push(r),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(e,t,n){var r,o=t.$getConfig().link_wrapper_width,l=e.y-o/2;switch(e.direction){case this.dirs.left:r={top:l,height:o,lineHeight:o,left:e.x-e.size-o/2,width:e.size+o};break;case this.dirs.right:r={top:l,lineHeight:o,height:o,left:e.x-o/2,width:e.size+o};break;case this.dirs.up:r={top:l-e.size,lineHeight:e.size+o,height:e.size+o,left:e.x-o/2,width:o};break;case this.dirs.down:r={top:l,lineHeight:e.size+o,height:e.size+o,left:e.x-o/2,width:o}}return r},get_line_sizes:function(e,t){var n,r=t.$getConfig(),o=r.link_line_width,l=r.link_wrapper_width,d=e.size+o;switch(e.direction){case this.dirs.left:case this.dirs.right:n={height:o,width:d,marginTop:(l-o)/2,marginLeft:(l-o)/2};break;case this.dirs.up:case this.dirs.down:n={height:d,width:o,marginTop:(l-o)/2,marginLeft:(l-o)/2}}return n},render_line:function(e,t,n,r){var o=this.get_wrapper_sizes(e,n,r),l=document.createElement("div");l.style.cssText=["top:"+o.top+"px","left:"+o.left+"px","height:"+o.height+"px","width:"+o.width+"px"].join(";"),l.className="gantt_line_wrapper";var d=this.get_line_sizes(e,n),h=document.createElement("div");return h.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),h.className="gantt_link_line_"+e.direction,l.appendChild(h),l},_get_line:function(e,t){var n=this.get_direction(e,t),r={x:e.x,y:e.y,direction:this.get_direction(e,t)};return r.size=n==this.dirs.left||n==this.dirs.right?Math.abs(e.x-t.x):Math.abs(e.y-t.y),r},get_direction:function(e,t){return t.x<e.x?this.dirs.left:t.x>e.x?this.dirs.right:t.y>e.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(s.copy(e)),e):this.current()},point_to:function(e,t,n){n=n?{x:n.x,y:n.y}:s.copy(this.point());var r=c.dirs;switch(e){case r.left:n.x-=t;break;case r.right:n.x+=t;break;case r.up:n.y-=t;break;case r.down:n.y+=t}return this.point(n)},get_points:function(e,t,n,r){var o=this.get_endpoint(e,t,n,r),l=s.config,d=o.e_y-o.y,h=o.e_x-o.x,g=c.dirs,p=t.getItemHeight(e.source);this.clear(),this.point({x:o.x,y:o.y});var y=2*l.link_arrow_size,v=this.get_line_type(e,t.$getConfig()),m=o.e_x>o.x;if(v.from_start&&v.to_start)this.point_to(g.left,y),m?(this.point_to(g.down,d),this.point_to(g.right,h)):(this.point_to(g.right,h),this.point_to(g.down,d)),this.point_to(g.right,y);else if(!v.from_start&&v.to_start)if(m=o.e_x>o.x+2*y,this.point_to(g.right,y),m)h-=y,this.point_to(g.down,d),this.point_to(g.right,h);else{h-=2*y;var k=d>0?1:-1;this.point_to(g.down,k*(p/2)),this.point_to(g.right,h),this.point_to(g.down,k*(Math.abs(d)-p/2)),this.point_to(g.right,y)}else v.from_start||v.to_start?v.from_start&&!v.to_start&&(m=o.e_x>o.x-2*y,this.point_to(g.left,y),m?(h+=2*y,this.point_to(g.down,(k=d>0?1:-1)*(p/2)),this.point_to(g.right,h),this.point_to(g.down,k*(Math.abs(d)-p/2)),this.point_to(g.left,y)):(h+=y,this.point_to(g.down,d),this.point_to(g.right,h))):(this.point_to(g.right,y),m?(this.point_to(g.right,h),this.point_to(g.down,d)):(this.point_to(g.down,d),this.point_to(g.right,h)),this.point_to(g.left,y));return this.path},get_line_type:function(e,t){var n=t.links,r=!1,o=!1;return e.type==n.start_to_start?r=o=!0:e.type==n.finish_to_finish?r=o=!1:e.type==n.finish_to_start?(r=!1,o=!0):e.type==n.start_to_finish?(r=!0,o=!1):s.assert(!1,"Invalid link type"),t.rtl&&(r=!r,o=!o),{from_start:r,to_start:o}},get_endpoint:function(e,t,n,r){var o=t.$getConfig(),l=this.get_line_type(e,o),d=l.from_start,h=l.to_start,g=a(n,t,o),p=a(r,t,o);return{x:d?g.left:g.left+g.width,e_x:h?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function a(e,t,n){var r=t.getItemPosition(e);if(s.getTaskType(e.type)==n.types.milestone){var o=t.getBarHeight(e.id,!0),l=Math.sqrt(2*o*o);r.left-=l/2,r.width=l}return r}return{render:function(e,t,n){var r=s.getTask(e.source);if(!r.hide_bar){var o=s.getTask(e.target);if(!o.hide_bar){var l=i.get_endpoint(e,t,r,o);if(!(l.e_x-l.x||l.e_y-l.y))return null;var h=i.get_points(e,t,r,o),g=c.get_lines(h,t),p=document.createElement("div"),y="gantt_task_link";e.color&&(y+=" gantt_link_inline_color");var v=s.templates.link_class?s.templates.link_class(e):"";v&&(y+=" "+v),n.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(e)&&(y+=" gantt_critical_link"),p.className=y,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,e.id),p.setAttribute("link_id",e.id));for(var m=0;m<g.length;m++){m==g.length-1&&(g[m].size-=n.link_arrow_size);var k=c.render_line(g[m],g[m+1],t,e.source);e.color&&(k.firstChild.style.backgroundColor=e.color),p.appendChild(k)}var S=function(x,w,T,E){var I=T.$getConfig(),P=document.createElement("div"),L=x.y,H=x.x,F=I.link_arrow_size,z="gantt_link_arrow gantt_link_arrow_"+w;switch(w){case c.dirs.right:L-=F/2,H-=F;break;case c.dirs.left:L-=F/2;break;case c.dirs.up:H-=F;break;case c.dirs.down:L+=2*F,H-=F}return P.style.cssText=["top:"+L+"px","left:"+H+"px"].join(";"),P.className=z,P}(h[h.length-1],g[g.length-1].direction,t);return e.color&&(S.style.borderColor=e.color),p.appendChild(S),s._waiAria.linkAttr(e,p),p}}},update:null,isInViewPort:_,getVisibleRange:u()}}},function(C,$){C.exports=function(f,_){var u=_.config.timeline_placeholder;if(f=f||[],u&&0===f.filter(function(t){return"timeline_placeholder_task"===t.id}).length){var s=_.getState(),c=null;f.length&&(c=f[f.length-1].id),f.push({start_date:s.min_date,end_date:s.max_date,row_height:u.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:c,calendar_id:u.calendar||"global",$source:[],$target:[]})}}},function(C,$,f){var _=f(29),u=f(20),s=f(6),c=f(28),i=f(27),a=f(123);C.exports=function(e){var t={},n={};function r(g,p){return!(!t[g.id][p]||!t[g.id][p].parentNode)}function o(g,p){t[g]&&t[g][p]&&t[g][p].parentNode&&t[g][p].parentNode.removeChild(t[g][p])}function l(g){var p,y=g.$getTemplates();return void 0!==y.task_cell_class?(p=y.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=y.timeline_cell_class,p}function d(g){return g.$getTemplates().timeline_cell_content}function h(g,p,y,v,m,k,b,S){var x=g.width[p],w="";if(i(p,g,v,e)){var T=k(y,g.trace_x[p]),E="";if(b&&(E=b(y,g.trace_x[p])),S.static_background&&(!S.static_background_cells||!T&&!E))return null;if(t[y.id][p])return n[y.id][p]=p,t[y.id][p];var P=document.createElement("div");return P.style.width=x+"px",w="gantt_task_cell"+(p==m-1?" gantt_last_cell":""),T&&(w+=" "+T),P.className=w,E&&(P.innerHTML=E),P.style.position="absolute",P.style.left=g.left[p]+"px",t[y.id][p]=P,n[y.id][p]=p,P}return null}return{render:function(g,p,y,v){var m=p.$getTemplates(),k=p.getScale(),b=k.count;if(y.static_background&&!y.static_background_cells)return null;var S,x=document.createElement("div"),w=l(p),T=d(p);if(S=v&&y.smart_rendering&&!u(e)?c(k,v.x):{start:0,end:b-1},y.show_task_cells){t[g.id]={},n[g.id]={};for(var E=S.start;E<=S.end;E++){var I=h(k,E,g,v,b,w,T,y);I&&x.appendChild(I)}}var P=p.$config.rowStore,L=P.getIndexById(g.id)%2!=0,H=m.task_row_class(g.start_date,g.end_date,g),F="gantt_task_row"+(L?" odd":"")+(H?" "+H:"");if(P.isSelected(g.id)&&(F+=" gantt_selected"),x.className=F,y.smart_rendering?(x.style.position="absolute",x.style.top=p.getItemTop(g.id)+"px",x.style.width="100%"):x.style.position="relative",x.style.height=p.getItemHeight(g.id)+"px","timeline_placeholder_task"==g.id){var z=0;g.lastTaskId&&(z=p.getItemTop(g.lastTaskId)+p.getItemHeight(g.lastTaskId));var W=(g.row_height||p.$task_data.offsetHeight)-z;W<0&&(W=0),y.smart_rendering&&(x.style.top=z+"px"),x.style.height=W+"px"}return p.$config.item_attribute&&(x.setAttribute(p.$config.item_attribute,g.id),x.setAttribute(p.$config.bind+"_id",g.id)),x},update:function(g,p,y,v,m){var k=y.getScale(),b=k.count,S=l(y),x=d(y);if(v.show_task_cells){t[g.id]||(t[g.id]={}),n[g.id]||(n[g.id]={});var w=c(k,m);for(var T in n[g.id]){var E=n[g.id][T];(Number(E)<w.start||Number(E)>w.end)&&o(g.id,E)}n[g.id]={};for(var I=w.start;I<=w.end;I++){var P=h(k,I,g,m,b,S,x,v);!P&&r(g,I)?o(g.id,I):P&&!P.parentNode&&p.appendChild(P)}}},getRectangle:_,getVisibleRange:s,prepareData:a}}},function(C,$,f){var _=f(30),u=f(19),s=f(6);C.exports=function(c){var i=_(c),a={};function e(r,o,l,d,h){var g=!0;return d.smart_rendering&&(g=u(r,o,l,d,h)),g}function t(r,o,l,d){var h=c.copy(c.getTask(o.id));if(h.$rendered_at=r.id,!1!==c.callEvent("onBeforeRollupTaskDisplay",[h.id,h,r.id])){var g=i(h,l);if(g){var p=l.getBarHeight(r.id,o.type==c.config.types.milestone),y=Math.floor((l.getItemHeight(r.id)-p)/2);return g.style.top=d.top+y+"px",g.classList.add("gantt_rollup_child"),g.setAttribute("data-rollup-parent-id",r.id),g}}}function n(r,o){return r+"_"+o}return{render:function(r,o,l,d){if(!1!==r.rollup&&r.$rollup&&r.$rollup.length){var h=document.createElement("div"),g=c.getTaskPosition(r);return d.y=0,d.y_end=c.$task_bg.scrollHeight,r.$rollup.forEach(function(p){if(c.isTaskExists(p)){var y=c.getTask(p);if(e(y,d,o,l,c)){var v=t(r,y,o,g);v?(a[n(y.id,r.id)]=v,h.appendChild(v)):a[n(y.id,r.id)]=!1}}}),h}return!1},update:function(r,o,l,d,h){var g=document.createElement("div"),p=c.getTaskPosition(r);h.y=0,h.y_end=c.$task_bg.scrollHeight,r.$rollup.forEach(function(y){var v=c.getTask(y),m=n(v.id,r.id),k=e(v,h,l,d,c);if(k!==!!a[m])if(k){var b=t(r,v,l,p);a[m]=b||!1}else a[m]=!1;a[m]&&g.appendChild(a[m]),o.innerHTML="",o.appendChild(g)})},isInViewPort:u,getVisibleRange:s}}},function(C,$,f){var _=f(19);C.exports=function(u,s,c,i,a){if(!a.isSplitTask(u))return!1;var e=a.getSubtaskDates(u.id);return _({id:u.id,start_date:e.start_date,end_date:e.end_date,parent:u.parent},s,c,a)}},function(C,$,f){var _=f(30),u=f(6),s=f(126),c=f(19);C.exports=function(i){var a=_(i),e={};function t(l,d,h,g,p){var y=!l.hide_bar;return g.smart_rendering&&y&&(y=c(l,d,h,g,p)),y}function n(l,d,h,g){if(!d.hide_bar){var p=i.isSummaryTask(d);p&&i.resetProjectDates(d);var y=i.copy(i.getTask(d.id));if(y.$rendered_at=l.id,!1!==i.callEvent("onBeforeSplitTaskDisplay",[y.id,y,l.id])){var v=a(y,h);if(v){var m=h.getBarHeight(l.id,d.type==i.config.types.milestone),k=Math.floor((h.getItemHeight(l.id)-m)/2);return v.style.top=g.top+k+"px",v.classList.add("gantt_split_child"),p&&v.classList.add("gantt_split_subproject"),v}}}}function r(l,d){return l+"_"+d}function o(l,d){return i.isSplitTask(l)&&(d.open_split_tasks&&!l.$open||!d.open_split_tasks)&&i.hasChild(l.id)}return{render:function(l,d,h,g){if(o(l,h)){var p=document.createElement("div"),y=i.getTaskPosition(l);return i.hasChild(l.id)&&i.eachTask(function(v){if(t(v,g,d,h,i)){var m=n(l,v,d,y);m?(e[r(v.id,l.id)]=m,p.appendChild(m)):e[r(v.id,l.id)]=!1}},l.id),p}return!1},update:function(l,d,h,g,p){if(o(l,g)){var y=document.createElement("div"),v=i.getTaskPosition(l);i.eachTask(function(m){var k=r(m.id,l.id),b=t(m,p,h,g,i);if(b!==!!e[k])if(b){var S=n(l,m,h,v);e[k]=S||!1}else e[k]=!1;e[k]&&y.appendChild(e[k]),d.innerHTML="",d.appendChild(y)},l.id)}},isInViewPort:s,getVisibleRange:u}}},function(C,$,f){var _=f(19),u=f(6),s=f(30);C.exports=function(c){return{render:s(c),update:null,isInViewPort:_,getVisibleRange:u}}},function(C,$){C.exports=function(f){return function(u,s,c){var i,a;"keepDates"==c?(i=u,"duration"==(a=s)?i.end_date=f.calculateEndDate(i):"end_date"!=a&&"start_date"!=a||(i.duration=f.calculateDuration(i))):"keepDuration"==c?function(i,a){"end_date"==a?i.start_date=_(i):"start_date"!=a&&"duration"!=a||(i.end_date=f.calculateEndDate(i))}(u,s):function(i,a){f.config.schedule_from_end?"end_date"==a||"duration"==a?i.start_date=_(i):"start_date"==a&&(i.duration=f.calculateDuration(i)):"start_date"==a||"duration"==a?i.end_date=f.calculateEndDate(i):"end_date"==a&&(i.duration=f.calculateDuration(i))}(u,s)};function _(u){return f.calculateEndDate({start_date:u.end_date,duration:-u.duration,task:u})}}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0);function c(){return u.apply(this,arguments)||this}function i(a){return a.formatter||_.ext.formatters.durationFormatter()}return f(3)(c,u),s.mixin(c.prototype,{show:function(a,e,t,n){n.innerHTML="<div><input type='text' name='"+e.name+"'></div>"},set_value:function(a,e,t,n){this.get_input(n).value=i(t.editor).format(a)},get_value:function(a,e,t){return i(e.editor).parse(this.get_input(t).value||"")}},!0),c}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0);function c(){return u.apply(this,arguments)||this}function i(r){return r.formatter||_.ext.formatters.linkFormatter()}function a(r,o){for(var l=(r||"").split(o.delimiter||","),d=0;d<l.length;d++){var h=l[d].trim();h?l[d]=h:(l.splice(d,1),d--)}return l.sort(),l}function e(r,o,l){for(var d=r.$target,h=[],g=0;g<d.length;g++){var p=l.getLink(d[g]);h.push(i(o).format(p))}return h.join((o.delimiter||",")+" ")}function t(r){return r.source+"_"+r.target+"_"+r.type+"_"+(r.lag||0)}return f(3)(c,u),s.mixin(c.prototype,{show:function(r,o,l,d){d.innerHTML="<div><input type='text' name='"+o.name+"'></div>"},hide:function(){},set_value:function(r,o,l,d){this.get_input(d).value=e(r,l.editor,_)},get_value:function(r,o,l){return a(this.get_input(l).value||"",o.editor)},save:function(r,o,l){var d=function n(r,o,l){var v,k,b,d=(v=r.id,k=l,b=[],o.forEach(function(S){var x=i(k).parse(S);x&&(x.target=v,x.id="predecessor_generated",_.isLinkAllowed(x)&&(x.id=void 0,b.push(x)))}),b),h={};r.$target.forEach(function(v){var m=_.getLink(v);h[t(m)]=m.id});var g=[];d.forEach(function(v){var m=t(v);h[m]?delete h[m]:g.push(v)});var p=[];for(var y in h)p.push(h[y]);return{add:g,remove:p}}(_.getTask(r),this.get_value(r,o,l),o.editor);(d.add.length||d.remove.length)&&_.batchUpdate(function(){d.add.forEach(function(h){_.addLink(h)}),d.remove.forEach(function(h){_.deleteLink(h)}),_.autoSchedule&&_.autoSchedule()})},is_changed:function(r,o,l,d){var h=this.get_value(o,l,d),g=a(e(r,l.editor,_),l.editor);return h.join()!==g.join()}},!0),c}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0),c="%Y-%m-%d",i=null,a=null;function e(){return u.apply(this,arguments)||this}return f(3)(e,u),s.mixin(e.prototype,{show:function(t,n,r,o){var l,d;i||(i=_.date.date_to_str(c)),a||(a=_.date.str_to_date(c)),l="function"==typeof r.min?r.min(t,n):r.min,d="function"==typeof r.max?r.max(t,n):r.max;var h="<div style='width:140px'><input type='date' "+(l?" min='"+i(l)+"' ":"")+(d?" max='"+i(d)+"' ":"")+" name='"+n.name+"'></div>";o.innerHTML=h},set_value:function(t,n,r,o){this.get_input(o).value=t&&t.getFullYear?i(t):t},is_valid:function(t,n,r,o){return!(!t||isNaN(t.getTime()))},get_value:function(t,n,r){var o;try{o=a(this.get_input(r).value||"")}catch{o=null}return o}},!0),e}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0);function c(){return u.apply(this,arguments)||this}return f(3)(c,u),s.mixin(c.prototype,{show:function(i,a,e,t){for(var n="<div><select name='"+a.name+"'>",r=[],o=e.options||[],l=0;l<o.length;l++)r.push("<option value='"+e.options[l].key+"'>"+o[l].label+"</option>");n+=r.join("")+"</select></div>",t.innerHTML=n},get_input:function(i){return i.querySelector("select")}},!0),c}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0);function c(){return u.apply(this,arguments)||this}return f(3)(c,u),s.mixin(c.prototype,{show:function(i,a,e,t){t.innerHTML="<div><input type='number' min='"+(e.min||0)+"' max='"+(e.max||100)+"' name='"+a.name+"'></div>"},get_value:function(i,a,e){return this.get_input(e).value||""},is_valid:function(i,a,e,t){return!isNaN(parseInt(i,10))}},!0),c}},function(C,$,f){C.exports=function(_){var u=f(11)(_),s=f(0);function c(){return u.apply(this,arguments)||this}return f(3)(c,u),s.mixin(c.prototype,{show:function(i,a,e,t){t.innerHTML="<div><input type='text' name='"+a.name+"'></div>"}},!0),c}},function(C,$){C.exports={init:function(f,_){var u=f,s=_.$gantt,c=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(a){var e=f.locateCell(a);if(clearTimeout(c),e){var t=e.columnName,n=e.id,r=u.getState();if(u.isVisible()&&r.id==n&&r.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(a){var e=f.locateCell(a),t=f.getState();return clearTimeout(c),!e||e.id==t.id&&e.columnName==t.columnName||u.isVisible()&&u.save(),!0}),f.attachEvent("onHide",function(){clearTimeout(c)}),i.attachEvent("onBlur",function(){return c=setTimeout(function(){u.save()}),!0}),s.attachEvent("onTaskDblClick",function(a,e){var t=f.getState(),n=f.locateCell(e.target);return!n||!f.isVisible()||n.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(a,e){if(s._is_icon_open_click(e))return!0;var t=f.getState(),n=f.locateCell(e.target);return!n||!f.getEditorConfig(n.columnName)||(f.isVisible()&&t.id==n.id&&t.columnName==n.columnName||f.startEdit(n.id,n.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return u.save(),!0}),i.attachEvent("onKeyDown",function(a,e){var t=f.locateCell(e.target),n=!!t&&f.getEditorConfig(t.columnName),r=f.getState(),o=s.constants.KEY_CODES,l=e.keyCode,d=!1;switch(l){case o.ENTER:f.isVisible()?(f.save(),e.preventDefault(),d=!0):n&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case o.ESC:f.isVisible()&&(f.hide(),e.preventDefault(),d=!0);break;case o.UP:case o.DOWN:break;case o.LEFT:case o.RIGHT:(n&&f.isVisible()||"date"===r.editorType)&&(d=!0);break;case o.SPACE:f.isVisible()&&(d=!0),n&&!f.isVisible()&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case o.DELETE:n&&!f.isVisible()?(u.startEdit(t.id,t.columnName),d=!0):n&&f.isVisible()&&(d=!0);break;case o.TAB:if(f.isVisible()){e.shiftKey?f.editPrevCell(!0):f.editNextCell(!0);var h=f.getState();h.id&&i.focus({type:"taskCell",id:h.id,column:h.columnName}),e.preventDefault(),d=!0}break;default:if(f.isVisible())d=!0;else if(l>=48&&l<=57||l>95&&l<112||l>=64&&l<=91||l>185&&l<193||l>218&&l<223){var g=a.modifiers;g.alt||(g.alt||g.ctrl||g.meta||g.shift)&&i.getCommandHandler(a,"taskCell")||n&&!f.isVisible()&&(u.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(f,_,u){},onHide:function(f,_,u){u.$gantt.focus()},destroy:function(){}}},function(C,$){C.exports={init:function(f,_){var u=_.$gantt;u.attachEvent("onTaskClick",function(s,c){if(u._is_icon_open_click(c))return!0;var i=f.getState(),a=f.locateCell(c.target);return!a||!f.getEditorConfig(a.columnName)||(f.isVisible()&&i.id==a.id&&i.columnName==a.columnName||f.startEdit(a.id,a.columnName),!1)}),u.attachEvent("onEmptyClick",function(){return f.isVisible()&&f.isChanged()?f.save():f.hide(),!0}),u.attachEvent("onTaskDblClick",function(s,c){var i=f.getState(),a=f.locateCell(c.target);return!a||!f.isVisible()||a.columnName!=i.columnName})},onShow:function(f,_,u){var s=u.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(c,i){var e=!1;return i.keyCode===s.constants.KEY_CODES.SPACE&&f.isVisible()&&(e=!0),!e}),_.onkeydown=function(c){c=c||window.event;var i=s.constants.KEY_CODES;if(!(c.defaultPrevented||c.shiftKey&&c.keyCode!=i.TAB)){var a=!0;switch(c.keyCode){case s.keys.edit_save:f.save();break;case s.keys.edit_cancel:f.hide();break;case i.UP:case i.DOWN:f.isVisible()&&(f.hide(),a=!1);break;case i.TAB:c.shiftKey?f.editPrevCell(!0):f.editNextCell(!0);break;default:a=!1}a&&c.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(C,$,f){var _=f(137),u=f(136);C.exports=function(s){var c=null;return{setMapping:function(i){c=i},getMapping:function(){return c||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?u:_)}}}},function(C,$,f){var _=f(138),u=f(135),s=f(134),c=f(133),i=f(132),a=f(131),e=f(130),t=f(0),n=f(1),r=f(5),o=f(129);function l(d){d.config.editor_types={text:new(u(d)),number:new(s(d)),select:new(c(d)),date:new(i(d)),predecessor:new(a(d)),duration:new(e(d))}}C.exports=function(d){var h=_(d),g={};r(g);var p={init:l,createEditors:function(y){var m=o(d),k=[],b=[],S=null,x={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(w){if(!n.isChildOf(w,y.$grid))return null;var T=n.locateAttribute(w,y.$config.item_attribute),E=n.locateAttribute(w,"data-column-name");if(T&&E){var I=E.getAttribute("data-column-name");return{id:T.getAttribute(y.$config.item_attribute),columnName:I}}return null},getEditorConfig:function(w){return y.getColumn(w).editor},init:function(){var w=h.getMapping();w.init&&w.init(this,y),S=y.$gantt.getDatastore(y.$config.bind);var T=this;k.push(S.attachEvent("onIdChange",function(E,I){T._itemId==E&&(T._itemId=I)})),k.push(S.attachEvent("onStoreUpdated",function(){y.$gantt.getState("batchUpdate").batch_update||T.isVisible()&&!S.isVisible(T._itemId)&&T.hide()})),b.push(d.attachEvent("onDataRender",function(){T._editor&&T._placeholder&&!n.isChildOf(T._placeholder,d.$root)&&y.$grid_data.appendChild(T._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(w,T){if(this.isVisible()&&this.save(),S.exists(w)){var E={id:w,columnName:T};d.isReadonly(S.getItem(w))?this.callEvent("onEditPrevent",[E]):!1!==this.callEvent("onBeforeEditStart",[E])?(this.show(E.id,E.columnName),this.setValue(),this.callEvent("onEditStart",[E])):this.callEvent("onEditPrevent",[E])}},isVisible:function(){return!(!this._editor||!n.isChildOf(this._placeholder,d.$root))},show:function(w,T){this.isVisible()&&this.save();var E={id:w,columnName:T},I=y.getColumn(E.columnName),P=this.getEditorConfig(I.name);if(P){var L=y.$getConfig().editor_types[P.type],H=function v(w,T){var E=y.$getConfig(),I=function(H,F){for(var z=y.$getConfig(),W=y.getItemTop(H),N=y.getItemHeight(H),O=y.getGridColumns(),q=0,G=0,V=0,Y=0;Y<O.length;Y++){if(O[Y].name==F){V=O[Y].width;break}z.rtl?G+=O[Y].width:q+=O[Y].width}return z.rtl?{top:W,right:G,height:N,width:V}:{top:W,left:q,height:N,width:V}}(w,T),P=document.createElement("div");P.className="gantt_grid_editor_placeholder",P.setAttribute(y.$config.item_attribute,w),P.setAttribute(y.$config.bind+"_id",w),P.setAttribute("data-column-name",T);var L=function(H,F){for(var z=H.getGridColumns(),W=0;W<z.length;W++)if(z[W].name==F)return W;return 0}(y,T);return P.setAttribute("data-column-index",L),P.style.cssText=E.rtl?["top:"+I.top+"px","right:"+I.right+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"):["top:"+I.top+"px","left:"+I.left+"px","width:"+I.width+"px","height:"+I.height+"px"].join(";"),P}(E.id,E.columnName);y.$grid_data.appendChild(H),L.show(E.id,I,P,H),this._editor=L,this._placeholder=H,this._itemId=E.id,this._columnName=E.columnName,this._editorType=P.type;var F=h.getMapping();F.onShow&&F.onShow(this,H,y)}},setValue:function(){var w=this.getState(),T=w.id,E=w.columnName,I=y.getColumn(E),P=S.getItem(T),L=this.getEditorConfig(E);if(L){var H=P[L.map_to];"auto"==L.map_to&&(H=S.getItem(T)),this._editor.set_value(H,T,I,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var w=y.getColumn(this._columnName);return this._editor.get_value(this._itemId,w,this._placeholder)},_getItemValue:function(){var w=this.getEditorConfig(this._columnName);if(w){var T=d.getTask(this._itemId)[w.map_to];return"auto"==w.map_to&&(T=S.getItem(this._itemId)),T}},isChanged:function(){var w=y.getColumn(this._columnName),T=this._getItemValue();return this._editor.is_changed(T,this._itemId,w,this._placeholder)},hide:function(){if(this._itemId){var w=this._itemId,T=this._columnName,E=h.getMapping();E.onHide&&E.onHide(this,this._placeholder,y),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:w,columnName:T}]))}},save:function(){if(this.isVisible()&&S.exists(this._itemId)&&this.isChanged()){var w=this._itemId,T=this._columnName;if(S.exists(w)){var E=S.getItem(w),I=this.getEditorConfig(T),P={id:w,columnName:T,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[P])&&(!this._editor.is_valid||this._editor.is_valid(P.newValue,P.id,y.getColumn(T),this._placeholder))){var L=I.map_to;"auto"!=L?(E[L]=P.newValue,m(E,L,d.config.inline_editors_date_processing),S.updateItem(w)):this._editor.save(w,y.getColumn(T),this._placeholder),this.callEvent("onSave",[P])}this.hide()}}else this.hide()},_findEditableCell:function(w,T){var E=w,I=y.getGridColumns()[E],P=I?I.name:null;if(P){for(;P&&!this.getEditorConfig(P);)P=this._findEditableCell(w+T,T);return P}return null},getNextCell:function(w){return this._findEditableCell(y.getColumnIndex(this._columnName,!0)+w,w)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(y.getGridColumns().length-1,-1)},editNextCell:function(w){var T=this.getNextCell(1);if(T){var E=this.getNextCell(1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(w&&this.moveRow(1)){var I=this.moveRow(1);(T=this.getFirstCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},editPrevCell:function(w){var T=this.getNextCell(-1);if(T){var E=this.getNextCell(-1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if(w&&this.moveRow(-1)){var I=this.moveRow(-1);(T=this.getLastCell())&&this.getEditorConfig(T)&&this.startEdit(I,T)}},moveRow:function(w){for(var T=w>0?d.getNext:d.getPrev,E=(T=d.bind(T,d))(this._itemId);d.isTaskExists(E)&&d.isReadonly(d.getTask(E));)E=T(E);return E},editNextRow:function(w){var E,T=this.getState().id;d.isTaskExists(T)&&(E=w?this.moveRow(1):d.getNext(T),d.isTaskExists(E)&&this.startEdit(E,this._columnName))},editPrevRow:function(w){var E,T=this.getState().id;d.isTaskExists(T)&&(E=w?this.moveRow(-1):d.getPrev(T),d.isTaskExists(E)&&this.startEdit(E,this._columnName))},destructor:function(){k.forEach(function(w){S.detachEvent(w)}),b.forEach(function(w){d.detachEvent(w)}),k=[],b=[],S=null,this.hide(),this.detachAllEvents()}};return t.mixin(x,h),t.mixin(x,g),x}};return t.mixin(p,h),t.mixin(p,g),p}},function(C,$,f){var _=f(0),u=f(40),s=f(31),c=f(3),i=function(a){function e(t,n,r,o){var l=a.apply(this,arguments)||this;return l.$config.bindLinks=null,l}return c(e,a),_.mixin(e.prototype,{_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceHistogram(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(a),!0),e}(u);C.exports=i},function(C,$,f){var _=f(1),u=f(0),s=f(31),c=f(34),i=f(3),a=function(e){function t(n,r,o,l){return e.apply(this,arguments)||this}return i(t,e),u.mixin(t.prototype,{init:function(){void 0===this.$config.bind&&(this.$config.bind=this.$getConfig().resource_store),e.prototype.init.apply(this,arguments)},_initEvents:function(){var n=this.$gantt;e.prototype._initEvents.apply(this,arguments),this._mouseDelegates.delegate("click","gantt_row",n.bind(function(r,o,l){var d=this.$config.rowStore;if(!d)return!0;var h=_.locateAttribute(r,this.$config.item_attribute);return h&&d.select(h.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)}},!0),u.mixin(t.prototype,s(t),!0),t}(c);C.exports=a},function(C,$,f){var _=f(0),u=f(8);C.exports={create:function(){return function(c,i){var a={},e="gantt-static-bg-styles-"+c.uid();function t(g){var p=/^rgba?\(([\d]{1,3}), *([\d]{1,3}), *([\d]{1,3}) *(,( *[\d.]+ *))?\)$/i.exec(g);return p?{r:1*p[1],g:1*p[2],b:1*p[3],a:255*p[5]||255}:null}function n(g){return a[g]||null}function r(g,p,y){return(g+""+p+y.bottomBorderColor+y.rightBorderColor).replace(/[^\w\d]/g,"")}function o(g,p){a[g]=p}function l(g,p,y){var v=Math.floor(500/g)||1,m=Math.floor(500/p)||1,k=document.createElement("canvas");k.height=p*m,k.width=g*v;var b=k.getContext("2d");return function(x,w,T,E,I,P){var L=I.createImageData(w*E,x*T);L.imageSmoothingEnabled=!1;for(var H=1*P.rightBorderWidth,F=t(P.rightBorderColor),z=0,W=0,N=0,O=1;O<=E;O++)for(z=O*w-1,N=0;N<H;N++)for(W=0;W<x*T;W++)S(z-N,W,F,L);var q=1*P.bottomBorderWidth,G=t(P.bottomBorderColor);W=0;for(var V=1;V<=T;V++)for(W=V*x-1,N=0;N<q;N++)for(z=0;z<w*E;z++)S(z,W-N,G,L);I.putImageData(L,0,0)}(p,g,m,v,b,y),k.toDataURL();function S(x,w,T,E){var I=4*(w*(g*v)+x);E.data[I]=T.r,E.data[I+1]=T.g,E.data[I+2]=T.b,E.data[I+3]=T.a}}function d(g){return"gantt-static-bg-"+g}function h(){var g=document.createElement("div");g.className="gantt_task_cell";var p=document.createElement("div");return p.className="gantt_task_row",p.appendChild(g),p}return{render:function(g,p,y,v,m){if((p.static_background||p.timeline_placeholder)&&document.createElement("canvas").getContext){g.innerHTML="";var k=function(S,x,w,T){var E,I,P=[],L=0,H=w.width.filter(function(tt){return!!tt}),F=0,z=1e5;if(i.isIE){var W=navigator.appVersion||"";-1==W.indexOf("Windows NT 6.2")&&-1==W.indexOf("Windows NT 6.1")&&-1==W.indexOf("Windows NT 6.0")||(z=2e4)}for(var N=0;N<H.length;N++){var O=H[N];if(O!=I&&void 0!==I||N==H.length-1||L>z){for(var q=T,G=0,V=Math.floor(z/x.row_height)*x.row_height,Y=L;q>0;){var B=Math.min(q,V);q-=V,(E=document.createElement("div")).style.height=B+"px",E.style.position="absolute",E.style.top=G+"px",E.style.left=F+"px",E.style.pointerEvents="none",E.style.whiteSpace="no-wrap",E.className=S[I||O],N==H.length-1&&(Y=O+Y-1),E.style.width=Y+"px",P.push(E),G+=B}L=0,F+=Y}O&&(L+=O,I=O)}return P}(function(S,x,w,T){var q,E={},I=function(q){for(var G=q.width,V={},Y=0;Y<G.length;Y++)1*G[Y]&&(V[G[Y]]=!0);return V}(w),P=T,L="";for(var H in I){var F=1*H,z=r(F,P,S);if(!n(z)){var N=l(F,P,S);o(z,N),L+="."+d(z)+"{ background-image: url('"+N+"');}"}E[H]=d(z)}return L&&(((q=document.getElementById(e))||((q=document.createElement("style")).id=e,document.body.appendChild(q)),q).innerHTML+=L),E}(function(S){var x=h(),w=h();S.appendChild(x),S.appendChild(w);var T=x.firstChild,E=getComputedStyle(x),I=getComputedStyle(T),P={bottomBorderWidth:E.getPropertyValue("border-bottom-width").replace("px",""),rightBorderWidth:I.getPropertyValue("border-right-width").replace("px",""),bottomBorderColor:E.getPropertyValue("border-bottom-color"),rightBorderColor:I.getPropertyValue("border-right-color")};return S.removeChild(x),S.removeChild(w),P}(g),0,y,m),p,y,v),b=document.createDocumentFragment();k.forEach(function(S){b.appendChild(S)}),g.appendChild(b)}},destroy:function(){var g=document.getElementById(e);g&&g.parentNode&&g.parentNode.removeChild(g)}}}(_,u)}}},function(C,$,f){var _=f(3),u=f(1),s=f(0),c=f(8),i=function(a){"use strict";var e=["altKey","shiftKey","metaKey"];function t(n,r,o,l){var d=a.apply(this,arguments)||this;this.$config=s.mixin(r,{scroll:"x"}),d._scrollHorizontalHandler=s.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=s.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=s.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=s.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=s.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var h=l.config.scroll_size;return l.env.isIE&&(h+=1),this._isHorizontal()?(d.$config.height=h,d.$parent.$config.height=h):(d.$config.width=h,d.$parent.$config.width=h),this.$config.scrollPosition=0,d.$name="scroller",d}return _(t,a),t.prototype.init=function(n){n.innerHTML=this.$toHTML(),this.$view=n.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var n=this.$parent;n&&n.$parent;)n=n.$parent;if(n)return n},t.prototype._eachView=function(){var n=[];return function r(o,l){if(l.push(o),o.$cells)for(var d=0;d<o.$cells.length;d++)r(o.$cells[d],l)}(this._getRootParent(),n),n},t.prototype._getLinkedViews=function(){for(var n=this._eachView(),r=[],o=0;o<n.length;o++)n[o].$config&&(this._isVertical()&&n[o].$config.scrollY==this.$id||this._isHorizontal()&&n[o].$config.scrollX==this.$id)&&r.push(n[o]);return r},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var n=this._getLinkedViews(),r=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",o=0;o<n.length;o++)u.addClassName(n[o].$view||n[o].getNode(),r)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){this.$domEvents.attach(this._getRootParent().$view,c.isFF?"wheel":"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=n,this.$config.codeScrollLeft=n,n=this.$scroll_hor.scrollLeft;for(var r=this._getLinkedViews(),o=0;o<r.length;o++)r[o].scrollTo&&r[o].scrollTo(n,void 0);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=n,n=this.$scroll_ver.scrollTop;for(var r=this._getLinkedViews(),o=0;o<r.length;o++)r[o].scrollTo&&r[o].scrollTo(void 0,n);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return"y"==this.$config.scroll},t.prototype._isHorizontal=function(){return"x"==this.$config.scroll},t.prototype._scrollHorizontalHandler=function(n){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;this.scrollHorizontally(this.$scroll_hor.scrollLeft),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(n){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var n,r=0,o=0,l=this._isHorizontal(),d=this._getLinkedViews(),h=l?"scrollWidth":"scrollHeight",g=l?"contentX":"contentY",p=l?"x":"y",y=this._getScrollOffset(),v=0;v<d.length;v++)if((n=d[v])&&n.$content&&n.$content.getSize&&!n.$config.hidden){var m,k=n.$content.getSize();if(m=k.hasOwnProperty(h)?k[h]:k[g],y)k[g]>k[p]&&k[g]>r&&m>k[p]-y+2&&(r=m+(l?0:2),o=k[p]);else{var b=Math.max(k[g]-m,0);(m+=b)>Math.max(k[p]-b,0)&&m>r&&(r=m,o=k[p])}}return{outerScroll:o,innerScroll:r}},t.prototype.scroll=function(n){this._isHorizontal()?this.scrollHorizontally(n):this.scrollVertically(n)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(n,r){a.prototype.setSize.apply(this,arguments);var o=this._getScrollSize(),l=(this._isVertical()?r:n)-this._getScrollOffset()+(this._isHorizontal()?1:0);o.innerScroll&&l>o.outerScroll&&(o.innerScroll+=l-o.outerScroll),this.$config.scrollSize=o.innerScroll,this.$config.width=n,this.$config.height=r,this._setScrollSize(o.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var n=this._getScrollSize();return!(!n.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!n.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(n){var r=0;return!n||"timeline"!=n.$config.view&&"grid"!=n.$config.view||(r=n.$content.$getConfig().scale_height),r},t.prototype._getScrollOffset=function(){var n=0;if(this._isVertical()){var r=this.$parent.$parent;n=Math.max(this._getScaleOffset(r.getPrevSibling(this.$parent.$id)),this._getScaleOffset(r.getNextSibling(this.$parent.$id)))}else for(var o=this._getLinkedViews(),l=0;l<o.length;l++){var d=o[l].$parent.$cells,h=d[d.length-1];if(h&&"scrollbar"==h.$config.view&&!1===h.$config.hidden){n=h.$config.width;break}}return n||0},t.prototype._setScrollSize=function(n){var r=this._isHorizontal()?"width":"height",o=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,l=this._getScrollOffset(),d=o.firstChild;l?this._isVertical()?(this.$config.outerSize=this.$config.height-l+3,o.style.height=this.$config.outerSize+"px",o.style.top=l-1+"px",u.addClassName(o,this.$parent._borders.top),u.addClassName(o.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-l+1,o.style.width=this.$config.outerSize+"px"):(o.style.top="auto",u.removeClassName(o,this.$parent._borders.top),u.removeClassName(o.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[r]=n+"px"},t.prototype._scrollVerticalHandler=function(n){if(!this._scrollHorizontalHandler()&&!this._scrolling){var r=this.$scroll_ver.scrollTop;r!=this._oldTop&&(this.scrollVertically(r),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(n){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(n){for(var r=this._getLinkedViews().concat(this),o=0;o<r.length;o++)if(u.isChildOf(n,r[o].$view))return!0;return!1},t.prototype._mouseWheelHandler=function(n){if(this._checkWheelTarget(n.target||n.srcElement)){this._wheel_time=new Date;var o={},l={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof d&&d?l={x:d,y:d}:"[object Object]"=={}.toString.apply(d)&&(l={x:d.x,y:d.y});var h=c.isFF,g=h?n.deltaX:n.wheelDeltaX,p=h?n.deltaY:n.wheelDelta,y=-20;h&&(y=0!==n.deltaMode?-40:-10);var v=h?g*y*l.x:2*g*l.x,m=h?p*y*l.y:p*l.y,k=this.$gantt.config.horizontal_scroll_key;if(!1!==k&&e.indexOf(k)>=0&&(!n[k]||n.deltaX||n.wheelDeltaX||(v=2*m,m=0)),v&&Math.abs(v)>Math.abs(m)){if(this._isVertical())return;if(o.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var b=v/-40,S=this._oldLeft,x=S+30*b;if(this.scrollHorizontally(x),this.$scroll_hor.scrollLeft=x,S==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(o.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;b=m/-40,void 0===m&&(b=n.detail);var w=this._oldTop,T=this.$scroll_ver.scrollTop+30*b;if(this.scrollVertically(T),this.$scroll_ver.scrollTop=T,w==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,!1}},t}(f(12));C.exports=i},function(C,$,f){var _=f(3),u=f(1),s=f(0),c=f(12),i=function(a){"use strict";function e(t,n,r){var o,l,d=a.apply(this,arguments)||this;function h(g){var p=g.pageX,y=g.pageY;return g.touches&&(p=g.touches[0].pageX,y=g.touches[0].pageY),{x:p,y}}return d._moveHandler=function(g){d._moveResizer(d._resizer,h(g).x,h(g).y)},d._upHandler=function(g){var p=d._getNewSizes();!1!==d.callEvent("onResizeEnd",[o,l,p?p.back:0,p?p.front:0])&&d._setSizes(),d._setBackground(!1),d._clearResizer(),d._clearListeneres(),g.touches&&(d.$gantt._prevent_touch_scroll=!1)},d._clearListeneres=function(){this.$domEvents.detach(document,"mouseup",d._upHandler),this.$domEvents.detach(document,"mousemove",d._moveHandler),this.$domEvents.detach(document,"mousemove",d._startOnMove),this.$domEvents.detach(document,"mouseup",d._cancelDND),this.$domEvents.detach(document,"touchend",d._upHandler),this.$domEvents.detach(document,"touchmove",d._startOnMove),this.$domEvents.detach(document,"touchstart",d._downHandler)},d._callStartDNDEvent=function(){if(this._xMode?(o=this._behind.$config.width||this._behind.$view.offsetWidth,l=this._front.$config.width||this._front.$view.offsetWidth):(o=this._behind.$config.height||this._behind.$view.offsetHeight,l=this._front.$config.height||this._front.$view.offsetHeight),!1===d.callEvent("onResizeStart",[o,l]))return!1},d._startDND=function(g){if(!1!==this._callStartDNDEvent()){var p=!1;this._eachGroupItem(function(y){y._getSiblings(),!1===y._callStartDNDEvent()&&(p=!0)}),p||(d._moveHandler(g),d.$domEvents.attach(document,"mousemove",d._moveHandler),d.$domEvents.attach(document,"mouseup",d._upHandler))}},d._cancelDND=function(){d._setBackground(!1),d._clearResizer(),d._clearListeneres()},d._startOnMove=function(g){g.touches&&(d.$gantt._prevent_touch_scroll=!0),d._isPosChanged(g)&&(d._clearListeneres(),d._startDND(g))},d._downHandler=function(g){d._getSiblings(),d._behind.$config.collapsed||d._front.$config.collapsed||(d._setBackground(!0),d._resizer=d._setResizer(),d._positions={x:h(g).x,y:h(g).y,timestamp:Date.now()},d.$domEvents.attach(document,"mousemove",d._startOnMove),d.$domEvents.attach(document,"mouseup",d._cancelDND))},d.$name="resizer",d}return _(e,a),e.prototype.init=function(){a.prototype.init.call(this),this._xMode="x"===this.$config.mode,this._xMode&&!this.$config.width?this.$config.width=this.$config.minWidth=1:this._xMode||this.$config.height||(this.$config.height=this.$config.minHeight=1),this.$config.margin=-1,this.$domEvents.attach(this.$view,"mousedown",this._downHandler),this.$domEvents.attach(this.$view,"touchstart",this._downHandler),this.$domEvents.attach(this.$view,"touchmove",this._startOnMove),this.$domEvents.attach(this.$view,"touchend",this._upHandler)},e.prototype.$toHTML=function(){var t=this.$config.mode,n=this.$config.css||"";return"<div class='gantt_layout_cell gantt_resizer gantt_resizer_"+t+"'><div class='gantt_layout_content gantt_resizer_"+t+(n?" "+n:"")+"'></div></div>"},e.prototype._clearResizer=function(){this._resizer&&(this._resizer.parentNode&&this._resizer.parentNode.removeChild(this._resizer),this._resizer=null)},e.prototype._isPosChanged=function(t){return!!this._positions&&(Math.abs(this._positions.x-t.pageX)>3||Math.abs(this._positions.y-t.pageY)>3||Date.now()-this._positions.timestamp>300)},e.prototype._getSiblings=function(){var t=this.$parent.getCells();this.$config.prev&&(this._behind=this.$factory.getView(this.$config.prev),this._behind instanceof c||(this._behind=this._behind.$parent)),this.$config.next&&(this._front=this.$factory.getView(this.$config.next),this._front instanceof c||(this._front=this._behind.$parent));for(var n=0;n<t.length;n++)this===t[n]&&(this._behind||(this._behind=t[n-1]),this._front||(this._front=t[n+1]))},e.prototype._setBackground=function(t){var n="gantt_resizing";if(!t)return u.removeClassName(this._behind.$view,n),u.removeClassName(this._front.$view,n),void u.removeClassName(document.body,"gantt_noselect");u.addClassName(this._behind.$view,n,!0),u.addClassName(this._front.$view,n,!0),u.addClassName(document.body,"gantt_noselect",!0)},e.prototype._setResizer=function(){var t=document.createElement("div");return t.className="gantt_resizer_stick",this.$view.appendChild(t),this.$view.style.overflow="visible",t.style.height=this.$view.style.height,t},e.prototype._getDirection=function(t,n){var r;return(r=this._xMode?t-this._positions.x:n-this._positions.y)?r<0?-1:1:0},e.prototype._getResizePosition=function(t,n){var r,o,l,d,h;this._xMode?(r=t-this._positions.x,o=this._behind.$config.width||this._behind.$view.offsetWidth,d=this._front.$config.width||this._front.$view.offsetWidth,l=this._behind.$config.minWidth,h=this._front.$config.minWidth):(r=n-this._positions.y,o=this._behind.$config.height||this._behind.$view.offsetHeight,d=this._front.$config.height||this._front.$view.offsetHeight,l=this._front.$config.minHeight,h=this._front.$config.minHeight);var g,p,y=this._getDirection(t,n);if(-1===y){if(p=d-r,g=o-Math.abs(r),d-r>this._front.$config.maxWidth)return;Math.abs(r)>=o&&(r=-Math.abs(o-2)),o-Math.abs(r)<=l&&(r=-Math.abs(o-l))}else p=d-Math.abs(r),g=o+r,o+r>this._behind.$config.maxWidth&&(r=this._behind.$config.maxWidth-o),Math.abs(r)>=d&&(r=d-2),d-Math.abs(r)<=h&&(r=Math.abs(d-h));return-1===y?(p=d-r,g=o-Math.abs(r)):(p=d-Math.abs(r),g=o+r),{size:r,newFrontSide:p,newBehindSide:g}},e.prototype._getGroupName=function(){return this._getSiblings(),this._front.$config.group||this._behind.$config.group},e.prototype._eachGroupItem=function(t,n){for(var r=this.$factory.getView("main"),o=this._getGroupName(),l=r.getCellsByType("resizer"),d=0;d<l.length;d++)l[d]._getGroupName()==o&&l[d]!=this&&t.call(n||this,l[d])},e.prototype._getGroupResizePosition=function(t,n){var r=this._getResizePosition(t,n);if(!this._getGroupName())return r;var o,l=[r];this._eachGroupItem(function(h){h._getSiblings();var g=s.copy(this._positions);this._xMode?g.x+=h._behind.$config.width-this._behind.$config.width:g.y+=h._behind.$config.height-this._behind.$config.height,h._positions=g,l.push(h._getResizePosition(t,n))});for(var d=0;d<l.length;d++){if(!l[d])return;(void 0===o||l[d].newBehindSide>o.newBehindSide)&&(o=l[d])}return o},e.prototype._moveResizer=function(t,n,r){if(0!==n){var o=this._getGroupResizePosition(n,r);o&&1!==Math.abs(o.size)&&(this._xMode?(t.style.left=o.size+"px",this._positions.nextX=o.size||0):(t.style.top=o.size+"px",this._positions.nextY=o.size||0),this.callEvent("onResize",[o.newBehindSide,o.newFrontSide]))}},e.prototype._setGravity=function(t){var n=this._xMode?"offsetWidth":"offsetHeight",r=this._xMode?this._positions.nextX:this._positions.nextY,o=this._front.$view[n],l=this._behind.$view[n],d=(o-r)/o*this._front.getSize().gravity,h=(l+r)/l*this._behind.getSize().gravity;"front"!==t&&(this._front.$config.gravity=d),"behind"!==t&&(this._behind.$config.gravity=h)},e.prototype._getNewSizes=function(){var t,n,r;return this._xMode?(t=this._behind.$config.width,n=this._front.$config.width,r=this._positions.nextX):(t=this._behind.$config.height,n=this._front.$config.height,r=this._positions.nextY),n||t?{front:n?n-r||1:0,back:t?t+r||1:0}:null},e.prototype._assignNewSizes=function(t){this._getSiblings();var n=this._xMode?"width":"height";t?(t.front?this._front.$config[n]=t.front:this._setGravity("behind"),t.back?this._behind.$config[n]=t.back:this._setGravity("front")):this._setGravity()},e.prototype._setSizes=function(){this._resizer&&this.$view.removeChild(this._resizer);var t=this._getNewSizes();if(this._positions.nextX||this._positions.nextY){this._assignNewSizes(t);var r=this._xMode?"width":"height";t&&t.front||this._front.$config.group&&this.$gantt.$layout._syncCellSizes(this._front.$config.group,{value:this._front.$config.gravity,isGravity:!0}),t&&t.back||this._behind.$config.group&&this.$gantt.$layout._syncCellSizes(this._behind.$config.group,{value:this._behind.$config.gravity,isGravity:!0}),t&&(t.front?this._front.$config.group&&this.$gantt.$layout._syncCellSizes(this._front.$config.group,{value:this._front.$config[r],isGravity:!1}):t.back&&this._behind.$config.group&&this.$gantt.$layout._syncCellSizes(this._behind.$config.group,{value:this._behind.$config[r],isGravity:!1})),this._getGroupName()?this.$factory.getView("main").resize():this.$parent.resize()}},e}(c);C.exports=i},function(C,$,f){var _=f(3),u=f(0),s=function(c){"use strict";function i(a,e,t){var n=c.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=u.uid());var r=u.copy(e);if(delete r.config,delete r.templates,this.$content=this.$factory.createView(e.view,this,r,this),!this.$content)return!1}return n.$name="viewCell",n}return _(i,c),i.prototype.destructor=function(){this.clear(),c.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var a=this.$content.unload||this.$content.destructor;a&&a.call(this.$content)}c.prototype.clear.call(this)},i.prototype.scrollTo=function(a,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(a,e):c.prototype.scrollTo.call(this,a,e)},i.prototype._setContentSize=function(a,e){var t=this._getBorderSizes();"number"==typeof a&&(this.$config.width=a+t.horizontal),"number"==typeof e&&(this.$config.height=e+t.vertical)},i.prototype.setSize=function(a,e){if(c.prototype.setSize.call(this,a,e),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var n=this.$view.childNodes[1];n||(n=this.$view.childNodes[0]),this.$content.init(n)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var a=c.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var e=this.$content.getSize();a.width=void 0===e.contentX?e.width:e.contentX,a.height=void 0===e.contentY?e.height:e.contentY}var t=this._getBorderSizes();return a.width+=t.horizontal,a.height+=t.vertical,a},i}(f(12));C.exports=s},function(C,$,f){var _=f(3),u=f(42),s=f(12),c=function(i){"use strict";function a(e,t,n){for(var r=i.apply(this,arguments)||this,o=0;o<r.$cells.length;o++)r.$cells[o].$config.hidden=0!==o;return r.$cell=r.$cells[0],r.$name="viewLayout",r}return _(a,i),a.prototype.cell=function(e){var t=i.prototype.cell.call(this,e);return t.$view||this.$fill(null,this),t},a.prototype.moveView=function(e){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=e,t.appendChild(e.$view)},a.prototype.setSize=function(e,t){s.prototype.setSize.call(this,e,t)},a.prototype.setContentSize=function(){var e=this.$lastSize;this.$cell.setSize(e.contentX,e.contentY)},a.prototype.getSize=function(){var e=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var r=this.$cells[n].getSize();for(var o in t)t[o]=Math.max(t[o],r[o])}for(var l in e)e[l]=e[l]||t[l];e.gravity=Math.max(e.gravity,t.gravity)}return e},a}(u);C.exports=c},function(C,$){C.exports=function(f,_,u){if(!f.start_date||!f.end_date)return null;var s=_.posFromDate(f.start_date),c=_.posFromDate(f.end_date),i=Math.min(s,c)-200,a=Math.max(s,c)+200;return{top:_.getItemTop(f.id),height:_.getItemHeight(f.id),left:i,width:a-i}}},function(C,$,f){var _=f(147);C.exports=function(u,s,c,i){if(!i.isTaskExists(u.source)||!i.isTaskExists(u.target))return null;var a=_(i.getTask(u.source),s,i),e=_(i.getTask(u.target),s,i);if(!a||!e)return null;var t=Math.min(a.left,e.left)-100,n=Math.max(a.left+a.width,e.left+e.width)+100,r=Math.min(a.top,e.top)-100,o=Math.max(a.top+a.height,e.top+e.height)+100;return{top:r,height:o-r,bottom:o,left:t,width:n-t,right:n}}},function(C,$){C.exports=function(f,_){return!!_&&!(_.left>f.x_end||_.left+_.width<f.x)&&!(_.top>f.y_end||_.top+_.height<f.y)}},function(C,$,f){var _=f(149),u=f(20),s=f(32),c=f(6);C.exports=function(i){var a={},e={};function t(r){var o=null;return"string"==typeof r.view?o=i.$ui.getView(r.view):r.view&&(o=r.view),o}function n(r,o,l){if(e[r])return e[r];o.renderer||i.assert(!1,"Invalid renderer call");var d=null,h=null,g=null,p=null,y=null;"function"==typeof o.renderer?(d=o.renderer,g=s):(d=o.renderer.render,h=o.renderer.update,p=o.renderer.onrender,o.renderer.isInViewPort?y=o.renderer.isInViewPort:g=o.renderer.getRectangle,g||null===g||(g=s));var v=o.filter;return l&&l.setAttribute(i.config.layer_attribute,!0),e[r]={render_item:function(m,k,b,S,x){if(k=k||l,!v||v(m)){var w=S||t(o),T=x||(w?w.$getConfig():null),E=b;!E&&T&&T.smart_rendering&&(E=w.getViewPort());var I=null;!u(i)&&(g||y)&&E?(y?y(m,E,w,T,i):_(E,g(m,w,T,i)))&&(I=d.call(i,m,w,T,E)):I=d.call(i,m,w,T,E),this.append(m,I,k),p&&11!=k.nodeType&&I&&p.call(i,m,I,w)}else this.remove_item(m.id)},clear:function(m){this.rendered=a[r]={},o.append||this.clear_container(m)},clear_container:function(m){(m=m||l)&&(m.innerHTML="")},get_visible_range:function(m){var k,b,S=t(o),x=S?S.$getConfig():null;return x&&x.smart_rendering&&(k=S.getViewPort()),S&&k&&("function"==typeof o.renderer?b=c(i,S,x,m,k):o.renderer&&o.renderer.getVisibleRange&&(b=o.renderer.getVisibleRange(i,S,x,m,k))),b||(b={start:0,end:m.count()}),b},prepare_data:function(m){if(o.renderer&&o.renderer.prepareData)return o.renderer.prepareData(m,i,o)},render_items:function(m,k){k=k||l;var b=document.createDocumentFragment();this.clear(k);var S=null,x=t(o),w=x?x.$getConfig():null;w&&w.smart_rendering&&(S=x.getViewPort());for(var T=0,E=m.length;T<E;T++)this.render_item(m[T],b,S,x,w);k.appendChild(b,k);var I={};m.forEach(function(H){I[H.id]=H});var P={};if(p){var L={};for(var T in this.rendered)P[T]||(L[T]=this.rendered[T],p.call(i,I[T],this.rendered[T],x))}},update_items:function(m,k){var b=t(o),S=b?b.$getConfig():null;if(b&&b.$getConfig().smart_rendering&&!u(i)&&this.rendered&&(g||y)){k=k||l;var x=document.createDocumentFragment(),w=null;b&&(w=b.getViewPort());var T={};m.forEach(function(N){T[N.id]=N});var E={},I={};for(var P in this.rendered)I[P]=!0,E[P]=!0;for(var L={},H=(P=0,m.length);P<H;P++){var F=m[P],z=this.rendered[F.id];I[F.id]=!1,z&&z.parentNode?(y?y(F,w,b,S,i):_(w,g(F,b,S,i)))?(h&&h.call(i,F,z,b,S,w),this.restore(F,x)):I[F.id]=!0:(L[m[P].id]=!0,this.render_item(m[P],x,w,b,S))}for(var P in I)I[P]&&this.hide(P);if(x.childNodes.length&&k.appendChild(x,k),p){var W={};for(var P in this.rendered)E[P]&&!L[P]||(W[P]=this.rendered[P],p.call(i,T[P],this.rendered[P],b))}}},append:function(m,k,b){this.rendered&&(k?(this.rendered[m.id]&&this.rendered[m.id].parentNode?this.replace_item(m.id,k):b.appendChild(k),this.rendered[m.id]=k):this.rendered[m.id]&&this.remove_item(m.id))},replace_item:function(m,k){var b=this.rendered[m];b&&b.parentNode&&b.parentNode.replaceChild(k,b),this.rendered[m]=k},remove_item:function(m){this.hide(m),delete this.rendered[m]},hide:function(m){var k=this.rendered[m];k&&k.parentNode&&k.parentNode.removeChild(k)},restore:function(m,k){var b=this.rendered[m.id];b?b.parentNode||this.append(m,b,k||l):this.render_item(m,k||l)},change_id:function(m,k){this.rendered[k]=this.rendered[m],delete this.rendered[m]},rendered:a[r],node:l,destructor:function(){this.clear(),delete e[r],delete a[r]}},e[r]}return{getRenderer:n,clearRenderers:function(){for(var r in e)n(r).destructor()}}}},function(C,$,f){var _=f(150),u=f(0),s=f(1),c=f(20);function i(a){return a instanceof Array||(a=Array.prototype.slice.call(arguments,0)),function(e){for(var t=!0,n=0,r=a.length;n<r;n++){var o=a[n];o&&(t=t&&!1!==o(e.id,e))}return t}}C.exports=function(a){var e=_(a);return{createGroup:function(t,n,r,o){var l={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var h in this.renderers)d.push(this.renderers[h]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||u.uid(),this.tempCollection.push(d));for(var h=this.container(),g=this.tempCollection,p=0;p<g.length;p++)if(d=g[p],this.container()||d&&d.container&&s.isChildOf(d.container,document.body)){var y=d.container,v=d.id;if(!y.parentNode)if(d.topmost)h.appendChild(y);else{var k=n?n():h.firstChild;k&&k.parentNode==h?h.insertBefore(y,k):h.appendChild(y)}this.renderers[v]=e.getRenderer(v,d,y),o&&o(d,a),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){"function"==typeof d&&(d={renderer:d}),void 0===d.filter?d.filter=i(r||[]):d.filter instanceof Array&&(d.filter.push(r),d.filter=i(d.filter)),d.container||(d.container=document.createElement("div"));var h=this;d.requestUpdate=function(){a.config.smart_rendering&&!c(a)&&h.renderers[d.id]&&h.onUpdateRequest(h.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var h in this.renderers)d(this.renderers[h])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return a.attachEvent("onDestroy",function(){l.clear(),l=null}),l}}}},function(C,$,f){var _=f(151),u=f(6),s=f(44),c=f(43);function i(a,e){if(a.view){var t=a.view;"string"==typeof t&&(t=e.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){e.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||a.requestUpdate&&a.requestUpdate()})}}C.exports=function(a){var e=_(a);return{getDataRender:function(t){return a.$services.getService("layer:"+t)||null},createDataRender:function(t){var n=t.name,l=e.createGroup(t.defaultContainer,t.defaultContainerSibling,function(d,h){if(!l.filters)return!0;for(var g=0;g<l.filters.length;g++)if(!1===l.filters[g](d,h))return!1},i);return a.$services.setService("layer:"+n,function(){return l}),a.attachEvent("onGanttReady",function(){l.addLayer()}),l},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return a.$task_data?a.$task_data:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return a.$task_links?a.$task_links:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_links:void 0},filter:function(r){}},a),n=this.createDataRender({name:"link",defaultContainer:function(){return a.$task_data?a.$task_data:a.$ui.getView("timeline")?a.$ui.getView("timeline").$task_data:void 0}},a);return{addTaskLayer:function(r){return"function"==typeof r?r={renderer:{render:r,getVisibleRange:u}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=u),r.view="timeline",t.addLayer(r)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(r){t.removeLayer(r)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(r){var o=s();return"function"==typeof r?r={renderer:{render:r,getVisibleRange:o}}:r.renderer&&!r.renderer.getVisibleRange&&(r.renderer.getVisibleRange=o),r.view="timeline",r&&r.renderer&&(r.renderer.getRectangle||r.renderer.isInViewPort||(r.renderer.isInViewPort=c)),n.addLayer(r)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(r){n.removeLayer(r)},_clearLinkLayers:function(){n.clear()}}}}}},function(C,$,f){var u,_=(u=f(1),function(s){var c={click:{},doubleclick:{},contextMenu:{}};function i(h,g,p,y){c[h][g]||(c[h][g]=[]),c[h][g].push({handler:p,root:y})}function a(h){h=h||window.event;var g=s.locate(h),p=t(h,c.click),y=!0;if(null!==g?y=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[g,h]):s.callEvent("onEmptyClick",[h]),y){if(!n(p,h,g))return;switch(h.target.nodeName){case"SELECT":case"INPUT":return}g&&s.getTask(g)&&!s._multiselect&&s.config.select_task&&s.selectTask(g)}}function e(h){var g=(h=h||window.event).target||h.srcElement,p=s.locate(g),y=s.locate(g,s.config.link_attribute),v=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,y,h]);return v||(h.preventDefault?h.preventDefault():h.returnValue=!1),v}function t(h,g){for(var p=h.target||h.srcElement,y=[];p;){var v=u.getClassName(p);if(v){v=v.split(" ");for(var m=0;m<v.length;m++)if(v[m]&&g[v[m]])for(var k=g[v[m]],b=0;b<k.length;b++)k[b].root&&!u.isChildOf(p,k[b].root)||y.push(k[b].handler)}p=p.parentNode}return y}function n(h,g,p){for(var y=!0,v=0;v<h.length;v++){var m=h[v].call(s,g,p,g.target||g.srcElement);y=y&&!(void 0!==m&&!0!==m)}return y}function r(h){h=h||window.event;var g=s.locate(h),p=t(h,c.doubleclick),y=!s.checkEvent("onTaskDblClick")||null===g||s.callEvent("onTaskDblClick",[g,h]);if(y){if(!n(p,h,g))return;null!==g&&s.getTask(g)&&y&&s.config.details_on_dblclick&&!s.isReadonly(g)&&s.showLightbox(g)}}function o(h){if(s.checkEvent("onMouseMove")){var g=s.locate(h);s._last_move_event=h,s.callEvent("onMouseMove",[g,h])}}var l=s._createDomEventScope();function d(h){l.detachAll(),h&&(l.attach(h,"click",a),l.attach(h,"dblclick",r),l.attach(h,"mousemove",o),l.attach(h,"contextmenu",e))}return{reset:d,global:function(h,g,p){i(h,g,p,null)},delegate:i,detach:function(h,g,p,y){if(c[h]&&c[h][g]){for(var v=c[h],m=v[g],k=0;k<m.length;k++)m[k].root==y&&(m.splice(k,1),k--);m.length||delete v[g]}},callHandler:function(h,g,p,y){var v=c[h][g];if(v)for(var m=0;m<v.length;m++)(p||v[m].root)&&v[m].root!==p||v[m].handler.apply(this,y)},onDoubleClick:r,onMouseMove:o,onContextMenu:e,onClick:a,destructor:function(){d(),c=null,l=null}}});C.exports={init:_}},function(C,$,f){var _=f(0);function u(s,c){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,c)),i):c}C.exports=function(s,c){var i,a,e;_.mixin(s,(i=c,{$getConfig:function(){return a||(a=i?i.$getConfig():this.$gantt.config),this.$config.config?u.call(this,"config",a):a},$getTemplates:function(){return e||(e=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?u.call(this,"templates",e):e}}))}},function(C,$,f){function _(c){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=f(0),s=f(154);C.exports={createFactory:function(c){var i={},a={};function e(t,n,r,o){var l=i[t];if(!l||!l.create)return!1;"resizer"!=t||r.mode||(r.mode=o.$config.cols?"x":"y"),"viewcell"!=t||"scrollbar"!=r.view||r.scroll||(r.scroll=o.$config.cols?"y":"x"),(r=u.copy(r)).id||a[r.view]||(r.id=r.view),r.id&&!r.css&&(r.css=r.id+"_cell");var d=new l.create(n,r,this,c);return l.configure&&l.configure(d),s(d,o),d.$id||(d.$id=r.id||c.uid()),d.$parent||"object"!=_(n)||(d.$parent=n),d.$config||(d.$config=r),a[d.$id]&&(d.$id=c.uid()),a[d.$id]=d,d}return{initUI:function(t,n){var r="cell";return t.view?r="viewcell":t.resizer?r="resizer":t.rows||t.cols?r="layout":t.views&&(r="multiview"),e.call(this,r,null,t,n)},reset:function(){a={}},registerView:function(t,n,r){i[t]={create:n,configure:r}},createView:e,getView:function(t){return a[t]}}}}},function(C,$,f){var _=f(155),u=f(153),s=f(152),c=f(12),i=f(42),a=f(146),e=f(145),t=f(144),n=f(143),r=f(41),o=f(34),l=f(141),d=f(40),h=f(140),g=f(139),p=f(128),y=f(127),v=f(125),m=f(124),k=f(122),b=f(121),S=f(120),x=f(119),w=f(118),T=f(117),E=f(111),I=f(108);C.exports={init:function(P){function L(W,N){var O=N(P);O.onCreated&&O.onCreated(W),W.attachEvent("onReady",function(){O.onInitialized&&O.onInitialized(W)}),W.attachEvent("onDestroy",function(){O.onDestroyed&&O.onDestroyed(W)})}var H=_.createFactory(P);H.registerView("cell",c),H.registerView("resizer",t),H.registerView("scrollbar",n),H.registerView("layout",i,function(W){"main"===(W.$config?W.$config.id:null)&&L(W,I)}),H.registerView("viewcell",e),H.registerView("multiview",a),H.registerView("timeline",r,function(W){"timeline"!==(W.$config?W.$config.id:null)&&"task"!=W.$config.bind||L(W,E)}),H.registerView("grid",o,function(W){"grid"!==(W.$config?W.$config.id:null)&&"task"!=W.$config.bind||L(W,T)}),H.registerView("resourceGrid",l),H.registerView("resourceTimeline",d),H.registerView("resourceHistogram",h);var F=s(P),z=g(P);return P.ext.inlineEditors=z,P.ext._inlineEditors=z,z.init(P),{factory:H,mouseEvents:u.init(P),layersApi:F.init(),render:{gridLine:function(){return b(P)},taskBg:function(){return m(P)},taskBar:function(){return p(P)},taskRollupBar:function(){return v(P)},taskSplitBar:function(){return y(P)},link:function(){return k(P)},resourceRow:function(){return S(P)},resourceHistogram:function(){return x(P)},gridTaskRowResizer:function(){return w(P)}},layersService:{getDataRender:function(W){return F.getDataRender(W,P)},createDataRender:function(W){return F.createDataRender(W,P)}}}}}},function(C,$,f){function _(c){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=f(0),s=f(1);C.exports=function(c){var i="data-dhxbox",a=null;function e(x,w){var T=x.callback;k.hide(x.box),a=x.box=null,T&&T(w)}function t(x){if(a){var w=x.which||x.keyCode,T=!1;if(b.keyboard){if(13==w||32==w){var E=x.target||x.srcElement;s.getClassName(E).indexOf("gantt_popup_button")>-1&&E.click?E.click():(e(a,!0),T=!0)}27==w&&(e(a,!1),T=!0)}return T?(x.preventDefault&&x.preventDefault(),!(x.cancelBubble=!0)):void 0}}var n=s.getRootNode(c.$root)||document;function r(x){r.cover||((r.cover=document.createElement("div")).onkeydown=t,r.cover.className="dhx_modal_cover",document.body.appendChild(r.cover)),r.cover.style.display=x?"inline-block":"none"}function o(x,w,T){return"<div "+c._waiAria.messageButtonAttrString(x)+" class='gantt_popup_button gantt_"+w.toLowerCase().replace(/ /g,"_")+"_button' data-result='"+T+"' result='"+T+"' ><div>"+x+"</div></div>"}function d(){for(var x=[].slice.apply(arguments,[0]),w=0;w<x.length;w++)if(x[w])return x[w]}function h(x,w,T){var E=x.tagName?x:function(L,H,F){var z=document.createElement("div"),W=u.uid();c._waiAria.messageModalAttr(z,W),z.className=" gantt_modal_box gantt-"+L.type,z.setAttribute(i,1);var N="";if(L.width&&(z.style.width=L.width),L.height&&(z.style.height=L.height),L.title&&(N+='<div class="gantt_popup_title">'+L.title+"</div>"),N+='<div class="gantt_popup_text" id="'+W+'"><span>'+(L.content?"":L.text)+'</span></div><div  class="gantt_popup_controls">',H&&(N+=o(d(L.ok,c.locale.labels.message_ok,"OK"),"ok",!0)),F&&(N+=o(d(L.cancel,c.locale.labels.message_cancel,"Cancel"),"cancel",!1)),L.buttons)for(var O=0;O<L.buttons.length;O++){var q=L.buttons[O];"object"==_(q)?N+=o(q.label,q.css||"gantt_"+q.label.toLowerCase()+"_button",q.value||O):N+=o(q,q,O)}if(z.innerHTML=N+="</div>",L.content){var G=L.content;"string"==typeof G&&(G=document.getElementById(G)),"none"==G.style.display&&(G.style.display=""),z.childNodes[L.title?1:0].appendChild(G)}return z.onclick=function(V){var Y=V.target||V.srcElement;if(Y.className||(Y=Y.parentNode),s.closest(Y,".gantt_popup_button")){var B=Y.getAttribute("data-result");e(L,B="true"==B||"false"!=B&&B)}},L.box=z,(H||F)&&(a=L),z}(x,w,T);x.hidden||r(!0),document.body.appendChild(E);var I=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-E.offsetWidth)/2)),P=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-E.offsetHeight)/2));return E.style.top="top"==x.position?"-3px":P+"px",E.style.left=I+"px",E.onkeydown=t,k.focus(E),x.hidden&&k.hide(E),c.callEvent("onMessagePopup",[E]),E}function g(x){return h(x,!0,!1)}function p(x){return h(x,!0,!0)}function y(x){return h(x)}function v(x,w,T){return"object"!=_(x)&&("function"==typeof w&&(T=w,w=""),x={text:x,type:w,callback:T}),x}function m(x,w,T,E){return"object"!=_(x)&&(x={text:x,type:w,expire:T,id:E}),x.id=x.id||u.uid(),x.expire=x.expire||b.expire,x}c.event(n,"keydown",t,!0);var k=function(){var x=v.apply(this,arguments);return x.type=x.type||"alert",y(x)};k.hide=function(x){for(;x&&x.getAttribute&&!x.getAttribute(i);)x=x.parentNode;x&&(x.parentNode.removeChild(x),r(!1),c.callEvent("onAfterMessagePopup",[x]))},k.focus=function(x){setTimeout(function(){var w=s.getFocusableNodes(x);w.length&&w[0].focus&&w[0].focus()},1)};var b=function(x,w,T,E){switch((x=m.apply(this,arguments)).type=x.type||"info",x.type.split("-")[0]){case"alert":return g(x);case"confirm":return p(x);case"modalbox":return y(x);default:return function l(x){b.area||(b.area=document.createElement("div"),b.area.className="gantt_message_area",b.area.style[b.position]="5px",document.body.appendChild(b.area)),b.hide(x.id);var w=document.createElement("div");return w.innerHTML="<div>"+x.text+"</div>",w.className="gantt-info gantt-"+x.type,w.onclick=function(){b.hide(x.id),x=null},c._waiAria.messageInfoAttr(w),"bottom"==b.position&&b.area.firstChild?b.area.insertBefore(w,b.area.firstChild):b.area.appendChild(w),x.expire>0&&(b.timers[x.id]=window.setTimeout(function(){b&&b.hide(x.id)},x.expire)),b.pull[x.id]=w,w=null,x.id}(x)}};b.seed=(new Date).valueOf(),b.uid=u.uid,b.expire=4e3,b.keyboard=!0,b.position="top",b.pull={},b.timers={},b.hideAll=function(){for(var x in b.pull)b.hide(x)},b.hide=function(x){var w=b.pull[x];w&&w.parentNode&&(window.setTimeout(function(){w.parentNode.removeChild(w),w=null},2e3),w.className+=" hidden",b.timers[x]&&window.clearTimeout(b.timers[x]),delete b.pull[x])};var S=[];return c.attachEvent("onMessagePopup",function(x){S.push(x)}),c.attachEvent("onAfterMessagePopup",function(x){for(var w=0;w<S.length;w++)S[w]===x&&(S.splice(w,1),w--)}),c.attachEvent("onDestroy",function(){r.cover&&r.cover.parentNode&&r.cover.parentNode.removeChild(r.cover);for(var x=0;x<S.length;x++)S[x].parentNode&&S[x].parentNode.removeChild(S[x]);S=null,b.area&&b.area.parentNode&&b.area.parentNode.removeChild(b.area),b=null}),{alert:function(){var x=v.apply(this,arguments);return x.type=x.type||"confirm",g(x)},confirm:function(){var x=v.apply(this,arguments);return x.type=x.type||"alert",p(x)},message:b,modalbox:k}}},function(C,$,f){C.exports=function(_){var u=f(0),s=f(8),c=f(15);if(!s.isNode){var i=f(1),a=f(2);_.utils={arrayFind:a.arrayFind,dom:i};var e=f(57)();_.event=e.attach,_.eventRemove=e.detach,_._eventRemoveAll=e.detachAll,_._createDomEventScope=e.extend,u.mixin(_,f(157)(_));var t=f(156).init(_);_.$ui=t.factory,_.$ui.layers=t.render,_.$mouseEvents=t.mouseEvents,_.$services.setService("mouseEvents",function(){return _.$mouseEvents}),_.mixin(_,t.layersApi),f(107)(_),_.$services.setService("layers",function(){return t.layersService});var n=f(106);_.mixin(_,n()),f(105)(_),f(104)(_),f(103)(_),f(102)(_),f(101)(_),f(100)(_),f(99)(_),f(98)(_),f(97)(_),f(92)(_),f(91)(_),f(79)(_),f(78)(_),_.locate=function(r){var o=i.getTargetNode(r);if(i.closest(o,".gantt_task_row"))return null;var l=arguments[1]||this.config.task_attribute,d=i.locateAttribute(o,l);return d?d.getAttribute(l):null},_._locate_css=function(r,o,l){return i.locateClassName(r,o,l)},_._locateHTML=function(r,o){return i.locateAttribute(r,o||this.config.task_attribute)}}_.attachEvent("onParse",function(){c(_)||_.attachEvent("onGanttRender",function(){if(_.config.initial_scroll){var r=_.getTaskByIndex(0),o=r?r.id:_.config.root_id;_.isTaskExists(o)&&_.$task&&_.utils.dom.isChildOf(_.$task,_.$container)&&_.showTask(o)}},{once:!0})}),_.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),c(_)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),_.attachEvent("onGanttReady",function(){!c(_)&&_.config.rtl&&_.$layout.getCellsByType("viewCell").forEach(function(r){var o=r.$config.scrollX;if(o){var l=_.$ui.getView(o);l&&l.scrollTo(l.$config.scrollSize,0)}})}),_.attachEvent("onGanttReady",function(){if(!c(_)){var r=_.plugins(),o={auto_scheduling:_.autoSchedule,click_drag:_.ext.clickDrag,critical_path:_.isCriticalTask,drag_timeline:_.ext.dragTimeline,export_api:_.exportToPDF,fullscreen:_.ext.fullscreen,grouping:_.groupBy,keyboard_navigation:_.ext.keyboardNavigation,marker:_.addMarker,multiselect:_.eachSelectedTask,overlay:_.ext.overlay,quick_info:_.templates.quick_info_content,tooltip:_.ext.tooltips,undo:_.undo};for(var l in o)o[l]&&!r[l]&&console.warn("You connected the '".concat(l,"' extension via an obsolete file. \nTo fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html"))}})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",section_type:"\u0422\u0438\u043f",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xf6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xf6rev silinecek, emin misiniz?",section_description:"A\xe7\u0131klama",section_time:"Zaman Aral\u0131\u011f\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xf6rev Ad\u0131",column_start_date:"Ba\u015flang\u0131\xe7",column_duration:"S\xfcre",column_add:"",link:"Ba\u011flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015flang\u0131\xe7)",link_end:" (biti\u015f)",type_task:"G\xf6rev",type_project:"Proje",type_milestone:"Kilometreta\u015f\u0131",minutes:"Dakika",hours:"Saat",days:"G\xfcn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xddptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xe4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xe5nader",years:"\xc5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xe1 \xfaloha",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xe4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",section_type:"\u0422\u0438\u043f",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041d\u0430\u0447\u0430\u043b\u043e",column_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",column_add:"",link:"\u0421\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",link_start:" (\u043d\u0430\u0447\u0430\u043b\u043e)",link_end:" (\u043a\u043e\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041c\u0438\u043d\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043d\u044c",weeks:"\u041d\u0435\u0434\u0435\u043b\u044f",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xe3o excluidas permanentemente, confirme?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xedcio",column_duration:"Dura\xe7\xe3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xe1 exclu\xeddo!",link_start:" (in\xedcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xe7\xe3o",constraint_type:"Tipo Restri\xe7\xe3o",constraint_date:"Data restri\xe7\xe3o",asap:"Mais breve poss\xedvel",alap:"Mais tarde poss\xedvel",snet:"N\xe3o come\xe7ar antes de",snlt:"N\xe3o come\xe7ar depois de",fnet:"N\xe3o terminar antes de",fnlt:"N\xe3o terminar depois de",mso:"Precisa come\xe7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(u){var s=this;for(var c in this.addLocale=function(i,a){s._locales[i]=a},this.getLocale=function(i){return s._locales[i]},this._locales={},u)this._locales[c]=u[c]}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],month_short:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],day_full:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],day_short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},labels:{new_task:"\uc774\ub984\uc5c6\ub294 \uc791\uc5c5",icon_save:"\uc800\uc7a5",icon_cancel:"\ucde8\uc18c",icon_details:"\uc138\ubd80 \uc0ac\ud56d",icon_edit:"\uc218\uc815",icon_delete:"\uc0ad\uc81c",confirm_closing:"",confirm_deleting:"\uc791\uc5c5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",section_description:"\uc124\uba85",section_time:"\uae30\uac04",section_type:"Type",column_wbs:"WBS",column_text:"\uc791\uc5c5\uba85",column_start_date:"\uc2dc\uc791\uc77c",column_duration:"\uae30\uac04",column_add:"",link:"\uc804\uc81c",confirm_link_deleting:"\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",link_start:" (start)",link_end:" (end)",type_task:"\uc791\uc5c5",type_project:"\ud504\ub85c\uc81d\ud2b8",type_milestone:"\ub9c8\uc77c\uc2a4\ud1a4",minutes:"\ubd84",hours:"\uc2dc\uac04",days:"\uc77c",weeks:"\uc8fc",months:"\ub2ec",years:"\ub144",message_ok:"OK",message_cancel:"\ucde8\uc18c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{new_task:"\u65b0\u3057\u3044\u4ed5\u4e8b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xe0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xe0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{new_task:"\xdaj feladat",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xe9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{new_task:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05d4\u05e1\u05d1\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xe2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xe2che",column_start_date:"Date initiale",column_duration:"Dur\xe9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xe9",link_start:"(d\xe9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xe4v\xe4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"]},labels:{new_task:"\u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f",icon_save:"\u0630\u062e\u06cc\u0631\u0647",icon_cancel:"\u0644\u063a\u0648",icon_details:"\u062c\u0632\u06cc\u06cc\u0627\u062a",icon_edit:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0634\u0645\u0627 \u0627\u0632\u062f\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0631\u0641\u062a\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",confirm_deleting:"\u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0628\u0631\u0627\u06cc \u0647\u0645\u06cc\u0634\u0647 \u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",section_description:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",section_time:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062f\u062a",column_add:"",link:"\u0627\u0631\u062a\u0628\u0627\u0637",confirm_link_deleting:"\u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f",link_start:" (\u0622\u063a\u0627\u0632)",link_end:" (\u067e\u0627\u06cc\u0627\u0646)",type_task:"\u0648\u0638\u06cc\u0641\u0647",type_project:"\u067e\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06af\u0627\u0631\u0634",minutes:"\u062f\u0642\u0627\u06cc\u0642",hours:"\u0633\u0627\u0639\u0627\u062a",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062a\u0647",months:"\u0645\u0627\u0647\u200c\u0647\u0627",years:"\u0633\u0627\u0644\u200c\u0647\u0627",message_ok:"\u062a\u0627\u06cc\u06cc\u062f",message_cancel:"\u0644\u063a\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xf3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xe1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xedas",weeks:"Semanas",months:"Meses",years:"A\xf1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{new_task:"\u039d\u03ad\u03b1 \u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xf6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie m\xf6glich",alap:"So sp\xe4t wie m\xf6glich",snet:"Beginn nicht vor",snlt:"Beginn nicht sp\xe4ter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht sp\xe4ter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{new_task:"Nov\xe1 pr\xe1ce",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{new_task:"\u65b0\u4efb\u52d9",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",section_type:"\u7c7b\u578b",column_wbs:"\u5de5\u4f5c\u5206\u89e3\u7ed3\u6784",column_text:"\u4efb\u52a1\u540d",column_start_date:"\u5f00\u59cb\u65f6\u95f4",column_duration:"\u6301\u7eed\u65f6\u95f4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5c06\u88ab\u5220\u9664",link_start:" (\u5f00\u59cb)",link_end:" (\u7ed3\u675f)",type_task:"\u4efb\u52a1",type_project:"\u9879\u76ee",type_milestone:"\u91cc\u7a0b\u7891",minutes:"\u5206\u949f",hours:"\u5c0f\u65f6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5e74",message_ok:"OK",message_cancel:"\u5173\u95ed",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xb7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043d\u043d\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044b\u043f",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041f\u0430\u0447\u0430\u0442\u0430\u043a",column_duration:"\u041f\u0440\u0430\u0446\u044f\u0433",column_add:"",link:"\u0421\u0443\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430",link_start:"(\u043f\u0430\u0447\u0430\u0442\u0430\u043a)",link_end:"(\u043a\u0430\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043bi\u043d\u0430",hours:"\u0413\u0430\u0434\u0437i\u043d\u0430",days:"\u0414\u0437\u0435\u043d\u044c",weeks:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063a\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(191),u=f(190),s=f(189),c=f(188),i=f(187),a=f(186),e=f(185),t=f(184),n=f(183),r=f(182),o=f(181),l=f(180),d=f(179),h=f(178),g=f(177),p=f(176),y=f(175),v=f(174),m=f(173),k=f(172),b=f(171),S=f(170),x=f(169),w=f(168),T=f(167),E=f(166),I=f(165),P=f(164),L=f(163),H=f(162),F=f(161),z=f(160),W=f(159);$.default=function(){return new b.default({en:n.default,ar:_.default,be:u.default,ca:s.default,cn:c.default,cs:i.default,da:a.default,de:e.default,el:t.default,es:r.default,fa:o.default,fi:l.default,fr:d.default,he:h.default,hr:g.default,hu:p.default,id:y.default,it:v.default,jp:m.default,kr:k.default,nb:S.default,nl:x.default,no:w.default,pl:T.default,pt:E.default,ro:I.default,ru:P.default,si:L.default,sk:H.default,sv:F.default,tr:z.default,ua:W.default})}},function(C,$,f){"use strict";var _=["Your evaluation period for dhtmlxGantt has expired.","196642GwHpee","defineProperty","1HaLptp","random","default","join","Please contact us at contact@dhtmlx.com or visit","1BNtGTx","92504cfommX","27cwpeqw","TNQER","11210pRRTWV","now","undefined","floor","104222mESwCx","__esModule","LtHtI","351053wfZbZc","ZVqKb","292195cOVcAi","1HigrcX","182694iSdWvz","https://dhtmlx.com/docs/products/dhtmlxGantt in order to obtain a license.","alert"],u=function(c,i){return _[c-=443]},s=u;(function(c,i){for(var a=u;;)try{if(-parseInt(a(460))*-parseInt(a(458))-parseInt(a(445))+parseInt(a(467))+-parseInt(a(464))*-parseInt(a(444))+parseInt(a(457))+parseInt(a(451))*-parseInt(a(449))+-parseInt(a(456))*parseInt(a(443))===178918)break;c.push(c.shift())}catch{c.push(c.shift())}})(_),Object[s(450)]($,s(465),{value:!0}),$[s(453)]=function(c){setTimeout(function(){var i=u,a=[i(448),i(455),i(446)][i(454)]("\n");if("number"!==i(462)||i(468)!=i(468)){var e=function(){setTimeout(function(){var t=u;Date[i(461)]()-1691131504e3>7776e6&&window[t(447)](a),e()},function(t,n){var r=i;if(r(459)!==r(466))return Math[r(463)](120001*Math[r(452)]())+12e4}())};e()}},1)}},function(C,$){C.exports=function(f){f.destructor=function(){for(var _ in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===_.indexOf("$")&&delete this[_];this.$destroyed=!0}}},function(C,$){C.exports=function(f){return function(_,u){_||f.config.show_errors&&!1!==f.callEvent("onError",[u])&&(f.message?f.message({type:"error",text:u,expire:-1}):console.log(u))}}},function(C,$){function f(_,u){var s,c=_.config.container_resize_timeout||20;if("timeout"==_.config.container_resize_method)t();else try{_.event(u,"resize",function(){_.$scrollbarRepaint?_.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){_.$destroyed||_.render()},c)}var a=_.$root.offsetHeight,e=_.$root.offsetWidth;function t(){_.$root.offsetHeight==a&&_.$root.offsetWidth==e||i(),a=_.$root.offsetHeight,e=_.$root.offsetWidth,setTimeout(t,c)}}C.exports=function(_){"static"==window.getComputedStyle(_.$root).getPropertyValue("position")&&(_.$root.style.position="relative");var u=document.createElement("iframe");u.className="gantt_container_resize_watcher",u.tabIndex=-1,_.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(_.config.container_resize_method="timeout"),_.$root.appendChild(u),u.contentWindow?f(_,u.contentWindow):(_.$root.removeChild(u),f(_,window))}},function(C,$,f){function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var u=f(1),s=f(2),c=f(15),i=f(196);C.exports=function(a){var e=f(51);a.assert=f(195)(a);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(l){if(!l||"string"==typeof l&&document.getElementById(l)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(l))return!0;throw a.assert(!1,t),new Error(t)}a.init=function(l,d,h){a.env.isNode?l=null:n(l),d&&h&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(h)),this.date.init(),this.init=function(g){a.env.isNode?g=null:n(g),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(g)},this._reinit(l)},a._quickRefresh=function(l){for(var d=this._getDatastores.call(this),h=0;h<d.length;h++)d[h]._quick_refresh=!0;for(l(),h=0;h<d.length;h++)d[h]._quick_refresh=!1};var r=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(a),o=function(){c(a)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var l=a.$services.getService("datastores"),d=0;d<l.length;d++)a.getDatastore(l[d]).filter(),a.$data.tasksStore._skipTaskRecalculation?"lightbox"!=a.$data.tasksStore._skipTaskRecalculation&&(a.$data.tasksStore._skipTaskRecalculation=!1):a.getDatastore(l[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){a._quickRefresh(function(){a.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}.bind(a);a.resetLayout=function(){r(),o(),this.render()},a._reinit=function(l){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),r(),this.$root=null,l&&(this.$root=u.toNode(l),o(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},a.$click={buttons:{edit:function(l){a.isReadonly(a.getTask(l))||a.showLightbox(l)},delete:function(l){var d=a.getTask(l);a.isReadonly(d)||a._simple_confirm(a.locale.labels.confirm_deleting,a.locale.labels.confirm_deleting_title,function(){a.isTaskExists(l)&&(d.$new?(a.$data.tasksStore._skipTaskRecalculation="lightbox",a.silent(function(){a.deleteTask(l,!0)}),a.$data.tasksStore._skipTaskRecalculation=!1,a.refreshData()):(a.$data.tasksStore._skipTaskRecalculation=!0,a.deleteTask(l))),a.hideLightbox()})}}},a.render=function(){var l;if(this.callEvent("onBeforeGanttRender",[]),!c(a)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),h=d?d.x:0;this._getHorizontalScrollbar()&&(h=this._getHorizontalScrollbar().$config.codeScrollLeft||h||0),l=null,h&&(l=a.dateFromPos(h+this.config.task_scroll_offset))}if(e(this),c(a))a.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var g=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=g,this.config.preserve_scroll&&d){if(h||d.y){var p=a.getScrollState();if(+l!=+a.dateFromPos(p.x)||p.y!=d.y){h=null;var y=null;l&&(h=Math.max(a.posFromDate(l)-a.config.task_scroll_offset,0)),d.y&&(y=d.y),a.scrollTo(h,y)}}var v=a.$ui.getView("grid");if(v){var k=a.$ui.getView(v.$config.scrollY);k&&(a.utils.dom.isChildOf(k.$view,a.$container)||v.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},a.setSizes=a.render,a.getTaskRowNode=function(l){for(var d=this.$grid_data.childNodes,h=this.config.task_attribute,g=0;g<d.length;g++)if(d[g].getAttribute&&d[g].getAttribute(h)==l)return d[g];return null},a.changeLightboxType=function(l){if(this.getLightboxType()==l)return!0;a._silent_redraw_lightbox(l)},a._get_link_type=function(l,d){var h=null;return l&&d?h=a.config.links.start_to_start:!l&&d?h=a.config.links.finish_to_start:l||d?l&&!d&&(h=a.config.links.start_to_finish):h=a.config.links.finish_to_finish,h},a.isLinkAllowed=function(l,d,h,g){var p;if(!(p="object"==_(l)?l:{source:l,target:d,type:this._get_link_type(h,g)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var y=!0;return this.checkEvent("onLinkValidation")&&(y=this.callEvent("onLinkValidation",[p])),y},a._correct_dst_change=function(l,d,h,g){var p=s.getSecondsInUnit(g)*h;if(p>3600&&p<86400){var y=l.getTimezoneOffset()-d;y&&(l=a.date.add(l,y,"minute"))}return l},a.isSplitTask=function(l){return a.assert(l&&l instanceof Object,"Invalid argument <b>task</b>="+l+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(l)},a._is_icon_open_click=function(l){if(!l)return!1;var d=l.target||l.srcElement;if(!d||!d.className)return!1;var h=u.getClassName(d);return-1!==h.indexOf("gantt_tree_icon")&&(-1!==h.indexOf("gantt_close")||-1!==h.indexOf("gantt_open"))}}},function(C,$){C.exports=function(f){function _(){return f._cached_functions.update_if_changed(f),f._cached_functions.active||f._cached_functions.activate(),!0}f._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,c){if(c._prefetch_originals)for(var i in c._prefetch_originals)c[i]=c._prefetch_originals[i];for(c._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],c)},prefetch:function(s,c){var i=c[s];if(i){var a=this;c._prefetch_originals[s]=i,c[s]=function(){for(var e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];if(a.active){var r=a.get_arguments_hash(Array.prototype.slice.call(e));a.cache[s]||(a.cache[s]={});var o=a.cache[s];if(a.has_cached_value(o,r))return a.get_cached_value(o,r);var l=i.apply(this,e);return a.cache_value(o,r,l),l}return i.apply(this,e)}}return i},cache_value:function(s,c,i){this.is_date(i)&&(i=new Date(i)),s[c]=i},has_cached_value:function(s,c){return s.hasOwnProperty(c)},get_cached_value:function(s,c){var i=s[c];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var c=[],i=0;i<s.length;i++)c.push(this.stringify_argument(s[i]));return"("+c.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var c=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?s.config.highlight_critical_path&&(c=i):!0===this.mode&&(c=i),this.wrap_methods(c,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},f.attachEvent("onBeforeGanttRender",_),f.attachEvent("onBeforeDataRender",_),f.attachEvent("onBeforeSmartRender",function(){_()}),f.attachEvent("onBeforeParse",_),f.attachEvent("onDataRender",function(){f._cached_functions.deactivate()});var u=null;f.attachEvent("onSmartRender",function(){u&&clearTimeout(u),u=setTimeout(function(){f._cached_functions.deactivate()},1e3)}),f.attachEvent("onBeforeGanttReady",function(){return f._cached_functions.update_if_changed(f),!0})}},function(C,$){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}C.exports=function(_){_.getTaskType=function(u){var s=u;for(var c in u&&"object"==f(u)&&(s=u.type),this.config.types)if(this.config.types[c]==s)return s;return _.config.types.task}}},function(C,$,f){"use strict";var _=["522891ubLFCz","undefined","error","<a href='https://dhtmlx.com/docs/products/dhtmlxGantt' target='_blank'>dhtmlx.com</a> in order to obtain a license.","102026gxAClO","evaluation-warning","21538NvrumY","value","178978leMadX","vmZGq","44LThasY","default","defineProperty","join","qXpdK","__esModule","message","QDWtl","jkvNl","bLQyE","1010013GqdcDO","4vzuBuR","59VjxFyY","YiUvV","Please contact us at <a href='mailto:contact@dhtmlx.com?subject=dhtmlxGantt licensing' target='_blank'>contact@dhtmlx.com</a> or visit","type","expire","floor","298QeIdta","random","20047SAPckQ","<br>","6899VBUKsv","Your evaluation period for dhtmlxGantt has expired.","now","text"],u=function(i,a){return _[i-=141]},s=u;!function(i,a){for(var e=u;;)try{if(parseInt(e(162))+parseInt(e(146))+parseInt(e(148))*parseInt(e(156))+-parseInt(e(168))*-parseInt(e(172))+-parseInt(e(166))+parseInt(e(147))*-parseInt(e(170))+-parseInt(e(154))*parseInt(e(158))===789509)break;i.push(i.shift())}catch{i.push(i.shift())}}(_);var c={};c[s(169)]=!0,Object[s(174)]($,s(141),c),$[s(173)]=function(i){setTimeout(function(){var r,a=u;if(a(176)!==a(149)){var e=[a(159),a(150),a(165)][a(175)](a(157));if("number"===a(163))return;setInterval(function(){var t=a;if(function(){var r=a;if(r(145)!==r(143))return Date[r(160)]()-1691131504e3>5184e6}()&&t(144)!==t(171)){var n={};n[t(151)]=t(164),n[t(161)]=e,n[t(152)]=-1,n.id=t(167),i[t(142)](n)}},(12e4,r=a,Math[r(153)](120001*Math[r(155)]())+12e4))}},1)}},function(C,$,f){var _=f(2);C.exports=function(u){u.isUnscheduledTask=function(e){return u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},u._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!u.config.show_unscheduled)},u._isTaskInTimelineLimits=function(e){var t=e.start_date?e.start_date.valueOf():null,n=e.end_date?e.end_date.valueOf():null;return!!(t&&n&&t<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},u.isTaskVisible=function(e){if(!this.isTaskExists(e))return!1;var t=this.getTask(e);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(e)>=0},u._getProjectEnd=function(){if(u.config.project_end)return u.config.project_end;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.end_date>+n.end_date?1:-1})).length?e[e.length-1].end_date:null},u._getProjectStart=function(){if(u.config.project_start)return u.config.project_start;if(u.config.start_date)return u.config.start_date;if(u.getState().min_date)return u.getState().min_date;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.start_date>+n.start_date?1:-1})).length?e[0].start_date:null};var s=function(e,t){var n=!(!t||t==u.config.root_id||!u.isTaskExists(t))&&u.getTask(t),r=null;if(n)r=u.config.schedule_from_end?u.calculateEndDate({start_date:n.end_date,duration:-u.config.duration_step,task:e}):n.start_date;else if(u.config.schedule_from_end)r=u.calculateEndDate({start_date:u._getProjectEnd(),duration:-u.config.duration_step,task:e});else{var o=u.getTaskByIndex(0);r=o?o.start_date?o.start_date:o.end_date?u.calculateEndDate({start_date:o.end_date,duration:-u.config.duration_step,task:e}):null:u.config.start_date||u.getState().min_date}return u.assert(r,"Invalid dates"),new Date(r)};u._set_default_task_timing=function(e){e.start_date=e.start_date||s(e,u.getParent(e)),e.duration=e.duration||u.config.duration_step,e.end_date=e.end_date||u.calculateEndDate(e)},u.createTask=function(e,t,n){return u.defined((e=e||{}).id)||(e.id=u.uid()),e.start_date||(e.start_date=s(e,t)),void 0===e.text&&(e.text=u.locale.labels.new_task),void 0===e.duration&&(e.duration=1),this.isTaskExists(t)&&(this.setParent(e,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[e])?(this.config.details_on_create?(u.isTaskExists(e.id)?u.getTask(e.id).$index!=e.$index&&(e.start_date&&"string"==typeof e.start_date&&(e.start_date=this.date.parseDate(e.start_date,"parse_date")),e.end_date&&"string"==typeof e.end_date&&(e.end_date=this.date.parseDate(e.end_date,"parse_date")),this.$data.tasksStore.updateItem(e.id,e)):(e.$new=!0,this.silent(function(){u.$data.tasksStore.addItem(e,n)})),this.selectTask(e.id),this.refreshData(),this.showLightbox(e.id)):this.addTask(e,t,n)&&(this.showTask(e.id),this.selectTask(e.id)),e.id):null},u._update_flags=function(e,t){var n=u.$data.tasksStore;void 0===e?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=t),n.getSelectedId()==e&&n.silent(function(){n.unselect(e),n.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=t))};var c=function(e,t){var n=u.getTaskType(e.type),r={type:n,$no_start:!1,$no_end:!1};return t||n!=e.$rendered_type?(n==u.config.types.project?r.$no_end=r.$no_start=!0:n!=u.config.types.milestone&&(r.$no_end=!(e.end_date||e.duration),r.$no_start=!e.start_date,u._isAllowedUnscheduledTask(e)&&(r.$no_end=r.$no_start=!1)),r):(r.$no_start=e.$no_start,r.$no_end=e.$no_end,r)};function i(e){e.$effective_calendar=u.getTaskCalendar(e).id,e.start_date=u.getClosestWorkTime({dir:"future",date:e.start_date,unit:u.config.duration_unit,task:e}),e.end_date=u.calculateEndDate(e)}function a(e){var t=null,n=null,o=[];return u.eachTask(function(l){u.getTaskType(l.type)==u.config.types.project||u.isUnscheduledTask(l)||(l.rollup&&o.push(l.id),l.start_date&&!l.$no_start&&(!t||t>l.start_date.valueOf())&&(t=l.start_date.valueOf()),l.end_date&&!l.$no_end&&(!n||n<l.end_date.valueOf())&&(n=l.end_date.valueOf()))},void 0!==e?e:u.config.root_id),{start_date:t?new Date(t):null,end_date:n?new Date(n):null,rollup:o}}u._init_task_timing=function(e){var t=c(e,!0),n=e.$rendered_type!=t.type,r=t.type;n&&(e.$no_start=t.$no_start,e.$no_end=t.$no_end,e.$rendered_type=t.type),n&&r!=this.config.types.milestone&&r==this.config.types.project&&(this._set_default_task_timing(e),e.$calculate_duration=!1),r==this.config.types.milestone&&(e.end_date=e.start_date),e.start_date&&e.end_date&&!1!==e.$calculate_duration&&(e.duration=this.calculateDuration(e)),e.$calculate_duration||(e.$calculate_duration=!0),e.end_date||(e.end_date=e.start_date),e.duration=e.duration||0,0===this.config.min_duration&&0===e.duration&&(e.$no_end=!1);var o=this.getTaskCalendar(e);e.$effective_calendar&&e.$effective_calendar!==o.id&&(i(e),this.config.inherit_calendar&&this.isSummaryTask(e)&&this.eachTask(function(l){i(l)},e.id)),e.$effective_calendar=o.id},u.isSummaryTask=function(e){u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var t=c(e);return!(!t.$no_end&&!t.$no_start)},u.resetProjectDates=function(e){var t=c(e);if(t.$no_end||t.$no_start){var n=a(e.id);(function(r,o,l,d){o.$no_start&&(r.start_date=l?new Date(l):s(r,this.getParent(r))),o.$no_end&&(r.end_date=d?new Date(d):this.calculateEndDate({start_date:r.start_date,duration:this.config.duration_step,task:r})),(o.$no_start||o.$no_end)&&this._init_task_timing(r)}).call(this,e,t,n.start_date,n.end_date),e.$rollup=n.rollup}},u.getSubtaskDuration=function(e){var t=0;return this.eachTask(function(r){this.getTaskType(r.type)==u.config.types.project||this.isUnscheduledTask(r)||(t+=r.duration)},void 0!==e?e:u.config.root_id),t},u.getSubtaskDates=function(e){var t=a(e);return{start_date:t.start_date,end_date:t.end_date}},u._update_parents=function(e,t,n){if(e){var r=this.getTask(e);r.rollup&&(n=!0);var o=this.getParent(r),l=c(r),d=!0;if(n||r.start_date&&r.end_date&&(l.$no_start||l.$no_end)){var h=r.start_date.valueOf(),g=r.end_date.valueOf();u.resetProjectDates(r),n||h!=r.start_date.valueOf()||g!=r.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(r.id,!0)}d&&o&&this.isTaskExists(o)&&this._update_parents(o,t,n)}},u.roundDate=function(e){var t=u.getScale();_.isDate(e)&&(e={date:e,unit:t?t.unit:u.config.duration_unit,step:t?t.step:u.config.duration_step});var n,r,o,l=e.date,d=e.step,h=e.unit;if(!t)return l;if(h==t.unit&&d==t.step&&+l>=+t.min_date&&+l<=+t.max_date)o=Math.floor(u.columnIndexByDate(l)),t.trace_x[o]||(o-=1,t.rtl&&(o=0)),r=new Date(t.trace_x[o]),n=u.date.add(r,d,h);else{for(o=Math.floor(u.columnIndexByDate(l)),n=u.date[h+"_start"](new Date(t.min_date)),t.trace_x[o]&&(n=u.date[h+"_start"](t.trace_x[o]));+n<+l;){var g=(n=u.date[h+"_start"](u.date.add(n,d,h))).getTimezoneOffset();n=u._correct_dst_change(n,g,n,h),u.date[h+"_start"]&&(n=u.date[h+"_start"](n))}r=u.date.add(n,-1*d,h)}return e.dir&&"future"==e.dir?n:e.dir&&"past"==e.dir||Math.abs(l-r)<Math.abs(n-l)?r:n},u.correctTaskWorkTime=function(e){u.config.work_time&&u.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},u.attachEvent("onBeforeTaskUpdate",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onBeforeTaskAdd",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onAfterTaskMove",function(e,t,n){return u._init_task_timing(u.getTask(e)),!0})}},function(C,$,f){var _=f(0);C.exports={create:function(u,s){return{getWorkHours:function(c){return s.getWorkHours(c)},setWorkTime:function(c){return s.setWorkTime(c)},unsetWorkTime:function(c){s.unsetWorkTime(c)},isWorkTime:function(c,i,a){return s.isWorkTime(c,i,a)},getClosestWorkTime:function(c){return s.getClosestWorkTime(c)},calculateDuration:function(c,i,a){return s.calculateDuration(c,i,a)},_hasDuration:function(c,i,a){return s.hasDuration(c,i,a)},calculateEndDate:function(c,i,a,e){return s.calculateEndDate(c,i,a,e)},mergeCalendars:_.bind(u.mergeCalendars,u),createCalendar:_.bind(u.createCalendar,u),addCalendar:_.bind(u.addCalendar,u),getCalendar:_.bind(u.getCalendar,u),getCalendars:_.bind(u.getCalendars,u),getResourceCalendar:_.bind(u.getResourceCalendar,u),getTaskCalendar:_.bind(u.getTaskCalendar,u),deleteCalendar:_.bind(u.deleteCalendar,u)}}}},function(C,$){function f(_,u){this.argumentsHelper=u,this.$gantt=_}f.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(_){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._calculateDuration(_.start_date,_.end_date,_.unit,_.step)},_calculateDuration:function(_,u,s,c){var i=this.$gantt.date,a={week:6048e5,day:864e5,hour:36e5,minute:6e4},e=0;if(a[s])e=Math.round((u-_)/(c*a[s]));else{for(var t=new Date(_),n=new Date(u);t.valueOf()<n.valueOf();)e+=1,t=i.add(t,c,s);t.valueOf()!=u.valueOf()&&(e+=(n-t)/(i.add(t,c,s)-t))}return Math.round(e)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date;return!!_.unit&&(u=new Date(u),s=new Date(s),u.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(_){return _ instanceof f},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments);return this.$gantt.date.add(_.start_date,_.step*_.duration,_.unit)}},C.exports=f},function(C,$,f){var _=f(46),u=f(203);function s(c){this.$gantt=c.$gantt,this.argumentsHelper=_(this.$gantt),this.calendarManager=c,this.$disabledCalendar=new u(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(c){var i;if(this.$gantt.config.work_time){var a=this.calendarManager;c.task?i=a.getTaskCalendar(c.task):c.id?i=a.getTaskCalendar(c):c.calendar&&(i=c.calendar),i||(i=a.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(c){return c=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getWorkHours(c.date)},setWorkTime:function(c,i){return c=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(c)},unsetWorkTime:function(c,i){return c=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(c)},isWorkTime:function(c,i,a,e){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(c){return c=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getClosestWorkTime(c)},calculateDuration:function(){var c=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).calculateDuration(c)},hasDuration:function(){var c=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).hasDuration(c)},calculateEndDate:function(c){return c=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).calculateEndDate(c)}},C.exports=s},function(C,$){C.exports=function(){var f={};return{getCalendarIdFromMultipleResources:function(_,u){var a,s=_.map(function(a){return a&&a.resource_id?a.resource_id:a}).sort().join("-");if(_.length){if(1===_.length)return u.getResourceCalendar(s).id;if(f[s])return f[s].id;var c=(a=u).mergeCalendars(_.map(function(e){return a.getResourceCalendar(e&&e.resource_id?e.resource_id:e)}));return f[s]=c,u.addCalendar(c)}return null}}}},function(C,$){function f(_){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}C.exports={isLegacyResourceCalendarFormat:function(_){if(!_)return!1;for(var u in _)if(_[u]&&"object"===f(_[u]))return!0;return!1},getResourceProperty:function(_){var s=_.resource_property;if(this.isLegacyResourceCalendarFormat(_.resource_calendars))for(var c in _){s=c;break}return s},getCalendarIdFromLegacyConfig:function(_,u){if(u)for(var s in u)if(_[s]){var i=u[s][_[s]];if(i)return i}return null}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype._getCacheObject=function(s,c,i){var a=this._cache;a[c]||(a[c]=[]);var e=a[c];e||(e=a[c]={});var t=e[i];t||(t=e[i]={});var n=s.getFullYear(),r=t[n];return r||(r=t[n]={durations:{},endDates:{}}),r},u.prototype._endDateCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype._durationCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype.getEndDate=function(s,c,i,a,e){var t,n=this._getCacheObject(s,i,a),r=s.valueOf(),o=this._endDateCacheKey(r,c);if(void 0===n.endDates[o]){var l=e(),d=l.valueOf();n.endDates[o]=d,n.durations[this._durationCacheKey(r,d)]=c,t=l}else t=new Date(n.endDates[o]);return t},u.prototype.getDuration=function(s,c,i,a,e){var t,n=this._getCacheObject(s,i,a),r=s.valueOf(),o=c.valueOf(),l=this._durationCacheKey(r,o);if(void 0===n.durations[l]){var d=e();n.durations[l]=d.valueOf(),t=d}else t=n.durations[l];return t},u.prototype.clear=function(){this._cache={}},u}();$.DateDurationCache=_},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.LargerUnitsCache=function(u){var s=this;this.getMinutesPerWeek=function(c){var i=c.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var a=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),r=0;r<7;r++)t+=60*a.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(c){var i=c.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var a=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),r=e.date.add(n,1,"month").valueOf();n.valueOf()<r;)t+=60*a.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=u}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){var a=this._cache;if(a&&a[s]){var e=a[s];if(void 0===e)return-1;var t=e[i.getFullYear()];if(t&&void 0!==t[c])return t[c]}return-1},u.prototype.setItem=function(s,c,i,a){if(s&&c){var e=this._cache;if(e){e[s]||(e[s]=[]);var t=e[s],n=a.getFullYear(),r=t[n];r||(r=t[n]={}),r[c]=i}}},u.prototype.clear=function(){this._cache={}},u}();$.WorkUnitsObjectCache=_},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){if(this._cache.has(s)){var a=this._cache.get(s)[i.getFullYear()];if(a&&a.has(c))return a.get(c)}return-1},u.prototype.setItem=function(s,c,i,a){if(s&&c){var e,t=this._cache,n=a.getFullYear();t.has(s)?e=t.get(s):t.set(s,e=[]);var r=e[n];r||(r=e[n]=new Map),r.set(c,i)}},u.prototype.clear=function(){this._cache=new Map},u}();$.WorkUnitsMapCache=_},function(C,$,f){function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var u=f(45).createCacheObject,s=f(45).LargerUnitsCache,c=f(0),i=f(207).DateDurationCache;function a(e,t){this.argumentsHelper=t,this.$gantt=e,this._workingUnitsCache=u(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}a.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var t=0,n=this.units.length;t<n;t++)if(this.units[t]==e)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(e.day||0===e.day)t=e.day;else if(e.date){var n=String(e.date.valueOf());this._cached_timestamps[n]?t=this._cached_timestamps[n]:(t=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[n]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(e,t){if(!this["_is_work_"+t]){var n=this.$gantt.date["".concat(t,"_start")](new Date(e)),r=this.$gantt.date.add(n,1,t);return this.hasDuration(n,r)}return this["_is_work_"+t](e)},_is_work_day:function(e){var t=this._getWorkHours(e);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(e){for(var t=this._getWorkHours(e),n=e.getHours(),r=0;r<t.length;r++)if(n>=t[r].startHour&&n<t[r].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,t){var n=e.getHours();return e.getHours()||e.getMinutes()||!t||(n=24),60*n*60+60*e.getMinutes()},_is_work_minute:function(e){for(var t=this._getWorkHours(e),n=this._getTimeOfDayStamp(e),r=0;r<t.length;r++)if(n>=t[r].start&&n<t[r].end)return!0;return!1},_nextDate:function(e,t,n){return this.$gantt.date.add(e,n,t)},_getWorkUnitsBetweenGeneric:function(e,t,n,r){var o=this.$gantt.date,l=new Date(e),d=new Date(t);r=r||1;var h,g,p=0,y=null,v=!1;(h=o[n+"_start"](new Date(l))).valueOf()!=l.valueOf()&&(v=!0);var m=!1;(g=o[n+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(m=!0);for(var k=!1;l.valueOf()<d.valueOf();){if(k=(y=this._nextDate(l,n,r)).valueOf()>d.valueOf(),this._isWorkTime(l,n))(v||m&&k)&&(h=o[n+"_start"](new Date(l)),g=o.add(h,r,n)),v?(v=!1,y=this._nextDate(h,n,r),p+=(g.valueOf()-l.valueOf())/(g.valueOf()-h.valueOf())):m&&k?(m=!1,p+=(d.valueOf()-l.valueOf())/(g.valueOf()-h.valueOf())):p++;else{var b=this._getUnitOrder(n),S=this.units[b-1];S&&!this._isWorkTime(l,S)&&(y=this._getClosestWorkTimeFuture(l,S))}l=y}return p},_getMinutesPerHour:function(e){var t=this._getTimeOfDayStamp(e),n=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));0===n&&(n=86400);for(var r=this._getWorkHours(e),o=0;o<r.length;o++){var l=r[o];if(t>=l.start&&n<=l.end)return 60;if(t<l.end&&n>l.start)return(Math.min(n,l.end)-Math.max(t,l.start))/60}return 0},_getMinutesPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationMinutes}),t},getHoursPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationHours}),t},_getWorkUnitsForRange:function(e,t,n,r){var o,l=0,d=new Date(e),h=new Date(t);for(o=c.bind("minute"==n?this._getMinutesPerDay:this.getHoursPerDay,this);d.valueOf()<h.valueOf();)if(h-d>27648e5&&0===d.getDate()){var g=this._largeUnitsCache.getMinutesPerMonth(d);"hour"==n&&(g/=60),l+=g,d=this.$gantt.date.add(d,1,"month")}else{if(h-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){g=this._largeUnitsCache.getMinutesPerWeek(d),"hour"==n&&(g/=60),l+=g,d=this.$gantt.date.add(d,7,"day");continue}}l+=o(d),d=this._nextDate(d,"day",1)}return l/r},_getMinutesBetweenSingleDay:function(e,t){for(var n=this._getIntervalTimestamp(e,t),r=this._getWorkHours(e),o=0,l=0;l<r.length;l++){var d=r[l];if(n.end>=d.start&&n.start<=d.end){var h=Math.max(d.start,n.start),g=Math.min(d.end,n.end);o+=(g-h)/60,n.start=g}}return Math.floor(o)},_getMinutesBetween:function(e,t,n,r){var o=new Date(e),l=new Date(t);r=r||1;var d=new Date(o),h=this.$gantt.date.add(this.$gantt.date.day_start(new Date(o)),1,"day");if(l.valueOf()<=h.valueOf())return this._getMinutesBetweenSingleDay(e,t);var g=this.$gantt.date.day_start(new Date(l)),p=l,y=this._getMinutesBetweenSingleDay(d,h),v=this._getMinutesBetweenSingleDay(g,p);return y+this._getWorkUnitsForRange(h,g,n,r)+v},_getHoursBetween:function(e,t,n,r){var o=new Date(e),l=new Date(t);r=r||1;var d=new Date(o),h=this.$gantt.date.add(this.$gantt.date.day_start(new Date(o)),1,"day");if(l.valueOf()<=h.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,t)/60);var g=this.$gantt.date.day_start(new Date(l)),p=l,y=this._getMinutesBetweenSingleDay(d,h,n,r)/60,v=this._getMinutesBetweenSingleDay(g,p,n,r)/60,m=y+this._getWorkUnitsForRange(h,g,n,r)+v;return Math.round(m)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var t in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t]);if(e.customWeeks){var n=null,r=null;for(var t in e.customWeeks){var o=e.customWeeks[t];if(o.from&&o.to){var l=o.from,d=o.to;(!n||n>l.valueOf())&&(n=l.valueOf()),(!r||r<d.valueOf())&&(r=d.valueOf()),e.parsed.customWeeksBoundaries.push({from:l.valueOf(),fromReadable:new Date(l),to:d.valueOf(),toReadable:new Date(d),name:t}),e.parsed.haveCustomWeeks=!0;var h=e.parsed.customWeeks[t]={from:o.from,to:o.to,hours:this._parseHours(o.hours),dates:{}};for(var g in o.dates)h.dates[g]=this._parseHours(o.dates[g])}}e.parsed.customWeeksRangeStart=n,e.parsed.customWeeksRangeEnd=r}},_tryChangeCalendarSettings:function(e){var t=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(e,t){if(e===t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_compareSettings:function(e,t){if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),r=Object.keys(t.dates);if(n.sort(),r.sort(),!this._arraysEqual(n,r))return!1;for(var o=0;o<n.length;o++){var l=n[o],d=e.dates[l],h=e.dates[l];if(d!==h&&!(Array.isArray(d)&&Array.isArray(h)&&this._arraysEqual(d,h)))return!1}return!0},equals:function(e){if(!(e instanceof a))return!1;var t=this.getConfig(),n=e.getConfig();if(!this._compareSettings(t,n))return!1;if(t.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var r in t.parsed.customWeeks){var l=n.parsed.customWeeks[r];if(!l||!this._compareSettings(t.parsed.customWeeks[r],l))return!1}}else if(t.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,t){var n=this.getConfig();if(!1!==t&&(n=n.parsed),!e)return n.hours;var r=this._timestamp({date:e});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=r&&n.customWeeksRangeEnd>r)for(var o=0;o<n.customWeeksBoundaries.length;o++)if(n.customWeeksBoundaries[o].from<=r&&n.customWeeksBoundaries[o].to>r){n=n.customWeeks[n.customWeeksBoundaries[o].name];break}var l=!0;return void 0!==n.dates[r]?l=n.dates[r]:void 0!==n.dates[e.getDay()]&&(l=n.dates[e.getDay()]),!0===l?n.hours:l||[]},_getIntervalTimestamp:function(e,t){var n={start:0,end:0};n.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var r=t.getHours();return!r&&!t.getMinutes()&&!t.getSeconds()&&e.valueOf()<t.valueOf()&&(r=24),n.end=60*r*60+60*t.getMinutes()+t.getSeconds(),n},_parseHours:function(e){if(Array.isArray(e)){var t=[];e.forEach(function(h){"number"==typeof h?t.push(60*h*60):"string"==typeof h&&h.split("-").map(function(g){return g.trim()}).forEach(function(g){var p=g.split(":").map(function(v){return v.trim()}),y=parseInt(60*p[0]*60);p[1]&&(y+=parseInt(60*p[1])),p[2]&&(y+=parseInt(p[2])),t.push(y)})});for(var n=[],r=0;r<t.length;r+=2){var o=t[r],l=t[r+1],d=l-o;n.push({start:o,end:l,startHour:Math.floor(o/3600),startMinute:Math.floor(o/60),endHour:Math.ceil(l/3600),endMinute:Math.ceil(l/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return n}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){var t=void 0===e.hours||e.hours,n=this._timestamp(e),r=this.getConfig();if(null!==n?r.dates[n]=t:e.customWeeks||(r.hours=t),e.customWeeks)if(r.customWeeks||(r.customWeeks={}),"string"==typeof e.customWeeks)null!==n?r.customWeeks[e.customWeeks].dates[n]=t:e.customWeeks||(r.customWeeks[e.customWeeks].hours=t);else if("object"===_(e.customWeeks)&&"function Object() { [native code] }"===Function.prototype.toString.call(e.customWeeks.constructor))for(var o in e.customWeeks)r.customWeeks[o]=e.customWeeks[o];this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){if(e){var t=this._timestamp(e);null!==t&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,t){var r,n=-1;return r=String(e.valueOf()),-1==(n=this._workingUnitsCache.getItem(t,r,e))&&(n=this._checkIfWorkingUnit(e,t),this._workingUnitsCache.setItem(t,r,n,e)),n},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var t=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return t._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,t,n,r){var o,l=1;if(e.valueOf()>t.valueOf()){var d=t;t=e,e=d,l=-1}return o="hour"==n&&1==r?this._getHoursBetween(e,t,n,r):"minute"==n&&1==r?this._getMinutesBetween(e,t,n,r):this._getWorkUnitsBetweenGeneric(e,t,n,r),l*Math.round(o)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),n=e.end_date,r=e.unit,o=e.step;if(!r)return!1;var l=new Date(e.start_date),d=new Date(n);for(o=o||1;l.valueOf()<d.valueOf();){if(this._isWorkTime(l,r))return!0;l=this._nextDate(l,r,o)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.duration,r=e.unit,o=e.step;if(!r)return!1;var l=e.duration>=0?1:-1;n=Math.abs(1*n);var d=this;return this._dateDurationCache.getEndDate(t,n,r,o*l,function(){return d._calculateEndDate(t,n,r,o*l)})},_calculateEndDate:function(e,t,n,r){return!!n&&(1==r&&"minute"==n?this._calculateMinuteEndDate(e,t,r):-1==r&&"minute"==n?this._subtractMinuteDate(e,t,r):1==r&&"hour"==n?this._calculateHourEndDate(e,t,r):this._addInterval(e,t,n,r,null).end)},_addInterval:function(e,t,n,r,o){for(var l=0,d=e,h=!1;l<t&&(!o||!o(d));){var g=this._nextDate(d,n,r);"day"==n&&(h=h||!d.getHours()&&g.getHours())&&(g.setHours(0),g.getHours()||(h=!1));var p=new Date(g.valueOf()+1);r>0&&(p=new Date(g.valueOf()-1)),this._isWorkTime(p,n)&&!h&&l++,d=g}return{end:d,start:e,added:l}},_addHoursUntilDayEnd:function(e,t){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),r=0,o=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),h=0;h<d.length&&r<t;h++){var g=d[h];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),y=Math.min(g.end,l.end),v=(y-p)/3600;v>o&&(v=o,y=p+60*o*60);var m=Math.round((y-p)/3600);r+=m,o-=m,l.start=y}}var k=n;return r===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:r,end:k}},_calculateHourEndDate:function(e,t,n){var r=new Date(e),o=0;n=n||1,t=Math.abs(1*t);var l=this._addHoursUntilDayEnd(r,t);if(r=l.end,p=t-(o=l.added)){for(var d=r;o<t;){var g,h=this._nextDate(d,"day",n);if(h.setHours(0),h.setMinutes(0),h.setSeconds(0),o+(g=this.getHoursPerDay(n>0?new Date(h.valueOf()-1):new Date(h.valueOf()+1)))>=t)break;o+=g,d=h}r=d}if(o<t){var p=t-o;r=(l=this._addHoursUntilDayEnd(r,p)).end}return r},_addMinutesUntilHourEnd:function(e,t){if(0===e.getMinutes())return{added:0,end:new Date(e)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),r=0,o=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),h=0;h<d.length&&r<t;h++){var g=d[h];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),y=Math.min(g.end,l.end),v=(y-p)/60;v>o&&(v=o,y=p+60*o);var m=Math.round((y-p)/60);o-=m,r+=m,l.start=y}}var k=n;return r===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:r,end:k}},_subtractMinutesUntilHourStart:function(e,t){for(var n=this.$gantt.date.hour_start(new Date(e)),r=0,o=t,l=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),h=this._getWorkHours(e),g=h.length-1;g>=0&&r<t;g--){var p=h[g];if(d>p.start&&l<=p.end){var y=Math.min(d,p.end),v=Math.max(l,p.start),m=(y-v)/60;m>o&&(m=o,v=y-60*o);var k=Math.abs(Math.round((y-v)/60));o-=k,r+=k,d=v}}var b=n;return r===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,d)),{added:r,end:b}},_subtractMinuteDate:function(e,t,n){var r=new Date(e),o=0;n=n||-1,t=Math.abs(1*t),t=Math.round(t);var l=this._isMinutePrecision(r),d=this._subtractMinutesUntilHourStart(r,t);o+=d.added,r=d.end;for(var h=0,g=[],p=0;o<t;){var y=this.$gantt.date.day_start(new Date(r)),v=!1;r.valueOf()===y.valueOf()&&(y=this.$gantt.date.add(y,-1,"day"),v=!0);var m=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999).valueOf();m!==h&&(g=this._getWorkHours(y),p=this._getMinutesPerDay(y),h=m);var k=t-o,b=this._getTimeOfDayStamp(r,v);if(g.length&&p)if(g[g.length-1].end<=b&&k>p)o+=p,r=this.$gantt.date.add(r,-1,"day");else{for(var S=!1,x=null,w=null,T=g.length-1;T>=0;T--)if(g[T].start<b-1&&g[T].end>=b-1){S=!0,x=g[T],w=g[T-1];break}if(S)if(b===x.end&&k>=x.durationMinutes)o+=x.durationMinutes,r=this.$gantt.date.add(r,-x.durationMinutes,"minute");else if(!l&&k<=b/60-x.startMinute)o+=k,r=this.$gantt.date.add(r,-k,"minute");else if(l)k<=b/60-x.startMinute?(o+=k,r=this.$gantt.date.add(r,-k,"minute")):(o+=b/60-x.startMinute,r=w?new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,w.end):this.$gantt.date.day_start(r));else{var E=this._getMinutesPerHour(r);E<=k?(o+=E,r=this._nextDate(r,"hour",n)):(o+=(d=this._subtractMinutesUntilHourStart(r,k)).added,r=d.end)}else if(0===r.getHours()&&0===r.getMinutes()&&0===r.getSeconds()){if((I=this._getClosestWorkTimePast(r,"hour")).valueOf()===r.valueOf()){var I=this.$gantt.date.add(r,-1,"day"),P=this._getWorkHours(I);P.length&&I.setSeconds(P[P.length-1].durationSeconds)}r=I}else r=this._getClosestWorkTimePast(new Date(r-1),"hour")}else r=this.$gantt.date.add(r,-1,"day")}return o<t&&(o+=(d=this._subtractMinutesUntilHourStart(r,t-o)).added,r=d.end),r},_calculateMinuteEndDate:function(e,t,n){var r=new Date(e),o=0;n=n||1,t=Math.abs(1*t),t=Math.round(t);var l=this._addMinutesUntilHourEnd(r,t);o+=l.added;for(var d=0,h=[],g=0,p=this._isMinutePrecision(r=l.end);o<t;){var y=this.$gantt.date.day_start(new Date(r)).valueOf();y!==d&&(h=this._getWorkHours(r),g=this._getMinutesPerDay(r),d=y);var v=t-o,m=this._getTimeOfDayStamp(r);if(h.length&&g)if(h[0].start>=m&&v>=g){if(o+=g,v==g){r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,h[h.length-1].end);break}r=this.$gantt.date.add(r,1,"day"),r=this.$gantt.date.day_start(r)}else{for(var k=!1,b=null,S=0;S<h.length;S++)if(h[S].start<=m&&h[S].end>m){k=!0,b=h[S];break}if(k)if(m===b.start&&v>=b.durationMinutes)o+=b.durationMinutes,r=this.$gantt.date.add(r,b.durationMinutes,"minute");else if(v<=b.endMinute-m/60)o+=v,r=this.$gantt.date.add(r,v,"minute");else{var x=this._getMinutesPerHour(r);x<=v?(o+=x,r=p?this.$gantt.date.add(r,x,"minute"):this._nextDate(r,"hour",n)):(o+=(l=this._addMinutesUntilHourEnd(r,v)).added,r=l.end)}else r=this._getClosestWorkTimeFuture(r,"hour")}else r=this.$gantt.date.add(this.$gantt.date.day_start(r),1,"day")}return o<t&&(o+=(l=this._addMinutesUntilHourEnd(r,t-o)).added,r=l.end),r},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,t,n){var r=new Date(e);if(this._isWorkTime(r,t))return r;if(r=this.$gantt.date[t+"_start"](r),"any"!=n&&n)r="past"==n?this._getClosestWorkTimePast(r,t):this._getClosestWorkTimeFuture(r,t);else{var o=this._getClosestWorkTimeFuture(r,t),l=this._getClosestWorkTimePast(r,t);r=Math.abs(o-e)<=Math.abs(e-l)?o:l}return r},_getClosestWorkTimeFuture:function(e,t){return this._getClosestWorkTimeGeneric(e,t,1)},_getClosestWorkTimePast:function(e,t){var n=this._getClosestWorkTimeGeneric(e,t,-1);return this.$gantt.date.add(n,1,t)},_findClosestTimeInDay:function(e,t,n){var r=new Date(e),o=null,l=!1;this._getWorkHours(r).length||(r=this._getClosestWorkTime(r,"day",t<0?"past":"future"),t<0&&(r=new Date(r.valueOf()-1),l=!0),n=this._getWorkHours(r));var d=this._getTimeOfDayStamp(r);if(l&&(d=this._getTimeOfDayStamp(new Date(r.valueOf()+1),l)),t>0){for(var h=0;h<n.length;h++)if(n[h].start>=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[h].start);break}}else for(h=n.length-1;h>=0;h--){if(n[h].end<=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[h].end);break}if(n[h].end>d&&n[h].start<=d){o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,d);break}}return o},_getClosestWorkMinute:function(e,t,n){var r=new Date(e),o=this._getWorkHours(r),l=this._findClosestTimeInDay(r,n,o);return l||(r=this.calculateEndDate(r,n,"day"),n>0?r=this.$gantt.date.day_start(r):(r=this.$gantt.date.day_start(r),r=this.$gantt.date.add(r,1,"day"),r=new Date(r.valueOf()-1)),o=this._getWorkHours(r),l=this._findClosestTimeInDay(r,n,o)),n<0&&(l=this.$gantt.date.add(l,-1,t)),l},_getClosestWorkTimeGeneric:function(e,t,n){if("hour"===t||"minute"===t)return this._getClosestWorkMinute(e,t,n);for(var r=this._getUnitOrder(t),o=this.units[r-1],l=e,d=0;!this._isWorkTime(l,t)&&(!o||this._isWorkTime(l,o)||(l=n>0?this._getClosestWorkTimeFuture(l,o):this._getClosestWorkTimePast(l,o),!this._isWorkTime(l,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var h=l.getTimezoneOffset();l=this.$gantt.date.add(l,n,t),l=this.$gantt._correct_dst_change(l,h,n,t),this.$gantt.date[t+"_start"]&&(l=this.$gantt.date[t+"_start"](l))}return l},hasWorkTime:function(){var e=this.getConfig(),t=e.dates,n=[];for(var r in e.dates)Number(r)>6&&n.push(Number(r));var o=this._checkWorkHours(e.hours),l=!1;return[0,1,2,3,4,5,6].forEach(function(d){if(!l){var h=t[d];!0===h?l=o:Array.isArray(h)&&(l=this._checkWorkHours(h))}}.bind(this)),l},_checkWorkHours:function(e){if(0===e.length)return!1;for(var t=!1,n=0;n<e.length;n+=2)e[n]!==e[n+1]&&(t=!0);return t},_isMinutePrecision:function(e){var t=!1;return this._getWorkHours(e).forEach(function(n){(n.startMinute%60||n.endMinute%60)&&(t=!0)}),t}},C.exports=a},function(C,$,f){var _=f(0);function u(){}u.prototype={_getIntervals:function(s){for(var c=[],i=0;i<s.length;i+=2)c.push({start:s[i],end:s[i+1]});return c},_toHoursArray:function(s){var c=[];function i(e){var r,o,t=Math.floor(e/3600);return t+":"+(r=Math.floor((e-60*t*60)/60),(o=String(r)).length<2&&(o="0"+o),o)}for(var a=0;a<s.length;a++)c.push(i(s[a].start)+"-"+i(s[a].end));return c},_intersectHourRanges:function(s,c){var i=[],a=s.length>c.length?s:c,e=s===a?c:s;a=a.slice(),e=e.slice(),i=[];for(var t=0;t<a.length;t++)for(var n=a[t],r=0;r<e.length;r++){var o=e[r];o.start<n.end&&o.end>n.start&&(i.push({start:Math.max(n.start,o.start),end:Math.min(n.end,o.end)}),n.end>o.end&&(e.splice(r,1),r--,t--))}return i},_mergeAdjacentIntervals:function(s){var c=s.slice();c.sort(function(t,n){return t.start-n.start});for(var i=c[0],a=1;a<c.length;a++){var e=c[a];e.start<=i.end?(e.end>i.end&&(i.end=e.end),c.splice(a,1),a--):i=e}return c},_mergeHoursConfig:function(s,c){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,c))},merge:function(s,c){var i=_.copy(s.getConfig().parsed),a=_.copy(c.getConfig().parsed),e={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,a.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var n=i.dates[t],r=a.dates[t];if(n&&r)if(Array.isArray(n)||Array.isArray(r)){var o=Array.isArray(n)?n:i.hours,l=Array.isArray(r)?r:a.hours;e.dates[t]=this._toHoursArray(this._mergeHoursConfig(o,l))}else e.dates[t]=!0;else e.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)e.customWeeks[t]=i.customWeeks[t];if(a.customWeeks)for(var t in a.customWeeks)e.customWeeks[t]=a.customWeeks[t];return e}},C.exports=u},function(C,$,f){var _=f(0),u=f(46),s=f(212),c=f(211),i=f(206),a=f(205)();function e(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}e.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var n=t.days;if(n&&!t.dates){t.dates=t.dates||{};for(var r=0;r<n.length;r++)t.dates[r]=n[r],n[r]instanceof Array||(t.dates[r]=!!n[r])}return delete t.days,t},mergeCalendars:function(){var t=[],n=arguments;if(Array.isArray(n[0]))t=n[0].slice();else for(var r=0;r<arguments.length;r++)t.push(arguments[r]);var o,l=new s;return t.forEach(function(d){o=o?this._createCalendarFromConfig(l.merge(o,d)):d}.bind(this)),this.createCalendar(o)},_createCalendarFromConfig:function(t){var n=new c(this.$gantt,u(this.$gantt));n.id=String(_.uid());var r=this._convertWorkTimeSettings(t);if(r.customWeeks)for(var o in r.customWeeks)r.customWeeks[o]=this._convertWorkTimeSettings(r.customWeeks[o]);return n._setConfig(r),n},createCalendar:function(t){var n;t||(t={}),n=_.copy(t.getConfig?t.getConfig():t.worktime?t.worktime:t);var r=_.copy(this.defaults.fulltime.worktime);return _.mixin(n,r),this._createCalendarFromConfig(n)},getCalendar:function(t){var n=this._calendars[t=t||"global"];return n||(this.createDefaultCalendars(),n=this._calendars[t]),n},getCalendars:function(){var t=[];for(var n in this._calendars)t.push(this.getCalendar(n));return t},_getOwnCalendar:function(t){var n=this.$gantt.config;if(t[n.calendar_property])return this.getCalendar(t[n.calendar_property]);if(n.resource_calendars){var r;if(r=!1===this._legacyConfig?n.resource_property:i.getResourceProperty(n),Array.isArray(t[r]))n.dynamic_resource_calendars&&(o=a.getCalendarIdFromMultipleResources(t[r],this));else if(void 0===this._legacyConfig&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var o=i.getCalendarIdFromLegacyConfig(t,n.resource_calendars);else if(r&&t[r]&&n.resource_calendars[t[r]])var l=this.getResourceCalendar(t[r]);if(o&&(l=this.getCalendar(o)),l)return l}return null},getResourceCalendar:function(t){if(null==t)return this.getCalendar();var n;n="number"==typeof t||"string"==typeof t?t:t.id||t.key;var r=this.$gantt.config,o=r.resource_calendars,l=null;if(o){if(void 0===this._legacyConfig&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(r.resource_calendars)),this._legacyConfig){for(var d in o)if(o[d][n]){l=o[d][n];break}}else l=o[n];if(l)return this.getCalendar(l)}return this.getCalendar()},getTaskCalendar:function(t){var n,r=this.$gantt;if(null==t)return this.getCalendar();if(!(n="number"!=typeof t&&"string"!=typeof t||!r.isTaskExists(t)?t:r.getTask(t)))return this.getCalendar();var o=this._getOwnCalendar(n),l=!!r.getState().group_mode;if(!o&&r.config.inherit_calendar&&r.isTaskExists(n.parent)){for(var d=n;r.isTaskExists(d.parent)&&(d=r.getTask(d.parent),!r.isSummaryTask(d)||!(o=this._getOwnCalendar(d))););l&&!o&&t.$effective_calendar&&(o=this.getCalendar(t.$effective_calendar))}return o||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var n=t.id;(t=this.createCalendar(t)).id=n}if(t._tryChangeCalendarSettings(function(){})){var r=this.$gantt.config;return t.id=t.id||_.uid(),this._calendars[t.id]=t,r.worktimes||(r.worktimes={}),r.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var n=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],n.worktimes&&n.worktimes[t]&&delete n.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var n in t)if(!this._calendars[n]){var o=this.createCalendar(t[n]);o.id=n,this.addCalendar(o)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(n){return n instanceof Function})}},C.exports=e},function(C,$,f){var _=f(213),u=f(204),s=f(202),c=f(0);C.exports=function(i){var a=new _(i),e=new u(a),t=s.create(a,e);c.mixin(i,t)}},function(C,$,f){function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}var u=f(2);C.exports=function(s){function c(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,a,e){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",n=null;return arguments.length>=3?(t=a,n=e):"string"==typeof arguments[1]?t=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(r){this.on_load(r,t),this.callEvent("onLoadEnd",[i,t]),"function"==typeof n&&n.call(this)},this))},s.parse=function(i,a){this.on_load({xmlDoc:{responseText:i}},a)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,a){if(i.xmlDoc&&404===i.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),a||(a="json"),this.assert(this[a],"Invalid data type:'"+a+"'");var t=this[a].parse(i.xmlDoc.responseText,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var t,r,a=i.data||i.tasks;i.assignments&&(t=a,r={},i.assignments.forEach(function(o){r[o.task_id]||(r[o.task_id]=[]),r[o.task_id].push(o)}),t.forEach(function(o){o[s.config.resource_property]=r[o.id]||[]})),this.$data.tasksStore.parse(a),this.$data.linksStore.parse(i.links||(i.collections?i.collections.links:[])),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var a=!1;for(var e in i)if(i.hasOwnProperty(e)){a=!0;var t=i[e];this.serverList[e]=this.serverList[e]||[];var n=this.serverList[e];if(!n)continue;n.splice(0,n.length);for(var r=0;r<t.length;r++){var o=t[r],l=this.copy(o);for(var d in l.key=l.value,o)if(o.hasOwnProperty(d)){if("value"==d||"label"==d)continue;l[d]=o[d]}n.push(l)}}a&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,a){return!a.$ignore}),s.json={parse:function(i){if(i||c(i),"string"==typeof i)if(null!=(typeof JSON>"u"?"undefined":_(JSON)))try{i=JSON.parse(i)}catch{c(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||c(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var a={};for(var e in i)a[e]=i[e];return a},_copyObject:function(i){var a={};for(var e in i)"$"!=e.charAt(0)&&(a[e]=i[e],u.isDate(a[e])&&(a[e]=s.defined(s.templates.xml_format)?s.templates.xml_format(a[e]):s.templates.format_date(a[e])));return a},serialize:function(){var i=[],a=[];s.eachTask(function(n){s.resetProjectDates(n),i.push(this.serializeTask(n))},s.config.root_id,this);for(var e=s.getLinks(),t=0;t<e.length;t++)a.push(this.serializeLink(e[t]));return{data:i,links:a}}},s.xml={_xmlNodeToJSON:function(i,a){for(var e={},t=0;t<i.attributes.length;t++)e[i.attributes[t].name]=i.attributes[t].value;if(!a){for(t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];1==n.nodeType&&(e[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}e.text||(e.text=i.firstChild?i.firstChild.nodeValue:"")}return e},_getCollections:function(i){for(var a={},e=s.ajax.xpath("//coll_options",i),t=0;t<e.length;t++)for(var n=a[e[t].getAttribute("for")]=[],r=s.ajax.xpath(".//item",e[t]),o=0;o<r.length;o++){for(var l=r[o].attributes,d={key:r[o].getAttribute("value"),label:r[o].getAttribute("label")},h=0;h<l.length;h++){var g=l[h];"value"!=g.nodeName&&"label"!=g.nodeName&&(d[g.nodeName]=g.nodeValue)}n.push(d)}return a},_getXML:function(i,a,e){e=e||"data",a.getXMLTopNode||(a=s.ajax.parse(a));var t=s.ajax.xmltop(e,a.xmlDoc);t&&t.tagName==e||function(r){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(r)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(r))}(i);var n=t.getAttribute("dhx_security");return n&&(s.security_key=n),t},parse:function(i,a){a=this._getXML(i,a);for(var e={},t=e.data=[],n=s.ajax.xpath("//task",a),r=0;r<n.length;r++)t[r]=this._xmlNodeToJSON(n[r]);return e.collections=this._getCollections(a),e},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],a=[],e=s.json.serialize(),t=0,n=e.data.length;t<n;t++)i.push(this._copyObject(e.data[t]));for(t=0,n=e.links.length;t<n;t++)a.push(this._copyLink(e.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+a.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,a){a=s.xml._getXML(i,a,"projects");for(var e={collections:{links:[]}},t=e.data=[],n=s.ajax.xpath("//task",a),r=0;r<n.length;r++){t[r]=s.xml._xmlNodeToJSON(n[r]);var o=n[r].parentNode;t[r].parent="project"==o.tagName?"project-"+o.getAttribute("id"):o.parentNode.getAttribute("id")}for(n=s.ajax.xpath("//project",a),r=0;r<n.length;r++)(l=s.xml._xmlNodeToJSON(n[r],!0)).id="project-"+l.id,t.push(l);for(r=0;r<t.length;r++){var l;(l=t[r]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&e.collections.links.push({target:l.id,source:l.predecessortasks,type:s.config.links.finish_to_start})}return e},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,a){return a?this.serverList[i]=a.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function(C,$){C.exports=function(f){f.isReadonly=function(_){return"number"!=typeof _&&"string"!=typeof _||!f.isTaskExists(_)||(_=f.getTask(_)),(!_||!_[this.config.editable_property])&&(_&&_[this.config.readonly_property]||this.config.readonly)}}},function(C,$){C.exports=function(f){f.getGridColumn=function(_){for(var u=f.config.columns,s=0;s<u.length;s++)if(u[s].name==_)return u[s];return null},f.getGridColumns=function(){return f.config.columns.slice()}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){this._scrollOrder=0;var i=s.grid,a=s.dnd,e=s.getCurrentX;this.$gantt=s.gantt,this.$grid=i,this._dnd=a,this.getCurrentX=e,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return u.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(c,i){var a=s.$grid.$grid.getBoundingClientRect(),e=a.right,t=a.left,n=s.getCurrentX(i.clientX);return n>=e-20&&(s.autoscrollRight(),s.autoscrollStart()),n<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),n<e-20&&n>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},u.prototype.autoscrollStart=function(){var s=this;if(0!==this._scrollOrder){var c=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+c),setTimeout(function(){s.autoscrollStart()},50)}},u.prototype.autoscrollRight=function(){this._scrollOrder=1},u.prototype.autoscrollLeft=function(){this._scrollOrder=-1},u.prototype.autoscrollStop=function(){this._scrollOrder=0},u.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},u.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},u}();$.default=_},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(1),u=f(218),s=function(){function c(i,a){var e=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var n=e.$grid.$grid.getBoundingClientRect(),r=n.right,o=n.left,l=t;return l>r&&(l=r),l<o&&(l=o),l},this.$gantt=i,this.$grid=a}return c.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new u.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},c.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(a,e){if(i._draggedCell=i.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),i._draggedCell){var t,n,r=i.$grid.$getConfig().columns,o=i._draggedCell.getAttribute("data-column-id");return r.map(function(l,d){l.name===o&&(t=l,n=d)}),!1!==i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:n}])&&!(!i._draggedCell||!t||(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,0))}}),this._dnd.attachEvent("onAfterDragStart",function(a,e){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(a,e){if(i._draggedCell){i._dragX=e.clientX;var t=i.calculateCurrentPosition(e.clientX),n=i.findColumnsIndexes(),r=n.targetIndex,o=n.draggedIndex,l=i.$grid.$getConfig().columns;return!1===i.$grid.callEvent("onColumnDragMove",[{draggedColumn:l[o],targetColumn:l[r],draggedIndex:o,targetIndex:r}])?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(n),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},c.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),a=i.targetIndex,e=i.draggedIndex,t=this.$grid.$getConfig().columns,n=t[e],r=t[a];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:a}])&&a!==e&&(t.splice(e,1),t.splice(a,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:a}]))},c.prototype.findColumnsIndexes=function(){var i,a,e,t,n,r=this._dnd.config.column,o=this.$grid.$getConfig().columns,l={startX:0,endX:0},d=0,h=o.length-1,g=function(m,k){return m<=k},p=function(m){return++m};this.$gantt.config.rtl&&(d=o.length-1,h=0,g=function(m,k){return m>=k},p=function(m){return--m});for(var y=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),v=d;g(v,h)&&(void 0===i||void 0===a);v=p(v))o[v].hide||(l.startX=l.endX,l.endX+=o[v].width,y>=l.startX&&(y<=l.endX||!g(p(v),h))&&(i=v,e=l.startX,t=l.endX,n=(y-l.startX)/(l.endX-l.startX)),r===o[v].name&&(a=v));return{targetIndex:i,draggedIndex:a,xBefore:e,xAfter:t,columnRelativePos:n}},c.prototype.setMarkerPosition=function(i,a){void 0===a&&(a=10);var e=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();e.style.top=t.y+a+"px",e.style.left=i+"px"},c.prototype.drawTargetMarker=function(i){var e=i.targetIndex,t=i.draggedIndex,n=i.xBefore,r=i.xAfter,o=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),_.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),this._targetMarker.style.left=(e>t?r:e<t?n:o>.5?r:n)+"px",this._targetMarker.style.display="block"},c.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},c}();$.ColumnsGridDnd=s},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(219);$.default=_.ColumnsGridDnd},function(C,$,f){var _=f(1);C.exports=function(u,s){var c={row_before_start:u.bind(function(i,a,e){var t=s.$getConfig(),n=s.$config.rowStore;if(!_.locateAttribute(e,t.task_grid_row_resizer_attribute))return!1;var r=this.locate(e,t.task_grid_row_resizer_attribute),o=n.getItem(r);return!1!==s.callEvent("onBeforeRowResize",[o])&&void 0},u),row_after_start:u.bind(function(i,a,e){var t=s.$getConfig(),n=this.locate(e,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=n},u),row_drag_move:u.bind(function(i,a,e){var t=s.$config.rowStore,n=s.$getConfig(),r=i.config,o=r.drag_id,l=s.getItemHeight(o),d=s.getItemTop(o),h=_.getNodePosition(s.$grid_data),g=parseInt(r.marker.style.top,10),p=d+h.y,y=0,v=n.min_task_grid_row_height;return(y=g-p)<v&&(y=v),r.marker.style.left=h.x+"px",r.marker.style.top=p-1+"px",r.marker.style.height=Math.abs(y)+1+"px",r.marker_height=y,s.callEvent("onRowResize",[o,t.getItem(o),y+l]),!0},u),row_drag_end:u.bind(function(i,a,e){var n=i.config,r=n.drag_id,o=s.$config.rowStore.getItem(r),l=s.getItemHeight(r),d=n.marker_height;!1!==s.callEvent("onBeforeRowResizeEnd",[r,o,d])&&o.row_height!=d&&(o.row_height=d,u.updateTask(r),s.callEvent("onAfterRowResize",[r,o,l,d]),this.render())},u)};return{init:function(){var i=u.$services.getService("dnd"),a=s.$getConfig(),e=new i(s.$grid_data,{updates_per_second:60});u.defined(a.dnd_sensitivity)&&(e.config.sensitivity=a.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.row_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.row_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.row_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.row_drag_end(e,t,n)})}}}},function(C,$){C.exports=function(f){var _=-1,u=-1;return{resetCache:function(){_=-1,u=-1},_getRowHeight:function(){return-1===_&&(_=f.$getConfig().row_height),_},_refreshState:function(){this.resetCache(),u=!0;var s=f.$config.rowStore;if(s)for(var c=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var a=s.getItem(s.fullOrder[i]);if(a&&a.row_height&&a.row_height!==c){u=!1;break}}},canUseSimpleCalculation:function(){return-1===u&&this._refreshState(),u},getRowTop:function(s){return f.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return f.$config.rowStore?f.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return f.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function(C,$,f){var _=f(1);C.exports=function(u,s){var c={column_before_start:u.bind(function(i,a,e){var t=s.$getConfig(),n=_.locateAttribute(e,t.grid_resizer_column_attribute);if(!n||!_.closest(n,".gantt_grid_column_resize_wrap"))return!1;var r=this.locate(e,t.grid_resizer_column_attribute),o=s.getGridColumns()[r];return!1!==s.callEvent("onColumnResizeStart",[r,o])&&void 0},u),column_after_start:u.bind(function(i,a,e){var t=s.$getConfig(),n=this.locate(e,t.grid_resizer_column_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_grid_resize_area",i.config.marker.style.height=s.$grid.offsetHeight+"px",i.config.marker.style.top="0px",i.config.drag_index=n},u),column_drag_move:u.bind(function(i,a,e){var t=s.$getConfig(),n=i.config,r=s.getGridColumns(),o=parseInt(n.drag_index,10),l=r[o],d=_.getNodePosition(s.$grid_scale),h=parseInt(n.marker.style.left,10),g=l.min_width?l.min_width:t.min_grid_column_width,p=s.$grid_data.offsetWidth,y=0,v=0;t.rtl?h=d.x+d.width-1-h:h-=d.x-1;for(var m=0;m<o;m++)g+=r[m].width,y+=r[m].width;if(h<g&&(h=g),t.keep_grid_width){var k=0;for(m=o+1;m<r.length;m++)r[m].min_width?p-=r[m].min_width:t.min_grid_column_width&&(p-=t.min_grid_column_width),r[m].max_width&&!1!==k?k+=r[m].max_width:k=!1;k&&(g=s.$grid_data.offsetWidth-k),h<g&&(h=g),h>p&&(h=p)}else if(!s.$config.scrollable){var b=h,S=u.$container.offsetWidth,x=0;if(s.$grid_data.offsetWidth<=S-25)for(m=o+1;m<r.length;m++)x+=r[m].width;else{for(m=o+1;m>=0;m--)x+=r[m].width;x=S-x}x>S&&(x-=S);var w=s.$parent.$parent;w&&"y"==w.$config.mode&&(S=Math.min(S,w.$lastSize.x-(w.$cells.length-1))),b+x>S&&(h=S-x)}return n.left=h-1,v=Math.abs(h-y),l.max_width&&v>l.max_width&&(v=l.max_width),t.rtl&&(y=d.width-y+2-v),n.marker.style.top=d.y+"px",n.marker.style.left=d.x-1+y+"px",n.marker.style.width=v+"px",s.callEvent("onColumnResize",[o,r[o],v-1]),!0},u),column_drag_end:u.bind(function(i,a,e){for(var t=s.$getConfig(),n=s.getGridColumns(),r=0,o=parseInt(i.config.drag_index,10),l=n[o],d=0;d<o;d++)r+=n[d].width;var h=l.min_width&&i.config.left-r<l.min_width?l.min_width:i.config.left-r;if(l.max_width&&l.max_width<h&&(h=l.max_width),!1!==s.callEvent("onColumnResizeEnd",[o,l,h])&&l.width!=h){if(l.width=h,t.keep_grid_width)r=t.grid_width;else{d=o;for(var g=n.length;d<g;d++)r+=n[d].width}s.callEvent("onColumnResizeComplete",[n,s._setColumnsWidth(r,o)]),s.$config.scrollable||u.$layout._syncCellSizes(s.$config.group,{value:t.grid_width,isGravity:!1}),this.render()}},u)};return{init:function(){var i=u.$services.getService("dnd"),a=s.$getConfig(),e=new i(s.$grid_scale,{updates_per_second:60});u.defined(a.dnd_sensitivity)&&(e.config.sensitivity=a.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.column_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.column_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.column_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.column_drag_end(e,t,n)})},doOnRender:function(){for(var i=s.getGridColumns(),a=s.$getConfig(),e=0,t=s.$config.width,n=a.scale_height,r=0;r<i.length;r++){var o,l=i[r];if(e+=l.width,o=a.rtl?t-e:e,l.resize){var d=document.createElement("div");d.className="gantt_grid_column_resize_wrap",d.style.top="0px",d.style.height=n+"px",d.innerHTML="<div class='gantt_grid_column_resize'></div>",d.setAttribute(a.grid_resizer_column_attribute,r),d.setAttribute("column_index",r),u._waiAria.gridSeparatorAttr(d),s.$grid_scale.appendChild(d),d.style.left=Math.max(0,o)+"px"}}}}}},function(C,$,f){var _=f(34);C.exports=function(u){f(217)(u),_.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,c=[],i=0;i<s.length;i++)s[i].hide||c.push(s[i]);return c}}},function(C,$,f){C.exports=function(_){var u=f(52),s={};_.attachEvent("onClearAll",function(){s={}});var c=u.prototype.hasChild;_.$data.tasksStore.hasChild=function(i){return _.config.branch_loading?!!c.call(this,i)||!!this.exists(i)&&this.getItem(i)[_.config.branch_loading_property]:c.call(this,i)},_.attachEvent("onTaskOpened",function(i){if(_.config.branch_loading&&_._load_url&&(r=i,_.config.branch_loading&&_._load_url&&!s[r]&&!_.getChildren(r).length&&_.hasChild(r))){var a=_._load_url,e=(a=a.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=_.getScrollState().y||0,n={taskId:i,url:a+e+"parent_id="+encodeURIComponent(i)};if(!1===_.callEvent("onBeforeBranchLoading",[n]))return;_.load(n.url,this._load_type,function(){t&&_.scrollTo(null,t),_.callEvent("onAfterBranchLoading",[n])}),s[i]=!0}var r})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(_){_.ext=_.ext||{},_.config.show_empty_state=!1,_.ext.emptyStateElement=_.ext.emptyStateElement||{isEnabled:function(){return!0===_.config.show_empty_state},isGanttEmpty:function(){return!_.getTaskByTime().length},renderContent:function(u){u.innerHTML="<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>\n    <div class='gantt_empty_state_text_link' data-empty-state-create-task>"+_.locale.labels.empty_state_text_link+"</div>\n    <div class='gantt_empty_state_text_description'>"+_.locale.labels.empty_state_text_description+"</div>\n    </div></div>"},clickEvents:[],attachAddTaskEvent:function(){var u=_.attachEvent("onEmptyClick",function(s){_.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&_.createTask({id:_.uid(),text:"New Task"})});this.clickEvents.push(u)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(u){_.detachEvent(u)}),this.clickEvents=[]},getContainer:function(){if(_.$container){var u=_.utils.dom;if(_.$container.contains(_.$grid_data))return u.closest(_.$grid_data,".gantt_layout_content");if(_.$container.contains(_.$task_data))return u.closest(_.$task_data,".gantt_layout_content")}return null},getNode:function(){var u=this.getContainer();return u?u.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var u=this.getContainer();if(!u&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=_.config.scale_height-u.offsetHeight+"px";var c=_.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(c,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),u.appendChild(s),this.renderContent(s)},hide:function(){var u=this.getNode();if(!u)return!1;u.parentNode.removeChild(u)},init:function(){}},_.attachEvent("onDataRender",function(){var u=_.ext.emptyStateElement;u.isEnabled()&&u.isGanttEmpty()?u.show():u.hide()})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.format=function(i){return c._getWBSCode(i.source)},this.canParse=function(i){return c._linkReg.test(i)},this.parse=function(i){if(!c.canParse(i))return null;var a=c._linkReg.exec(i)[0].trim();return{id:void 0,source:c._findSource(a)||null,target:null,type:c._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var a=c._gantt.getTask(i);return c._gantt.getWBSCode(a)},this._findSource=function(i){var a=new RegExp("^[0-9.]+","i");if(a.exec(i)){var e=a.exec(i)[0],t=c._gantt.getTaskByWBSCode(e);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return u.create=function(s,c){return void 0===s&&(s=null),new u(c)},u}();$.default=_},function(C,$,f){"use strict";var s,_=this&&this.__extends||(s=function(c,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])})(c,i)},function(c,i){function a(){this.constructor=c}s(c,i),c.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)});Object.defineProperty($,"__esModule",{value:!0});var u=function(s){function c(i,a){var e=s.call(this,a)||this;return e.format=function(t){var n=e._getFormattedLinkType(e._getLinkTypeName(t.type)),r=e._getWBSCode(t.source),o=e._getLagString(t.lag);return t.type!==e._gantt.config.links.finish_to_start||t.lag?""+r+n+o:r},e.parse=function(t){if(!e.canParse(t))return null;var n=e._linkReg.exec(t)[0].trim(),r=t.replace(n,"").trim(),o=e._findTypeFormat(n),l=e._getLinkTypeNumber(o);return{id:void 0,source:e._findSource(n)||null,target:null,type:l,lag:e._parseLag(r)}},e._getLinkTypeName=function(t){var n="";for(n in e._config.labels)if(e._gantt.config.links[n].toLowerCase()===t.toLowerCase())break;return n},e._getLinkTypeNumber=function(t){var n="";for(n in e._gantt.config.links)if(n.toLowerCase()===t.toLowerCase())break;return e._gantt.config.links[n]},e._getFormattedLinkType=function(t){return e._config.labels[t]||""},e._getLagString=function(t){if(!t)return"";var n=e._config.durationFormatter.format(t);return t<0?n:"+"+n},e._findTypeFormat=function(t){var n=t.replace(/[^a-zA-Z]/gi,""),r="finish_to_start";for(var o in e._config.labels)e._config.labels[o].toLowerCase()===n.toLowerCase()&&(r=o);return r},e._parseLag=function(t){return t?e._config.durationFormatter.parse(t):0},e._config=e._defaultSettings(i),e._linkReg=/^[0-9\.]+[a-zA-Z]*/,e}return _(c,s),c.prototype._defaultSettings=function(i){void 0===i&&(i=null);var a={durationFormatter:this._gantt.ext.formatters.durationFormatter(),labels:{finish_to_finish:"FF",finish_to_start:"FS",start_to_start:"SS",start_to_finish:"SF"}};if(i&&i.durationFormatter&&(a.durationFormatter=i.durationFormatter),i&&i.labels)for(var e in i.labels)a.labels[e]=i.labels[e];return a},c.create=function(i,a){return void 0===i&&(i=null),new c(i,a)},c}(f(227).default);$.default=u},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){void 0===s&&(s=null);var c=this;this.canParse=function(i){var a="",e=c._config.labels;for(var t in e){var n=e[t];a+=n.full+"|"+n.plural+"|"+n.short+"|"}return new RegExp("^([+-]? *[0-9.]{1,}\\s*("+a+")\\s*)*$").test((i||"").trim())},this.format=function(i){var e=c._config.format,t=c._config.short,n=c.transferUnits[c._config.store].toMinutes(i),r=e;if(r&&"auto"===r&&(r=c._selectFormatForValue(n)),r||(r="day"),"auto"===e&&!i)return"";for(var o="",l=(r=Array.isArray(r)?r:[r]).length-1,d=0;d<r.length;d++){var h=r[d],g=c._getValueFromMinutes(n,h,d===l);n-=c._getValueInMinutes(g,h),o+=c._getLabelForConvert(g,h,t)+(d===l?"":" ")}return o},this.parse=function(i){if(c.canParse(i)){for(var a="",e=!1,t=!1,n=0,r=(i=(i||"").trim()).length-1,o=/^[+\-0-9\. ]$/,l=0;l<i.length;l++){var d=i[l];o.test(d)?t=e:e=!0,(t||r===l)&&(t||(a+=d),n+=c._getNumericValue(a),e=t=!1,a=""),a+=d}if(n)return Math.round(c.transferUnits[c._config.store].fromMinutes(Math.ceil(n)))}return null},this._getValueInMinutes=function(i,a){return c.transferUnits[a]&&c.transferUnits[a].toMinutes?c.transferUnits[a].toMinutes(i):0},this._getLabelForConvert=function(i,a,e){var t=c._config.labels[a];return e?""+i+t.short:i+" "+(1!==i?t.plural:t.full)},this._getValueFromMinutes=function(i,a,e){if(c.transferUnits[a]&&c.transferUnits[a].fromMinutes){var t=c.transferUnits[a].fromMinutes(i);return e?parseFloat(t.toFixed(2)):parseInt(t.toString(),10)}return null},this._isUnitName=function(i,a){return a=a.toLowerCase(),i.full.toLowerCase()===a||i.plural.toLowerCase()===a||i.short.toLowerCase()===a},this._getUnitName=function(i){var a,e=c._config.labels,t=!1;for(a in e)if(c._isUnitName(e[a],i)){t=!0;break}return t?a:c._config.enter},this._config=this._defaultSettings(s),this.transferUnits={minute:{toMinutes:function(i){return i},fromMinutes:function(i){return i}},hour:{toMinutes:function(i){return i*c._config.minutesPerHour},fromMinutes:function(i){return i/c._config.minutesPerHour}},day:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay)}},week:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerWeek},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerWeek)}},month:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerMonth},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerMonth)}},year:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerYear},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerYear)}}}}return u.prototype._defaultSettings=function(s){void 0===s&&(s=null);var c={enter:"day",store:"hour",format:"auto",short:!1,minutesPerHour:60,hoursPerDay:8,hoursPerWeek:40,daysPerMonth:30,daysPerYear:365,labels:{minute:{full:"minute",plural:"minutes",short:"min"},hour:{full:"hour",plural:"hours",short:"h"},day:{full:"day",plural:"days",short:"d"},week:{full:"week",plural:"weeks",short:"wk"},month:{full:"month",plural:"months",short:"mon"},year:{full:"year",plural:"years",short:"y"}}};if(s){for(var i in s)void 0!==s[i]&&"labels"!==i&&(c[i]=s[i]);if(s.labels)for(var i in s.labels)c.labels[i]=s.labels[i]}return c},u.prototype._selectFormatForValue=function(s){for(var c=["year","month","day","hour","minute"],i=[],a=0;a<c.length;a++)i[a]=Math.abs(this.transferUnits[c[a]].fromMinutes(s));for(a=0;a<i.length;a++)if(!(i[a]<1&&a<i.length-1))return c[a];return"day"},u.prototype._getNumericValue=function(s){var c=parseFloat(s.replace(/ /g,""))||0,i=this._getUnitName(s.replace(/[^a-zA-Z]/gi,""));return c&&i?this._getValueInMinutes(c,i):0},u.create=function(s){return void 0===s&&(s=null),new u(s)},u}();$.default=_},function(C,$,f){var _=f(229).default,u=f(228).default;C.exports=function(s){s.ext.formatters={durationFormatter:function(c){return c||(c={}),c.store||(c.store=s.config.duration_unit),c.enter||(c.enter=s.config.duration_unit),_.create(c,s)},linkFormatter:function(c){return u.create(c,s)}}}},function(C,$){C.exports=function(f){function _(r){return function(){return!f.config.auto_types||f.getTaskType(f.config.types.project)!=f.config.types.project||r.apply(this,arguments)}}function u(r,o){var l=f.getTask(r),d=i(l);!1!==d&&f.getTaskType(l)!==d&&(o.$needsUpdate=!0,o[l.id]={task:l,type:d})}function s(r){if(!f.getState().group_mode){var o=(u(l=r,d=d||{}),f.eachParent(function(h){u(h.id,d)},l),d);o.$needsUpdate&&f.batchUpdate(function(){!function(l){for(var d in l)if(l[d]&&l[d].task){var h=l[d].task;h.type=l[d].type,f.updateTask(h.id)}}(o)})}var l,d}var c;function i(r){var o=f.config.types,l=f.hasChild(r.id),d=f.getTaskType(r.type);return l&&d===o.task?o.project:!l&&d===o.project&&o.task}var a,e,t=!0;function n(r){r!=f.config.root_id&&f.isTaskExists(r)&&s(r)}f.attachEvent("onParse",_(function(){t=!1,f.getState().group_mode||(f.batchUpdate(function(){f.eachTask(function(r){var l,d,o=i(r);!1!==o&&(l=r,d=o,f.getState().group_mode||(l.type=d,f.updateTask(l.id)))})}),t=!0)})),f.attachEvent("onAfterTaskAdd",_(function(r){t&&s(r)})),f.attachEvent("onAfterTaskUpdate",_(function(r){t&&s(r)})),f.attachEvent("onBeforeTaskDelete",_(function(r,o){return c=f.getParent(r),!0})),f.attachEvent("onAfterTaskDelete",_(function(r,o){n(c)})),f.attachEvent("onRowDragStart",_(function(r,o,l){return a=f.getParent(r),!0})),f.attachEvent("onRowDragEnd",_(function(r,o){n(a),s(r)})),f.attachEvent("onBeforeTaskMove",_(function(r,o,l){return e=f.getParent(r),!0})),f.attachEvent("onAfterTaskMove",_(function(r,o,l){document.querySelector(".gantt_drag_marker")||(n(e),s(r))}))}},function(C,$){C.exports=function(f){function _(e){return function(){return!f.config.placeholder_task||e.apply(this,arguments)}}function u(){var e=f.getTaskBy("type",f.config.types.placeholder);if(!e.length||!f.isTaskExists(e[0].id)){var t={unscheduled:!0,type:f.config.types.placeholder,duration:0,text:f.locale.labels.new_task};if(!1===f.callEvent("onTaskCreated",[t]))return;f.addTask(t)}}function s(e){var t=f.getTask(e);t.type==f.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),f.batchUpdate(function(){var n=f.copy(t);f.silent(function(){f.deleteTask(t.id)}),delete n["!nativeeditor_status"],n.type=f.config.types.task,n.id=f.uid(),f.addTask(n)}))}f.config.types.placeholder="placeholder",f.attachEvent("onDataProcessorReady",_(function(e){e&&!e._silencedPlaceholder&&(e._silencedPlaceholder=!0,e.attachEvent("onBeforeUpdate",_(function(t,n,r){return r.type!=f.config.types.placeholder||(e.setUpdated(t,!1),!1)})))}));var c=!1;function i(e){return!(!f.config.types.placeholder||!f.isTaskExists(e)||f.getTask(e).type!=f.config.types.placeholder)}function a(e){return!(!i(e.source)&&!i(e.target))}f.attachEvent("onGanttReady",function(){c||(c=!0,f.attachEvent("onAfterTaskUpdate",_(s)),f.attachEvent("onAfterTaskAdd",_(function(e,t){t.type!=f.config.types.placeholder&&(f.getTaskBy("type",f.config.types.placeholder).forEach(function(n){f.silent(function(){f.isTaskExists(n.id)&&f.deleteTask(n.id)})}),u())})),f.attachEvent("onParse",_(u)))}),f.attachEvent("onLinkValidation",function(e){return!a(e)}),f.attachEvent("onBeforeLinkAdd",function(e,t){return!a(t)}),f.attachEvent("onBeforeUndoStack",function(e){for(var t=0;t<e.commands.length;t++){var n=e.commands[t];"task"===n.entity&&n.value.type===f.config.types.placeholder&&(e.commands.splice(t,1),t--)}return!0})}},function(C,$){C.exports=function(f){var _="$resourceAssignments";f.config.resource_assignment_store="resourceAssignments",f.config.process_resource_assignments=!0;var u={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=u.auto,c={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(h,g){h.start_date=h.start_date?f.date.parseDate(h.start_date,"parse_date"):null,h.end_date=h.end_date?f.date.parseDate(h.end_date,"parse_date"):null;var p=Number(h.delay),y=!1;if(isNaN(p)?(h.delay=0,y=!0):h.delay=p,f.defined(h.value)||(h.value=null),!h.task_id||!h.resource_id)return!1;if(h.mode=h.mode||c.default,h.mode===c.fixedDuration&&(isNaN(Number(h.duration))&&(g=g||f.getTask(h.task_id),h.duration=f.calculateDuration({start_date:h.start_date,end_date:h.end_date,id:g})),y&&(g=g||f.getTask(h.task_id),h.delay=f.calculateDuration({start_date:g.start_date,end_date:h.start_date,id:g}))),h.mode!==c.fixedDates&&(g||f.isTaskExists(h.task_id))){var v=e(h,g=g||f.getTask(h.task_id));h.start_date=v.start_date,h.end_date=v.end_date,h.duration=v.duration}}var a=f.createDatastore({name:f.config.resource_assignment_store,initItem:function(h){return h.id||(h.id=f.uid()),i(h),h}});function e(h,g){if(h.mode===c.fixedDates)return{start_date:h.start_date,end_date:h.end_date,duration:h.duration};var p,y,v=h.delay?f.calculateEndDate({start_date:g.start_date,duration:h.delay,task:g}):new Date(g.start_date);return h.mode===c.fixedDuration?(p=f.calculateEndDate({start_date:v,duration:h.duration,task:g}),y=h.duration):(p=new Date(g.end_date),y=g.duration-h.delay),{start_date:v,end_date:p,duration:y}}function t(h){var p=h[f.config.resource_property],y=[],v=s===u.auto;if(f.defined(p)&&p){Array.isArray(p)||(p=[p],v&&(s=u.singleValue,v=!1));var m={};p.forEach(function(k){k.resource_id||(k={resource_id:k},v&&(s=u.valueArray,v=!1)),v&&(k.id&&k.resource_id?(s=u.assignmentsArray,v=!1):(s=u.resourceValueArray,v=!1));var b,S=c.default;k.mode||(k.start_date&&k.end_date||k.start_date&&k.duration)&&(S=c.fixedDuration),b=k.id||!k.$id||m[k.$id]?k.id&&!m[k.id]?k.id:f.uid():k.$id,m[b]=!0;var x={id:b,start_date:k.start_date,duration:k.duration,end_date:k.end_date,delay:k.delay,task_id:h.id,resource_id:k.resource_id,value:k.value,mode:k.mode||S};x.start_date&&x.start_date.getMonth&&x.end_date&&x.end_date.getMonth&&"number"==typeof x.duration||i(x,h),y.push(x)})}return y}function n(h){if(f.isTaskExists(h)){var g=f.getTask(h);r(g,f.getTaskAssignments(g.id))}}function r(h,g){g.sort(function(p,y){return p.start_date&&y.start_date&&p.start_date.valueOf()!=y.start_date.valueOf()?p.start_date-y.start_date:0}),s==u.assignmentsArray?h[f.config.resource_property]=g:s==u.resourceValueArray&&(h[f.config.resource_property]=g.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),h[_]=g}function o(h){var g=t(h),p=[];return g.forEach(function(y){y.id=y.id||f.uid(),p.push(y)}),g}function l(h,g){var p=function(y,v){var m={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==u.singleValue){var k=y[0],b=k?k.resource_id:null,S=!1;v.forEach(function(E){E.resource_id!=b?m.inStoreNotInTask.push(E):E.resource_id==b&&(m.inBoth.push({store:E,task:k}),S=!0)}),!S&&k&&m.inTaskNotInStore.push(k)}else if(s==u.valueArray){var x={},w={},T={};y.forEach(function(E){x[E.resource_id]=E}),v.forEach(function(E){w[E.resource_id]=E}),y.concat(v).forEach(function(E){if(!T[E.resource_id]){T[E.resource_id]=!0;var I=x[E.resource_id],P=w[E.resource_id];I&&P?m.inBoth.push({store:P,task:I}):I&&!P?m.inTaskNotInStore.push(I):!I&&P&&m.inStoreNotInTask.push(P)}})}else s!=u.assignmentsArray&&s!=u.resourceValueArray||(x={},w={},T={},y.forEach(function(E){x[E.id||E.$id]=E}),v.forEach(function(E){w[E.id]=E}),y.concat(v).forEach(function(E){var I=E.id||E.$id;if(!T[I]){T[I]=!0;var P=x[I],L=w[I];P&&L?m.inBoth.push({store:L,task:P}):P&&!L?m.inTaskNotInStore.push(P):!P&&L&&m.inStoreNotInTask.push(L)}}));return m}(t(h),g);p.inStoreNotInTask.forEach(function(y){a.removeItem(y.id)}),p.inTaskNotInStore.forEach(function(y){a.addItem(y)}),p.inBoth.forEach(function(y){if(function(m,k){var b={id:!0};for(var S in m)if(!b[S]&&String(m[S])!==String(k[S]))return!0;return!1}(y.task,y.store))(function(m,k){var b={id:!0};for(var S in m)b[S]||(k[S]=m[S])})(y.task,y.store),a.updateItem(y.store.id);else if(y.task.start_date&&y.task.end_date&&y.task.mode!==c.fixedDates){var v=e(y.store,h);y.store.start_date.valueOf()==v.start_date.valueOf()&&y.store.end_date.valueOf()==v.end_date.valueOf()||(y.store.start_date=v.start_date,y.store.end_date=v.end_date,y.store.duration=v.duration,a.updateItem(y.store.id))}}),n(h.id)}function d(h){var g=h[_]||a.find(function(p){return p.task_id==h.id});l(h,g)}f.$data.assignmentsStore=a,f.attachEvent("onGanttReady",function(){if(f.config.process_resource_assignments){f.attachEvent("onParse",function(){f.silent(function(){a.clearAll();var b=[];f.eachTask(function(S){if(S.type!==f.config.types.project){var x=o(S);r(S,x),x.forEach(function(w){b.push(w)})}}),a.parse(b)})});var h=!1,g=!1,p={},y=!1;f.attachEvent("onBeforeBatchUpdate",function(){h=!0}),f.attachEvent("onAfterBatchUpdate",function(){if(g){var b={};for(var S in p)b[S]=f.getTaskAssignments(p[S].id);for(var S in p)l(p[S],b[S])}g=!1,h=!1,p={}}),f.attachEvent("onTaskCreated",function(b){var S=o(b);return a.parse(S),r(b,S),!0}),f.attachEvent("onAfterTaskUpdate",function(b,S){h?(g=!0,p[b]=S):d(S)}),f.attachEvent("onAfterTaskAdd",function(b,S){h?(g=!0,p[b]=S):d(S)}),f.attachEvent("onRowDragEnd",function(b){d(f.getTask(b))}),f.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(b,S){var T,x=[b];f.eachTask(function(w){x.push(w.id)},b),T={},x.forEach(function(E){T[E]=!0}),a.find(function(E){return T[E.task_id]}).forEach(function(E){a.removeItem(E.id)})}),f.$data.tasksStore.attachEvent("onClearAll",function(){return v=null,m=null,k=null,a.clearAll(),!0}),f.attachEvent("onTaskIdChange",function(b,S){a.find(function(x){return x.task_id==b}).forEach(function(x){x.task_id=S,a.updateItem(x.id)}),n(S)}),f.attachEvent("onBeforeUndo",function(b){return y=!0,!0}),f.attachEvent("onAfterUndo",function(b){y=!0});var v=null,m=null,k=null;a.attachEvent("onStoreUpdated",function(){return!(!h||y)||(v=null,m=null,k=null,!0)}),f.getResourceAssignments=function(b,S){var x=f.defined(S)&&null!==S;return null===v&&(v={},m={},a.eachItem(function(w){v[w.resource_id]||(v[w.resource_id]=[]),v[w.resource_id].push(w);var T=w.resource_id+"-"+w.task_id;m[T]||(m[T]=[]),m[T].push(w)})),x?(m[b+"-"+S]||[]).slice():(v[b]||[]).slice()},f.getTaskAssignments=function(b){if(null===k){var S=[];k={},a.eachItem(function(x){k[x.task_id]||(k[x.task_id]=[]),k[x.task_id].push(x),x.task_id==b&&S.push(x)})}return(k[b]||[]).slice()},f.getTaskResources=function(b){var S=f.getDatastore("resource"),x={};f.getTaskAssignments(b).forEach(function(I){x[I.resource_id]||(x[I.resource_id]=I.resource_id)});var w=[];for(var T in x){var E=S.getItem(x[T]);E&&w.push(E)}return w},f.updateTaskAssignments=n}},{once:!0})}},function(C,$,f){var _=f(2);C.exports=function(s){var e,t,c=function u(s){var c={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){c={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){c={}});var a=String(Math.random());function e(o){return null===o?a+String(o):String(o)}function t(o,l,d){return Array.isArray(o)?o.map(function(h){return e(h)}).join("_")+"_".concat(l,"_").concat(d):e(o)+"_".concat(l,"_").concat(d)}function n(o,l,d){var h,g=t(l,o,JSON.stringify(d)),p={};return _.forEach(l,function(y){p[e(y)]=!0}),c[g]?h=c[g]:(h=c[g]=[],s.eachTask(function(y){if(d){if(!d[s.getTaskType(y)])return}else if(y.type==s.config.types.project)return;var v;o in y&&(v=_.isArray(y[o])?y[o]:[y[o]],_.forEach(v,function(m){if(p[e(m&&m.resource_id?m.resource_id:m)])h.push(y);else if(!i){var b=t(m,o);c[b]||(c[b]=[]),c[b].push(y)}}))}),i=!0),h}function r(o,l,d){var h=s.config.resource_property,g=[];if(s.getDatastore("task").exists(l)){var p=s.getTask(l);g=p[h]||[]}Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].resource_id==o&&d.push({task_id:p.id,resource_id:g[y].resource_id,value:g[y].value})}return{getTaskBy:function(o,l,d){return"function"==typeof o?(h=o,g=[],s.eachTask(function(p){h(p)&&g.push(p)}),g):_.isArray(l)?n(o,l,d):n(o,[l],d);var h,g},getResourceAssignments:function(o,l){var d=[],h=s.config.resource_property;return void 0!==l?r(o,l,d):s.getTaskBy(h,o).forEach(function(g){r(o,g.id,d)}),d}}}(s);s.ext.resources=(e=s,t={renderEditableLabel:function(n,r,o,l,d){var h=e.config.readonly?"":"contenteditable";if(n<o.end_date&&r>o.start_date){for(var g=0;g<d.length;g++){var p=d[g];return"<div "+h+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+o.id+"' data-task='"+o.$task_id+"' data-start-date='"+e.templates.format_date(n)+"' data-end-date='"+e.templates.format_date(r)+"'>"+p.value+"</div>"}return"<div "+h+" data-assignment-cell data-empty  data-row-id='"+o.id+"' data-resource-id='"+o.$resource_id+"' data-task='"+o.$task_id+"' data-start-date='"+e.templates.format_date(n)+"''  data-end-date='"+e.templates.format_date(r)+"'>-</div>"}return""},renderSummaryLabel:function(n,r,o,l,d){var h=d.reduce(function(g,p){return g+Number(p.value)},0);return h%1&&(h=Math.round(10*h)/10),h?"<div>"+h+"</div>":""},editableResourceCellTemplate:function(n,r,o,l,d){return"task"===o.$role?t.renderEditableLabel(n,r,o,l,d):t.renderSummaryLabel(n,r,o,l,d)},editableResourceCellClass:function(n,r,o,l,d){var h=[];h.push("resource_marker"),h.push("task"===o.$role?"task_cell":"resource_cell");var g=d.reduce(function(y,v){return y+Number(v.value)},0),p=Number(o.capacity);return isNaN(p)&&(p=8),h.push(g<=p?"workday_ok":"workday_over"),h.join(" ")},getSummaryResourceAssignments:function(n){var r,o=e.getDatastore(e.config.resource_store),l=o.getItem(n);return"task"===l.$role?r=e.getResourceAssignments(l.$resource_id,l.$task_id):(r=e.getResourceAssignments(n),o.eachItem&&o.eachItem(function(d){"task"!==d.$role&&(r=r.concat(e.getResourceAssignments(d.id)))},n)),r},initEditableDiagram:function(){e.config.resource_render_empty_cells=!0,function(){var n=null;function r(){return n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){Array.prototype.slice.call(e.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(o){o.contentEditable=!0})}),!0}e.attachEvent("onGanttReady",function(){e.getDatastore(e.config.resource_assignment_store).attachEvent("onStoreUpdated",r),e.getDatastore(e.config.resource_store).attachEvent("onStoreUpdated",r)},{once:!0}),e.attachEvent("onGanttLayoutReady",function(){e.$layout.getCellsByType("viewCell").forEach(function(o){o.$config&&"resourceTimeline"===o.$config.view&&o.$content&&o.$content.attachEvent("onScroll",r)})})}(),e.attachEvent("onGanttReady",function(){var n=!1;e.event(e.$container,"keypress",function(r){var o=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");o&&(13!==r.keyCode&&27!==r.keyCode||o.blur())}),e.event(e.$container,"focusout",function(r){if(!n){n=!0,setTimeout(function(){n=!1},300);var o=r.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(o){var l=(o.innerText||"").trim();"-"==l&&(l="0");var d=Number(l),h=o.getAttribute("data-row-id"),g=o.getAttribute("data-assignment-id"),p=o.getAttribute("data-task"),y=o.getAttribute("data-resource-id"),v=e.templates.parse_date(o.getAttribute("data-start-date")),m=e.templates.parse_date(o.getAttribute("data-end-date")),k=e.getDatastore(e.config.resource_assignment_store);if(isNaN(d))e.getDatastore(e.config.resource_store).refresh(h);else{var b=e.getTask(p);if(e.plugins().undo&&e.ext.undo.saveState(p,"task"),g){if(d===(x=k.getItem(g)).value)return;if(x.start_date.valueOf()===v.valueOf()&&x.end_date.valueOf()===m.valueOf())x.value=d,d?k.updateItem(x.id):k.removeItem(x.id);else{if(x.end_date.valueOf()>m.valueOf()){var S=e.copy(x);S.id=e.uid(),S.start_date=m,S.duration=e.calculateDuration({start_date:S.start_date,end_date:S.end_date,task:b}),S.delay=e.calculateDuration({start_date:b.start_date,end_date:S.start_date,task:b}),S.mode=x.mode||"default",0!==S.duration&&k.addItem(S)}x.start_date.valueOf()<v.valueOf()?(x.end_date=v,x.duration=e.calculateDuration({start_date:x.start_date,end_date:x.end_date,task:b}),x.mode="fixedDuration",0===x.duration?k.removeItem(x.id):k.updateItem(x.id)):k.removeItem(x.id),d&&k.addItem({task_id:x.task_id,resource_id:x.resource_id,value:d,start_date:v,end_date:m,duration:e.calculateDuration({start_date:v,end_date:m,task:b}),delay:e.calculateDuration({start_date:b.start_date,end_date:v,task:b}),mode:"fixedDuration"})}e.updateTaskAssignments(b.id),e.updateTask(b.id)}else if(d){var x={task_id:p,resource_id:y,value:d,start_date:v,end_date:m,duration:e.calculateDuration({start_date:v,end_date:m,task:b}),delay:e.calculateDuration({start_date:b.start_date,end_date:v,task:b}),mode:"fixedDuration"};k.addItem(x),e.updateTaskAssignments(b.id),e.updateTask(b.id)}}}}})},{once:!0})}}),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||s.config.root_id,e[s.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){var t=[],n=s.getDatastore(s.config.resource_store);return e.forEach(function(r){if(!n.hasChild(r.id)){var o=s.copy(r);o.key=r.id,o.label=r.text,t.push(o)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var e=s.config.resources?s.config.resources.resource_store:void 0,t=e?e.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var n=function(o){return o.parent=o.parent||s.config.root_id,o[s.config.resource_property]=o.parent,o.open=!0,o};e&&e.initItem&&(n=e.initItem),s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:e&&e.type?e.type:"treeDatastore",fetchTasks:void 0!==t&&t,initItem:n}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var o=function(d){var h=[];return d.forEach(function(g){if(!s.$resourcesStore.hasChild(g.id)){var p=s.copy(g);p.key=g.id,p.label=g.text,h.push(p)}}),h};s.config.resources&&s.config.resources.lightbox_resources&&(o=s.config.resources.lightbox_resources);var l=o(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",l)})}}),s.getTaskBy=c.getTaskBy,s.getResourceAssignments=c.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(e,t,n,r,o){},s.templates.histogram_cell_label=function(e,t,n,r,o){return r.length+"/3"},s.templates.histogram_cell_allocated=function(e,t,n,r,o){return r.length/3},s.templates.histogram_cell_capacity=function(e,t,n,r,o){return 0};var i=function(e,t,n,r,o){return r.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},a=function(e,t,n,r,o){return 8*r.length};s.templates.resource_cell_value=a,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===a&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function(C,$){C.exports=function(f){var s,_=(s=f,{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(c){return c?(this._isRecalcNeeded()&&this._calcWBS(),c.$virtual?"":this._isGroupSort()?c.$wbs||"":(c.$wbs||(this.reset(),this._calcWBS()),c.$wbs)):""},_setWBSCode:function(c,i){c.$wbs=i},getWBSCode:function(c){return this._getWBSCode(c)},getByWBSCode:function(c){for(var i=c.split("."),a=s.config.root_id,e=0;e<i.length;e++){var t=s.getChildren(a),n=1*i[e]-1;if(!s.isTaskExists(t[n]))return null;a=t[n]}return s.isTaskExists(a)?s.getTask(a):null},_calcWBS:function(){if(this._isRecalcNeeded()){var c=!0;s.eachTask(function(i){if(c)return c=!1,void this._setWBSCode(i,"1");var a=s.getPrevSibling(i.id);if(null!==a){var e=s.getTask(a).$wbs;e&&((e=e.split("."))[e.length-1]++,this._setWBSCode(i,e.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}});function u(){return _.reset(),!0}f.getWBSCode=function(s){return _.getWBSCode(s)},f.getTaskByWBSCode=function(s){return _.getByWBSCode(s)},f.attachEvent("onAfterTaskMove",u),f.attachEvent("onBeforeParse",u),f.attachEvent("onAfterTaskDelete",u),f.attachEvent("onAfterTaskAdd",u),f.attachEvent("onAfterSort",u)}},function(C,$,f){var _=f(17);function u(s){var c={},i=!1;function a(r,o){o="function"==typeof o?o:function(){},c[r]||(c[r]=this[r],this[r]=o)}function e(r){c[r]&&(this[r]=c[r],c[r]=null)}function t(){for(var r in c)e.call(this,r)}function n(r){try{r()}catch(o){_.console.error(o)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(r,o){if(i)n(r);else{var l,d=this._dp&&"off"!=this._dp.updateMode;d&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));var h={},g={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(y){h[y.id]=y}};for(var p in function(y){for(var v in y)a.call(this,v,y[v])}.call(this,g),i=!0,this.callEvent("onBeforeBatchUpdate",[]),n(r),this.callEvent("onAfterBatchUpdate",[]),t.call(this),h)this.resetProjectDates(h[p]);i=!1,o||this.render(),d&&(this._dp.setUpdateMode(l),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}C.exports=function(s){s.batchUpdate=u(s)}},function(C,$,f){C.exports=function(_){_.ext||(_.ext={});for(var u=[f(236),f(235),f(234),f(233),f(232),f(231),f(230),f(226).default],s=0;s<u.length;s++)u[s]&&u[s](_)}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(0),u=function(){function s(){var c=this;this.clear=function(){c._storage={}},this.storeItem=function(i){c._storage[i.id]=_.copy(i)},this.getStoredItem=function(i){return c._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();$.default=u},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(_,u){_.getUserData=function(s,c,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][c]?this.userdata[i][s][c]:""},_.setUserData=function(s,c,i,a){this.userdata||(this.userdata={}),this.userdata[a]=this.userdata[a]||{},this.userdata[a][s]=this.userdata[a][s]||{},this.userdata[a][s][c]=i},_._change_id=function(s,c){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,c);break;case"link":this.changeLinkId(s,c);break;case"assignment":this.$data.assignmentsStore.changeId(s,c);break;case"resource":this.$data.resourcesStore.changeId(s,c);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+c)}},_._row_style=function(s,c){"task"===this._dp._ganttMode&&_.isTaskExists(s)&&(_.getTask(s).$dataprocessor_class=c,_.refreshTask(s))},_._delete_task=function(s,c){},_._sendTaskOrder=function(s,c){c.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=c.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},_.setDp=function(){this._dp=u},_.setDp()}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(2),u=function(){function s(c,i){this.$gantt=c,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var c=this,i=this.$dp,a=this.$gantt,e=f(48),t={},n=function(l){return c.clientSideDelete(l,i,a)};this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskAdd",function(l,d){a.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskUpdate",function(l,d){a.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0),a._sendTaskOrder&&a._sendTaskOrder(l,d))})),this._dataProcessorHandlers.push(a.attachEvent("onBeforeTaskDelete",function(l,d){return a.config.cascade_delete&&(t[l]={tasks:e.getSubtreeTasks(a,l),links:e.getSubtreeLinks(a,l)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(l,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(a.attachEvent("onAfterTaskDelete",function(l,d){i.setGanttMode("tasks");var h=!n(l),g=a.config.cascade_delete&&t[l];if(h||g){if(g){var p=i.updateMode;i.setUpdateMode("off");var y=t[l];for(var v in y.tasks)n(v)||(i.storeItem(y.tasks[v]),i.setUpdated(v,!0,"deleted"));for(var v in i.setGanttMode("links"),y.links)n(v)||(i.storeItem(y.links[v]),i.setUpdated(v,!0,"deleted"));t[l]=null,"off"!==p&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}h&&(i.storeItem(d),i.deleteAfterConfirmation||i.setUpdated(l,!0,"deleted")),"off"===i.updateMode||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkUpdate",function(l,d){a.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkAdd",function(l,d){a.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(a.attachEvent("onAfterLinkDelete",function(l,d){i.setGanttMode("links"),!n(l)&&(i.storeItem(d),i.setUpdated(l,!0,"deleted"))})),this._dataProcessorHandlers.push(a.attachEvent("onRowDragEnd",function(l,d){a._sendTaskOrder(l,a.getTask(l))}));var r=null,o=null;this._dataProcessorHandlers.push(a.attachEvent("onTaskIdChange",function(l,d){if(i._waitMode){var h=a.getChildren(d);if(h.length){r=r||{};for(var g=0;g<h.length;g++){var p=this.getTask(h[g]);r[p.id]=p}}var y=(k=[],(m=this.getTask(d)).$source&&(k=k.concat(m.$source)),m.$target&&(k=k.concat(m.$target)),k);if(y.length)for(o=o||{},g=0;g<y.length;g++){var v=this.getLink(y[g]);o[v.id]=v}}var m,k})),i.attachEvent("onAfterUpdateFinish",function(){(r||o)&&(a.batchUpdate(function(){for(var l in r)a.updateTask(r[l].id);for(var l in o)a.updateLink(o[l].id);r=null,o=null}),a._dp.setGanttMode(r?"tasks":"links"))}),i.attachEvent("onBeforeDataSending",function(){if("CUSTOM"===this._tMode)return!0;var l=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){var d=this._ganttMode;l=l.substring(0,l.indexOf("?")>-1?l.indexOf("?"):l.length),this.serverProcessor=l+("/"===l.slice(-1)?"":"/")+d}else{var h=this._ganttMode+"s";this.serverProcessor=l+a.ajax.urlSeparator(l)+"gantt_mode="+h}return!0}),i.attachEvent("insertCallback",function(l,d,h,g){var p=l.data||a.xml._xmlNodeToJSON(l.firstChild),y={add:a.addTask,isExist:a.isTaskExists};"links"===g&&(y.add=a.addLink,y.isExist=a.isLinkExists),y.isExist.call(a,d)||(p.id=d,y.add.call(a,p))}),i.attachEvent("updateCallback",function(l,d){var h=l.data||a.xml._xmlNodeToJSON(l.firstChild);if(a.isTaskExists(d)){var g=a.getTask(d);for(var p in h){var y=h[p];switch(p){case"id":continue;case"start_date":case"end_date":y=a.defined(a.templates.xml_date)?a.templates.xml_date(y):a.templates.parse_date(y);break;case"duration":g.end_date=a.calculateEndDate({start_date:g.start_date,duration:y,task:g})}g[p]=y}a.updateTask(d),a.refreshData()}}),i.attachEvent("deleteCallback",function(l,d,h,g){var p={delete:a.deleteTask,isExist:a.isTaskExists};"links"===g?(p.delete=a.deleteLink,p.isExist=a.isLinkExists):"assignment"===g&&(p.delete=function(y){a.$data.assignmentsStore.remove(y)},p.isExist=function(y){return a.$data.assignmentsStore.exists(y)}),p.isExist.call(a,d)&&p.delete.call(a,d)}),this.handleResourceCRUD(i,a),this.handleResourceAssignmentCRUD(i,a)},s.prototype.clientSideDelete=function(c,i,a){var e=i.updatedRows.slice(),t=!1;"true_deleted"===a.getUserData(c,"!nativeeditor_status",i._ganttMode)&&(t=!0,i.setUpdated(c,!1));for(var n=0;n<e.length&&!i._in_progress[c];n++)e[n]===c&&("inserted"===a.getUserData(c,"!nativeeditor_status",i._ganttMode)&&(t=!0),i.setUpdated(c,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(c,i){var a=this;if(i.config.resources&&!0===i.config.resources.dataprocessor_assignments){var e=i.getDatastore(i.config.resource_assignment_store),t={},n={};i.attachEvent("onBeforeTaskAdd",function(o,l){return t[o]=!0,!0}),i.attachEvent("onTaskIdChange",function(o,l){delete t[o]}),e.attachEvent("onAfterAdd",function(o,l){var d;t[l.task_id]?(n[(d=l).id]=d,t[d.task_id]=!0):r(l)}),e.attachEvent("onAfterUpdate",function(o,l){e.exists(o)&&(n[o]?r(l):(c.setGanttMode("assignment"),c.setUpdated(o,!0)))}),e.attachEvent("onAfterDelete",function(o,l){c.setGanttMode("assignment"),!a.clientSideDelete(o,c,i)&&(c.storeItem(l),c.setUpdated(o,!0,"deleted"))})}function r(o){var l=o.id;e.exists(l)&&(c.setGanttMode("assignment"),c.setUpdated(l,!0,"inserted")),delete n[l]}},s.prototype.handleResourceCRUD=function(c,i){var a=this;if(i.config.resources&&!0===i.config.resources.dataprocessor_resources){var e=i.getDatastore(i.config.resource_store);e.attachEvent("onAfterAdd",function(t,n){var o;e.exists(o=n.id)&&(c.setGanttMode("resource"),c.setUpdated(o,!0,"inserted"))}),e.attachEvent("onAfterUpdate",function(t,n){e.exists(t)&&(c.setGanttMode("resource"),c.setUpdated(t,!0))}),e.attachEvent("onAfterDelete",function(t,n){c.setGanttMode("resource"),!a.clientSideDelete(t,c,i)&&(c.storeItem(n),c.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var c=this;_.forEach(this._dataProcessorHandlers,function(i){c.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();$.default=u},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(5),u=f(2),s=f(0),c=f(240),i=f(239),a=f(238);$.createDataProcessor=function(t){var n,r;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(n=t),r=n?"CUSTOM":t.mode||"REST-JSON";var o=new e(t.url);return o.init(this),o.setTransactionMode({mode:r,router:n},t.batchUpdate),t.deleteAfterConfirmation&&(o.deleteAfterConfirmation=t.deleteAfterConfirmation),o};var e=function(){function t(n){this.serverProcessor=n,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=a.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),_(this)}return t.prototype.setTransactionMode=function(n,r){"object"==typeof n?(this._tMode=n.mode||this._tMode,s.defined(n.headers)&&(this._headers=n.headers),s.defined(n.payload)&&(this._payload=n.payload),this._tSend=!!r):(this._tMode=n,this._tSend=r),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=n.router)},t.prototype.escape=function(n){return this._utf?encodeURIComponent(n):escape(n)},t.prototype.enableUTFencoding=function(n){this._utf=!!n},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(n,r){this.autoUpdate="cell"===n,this.updateMode=n,this.dnd=r},t.prototype.ignore=function(n,r){this._silent_mode=!0,n.call(r||window),this._silent_mode=!1},t.prototype.setUpdated=function(n,r,o){if(!this._silent_mode){var l=this.findRow(n);o=o||"updated";var d=this.$gantt.getUserData(n,this.action_param,this._ganttMode);d&&"updated"===o&&(o=d),r?(this.set_invalid(n,!1),this.updatedRows[l]=n,this.$gantt.setUserData(n,this.action_param,o,this._ganttMode),this._in_progress[n]&&(this._in_progress[n]="wait")):this.is_invalid(n)||(this.updatedRows.splice(l,1),this.$gantt.setUserData(n,this.action_param,"",this._ganttMode)),this.markRow(n,r,o),r&&this.autoUpdate&&this.sendData(n)}},t.prototype.markRow=function(n,r,o){var l="",d=this.is_invalid(n);if(d&&(l=this.styles[d],r=!0),this.callEvent("onRowMark",[n,r,o,d])&&(this.$gantt[this._methods[0]](n,l=this.styles[r?o:"clear"]+" "+l),d&&d.details)){l+=this.styles[d+"_cell"];for(var h=0;h<d.details.length;h++)d.details[h]&&this.$gantt[this._methods[1]](n,h,l)}},t.prototype.getActionByState=function(n){return"inserted"===n?"create":"updated"===n?"update":"deleted"===n?"delete":"update"},t.prototype.getState=function(n){return this.$gantt.getUserData(n,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(n){return this._invalid[n]},t.prototype.set_invalid=function(n,r,o){o&&(r={value:r,details:o,toString:function(){return this.value.toString()}}),this._invalid[n]=r},t.prototype.checkBeforeUpdate=function(n){return!0},t.prototype.sendData=function(n){var r=this;if(this.$gantt.editStop&&this.$gantt.editStop(),void 0===n||this._tSend){var o=[];if(this.modes&&["task","link","assignment"].forEach(function(d){r.modes[d]&&r.modes[d].updatedRows.length&&o.push(d)}),o.length){for(var l=0;l<o.length;l++)this.setGanttMode(o[l]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[n]&&(this.messages=[],!(!this.checkBeforeUpdate(n)&&this.callEvent("onValidationError",[n,this.messages]))&&void this._beforeSendData(this._getRowData(n),n))},t.prototype.serialize=function(n,r){if(this._serializeAsJson)return this._serializeAsJSON(n);if("string"==typeof n)return n;if(void 0!==r)return this.serialize_one(n,"");var o=[],l=[];for(var d in n)n.hasOwnProperty(d)&&(o.push(this.serialize_one(n[d],d+this._postDelim)),l.push(d));return o.push("ids="+this.escape(l.join(","))),this.$gantt.security_key&&o.push("dhx_security="+this.$gantt.security_key),o.join("&")},t.prototype.serialize_one=function(n,r){if("string"==typeof n)return n;var o=[],l="";for(var d in n)if(n.hasOwnProperty(d)){if(("id"===d||d==this.action_param)&&"REST"===this._tMode)continue;l="string"==typeof n[d]||"number"==typeof n[d]?n[d]:JSON.stringify(n[d]),o.push(this.escape((r||"")+d)+"="+this.escape(l))}return o.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var n=!0;if(this._forEachUpdatedRow(function(r){n=n&&this.checkBeforeUpdate(r)}),!n&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(r){if(!this._in_progress[r]){if(this.is_invalid(r))return;this._beforeSendData(this._getRowData(r),r)}})}},t.prototype.findRow=function(n){var r=0;for(r=0;r<this.updatedRows.length&&n!=this.updatedRows[r];r++);return r},t.prototype.defineAction=function(n,r){this._uActions||(this._uActions={}),this._uActions[n]=r},t.prototype.afterUpdateCallback=function(n,r,o,l,d){var h=this;if(this.$gantt){this.setGanttMode(d);var g=n,p="error"!==o&&"invalid"!==o;if(p||this.set_invalid(n,o),this._uActions&&this._uActions[o]&&!this._uActions[o](l))return delete this._in_progress[g];"wait"!==this._in_progress[g]&&this.setUpdated(n,!1);var y=n;switch(o){case"inserted":case"insert":r!=n&&(this.setUpdated(n,!1),this.$gantt[this._methods[2]](n,r),n=r);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&"task"===this._ganttMode){if("task"===this._ganttMode&&this.$gantt.isTaskExists(n)){this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode);var v=this.$gantt.getTask(n);this.$gantt.silent(function(){h.$gantt.deleteTask(n)}),this.$gantt.callEvent("onAfterTaskDelete",[n,v]),this.$gantt.render(),delete this._in_progress[g]}return this.callEvent("onAfterUpdate",[n,o,r,l])}return this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](n),delete this._in_progress[g],this.callEvent("onAfterUpdate",[n,o,r,l])}"wait"!==this._in_progress[g]?(p&&this.$gantt.setUserData(n,this.action_param,"",this._ganttMode),delete this._in_progress[g]):(delete this._in_progress[g],this.setUpdated(r,!0,this.$gantt.getUserData(n,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[y,o,r,l])}},t.prototype.afterUpdate=function(n,r,o){var l,d=this;l=3===arguments.length?arguments[1]:arguments[4];var h=this.getGanttMode(),g=l.filePath||l.url;h="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==g.indexOf("gantt_mode=links")?"link":-1!==g.indexOf("gantt_mode=assignments")?"assignment":"task":g.indexOf("/link")>=0?"link":g.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(h);var p,y=this.$gantt.ajax;try{p=JSON.parse(r.xmlDoc.responseText)}catch{r.xmlDoc.responseText.length||(p={})}var v=function(E){var I=p.action||d.getState(E)||"updated";n.afterUpdateCallback(p.sid||E[0],p.tid||E[0],I,p,h)};if(p)return Array.isArray(o)&&o.length>1?o.forEach(function(E){return v(E)}):v(o),n.finalizeUpdate(),void this.setGanttMode(h);var m=y.xmltop("data",r.xmlDoc);if(!m)return this.cleanUpdate(o);var k=y.xpath("//data/action",m);if(!k.length)return this.cleanUpdate(o);for(var b=0;b<k.length;b++){var S=k[b],x=S.getAttribute("type"),w=S.getAttribute("sid"),T=S.getAttribute("tid");n.afterUpdateCallback(w,T,x,S,h)}n.finalizeUpdate()},t.prototype.cleanUpdate=function(n){if(n)for(var r=0;r<n.length;r++)delete this._in_progress[n[r]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(n){if(!this._initialized){this.$gantt=n,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var r=new c.default(this.$gantt,this);r.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,r.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(n){this.attachEvent("onAfterUpdate",n)},t.prototype.setOnBeforeUpdateHandler=function(n){this.attachEvent("onBeforeDataSending",n)},t.prototype.setAutoUpdate=function(n,r){var o=this;n=n||2e3,this._user=r||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){o.loadUpdate()},n)},t.prototype.afterAutoUpdate=function(n,r,o,l){return"collision"!==r||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(n,r){var o=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,o.get(n,r)},t.prototype.loadUpdate=function(){var n=this,r=this.$gantt.ajax,o=this.$gantt.getUserData(0,"version",this._ganttMode),l=this.serverProcessor+r.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+o].join("&");l=l.replace("editing=true&",""),this.getUpdates(l,function(d){var h=r.xpath("//userdata",d);n.$gantt.setUserData(0,"version",n._getXmlNodeValue(h[0]),n._ganttMode);var g=r.xpath("//update",d);if(g.length){n._silent_mode=!0;for(var p=0;p<g.length;p++){var y=g[p].getAttribute("status"),v=g[p].getAttribute("id"),m=g[p].getAttribute("parent");switch(y){case"inserted":n.callEvent("insertCallback",[g[p],v,m]);break;case"updated":n.callEvent("updateCallback",[g[p],v,m]);break;case"deleted":n.callEvent("deleteCallback",[g[p],v,m])}}n._silent_mode=!1}n._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(n){"tasks"===n?n="task":"links"===n&&(n="link");var r=this.modes||{},o=this.getGanttMode();o&&(r[o]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var l=r[n];l||(l=r[n]={_in_progress:{},_invalid:{},_storage:a.default.create(),updatedRows:[]}),this._in_progress=l._in_progress,this._invalid=l._invalid,this._storage=l._storage,this.updatedRows=l.updatedRows,this.modes=r,this._ganttMode=n},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(n){this._storage.storeItem(n)},t.prototype.url=function(n){this.serverProcessor=this._serverProcessor=n},t.prototype._beforeSendData=function(n,r){if(!this.callEvent("onBeforeUpdate",[r,this.getState(r),n]))return!1;this._sendData(n,r)},t.prototype._serializeAsJSON=function(n){if("string"==typeof n)return n;var r=s.copy(n);return"REST-JSON"===this._tMode&&(delete r.id,delete r[this.action_param]),JSON.stringify(r)},t.prototype._applyPayload=function(n){var r=this.$gantt.ajax;if(this._payload)for(var o in this._payload)n=n+r.urlSeparator(n)+this.escape(o)+"="+this.escape(this._payload[o]);return n},t.prototype._cleanupArgumentsBeforeSend=function(n){var r;if(void 0===n[this.action_param])for(var o in r={},n)r[o]=this._cleanupArgumentsBeforeSend(n[o]);else r=this._cleanupItemBeforeSend(n);return r},t.prototype._cleanupItemBeforeSend=function(n){var r=null;return n&&("deleted"===n[this.action_param]?((r={}).id=n.id,r[this.action_param]=n[this.action_param]):r=n),r},t.prototype._sendData=function(n,r){var o=this;if(n){if(!this.callEvent("onBeforeDataSending",r?[r,this.getState(r),n]:[null,null,n]))return!1;r&&(this._in_progress[r]=(new Date).valueOf());var l=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var d;d={callback:function(P){var L=[];if(r)L.push(r);else if(n)for(var H in n)L.push(H);return o.afterUpdate(o,P,L)},headers:this._headers};var h,g="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,g].join("&"):""),y=this._applyPayload(p);switch(this._tMode){case"GET":h=this._cleanupArgumentsBeforeSend(n),d.url=y+l.urlSeparator(y)+this.serialize(h,r),d.method="GET";break;case"POST":h=this._cleanupArgumentsBeforeSend(n),d.url=y,d.method="POST",d.data=this.serialize(h,r);break;case"JSON":h={};var v=this._cleanupItemBeforeSend(n);for(var m in v)m!==this.action_param&&"id"!==m&&"gr_id"!==m&&(h[m]=v[m]);d.url=y,d.method="POST",d.data=JSON.stringify({id:r,action:n[this.action_param],data:h});break;case"REST":case"REST-JSON":switch(y=p.replace(/(&|\?)editing=true/,""),h="",this.getState(r)){case"inserted":d.method="POST",d.data=this.serialize(n,r);break;case"deleted":d.method="DELETE",y=y+("/"===y.slice(-1)?"":"/")+r;break;default:d.method="PUT",d.data=this.serialize(n,r),y=y+("/"===y.slice(-1)?"":"/")+r}d.url=this._applyPayload(y)}return this._waitMode++,l.query(d)}var k=this.getState(r),b=this.getActionByState(k),S=this.getGanttMode(),x=function(P){var L=k||"updated",H=r,F=r;P&&(L=P.action||k,H=P.sid||H,F=P.id||P.tid||F),o.afterUpdateCallback(H,F,L,P,S)},w=void 0;if(this._router instanceof Function)w="object"===this._routerParametersFormat?this._router({entity:S,action:b,data:n,id:r}):this._router(S,b,n,r);else if(this._router[S]instanceof Function)w=this._router[S](b,n,r);else{var E="Incorrect configuration of gantt.createDataProcessor",I="\nYou need to either add missing properties to the dataProcessor router object or to use a router function.\nSee https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.";if(!this._router[S])throw new Error(E+": router for the **"+S+"** entity is not defined. "+I);switch(k){case"inserted":if(!this._router[S].create)throw new Error(E+": **create** action for the **"+S+"** entity is not defined. "+I);w=this._router[S].create(n);break;case"deleted":if(!this._router[S].delete)throw new Error(E+": **delete** action for the **"+S+"** entity is not defined. "+I);w=this._router[S].delete(r);break;default:if(!this._router[S].update)throw new Error(E+': **update**" action for the **'+S+"** entity is not defined. "+I);w=this._router[S].update(n,r)}}if(w){if(!w.then&&void 0===w.id&&void 0===w.tid&&void 0===w.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");w.then?w.then(x).catch(function(P){x(P&&P.action?P:{action:"error",value:P})}):x(w)}else x(null)}},t.prototype._forEachUpdatedRow=function(n){for(var r=this.updatedRows.slice(),o=0;o<r.length;o++){var l=r[o];this.$gantt.getUserData(l,this.action_param,this._ganttMode)&&n.call(this,l)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(n){return n.firstChild?n.firstChild.nodeValue:""},t.prototype._getAllData=function(){var n={},r=!1;return this._forEachUpdatedRow(function(o){if(!this._in_progress[o]&&!this.is_invalid(o)){var l=this._getRowData(o);this.callEvent("onBeforeUpdate",[o,this.getState(o),l])&&(n[o]=l,r=!0,this._in_progress[o]=(new Date).valueOf())}}),r?n:null},t.prototype._prepareDate=function(n){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n)},t.prototype._prepareArray=function(n,r){var o=this;return r.push(n),n.map(function(l){return u.isDate(l)?o._prepareDate(l):Array.isArray(l)&&!u.arrayIncludes(r,l)?o._prepareArray(l,r):l&&"object"==typeof l&&!u.arrayIncludes(r,l)?o._prepareObject(l,r):l})},t.prototype._prepareObject=function(n,r){var o={};for(var l in r.push(n),n)if("$"!==l.substr(0,1)){var d=n[l];o[l]=u.isDate(d)?this._prepareDate(d):null===d?"":Array.isArray(d)&&!u.arrayIncludes(r,d)?this._prepareArray(d,r):d&&"object"==typeof d&&!u.arrayIncludes(r,d)?this._prepareObject(d,r):d}return o},t.prototype._prepareDataItem=function(n){var r=this._prepareObject(n,[]);return r[this.action_param]=this.$gantt.getUserData(n.id,this.action_param,this._ganttMode),r},t.prototype.getStoredItem=function(n){return this._storage.getStoredItem(n)},t.prototype._getRowData=function(n){var r,o=this.$gantt;return"task"===this.getGanttMode()?o.isTaskExists(n)&&(r=this.$gantt.getTask(n)):"assignment"===this.getGanttMode()?this.$gantt.$data.assignmentsStore.exists(n)&&(r=this.$gantt.$data.assignmentsStore.getItem(n)):o.isLinkExists(n)&&(r=this.$gantt.getLink(n)),r||(r=this.getStoredItem(n)),r||(r={id:n}),this._prepareDataItem(r)},t}();$.DataProcessor=e},function(C,$,f){var _=f(241);C.exports={DEPRECATED_api:function(u){return new _.DataProcessor(u)},createDataProcessor:_.createDataProcessor,getDataProcessorModes:_.getAvailableModes}},function(C,$,f){var _=f(15);C.exports={bindDataStore:function(u,s){var c=s.getDatastore(u),i=function(n,r){var o=r.getLayers(),l=c.getItem(n);if(l&&c.isVisible(n))for(var d=0;d<o.length;d++)o[d].render_item(l)};function t(n){return!!n.$services.getService("state").getState("batchUpdate").batch_update}c.attachEvent("onStoreUpdated",function(n,r,o){if(_(s))return!0;var l=s.$services.getService("layers").getDataRender(u);l&&(l.onUpdateRequest=function(d){!function(n){if(n.update_items){var r;if(n.get_visible_range){var o=n.get_visible_range(c);if(void 0!==o.start&&void 0!==o.end)r=c.getIndexRange(o.start,o.end);else{if(void 0===o.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");r=o.ids.map(function(l){return c.getItem(l)})}}else r=c.getVisibleItems();n.prepare_data&&n.prepare_data(r,n),n.update_items(r)}}(d)})}),c.attachEvent("onStoreUpdated",function(n,r,o){t(s)||(n&&"move"!=o&&"delete"!=o?(c.callEvent("onBeforeRefreshItem",[r.id]),c.callEvent("onAfterRefreshItem",[r.id])):(c.callEvent("onBeforeRefreshAll",[]),c.callEvent("onAfterRefreshAll",[])))}),c.attachEvent("onAfterRefreshAll",function(){if(_(s))return!0;var n=s.$services.getService("layers").getDataRender(u);n&&!t(s)&&function(n){for(var r=n.getLayers(),o=0;o<r.length;o++)r[o].clear();for(var l=null,d={},h=0;h<r.length;h++){var g=r[h],p=void 0;if(g.get_visible_range){var y=g.get_visible_range(c);if(void 0!==y.start&&void 0!==y.end){var v=y.start+" - "+y.end;d[v]?p=d[v]:(p=c.getIndexRange(y.start,y.end),d[v]=p)}else{if(void 0===y.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=y.ids.map(function(m){return c.getItem(m)})}}else l||(l=c.getVisibleItems()),p=l;g.prepare_data&&g.prepare_data(p),r[h].render_items(p)}}(n)}),c.attachEvent("onAfterRefreshItem",function(n){if(_(s))return!0;var r=s.$services.getService("layers").getDataRender(u);r&&i(n,r)}),c.attachEvent("onItemOpen",function(){if(_(s))return!0;s.render()}),c.attachEvent("onItemClose",function(){if(_(s))return!0;s.render()}),c.attachEvent("onIdChange",function(n,r){if(_(s))return!0;if(c.callEvent("onBeforeIdChange",[n,r]),!t(s)&&!c.isSilent()){var o=s.$services.getService("layers").getDataRender(u);o?(function(l,d,h,g){for(var p=0;p<l.length;p++)l[p].change_id(d,h)}(o.getLayers(),n,r,c.getItem(r)),i(r,o)):s.render()}})}}},function(C,$){C.exports=function(f){var _=null,u=f._removeItemInner;function s(c){_=null,this.callEvent("onAfterUnselect",[c])}return f._removeItemInner=function(c){return _==c&&s.call(this,c),_&&this.eachItem&&this.eachItem(function(i){i.id==_&&s.call(this,i.id)},c),u.apply(this,arguments)},f.attachEvent("onIdChange",function(c,i){f.getSelectedId()==c&&f.silent(function(){f.unselect(c),f.select(i)})}),{select:function(c){if(c){if(_==c)return _;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[c]))return!1;this.unselect(),_=c,this._skip_refresh||(this.refresh(c),this.callEvent("onAfterSelect",[c]))}return _},getSelectedId:function(){return _},isSelected:function(c){return c==_},unselect:function(c){(c=c||_)&&(_=null,this._skip_refresh||(this.refresh(c),s.call(this,c)))}}}},function(C,$,f){var _=f(0);C.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(u){return this.$data.linksStore.getItem(u)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(u){return this.$data.linksStore.exists(u)},addLink:function(u){var s=this.$data.linksStore.addItem(u);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(u,s){_.defined(s)||(s=this.getLink(u)),this.$data.linksStore.updateItem(u,s)},deleteLink:function(u){return this.$data.linksStore.removeItem(u)},changeLinkId:function(u,s){return this.$data.linksStore.changeId(u,s)}}}},function(C,$,f){var _=f(0),u=f(2).replaceValidZeroId;C.exports=function(){return{getTask:function(s){s=u(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var c=this.$data.tasksStore.getItem(s);return this.assert(c,"Task not found id="+s),c},getTaskByTime:function(s,c){var i=this.$data.tasksStore.getItems(),a=[];if(s||c){s=+s||-1/0,c=+c||1/0;for(var e=0;e<i.length;e++){var t=i[e];+t.start_date<c&&+t.end_date>s&&a.push(t)}}else a=i;return a},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,c){_.defined(c)||(c=this.getTask(s)),this.$data.tasksStore.updateItem(s,c),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,c,i){return _.defined(s.id)||(s.id=_.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&"string"==typeof s.start_date&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&"string"==typeof s.end_date&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(_.defined(c)||(c=this.getParent(s)||0),this.isTaskExists(c)||(c=this.config.root_id),this.setParent(s,c),this.$data.tasksStore.addItem(s,i,c))},deleteTask:function(s){return s=u(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=u(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,c,i){return this.$data.tasksStore.eachItem(_.bind(s,i||this),c)},eachParent:function(s,c,i){return this.$data.tasksStore.eachParent(_.bind(s,i||this),c)},changeTaskId:function(s,c){this.$data.tasksStore.changeId(s,c);var i=this.$data.tasksStore.getItem(c),a=[];i.$source&&(a=a.concat(i.$source)),i.$target&&(a=a.concat(i.$target));for(var e=0;e<a.length;e++){var t=this.getLink(a[e]);t.source==s&&(t.source=c),t.target==s&&(t.target=c)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,c,i){return this.$data.tasksStore.setParent(s,c,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var c=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(c)?this.getTask(c):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,c,i){return i=u(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,c,i,a){var e=!a;this.$data.tasksStore.sort(s,c,i),this.callEvent("onAfterSort",[s,c,i]),e&&this.render()}}}},function(C,$,f){var _=f(0),u=f(246),s=f(245),c=f(54),i=f(52),a=f(244),e=f(243),t=f(15),n=f(2).replaceValidZeroId;function r(){for(var l=this.$services.getService("datastores"),d=[],h=0;h<l.length;h++){var g=this.getDatastore(l[h]);g.$destroyed||d.push(g)}return d}c.default&&(c=c.default),C.exports={create:function(){var l=_.mixin({},{createDatastore:function(l){var d="treedatastore"==(l.type||"").toLowerCase()?i:c;if(l){var h=this;l.openInitially=function(){return h.config.open_tree_initially},l.copyOnParse=function(){return h.config.deepcopy_on_parse}}var g=new d(l);if(this.mixin(g,a(g)),l.name){var p="datastore:"+l.name;g.attachEvent("onDestroy",function(){this.$services.dropService(p);for(var v=this.$services.getService("datastores"),m=0;m<v.length;m++)if(v[m]===l.name){v.splice(m,1);break}}.bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return g});var y=this.$services.getService("datastores");y?y.indexOf(l.name)<0&&y.push(l.name):(y=[],this.$services.setService("datastores",function(){return y}),y.push(l.name)),e.bindDataStore(l.name,this)}return g},getDatastore:function(l){return this.$services.getService("datastore:"+l)},_getDatastores:r,refreshData:function(){var l;t(this)||(l=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=r.call(this),h=0;h<d.length;h++)d[h].refresh();this.config.preserve_scroll&&!t(this)&&(l.x||l.y)&&this.scrollTo(l.x,l.y),this.callEvent("onDataRender",[])},isChildOf:function(l,d){return this.$data.tasksStore.isChildOf(l,d)},refreshTask:function(l,d){var h=this.getTask(l),g=this;function p(){if(void 0===d||d){for(var v=0;v<h.$source.length;v++)g.refreshLink(h.$source[v]);for(v=0;v<h.$target.length;v++)g.refreshLink(h.$target[v])}}if(h&&this.isTaskVisible(l))this.$data.tasksStore.refresh(l,!!this.getState("tasksDnd").drag_id||!1===d),p();else if(this.isTaskExists(l)&&this.isTaskExists(this.getParent(l))&&!this._bulk_dnd){this.refreshTask(this.getParent(l));var y=!1;this.eachParent(function(v){(y||this.isSplitTask(v))&&(y=!0)},l),y&&p()}},refreshLink:function(l){this.$data.linksStore.refresh(l,!!this.getState("tasksDnd").drag_id)},silent:function(l){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){l()})})},clearAll:function(){for(var l=r.call(this),d=0;d<l.length;d++)l[d].silent(function(){l[d].clearAll()});for(d=0;d<l.length;d++)l[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(l){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(l=n(l,this.config.root_id)){var h=this.getSelectedId();d._skipResourceRepaint=!0,d.select(l),d._skipResourceRepaint=!1,h&&d.pull[h].$split_subtask&&h!=l&&this.refreshTask(h),d.pull[l].$split_subtask&&h!=l&&this.refreshTask(l)}return d.getSelectedId()},unselectTask:function(l){var d=this.$data.tasksStore;d.unselect(l),l&&d.pull[l].$split_subtask&&this.refreshTask(l)},isSelectedTask:function(l){return this.$data.tasksStore.isSelected(l)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return _.mixin(l,u()),_.mixin(l,s()),l}}},function(C,$,f){var _=f(0),u=f(247),s=f(51),c=f(16);C.exports=function(i){var a=u.create();_.mixin(i,a);var h,g,e=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:_.bind(function(h){this.defined(h.id)||(h.id=this.uid()),h.start_date&&(h.start_date=i.date.parseDate(h.start_date,"parse_date")),h.end_date&&(h.end_date=i.date.parseDate(h.end_date,"parse_date"));var g=null;(h.duration||0===h.duration)&&(h.duration=g=1*h.duration),g&&(h.start_date&&!h.end_date?h.end_date=this.calculateEndDate(h):!h.start_date&&h.end_date&&(h.start_date=this.calculateEndDate({start_date:h.end_date,duration:-h.duration,task:h}))),h.progress=Number(h.progress)||0,this._isAllowedUnscheduledTask(h)&&this._set_default_task_timing(h),this._init_task_timing(h),h.start_date&&h.end_date&&this.correctTaskWorkTime(h),h.$source=[],h.$target=[];var p=this.$data.tasksStore.getItem(h.id);return p&&!_.defined(h.open)&&(h.$open=p.$open),void 0===h.parent&&(h.parent=this.config.root_id),h},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:_.bind(function(h){return this.defined(h.id)||(h.id=this.uid()),h},i)});function n(h){var g=i.isTaskVisible(h);if(!g&&i.isTaskExists(h)){var p=i.getParent(h);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(g=!0))}return g}function r(h){if(i.isTaskExists(h.source)){var g=i.getTask(h.source);g.$source=g.$source||[],g.$source.push(h.id)}if(i.isTaskExists(h.target)){var p=i.getTask(h.target);p.$target=p.$target||[],p.$target.push(h.id)}}function o(h){if(i.isTaskExists(h.source))for(var g=i.getTask(h.source),p=0;p<g.$source.length;p++)if(g.$source[p]==h.id){g.$source.splice(p,1);break}if(i.isTaskExists(h.target)){var y=i.getTask(h.target);for(p=0;p<y.$target.length;p++)if(y.$target[p]==h.id){y.$target.splice(p,1);break}}}function l(){for(var h=null,g=i.$data.tasksStore.getItems(),p=0,y=g.length;p<y;p++)(h=g[p]).$source=[],h.$target=[];var v=i.$data.linksStore.getItems();for(p=0,y=v.length;p<y;p++)r(v[p])}function d(h){var g=h.source,p=h.target;for(var y in h.events)!function(v,m){g.attachEvent(v,function(){return p.callEvent(m,Array.prototype.slice.call(arguments))},m)}(y,h.events[y])}i.attachEvent("onDestroy",function(){e.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(h){if(i.isLinkExists(h.id)||"predecessor_generated"===h.id)return!0;for(var g=i.getTask(h.source).$source,p=0;p<g.length;p++){var y=i.getLink(g[p]);if(h.source==y.source&&h.target==y.target&&h.type==y.type)return!1}return!0}),e.attachEvent("onBeforeRefreshAll",function(){if(!e._skipTaskRecalculation)for(var h=e.getVisibleItems(),g=0;g<h.length;g++){var p=h[g];p.$index=g,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),e.attachEvent("onFilterItem",function(h,g){if(i.config.show_tasks_outside_timescale)return!0;var p=null,y=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(g))return!0;if(p=i.config.start_date.valueOf(),y=i.config.end_date.valueOf(),+g.start_date>y||+g.end_date<+p)return!1}return!0}),e.attachEvent("onIdChange",function(h,g){i._update_flags(h,g);var p=i.getTask(g);e.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(y){i.refreshTask(y.id)},g)}),e.attachEvent("onAfterUpdate",function(h){if(i._update_parents(h),i.getState("batchUpdate").batch_update)return!0;var g=e.getItem(h);g.$source||(g.$source=[]);for(var p=0;p<g.$source.length;p++)t.refresh(g.$source[p]);for(g.$target||(g.$target=[]),p=0;p<g.$target.length;p++)t.refresh(g.$target[p])}),e.attachEvent("onBeforeItemMove",function(h,g,p){return!c(h,i,e)||(console.log("The placeholder task cannot be moved to another position."),!1)}),e.attachEvent("onAfterItemMove",function(h,g,p){i.getTask(h).$drop_target=null!==this.getNextSibling(h)?this.getNextSibling(h):null!==this.getPrevSibling(h)?"next:"+this.getPrevSibling(h):"next:null"}),e.attachEvent("onStoreUpdated",function(h,g,p){if("delete"==p&&i._update_flags(h,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&"paint"!==p){var y=i.getState();s(i);var v=i.getState();if(+y.min_date!=+v.min_date||+y.max_date!=+v.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}"add"==p||"move"==p||"delete"==p?i.$layout&&("task"!=this.$config.name||"add"!=p&&"delete"!=p||"lightbox"!=this._skipTaskRecalculation&&(this._skipTaskRecalculation=!0),i.$layout.resize()):h||t.refresh()}}),t.attachEvent("onAfterAdd",function(h,g){r(g)}),t.attachEvent("onAfterUpdate",function(h,g){l()}),t.attachEvent("onAfterDelete",function(h,g){o(g)}),t.attachEvent("onBeforeIdChange",function(h,g){o(i.mixin({id:h},i.$data.linksStore.getItem(g))),r(i.$data.linksStore.getItem(g))}),t.attachEvent("onFilterItem",function(h,g){if(!i.config.show_links)return!1;var p=n(g.source),y=n(g.target);return!(!p||!y||i._isAllowedUnscheduledTask(i.getTask(g.source))||i._isAllowedUnscheduledTask(i.getTask(g.target)))&&i.callEvent("onBeforeLinkDisplay",[h,g])}),h=f(48),g={},i.attachEvent("onBeforeTaskDelete",function(p,y){return g[p]=h.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,y){g[p]&&i.$data.linksStore.silent(function(){for(var v in g[p])i.isLinkExists(v)&&i.$data.linksStore.removeItem(v),o(g[p][v]);g[p]=null})}),i.attachEvent("onAfterLinkDelete",function(h,g){i.refreshTask(g.source),i.refreshTask(g.target)}),i.attachEvent("onParse",l),d({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:e,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:e,linksStore:t}}},function(C,$,f){(function(_,u,s){var c,a,t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}t=function(){return function o(l,d,h){function g(v,m){if(!d[v]){if(!l[v]){var k="function"==typeof _dereq_&&_dereq_;if(!m&&k)return k(v,!0);if(p)return p(v,!0);var b=new Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b}var S=d[v]={exports:{}};l[v][0].call(S.exports,function(x){return g(l[v][1][x]||x)},S,S.exports,o,l,d,h)}return d[v].exports}for(var p="function"==typeof _dereq_&&_dereq_,y=0;y<h.length;y++)g(h[y]);return g}({1:[function(o,l,d){"use strict";l.exports=function(h){var g=h._SomePromiseArray;function p(y){var v=new g(y),m=v.promise();return v.setHowMany(1),v.setUnwrap(),v.init(),m}h.any=function(y){return p(y)},h.prototype.any=function(){return p(this)}}},{}],2:[function(o,l,d){"use strict";var h;try{throw new Error}catch(w){h=w}var g=o("./schedule"),p=o("./queue"),y=o("./util");function v(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new p(16),this._normalQueue=new p(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var w=this;this.drainQueues=function(){w._drainQueues()},this._schedule=g}function m(w,T,E){this._lateQueue.push(w,T,E),this._queueTick()}function k(w,T,E){this._normalQueue.push(w,T,E),this._queueTick()}function b(w){this._normalQueue._pushOne(w),this._queueTick()}function S(w){for(;w.length()>0;)x(w)}function x(w){var T=w.shift();if("function"!=typeof T)T._settlePromises();else{var E=w.shift(),I=w.shift();T.call(E,I)}}v.prototype.setScheduler=function(w){var T=this._schedule;return this._schedule=w,this._customScheduler=!0,T},v.prototype.hasCustomScheduler=function(){return this._customScheduler},v.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},v.prototype.disableTrampolineIfNecessary=function(){y.hasDevTools&&(this._trampolineEnabled=!1)},v.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},v.prototype.fatalError=function(w,T){T?(_.stderr.write("Fatal "+(w instanceof Error?w.stack:w)+"\n"),_.exit(2)):this.throwLater(w)},v.prototype.throwLater=function(w,T){if(1===arguments.length&&(T=w,w=function(){throw T}),typeof setTimeout<"u")setTimeout(function(){w(T)},0);else try{this._schedule(function(){w(T)})}catch{throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},y.hasDevTools?(v.prototype.invokeLater=function(w,T,E){this._trampolineEnabled?m.call(this,w,T,E):this._schedule(function(){setTimeout(function(){w.call(T,E)},100)})},v.prototype.invoke=function(w,T,E){this._trampolineEnabled?k.call(this,w,T,E):this._schedule(function(){w.call(T,E)})},v.prototype.settlePromises=function(w){this._trampolineEnabled?b.call(this,w):this._schedule(function(){w._settlePromises()})}):(v.prototype.invokeLater=m,v.prototype.invoke=k,v.prototype.settlePromises=b),v.prototype._drainQueues=function(){S(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,S(this._lateQueue)},v.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},v.prototype._reset=function(){this._isTickUsed=!1},l.exports=v,l.exports.firstLineError=h},{"./queue":26,"./schedule":29,"./util":36}],3:[function(o,l,d){"use strict";l.exports=function(h,g,p,y){var v=!1,m=function(x,w){this._reject(w)},k=function(x,w){w.promiseRejectionQueued=!0,w.bindingPromise._then(m,m,null,this,x)},b=function(x,w){!(50397184&this._bitField)&&this._resolveCallback(w.target)},S=function(x,w){w.promiseRejectionQueued||this._reject(x)};h.prototype.bind=function(x){v||(v=!0,h.prototype._propagateFrom=y.propagateFromFunction(),h.prototype._boundValue=y.boundValueFunction());var w=p(x),T=new h(g);T._propagateFrom(this,1);var E=this._target();if(T._setBoundTo(w),w instanceof h){var I={promiseRejectionQueued:!1,promise:T,target:E,bindingPromise:w};E._then(g,k,void 0,T,I),w._then(b,S,void 0,T,I),T._setOnCancel(w)}else T._resolveCallback(E);return T},h.prototype._setBoundTo=function(x){void 0!==x?(this._bitField=2097152|this._bitField,this._boundTo=x):this._bitField=-2097153&this._bitField},h.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},h.bind=function(x,w){return h.resolve(w).bind(x)}}},{}],4:[function(o,l,d){"use strict";var h;typeof Promise<"u"&&(h=Promise);var g=o("./promise")();g.noConflict=function(){try{Promise===g&&(Promise=h)}catch{}return g},l.exports=g},{"./promise":22}],5:[function(o,l,d){"use strict";var h=Object.create;if(h){var g=h(null),p=h(null);g[" size"]=p[" size"]=0}l.exports=function(y){var v=o("./util"),m=v.canEvaluate;function k(x){return function(w,T){var E;if(null!=w&&(E=w[T]),"function"!=typeof E){var I="Object "+v.classString(w)+" has no method '"+v.toString(T)+"'";throw new y.TypeError(I)}return E}(x,this.pop()).apply(x,this)}function b(x){return x[this]}function S(x){var w=+this;return w<0&&(w=Math.max(0,w+x.length)),x[w]}y.prototype.call=function(x){var w=[].slice.call(arguments,1);return w.push(x),this._then(k,void 0,void 0,w,void 0)},y.prototype.get=function(x){var w;if("number"==typeof x)w=S;else if(m){var T=(void 0)(x);w=null!==T?T:b}else w=b;return this._then(w,void 0,void 0,x,void 0)}}},{"./util":36}],6:[function(o,l,d){"use strict";l.exports=function(h,g,p,y){var v=o("./util"),m=v.tryCatch,k=v.errorObj,b=h._async;h.prototype.break=h.prototype.cancel=function(){if(!y.cancellation())return this._warn("cancellation is disabled");for(var S=this,x=S;S._isCancellable();){if(!S._cancelBy(x)){x._isFollowing()?x._followee().cancel():x._cancelBranched();break}var w=S._cancellationParent;if(null==w||!w._isCancellable()){S._isFollowing()?S._followee().cancel():S._cancelBranched();break}S._isFollowing()&&S._followee().cancel(),S._setWillBeCancelled(),x=S,S=w}},h.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},h.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},h.prototype._cancelBy=function(S){return S===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},h.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},h.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),b.invoke(this._cancelPromises,this,void 0))},h.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},h.prototype._unsetOnCancel=function(){this._onCancelField=void 0},h.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},h.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},h.prototype._doInvokeOnCancel=function(S,x){if(v.isArray(S))for(var w=0;w<S.length;++w)this._doInvokeOnCancel(S[w],x);else if(void 0!==S)if("function"==typeof S){if(!x){var T=m(S).call(this._boundValue());T===k&&(this._attachExtraTrace(T.e),b.throwLater(T.e))}}else S._resultCancelled(this)},h.prototype._invokeOnCancel=function(){var S=this._onCancel();this._unsetOnCancel(),b.invoke(this._doInvokeOnCancel,this,S)},h.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},h.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(o,l,d){"use strict";l.exports=function(h){var g=o("./util"),p=o("./es5").keys,y=g.tryCatch,v=g.errorObj;return function(m,k,b){return function(S){var x=b._boundValue();t:for(var w=0;w<m.length;++w){var T=m[w];if(T===Error||null!=T&&T.prototype instanceof Error){if(S instanceof T)return y(k).call(x,S)}else if("function"==typeof T){var E=y(T).call(x,S);if(E===v)return E;if(E)return y(k).call(x,S)}else if(g.isObject(S)){for(var I=p(T),P=0;P<I.length;++P){var L=I[P];if(T[L]!=S[L])continue t}return y(k).call(x,S)}}return h}}}},{"./es5":13,"./util":36}],8:[function(o,l,d){"use strict";l.exports=function(h){var g=!1,p=[];function y(){this._trace=new y.CapturedTrace(v())}function v(){var m=p.length-1;if(m>=0)return p[m]}return h.prototype._promiseCreated=function(){},h.prototype._pushContext=function(){},h.prototype._popContext=function(){return null},h._peekContext=h.prototype._peekContext=function(){},y.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,p.push(this._trace))},y.prototype._popContext=function(){if(void 0!==this._trace){var m=p.pop(),k=m._promiseCreated;return m._promiseCreated=null,k}return null},y.CapturedTrace=null,y.create=function(){if(g)return new y},y.deactivateLongStackTraces=function(){},y.activateLongStackTraces=function(){var m=h.prototype._pushContext,k=h.prototype._popContext,b=h._peekContext,S=h.prototype._peekContext,x=h.prototype._promiseCreated;y.deactivateLongStackTraces=function(){h.prototype._pushContext=m,h.prototype._popContext=k,h._peekContext=b,h.prototype._peekContext=S,h.prototype._promiseCreated=x,g=!1},g=!0,h.prototype._pushContext=y.prototype._pushContext,h.prototype._popContext=y.prototype._popContext,h._peekContext=h.prototype._peekContext=v,h.prototype._promiseCreated=function(){var w=this._peekContext();w&&null==w._promiseCreated&&(w._promiseCreated=this)}},y}},{}],9:[function(o,l,d){"use strict";l.exports=function(h,g){var p,y,v,m=h._getDomain,k=h._async,b=o("./errors").Warning,S=o("./util"),x=o("./es5"),w=S.canAttachTrace,T=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,E=/\((?:timers\.js):\d+:\d+\)/,I=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,P=null,L=null,H=!1,F=0!=S.env("BLUEBIRD_DEBUG"),z=!(0==S.env("BLUEBIRD_WARNINGS")||!F&&!S.env("BLUEBIRD_WARNINGS")),W=!(0==S.env("BLUEBIRD_LONG_STACK_TRACES")||!F&&!S.env("BLUEBIRD_LONG_STACK_TRACES")),N=0!=S.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(z||!!S.env("BLUEBIRD_W_FORGOTTEN_RETURN"));h.prototype.suppressUnhandledRejections=function(){var J=this._target();J._bitField=-1048577&J._bitField|524288},h.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var J=this;setTimeout(function(){J._notifyUnhandledRejection()},1)}},h.prototype._notifyUnhandledRejectionIsHandled=function(){_t("rejectionHandled",p,void 0,this)},h.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},h.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},h.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var J=this._settledValue();this._setUnhandledRejectionIsNotified(),_t("unhandledRejection",y,J,this)}},h.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},h.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},h.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},h.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},h.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},h.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},h.prototype._warn=function(J,Z,nt){return rt(J,Z,nt||this)},h.onPossiblyUnhandledRejection=function(J){var Z=m();y="function"==typeof J?null===Z?J:S.domainBind(Z,J):void 0},h.onUnhandledRejectionHandled=function(J){var Z=m();p="function"==typeof J?null===Z?J:S.domainBind(Z,J):void 0};var O=function(){};h.longStackTraces=function(){if(k.haveItemsQueued()&&!gt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!gt.longStackTraces&&yt()){var J=h.prototype._captureStackTrace,Z=h.prototype._attachExtraTrace,nt=h.prototype._dereferenceTrace;gt.longStackTraces=!0,O=function(){if(k.haveItemsQueued()&&!gt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");h.prototype._captureStackTrace=J,h.prototype._attachExtraTrace=Z,h.prototype._dereferenceTrace=nt,g.deactivateLongStackTraces(),k.enableTrampoline(),gt.longStackTraces=!1},h.prototype._captureStackTrace=et,h.prototype._attachExtraTrace=at,h.prototype._dereferenceTrace=X,g.activateLongStackTraces(),k.disableTrampolineIfNecessary()}},h.hasLongStackTraces=function(){return gt.longStackTraces&&yt()};var q=function(){try{if("function"==typeof CustomEvent){var J=new CustomEvent("CustomEvent");return S.global.dispatchEvent(J),function(Z,nt){var it={detail:nt,cancelable:!0};x.defineProperty(it,"promise",{value:nt.promise}),x.defineProperty(it,"reason",{value:nt.reason});var lt=new CustomEvent(Z.toLowerCase(),it);return!S.global.dispatchEvent(lt)}}return"function"==typeof Event?(J=new Event("CustomEvent"),S.global.dispatchEvent(J),function(Z,nt){var it=new Event(Z.toLowerCase(),{cancelable:!0});return it.detail=nt,x.defineProperty(it,"promise",{value:nt.promise}),x.defineProperty(it,"reason",{value:nt.reason}),!S.global.dispatchEvent(it)}):((J=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),S.global.dispatchEvent(J),function(Z,nt){var it=document.createEvent("CustomEvent");return it.initCustomEvent(Z.toLowerCase(),!1,!0,nt),!S.global.dispatchEvent(it)})}catch{}return function(){return!1}}(),G=S.isNode?function(){return _.emit.apply(_,arguments)}:S.global?function(J){var Z="on"+J.toLowerCase(),nt=S.global[Z];return!!nt&&(nt.apply(S.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function V(J,Z){return{promise:Z}}var Y={promiseCreated:V,promiseFulfilled:V,promiseRejected:V,promiseResolved:V,promiseCancelled:V,promiseChained:function(J,Z,nt){return{promise:Z,child:nt}},warning:function(J,Z){return{warning:Z}},unhandledRejection:function(J,Z,nt){return{reason:Z,promise:nt}},rejectionHandled:V},B=function(J){var Z=!1;try{Z=G.apply(null,arguments)}catch(it){k.throwLater(it),Z=!0}var nt=!1;try{nt=q(J,Y[J].apply(null,arguments))}catch(it){k.throwLater(it),nt=!0}return nt||Z};function tt(){return!1}function D(J,Z,nt){var it=this;try{J(Z,nt,function(lt){if("function"!=typeof lt)throw new TypeError("onCancel must be a function, got: "+S.toString(lt));it._attachCancellationCallback(lt)})}catch(lt){return lt}}function M(J){if(!this._isCancellable())return this;var Z=this._onCancel();void 0!==Z?S.isArray(Z)?Z.push(J):this._setOnCancel([Z,J]):this._setOnCancel(J)}function A(){return this._onCancelField}function R(J){this._onCancelField=J}function j(){this._cancellationParent=void 0,this._onCancelField=void 0}function U(J,Z){if(1&Z){this._cancellationParent=J;var nt=J._branchesRemainingToCancel;void 0===nt&&(nt=0),J._branchesRemainingToCancel=nt+1}2&Z&&J._isBound()&&this._setBoundTo(J._boundTo)}h.config=function(J){if("longStackTraces"in(J=Object(J))&&(J.longStackTraces?h.longStackTraces():!J.longStackTraces&&h.hasLongStackTraces()&&O()),"warnings"in J){var Z=J.warnings;gt.warnings=!!Z,N=gt.warnings,S.isObject(Z)&&"wForgottenReturn"in Z&&(N=!!Z.wForgottenReturn)}if("cancellation"in J&&J.cancellation&&!gt.cancellation){if(k.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");h.prototype._clearCancellationData=j,h.prototype._propagateFrom=U,h.prototype._onCancel=A,h.prototype._setOnCancel=R,h.prototype._attachCancellationCallback=M,h.prototype._execute=D,K=U,gt.cancellation=!0}return"monitoring"in J&&(J.monitoring&&!gt.monitoring?(gt.monitoring=!0,h.prototype._fireEvent=B):!J.monitoring&&gt.monitoring&&(gt.monitoring=!1,h.prototype._fireEvent=tt)),h},h.prototype._fireEvent=tt,h.prototype._execute=function(J,Z,nt){try{J(Z,nt)}catch(it){return it}},h.prototype._onCancel=function(){},h.prototype._setOnCancel=function(J){},h.prototype._attachCancellationCallback=function(J){},h.prototype._captureStackTrace=function(){},h.prototype._attachExtraTrace=function(){},h.prototype._dereferenceTrace=function(){},h.prototype._clearCancellationData=function(){},h.prototype._propagateFrom=function(J,Z){};var K=function(J,Z){2&Z&&J._isBound()&&this._setBoundTo(J._boundTo)};function Q(){var J=this._boundTo;return void 0!==J&&J instanceof h?J.isFulfilled()?J.value():void 0:J}function et(){this._trace=new bt(this._peekContext())}function at(J,Z){if(w(J)){var nt=this._trace;if(void 0!==nt&&Z&&(nt=nt._parent),void 0!==nt)nt.attachExtraTrace(J);else if(!J.__stackCleaned__){var it=dt(J);S.notEnumerableProp(J,"stack",it.message+"\n"+it.stack.join("\n")),S.notEnumerableProp(J,"__stackCleaned__",!0)}}}function X(){this._trace=void 0}function rt(J,Z,nt){if(gt.warnings){var it,lt=new b(J);if(Z)nt._attachExtraTrace(lt);else if(gt.longStackTraces&&(it=h._peekContext()))it.attachExtraTrace(lt);else{var st=dt(lt);lt.stack=st.message+"\n"+st.stack.join("\n")}B("warning",lt)||ut(lt,"",!0)}}function ct(J){for(var Z=[],nt=0;nt<J.length;++nt){var it=J[nt],lt="    (No stack trace)"===it||P.test(it),st=lt&&xt(it);lt&&!st&&(H&&" "!==it.charAt(0)&&(it="    "+it),Z.push(it))}return Z}function dt(J){var Z=J.stack,nt=J.toString();return Z="string"==typeof Z&&Z.length>0?function(it){for(var lt=it.stack.replace(/\s+$/g,"").split("\n"),st=0;st<lt.length;++st){var ot=lt[st];if("    (No stack trace)"===ot||P.test(ot))break}return st>0&&"SyntaxError"!=it.name&&(lt=lt.slice(st)),lt}(J):["    (No stack trace)"],{message:nt,stack:"SyntaxError"==J.name?Z:ct(Z)}}function ut(J,Z,nt){var it;typeof console<"u"&&(it=S.isObject(J)?Z+L(J.stack,J):Z+String(J),"function"==typeof v?v(it,nt):"function"!=typeof console.log&&"object"!==e(console.log)||console.log(it))}function _t(J,Z,nt,it){var lt=!1;try{"function"==typeof Z&&(lt=!0,"rejectionHandled"===J?Z(it):Z(nt,it))}catch(st){k.throwLater(st)}"unhandledRejection"===J?B(J,nt,it)||lt||ut(nt,"Unhandled rejection "):B(J,it)}function mt(J){var Z,nt;if("function"==typeof J)Z="[function "+(J.name||"anonymous")+"]";else{if(Z=J&&"function"==typeof J.toString?J.toString():S.toString(J),/\[object [a-zA-Z0-9$_]+\]/.test(Z))try{Z=JSON.stringify(J)}catch{}0===Z.length&&(Z="(empty array)")}return"(<"+((nt=Z).length<41?nt:nt.substr(0,38)+"...")+">, no stack trace)"}function yt(){return"function"==typeof Ct}var xt=function(){return!1},Tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function wt(J){var Z=J.match(Tt);if(Z)return{fileName:Z[1],line:parseInt(Z[2],10)}}function bt(J){this._parent=J,this._promisesCreated=0;var Z=this._length=1+(void 0===J?0:J._length);Ct(this,bt),Z>32&&this.uncycle()}S.inherits(bt,Error),g.CapturedTrace=bt,bt.prototype.uncycle=function(){var J=this._length;if(!(J<2)){for(var Z=[],nt={},it=0,lt=this;void 0!==lt;++it)Z.push(lt),lt=lt._parent;for(it=(J=this._length=it)-1;it>=0;--it){var st=Z[it].stack;void 0===nt[st]&&(nt[st]=it)}for(it=0;it<J;++it){var ot=nt[Z[it].stack];if(void 0!==ot&&ot!==it){ot>0&&(Z[ot-1]._parent=void 0,Z[ot-1]._length=1),Z[it]._parent=void 0,Z[it]._length=1;var ht=it>0?Z[it-1]:this;ot<J-1?(ht._parent=Z[ot+1],ht._parent.uncycle(),ht._length=ht._parent._length+1):(ht._parent=void 0,ht._length=1);for(var pt=ht._length+1,ft=it-2;ft>=0;--ft)Z[ft]._length=pt,pt++;return}}}},bt.prototype.attachExtraTrace=function(J){if(!J.__stackCleaned__){this.uncycle();for(var Z=dt(J),nt=Z.message,it=[Z.stack],lt=this;void 0!==lt;)it.push(ct(lt.stack.split("\n"))),lt=lt._parent;(function(st){for(var ot=st[0],ht=1;ht<st.length;++ht){for(var pt=st[ht],ft=ot.length-1,St=ot[ft],vt=-1,kt=pt.length-1;kt>=0;--kt)if(pt[kt]===St){vt=kt;break}for(kt=vt;kt>=0&&ot[ft]===pt[kt];--kt)ot.pop(),ft--;ot=pt}})(it),function(st){for(var ot=0;ot<st.length;++ot)(0===st[ot].length||ot+1<st.length&&st[ot][0]===st[ot+1][0])&&(st.splice(ot,1),ot--)}(it),S.notEnumerableProp(J,"stack",function(st,ot){for(var ht=0;ht<ot.length-1;++ht)ot[ht].push("From previous event:"),ot[ht]=ot[ht].join("\n");return ht<ot.length&&(ot[ht]=ot[ht].join("\n")),st+"\n"+ot.join("\n")}(nt,it)),S.notEnumerableProp(J,"__stackCleaned__",!0)}};var Ct=function(){var J=/^\s*at\s*/,Z=function(st,ot){return"string"==typeof st?st:void 0!==ot.name&&void 0!==ot.message?ot.toString():mt(ot)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,P=J,L=Z;var nt=Error.captureStackTrace;return xt=function(st){return T.test(st)},function(st,ot){Error.stackTraceLimit+=6,nt(st,ot),Error.stackTraceLimit-=6}}var it,lt=new Error;if("string"==typeof lt.stack&&lt.stack.split("\n")[0].indexOf("stackDetection@")>=0)return P=/@/,L=Z,H=!0,function(st){st.stack=(new Error).stack};try{throw new Error}catch(st){it="stack"in st}return"stack"in lt||!it||"number"!=typeof Error.stackTraceLimit?(L=function(st,ot){return"string"==typeof st?st:"object"!==e(ot)&&"function"!=typeof ot||void 0===ot.name||void 0===ot.message?mt(ot):ot.toString()},null):(P=J,L=Z,function(st){Error.stackTraceLimit+=6;try{throw new Error}catch(ot){st.stack=ot.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&void 0!==console.warn&&(v=function(J){console.warn(J)},S.isNode&&_.stderr.isTTY?v=function(J,Z){console.warn((Z?"\x1b[33m":"\x1b[31m")+J+"\x1b[0m\n")}:S.isNode||"string"!=typeof(new Error).stack||(v=function(J,Z){console.warn("%c"+J,Z?"color: darkorange":"color: red")}));var gt={warnings:z,longStackTraces:!1,cancellation:!1,monitoring:!1};return W&&h.longStackTraces(),{longStackTraces:function(){return gt.longStackTraces},warnings:function(){return gt.warnings},cancellation:function(){return gt.cancellation},monitoring:function(){return gt.monitoring},propagateFromFunction:function(){return K},boundValueFunction:function(){return Q},checkForgottenReturns:function(J,Z,nt,it,lt){if(void 0===J&&null!==Z&&N){if(void 0!==lt&&lt._returnedNonUndefined()||!(65535&it._bitField))return;nt&&(nt+=" ");var st="",ot="";if(Z._trace){for(var ht=Z._trace.stack.split("\n"),pt=ct(ht),ft=pt.length-1;ft>=0;--ft){var St=pt[ft];if(!E.test(St)){var vt=St.match(I);vt&&(st="at "+vt[1]+":"+vt[2]+":"+vt[3]+" ");break}}if(pt.length>0){var kt=pt[0];for(ft=0;ft<ht.length;++ft)if(ht[ft]===kt){ft>0&&(ot="\n"+ht[ft-1]);break}}}it._warn("a promise was created in a "+nt+"handler "+st+"but was not returned from it, see http://goo.gl/rRqMUw"+ot,!0,Z)}},setBounds:function(J,Z){if(yt()){for(var nt,it,lt=J.stack.split("\n"),st=Z.stack.split("\n"),ot=-1,ht=-1,pt=0;pt<lt.length;++pt)if(ft=wt(lt[pt])){nt=ft.fileName,ot=ft.line;break}for(pt=0;pt<st.length;++pt){var ft;if(ft=wt(st[pt])){it=ft.fileName,ht=ft.line;break}}ot<0||ht<0||!nt||!it||nt!==it||ot>=ht||(xt=function(St){if(T.test(St))return!0;var vt=wt(St);return!!(vt&&vt.fileName===nt&&ot<=vt.line&&vt.line<=ht)})}},warn:rt,deprecated:function(J,Z){var nt=J+" is deprecated and will be removed in a future version.";return Z&&(nt+=" Use "+Z+" instead."),rt(nt)},CapturedTrace:bt,fireDomEvent:q,fireGlobalEvent:G}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(o,l,d){"use strict";l.exports=function(h){function g(){return this.value}function p(){throw this.reason}h.prototype.return=h.prototype.thenReturn=function(y){return y instanceof h&&y.suppressUnhandledRejections(),this._then(g,void 0,void 0,{value:y},void 0)},h.prototype.throw=h.prototype.thenThrow=function(y){return this._then(p,void 0,void 0,{reason:y},void 0)},h.prototype.catchThrow=function(y){if(arguments.length<=1)return this._then(void 0,p,void 0,{reason:y},void 0);var v=arguments[1];return this.caught(y,function(){throw v})},h.prototype.catchReturn=function(y){if(arguments.length<=1)return y instanceof h&&y.suppressUnhandledRejections(),this._then(void 0,g,void 0,{value:y},void 0);var v=arguments[1];return v instanceof h&&v.suppressUnhandledRejections(),this.caught(y,function(){return v})}}},{}],11:[function(o,l,d){"use strict";l.exports=function(h,g){var p=h.reduce,y=h.all;function v(){return y(this)}h.prototype.each=function(m){return p(this,m,g,0)._then(v,void 0,void 0,this,void 0)},h.prototype.mapSeries=function(m){return p(this,m,g,g)},h.each=function(m,k){return p(m,k,g,0)._then(v,void 0,void 0,m,void 0)},h.mapSeries=function(m,k){return p(m,k,g,g)}}},{}],12:[function(o,l,d){"use strict";var h,g,p=o("./es5"),y=p.freeze,v=o("./util"),m=v.inherits,k=v.notEnumerableProp;function b(F,z){function W(N){if(!(this instanceof W))return new W(N);k(this,"message","string"==typeof N?N:z),k(this,"name",F),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return m(W,Error),W}var S=b("Warning","warning"),x=b("CancellationError","cancellation error"),w=b("TimeoutError","timeout error"),T=b("AggregateError","aggregate error");try{h=TypeError,g=RangeError}catch{h=b("TypeError","type error"),g=b("RangeError","range error")}for(var E="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),I=0;I<E.length;++I)"function"==typeof Array.prototype[E[I]]&&(T.prototype[E[I]]=Array.prototype[E[I]]);p.defineProperty(T.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),T.prototype.isOperational=!0;var P=0;function L(F){if(!(this instanceof L))return new L(F);k(this,"name","OperationalError"),k(this,"message",F),this.cause=F,this.isOperational=!0,F instanceof Error?(k(this,"message",F.message),k(this,"stack",F.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}T.prototype.toString=function(){var F=Array(4*P+1).join(" "),z="\n"+F+"AggregateError of:\n";P++,F=Array(4*P+1).join(" ");for(var W=0;W<this.length;++W){for(var N=this[W]===this?"[Circular AggregateError]":this[W]+"",O=N.split("\n"),q=0;q<O.length;++q)O[q]=F+O[q];z+=(N=O.join("\n"))+"\n"}return P--,z},m(L,Error);var H=Error.__BluebirdErrorTypes__;H||(H=y({CancellationError:x,TimeoutError:w,OperationalError:L,RejectionError:L,AggregateError:T}),p.defineProperty(Error,"__BluebirdErrorTypes__",{value:H,writable:!1,enumerable:!1,configurable:!1})),l.exports={Error,TypeError:h,RangeError:g,CancellationError:H.CancellationError,OperationalError:H.OperationalError,TimeoutError:H.TimeoutError,AggregateError:H.AggregateError,Warning:S}},{"./es5":13,"./util":36}],13:[function(o,l,d){var h=function(){"use strict";return void 0===this}();if(h)l.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:h,propertyIsWritable:function(m,k){var b=Object.getOwnPropertyDescriptor(m,k);return!(b&&!b.writable&&!b.set)}};else{var g={}.hasOwnProperty,p={}.toString,y={}.constructor.prototype,v=function(m){var k=[];for(var b in m)g.call(m,b)&&k.push(b);return k};l.exports={isArray:function(m){try{return"[object Array]"===p.call(m)}catch{return!1}},keys:v,names:v,defineProperty:function(m,k,b){return m[k]=b.value,m},getDescriptor:function(m,k){return{value:m[k]}},freeze:function(m){return m},getPrototypeOf:function(m){try{return Object(m).constructor.prototype}catch{return y}},isES5:h,propertyIsWritable:function(){return!0}}}},{}],14:[function(o,l,d){"use strict";l.exports=function(h,g){var p=h.map;h.prototype.filter=function(y,v){return p(this,y,v,g)},h.filter=function(y,v,m){return p(y,v,m,g)}}},{}],15:[function(o,l,d){"use strict";l.exports=function(h,g,p){var y=o("./util"),v=h.CancellationError,m=y.errorObj,k=o("./catch_filter")(p);function b(I,P,L){this.promise=I,this.type=P,this.handler=L,this.called=!1,this.cancelPromise=null}function S(I){this.finallyHandler=I}function x(I,P){return null!=I.cancelPromise&&(arguments.length>1?I.cancelPromise._reject(P):I.cancelPromise._cancel(),I.cancelPromise=null,!0)}function w(){return E.call(this,this.promise._target()._settledValue())}function T(I){if(!x(this,I))return m.e=I,m}function E(I){var P=this.promise,L=this.handler;if(!this.called){this.called=!0;var H=this.isFinallyHandler()?L.call(P._boundValue()):L.call(P._boundValue(),I);if(H===p)return H;if(void 0!==H){P._setReturnedNonUndefined();var F=g(H,P);if(F instanceof h){if(null!=this.cancelPromise){if(F._isCancelled()){var z=new v("late cancellation observer");return P._attachExtraTrace(z),m.e=z,m}F.isPending()&&F._attachCancellationCallback(new S(this))}return F._then(w,T,void 0,this,void 0)}}}return P.isRejected()?(x(this),m.e=I,m):(x(this),I)}return b.prototype.isFinallyHandler=function(){return 0===this.type},S.prototype._resultCancelled=function(){x(this.finallyHandler)},h.prototype._passThrough=function(I,P,L,H){return"function"!=typeof I?this.then():this._then(L,H,void 0,new b(this,P,I),void 0)},h.prototype.lastly=h.prototype.finally=function(I){return this._passThrough(I,0,E,E)},h.prototype.tap=function(I){return this._passThrough(I,1,E)},h.prototype.tapCatch=function(I){var P=arguments.length;if(1===P)return this._passThrough(I,1,void 0,E);var L,H=new Array(P-1),F=0;for(L=0;L<P-1;++L){var z=arguments[L];if(!y.isObject(z))return h.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+y.classString(z)));H[F++]=z}return H.length=F,this._passThrough(k(H,arguments[L],this),1,void 0,E)},b}},{"./catch_filter":7,"./util":36}],16:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v,m){var k=o("./errors").TypeError,b=o("./util"),S=b.errorObj,x=b.tryCatch,w=[];function T(E,I,P,L){if(m.cancellation()){var H=new h(p),F=this._finallyPromise=new h(p);this._promise=H.lastly(function(){return F}),H._captureStackTrace(),H._setOnCancel(this)}else(this._promise=new h(p))._captureStackTrace();this._stack=L,this._generatorFunction=E,this._receiver=I,this._generator=void 0,this._yieldHandlers="function"==typeof P?[P].concat(w):w,this._yieldedPromise=null,this._cancellationPhase=!1}b.inherits(T,v),T.prototype._isResolved=function(){return null===this._promise},T.prototype._cleanup=function(){this._promise=this._generator=null,m.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},T.prototype._promiseCancelled=function(){if(!this._isResolved()){var E;if(void 0!==this._generator.return)this._promise._pushContext(),E=x(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var I=new h.CancellationError("generator .return() sentinel");h.coroutine.returnSentinel=I,this._promise._attachExtraTrace(I),this._promise._pushContext(),E=x(this._generator.throw).call(this._generator,I),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(E)}},T.prototype._promiseFulfilled=function(E){this._yieldedPromise=null,this._promise._pushContext();var I=x(this._generator.next).call(this._generator,E);this._promise._popContext(),this._continue(I)},T.prototype._promiseRejected=function(E){this._yieldedPromise=null,this._promise._attachExtraTrace(E),this._promise._pushContext();var I=x(this._generator.throw).call(this._generator,E);this._promise._popContext(),this._continue(I)},T.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof h){var E=this._yieldedPromise;this._yieldedPromise=null,E.cancel()}},T.prototype.promise=function(){return this._promise},T.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},T.prototype._continue=function(E){var I=this._promise;if(E===S)return this._cleanup(),this._cancellationPhase?I.cancel():I._rejectCallback(E.e,!1);var P=E.value;if(!0===E.done)return this._cleanup(),this._cancellationPhase?I.cancel():I._resolveCallback(P);var L=y(P,this._promise);if(L instanceof h||null!==(L=function(F,z,W){for(var N=0;N<z.length;++N){W._pushContext();var O=x(z[N])(F);if(W._popContext(),O===S){W._pushContext();var q=h.reject(S.e);return W._popContext(),q}var G=y(O,W);if(G instanceof h)return G}return null}(L,this._yieldHandlers,this._promise))){var H=(L=L._target())._bitField;50397184&H?33554432&H?h._async.invoke(this._promiseFulfilled,this,L._value()):16777216&H?h._async.invoke(this._promiseRejected,this,L._reason()):this._promiseCancelled():(this._yieldedPromise=L,L._proxy(this,null))}else this._promiseRejected(new k("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(P))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},h.coroutine=function(E,I){if("function"!=typeof E)throw new k("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var P=Object(I).yieldHandler,L=T,H=(new Error).stack;return function(){var F=E.apply(this,arguments),z=new L(void 0,void 0,P,H),W=z.promise();return z._generator=F,z._promiseFulfilled(void 0),W}},h.coroutine.addYieldHandler=function(E){if("function"!=typeof E)throw new k("expecting a function but got "+b.classString(E));w.push(E)},h.spawn=function(E){if(m.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof E)return g("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var I=new T(E,this),P=I.promise();return I._run(h.spawn),P}}},{"./errors":12,"./util":36}],17:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v,m){o("./util"),h.join=function(){var b,S=arguments.length-1;S>0&&"function"==typeof arguments[S]&&(b=arguments[S]);var x=[].slice.call(arguments);b&&x.pop();var w=new g(x).promise();return void 0!==b?w.spread(b):w}}},{"./util":36}],18:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v,m){var k=h._getDomain,b=o("./util"),S=b.tryCatch,x=b.errorObj,w=h._async;function T(I,P,L,H){this.constructor$(I),this._promise._captureStackTrace();var F=k();this._callback=null===F?P:b.domainBind(F,P),this._preservedValues=H===v?new Array(this.length()):null,this._limit=L,this._inFlight=0,this._queue=[],w.invoke(this._asyncInit,this,void 0)}function E(I,P,L,H){if("function"!=typeof P)return p("expecting a function but got "+b.classString(P));var F=0;if(void 0!==L){if("object"!==e(L)||null===L)return h.reject(new TypeError("options argument must be an object but it is "+b.classString(L)));if("number"!=typeof L.concurrency)return h.reject(new TypeError("'concurrency' must be a number but it is "+b.classString(L.concurrency)));F=L.concurrency}return new T(I,P,F="number"==typeof F&&isFinite(F)&&F>=1?F:0,H).promise()}b.inherits(T,g),T.prototype._asyncInit=function(){this._init$(void 0,-2)},T.prototype._init=function(){},T.prototype._promiseFulfilled=function(I,P){var L=this._values,H=this.length(),F=this._preservedValues,z=this._limit;if(P<0){if(L[P=-1*P-1]=I,z>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(z>=1&&this._inFlight>=z)return L[P]=I,this._queue.push(P),!1;null!==F&&(F[P]=I);var W=this._promise,N=this._callback,O=W._boundValue();W._pushContext();var q=S(N).call(O,I,P,H),G=W._popContext();if(m.checkForgottenReturns(q,G,null!==F?"Promise.filter":"Promise.map",W),q===x)return this._reject(q.e),!0;var V=y(q,this._promise);if(V instanceof h){var Y=(V=V._target())._bitField;if(!(50397184&Y))return z>=1&&this._inFlight++,L[P]=V,V._proxy(this,-1*(P+1)),!1;if(!(33554432&Y))return 16777216&Y?(this._reject(V._reason()),!0):(this._cancel(),!0);q=V._value()}L[P]=q}return++this._totalResolved>=H&&(null!==F?this._filter(L,F):this._resolve(L),!0)},T.prototype._drainQueue=function(){for(var I=this._queue,P=this._limit,L=this._values;I.length>0&&this._inFlight<P;){if(this._isResolved())return;var H=I.pop();this._promiseFulfilled(L[H],H)}},T.prototype._filter=function(I,P){for(var L=P.length,H=new Array(L),F=0,z=0;z<L;++z)I[z]&&(H[F++]=P[z]);H.length=F,this._resolve(H)},T.prototype.preservedValues=function(){return this._preservedValues},h.prototype.map=function(I,P){return E(this,I,P,null)},h.map=function(I,P,L,H){return E(I,P,L,H)}}},{"./util":36}],19:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v){var m=o("./util"),k=m.tryCatch;h.method=function(b){if("function"!=typeof b)throw new h.TypeError("expecting a function but got "+m.classString(b));return function(){var S=new h(g);S._captureStackTrace(),S._pushContext();var x=k(b).apply(this,arguments),w=S._popContext();return v.checkForgottenReturns(x,w,"Promise.method",S),S._resolveFromSyncValue(x),S}},h.attempt=h.try=function(b){if("function"!=typeof b)return y("expecting a function but got "+m.classString(b));var S,x=new h(g);if(x._captureStackTrace(),x._pushContext(),arguments.length>1){v.deprecated("calling Promise.try with more than 1 argument");var w=arguments[1],T=arguments[2];S=m.isArray(w)?k(b).apply(T,w):k(b).call(T,w)}else S=k(b)();var E=x._popContext();return v.checkForgottenReturns(S,E,"Promise.try",x),x._resolveFromSyncValue(S),x},h.prototype._resolveFromSyncValue=function(b){b===m.errorObj?this._rejectCallback(b.e,!1):this._resolveCallback(b,!0)}}},{"./util":36}],20:[function(o,l,d){"use strict";var h=o("./util"),g=h.maybeWrapAsError,p=o("./errors").OperationalError,y=o("./es5"),v=/^(?:name|message|stack|cause)$/;l.exports=function(k,b){return function(S,x){if(null!==k){if(S){var w=function m(k){var b,T;if((T=k)instanceof Error&&y.getPrototypeOf(T)===Error.prototype){(b=new p(k)).name=k.name,b.message=k.message,b.stack=k.stack;for(var S=y.keys(k),x=0;x<S.length;++x){var w=S[x];v.test(w)||(b[w]=k[w])}return b}return h.markAsOriginatingFromRejection(k),k}(g(S));k._attachExtraTrace(w),k._reject(w)}else if(b){var T=[].slice.call(arguments,1);k._fulfill(T)}else k._fulfill(x);k=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(o,l,d){"use strict";l.exports=function(h){var g=o("./util"),p=h._async,y=g.tryCatch,v=g.errorObj;function m(S,x){if(!g.isArray(S))return k.call(this,S,x);var w=y(x).apply(this._boundValue(),[null].concat(S));w===v&&p.throwLater(w.e)}function k(S,x){var w=this._boundValue(),T=void 0===S?y(x).call(w,null):y(x).call(w,null,S);T===v&&p.throwLater(T.e)}function b(S,x){if(!S){var w=new Error(S+"");w.cause=S,S=w}var T=y(x).call(this._boundValue(),S);T===v&&p.throwLater(T.e)}h.prototype.asCallback=h.prototype.nodeify=function(S,x){if("function"==typeof S){var w=k;void 0!==x&&Object(x).spread&&(w=m),this._then(w,b,void 0,this,S)}return this}}},{"./util":36}],22:[function(o,l,d){"use strict";l.exports=function(){var h=function(){return new T("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},g=function(){return new B.PromiseInspection(this._target())},p=function(A){return B.reject(new T(A))};function y(){}var v,m={},k=o("./util");k.notEnumerableProp(B,"_getDomain",v=k.isNode?function(){var A=_.domain;return void 0===A&&(A=null),A}:function(){return null});var b=o("./es5"),S=o("./async"),x=new S;b.defineProperty(B,"_async",{value:x});var w=o("./errors"),T=B.TypeError=w.TypeError;B.RangeError=w.RangeError;var E=B.CancellationError=w.CancellationError;B.TimeoutError=w.TimeoutError,B.OperationalError=w.OperationalError,B.RejectionError=w.OperationalError,B.AggregateError=w.AggregateError;var I=function(){},P={},L={},H=o("./thenables")(B,I),F=o("./promise_array")(B,I,H,p,y),z=o("./context")(B),W=z.create,N=o("./debuggability")(B,z),O=o("./finally")(B,H,L),q=o("./catch_filter")(L),G=o("./nodeback"),V=k.errorObj,Y=k.tryCatch;function B(A){A!==I&&function(R,j){if(null==R||R.constructor!==B)throw new T("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof j)throw new T("expecting a function but got "+k.classString(j))}(this,A),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(A),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function tt(A){this.promise._resolveCallback(A)}function D(A){this.promise._rejectCallback(A,!1)}function M(A){var R=new B(I);R._fulfillmentHandler0=A,R._rejectionHandler0=A,R._promise0=A,R._receiver0=A}return B.prototype.toString=function(){return"[object Promise]"},B.prototype.caught=B.prototype.catch=function(A){var R=arguments.length;if(R>1){var j,U=new Array(R-1),K=0;for(j=0;j<R-1;++j){var Q=arguments[j];if(!k.isObject(Q))return p("Catch statement predicate: expecting an object but got "+k.classString(Q));U[K++]=Q}return U.length=K,this.then(void 0,q(U,A=arguments[j],this))}return this.then(void 0,A)},B.prototype.reflect=function(){return this._then(g,g,void 0,this,void 0)},B.prototype.then=function(A,R){if(N.warnings()&&arguments.length>0&&"function"!=typeof A&&"function"!=typeof R){var j=".then() only accepts functions but was passed: "+k.classString(A);arguments.length>1&&(j+=", "+k.classString(R)),this._warn(j)}return this._then(A,R,void 0,void 0,void 0)},B.prototype.done=function(A,R){this._then(A,R,void 0,void 0,void 0)._setIsFinal()},B.prototype.spread=function(A){return"function"!=typeof A?p("expecting a function but got "+k.classString(A)):this.all()._then(A,void 0,void 0,P,void 0)},B.prototype.toJSON=function(){var A={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(A.fulfillmentValue=this.value(),A.isFulfilled=!0):this.isRejected()&&(A.rejectionReason=this.reason(),A.isRejected=!0),A},B.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new F(this).promise()},B.prototype.error=function(A){return this.caught(k.originatesFromRejection,A)},B.getNewLibraryCopy=l.exports,B.is=function(A){return A instanceof B},B.fromNode=B.fromCallback=function(A){var R=new B(I);R._captureStackTrace();var j=arguments.length>1&&!!Object(arguments[1]).multiArgs,U=Y(A)(G(R,j));return U===V&&R._rejectCallback(U.e,!0),R._isFateSealed()||R._setAsyncGuaranteed(),R},B.all=function(A){return new F(A).promise()},B.cast=function(A){var R=H(A);return R instanceof B||((R=new B(I))._captureStackTrace(),R._setFulfilled(),R._rejectionHandler0=A),R},B.resolve=B.fulfilled=B.cast,B.reject=B.rejected=function(A){var R=new B(I);return R._captureStackTrace(),R._rejectCallback(A,!0),R},B.setScheduler=function(A){if("function"!=typeof A)throw new T("expecting a function but got "+k.classString(A));return x.setScheduler(A)},B.prototype._then=function(A,R,j,U,K){var Q=void 0!==K,et=Q?K:new B(I),at=this._target(),X=at._bitField;Q||(et._propagateFrom(this,3),et._captureStackTrace(),void 0===U&&2097152&this._bitField&&(U=50397184&X?this._boundValue():at===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,et));var rt=v();if(50397184&X){var ct,dt,ut=at._settlePromiseCtx;33554432&X?(dt=at._rejectionHandler0,ct=A):16777216&X?(dt=at._fulfillmentHandler0,ct=R,at._unsetRejectionIsUnhandled()):(ut=at._settlePromiseLateCancellationObserver,dt=new E("late cancellation observer"),at._attachExtraTrace(dt),ct=R),x.invoke(ut,at,{handler:null===rt?ct:"function"==typeof ct&&k.domainBind(rt,ct),promise:et,receiver:U,value:dt})}else at._addCallbacks(A,R,et,U,rt);return et},B.prototype._length=function(){return 65535&this._bitField},B.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},B.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},B.prototype._setLength=function(A){this._bitField=-65536&this._bitField|65535&A},B.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},B.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},B.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},B.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},B.prototype._isFinal=function(){return(4194304&this._bitField)>0},B.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},B.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},B.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},B.prototype._setAsyncGuaranteed=function(){x.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},B.prototype._receiverAt=function(A){var R=0===A?this._receiver0:this[4*A-4+3];if(R!==m)return void 0===R&&this._isBound()?this._boundValue():R},B.prototype._promiseAt=function(A){return this[4*A-4+2]},B.prototype._fulfillmentHandlerAt=function(A){return this[4*A-4+0]},B.prototype._rejectionHandlerAt=function(A){return this[4*A-4+1]},B.prototype._boundValue=function(){},B.prototype._migrateCallback0=function(A){var R=A._fulfillmentHandler0,j=A._rejectionHandler0,U=A._promise0,K=A._receiverAt(0);void 0===K&&(K=m),this._addCallbacks(R,j,U,K,null)},B.prototype._migrateCallbackAt=function(A,R){var j=A._fulfillmentHandlerAt(R),U=A._rejectionHandlerAt(R),K=A._promiseAt(R),Q=A._receiverAt(R);void 0===Q&&(Q=m),this._addCallbacks(j,U,K,Q,null)},B.prototype._addCallbacks=function(A,R,j,U,K){var Q=this._length();if(Q>=65531&&(Q=0,this._setLength(0)),0===Q)this._promise0=j,this._receiver0=U,"function"==typeof A&&(this._fulfillmentHandler0=null===K?A:k.domainBind(K,A)),"function"==typeof R&&(this._rejectionHandler0=null===K?R:k.domainBind(K,R));else{var et=4*Q-4;this[et+2]=j,this[et+3]=U,"function"==typeof A&&(this[et+0]=null===K?A:k.domainBind(K,A)),"function"==typeof R&&(this[et+1]=null===K?R:k.domainBind(K,R))}return this._setLength(Q+1),Q},B.prototype._proxy=function(A,R){this._addCallbacks(void 0,void 0,R,A,null)},B.prototype._resolveCallback=function(A,R){if(!(117506048&this._bitField)){if(A===this)return this._rejectCallback(h(),!1);var j=H(A,this);if(!(j instanceof B))return this._fulfill(A);R&&this._propagateFrom(j,2);var U=j._target();if(U!==this){var K=U._bitField;if(50397184&K)if(33554432&K)this._fulfill(U._value());else if(16777216&K)this._reject(U._reason());else{var at=new E("late cancellation observer");U._attachExtraTrace(at),this._reject(at)}else{var Q=this._length();Q>0&&U._migrateCallback0(this);for(var et=1;et<Q;++et)U._migrateCallbackAt(this,et);this._setFollowing(),this._setLength(0),this._setFollowee(U)}}else this._reject(h())}},B.prototype._rejectCallback=function(A,R,j){var U=k.ensureErrorObject(A),K=U===A;if(!K&&!j&&N.warnings()){var Q="a promise was rejected with a non-error: "+k.classString(A);this._warn(Q,!0)}this._attachExtraTrace(U,!!R&&K),this._reject(A)},B.prototype._resolveFromExecutor=function(A){if(A!==I){var R=this;this._captureStackTrace(),this._pushContext();var j=!0,U=this._execute(A,function(K){R._resolveCallback(K)},function(K){R._rejectCallback(K,j)});j=!1,this._popContext(),void 0!==U&&R._rejectCallback(U,!0)}},B.prototype._settlePromiseFromHandler=function(A,R,j,U){var K=U._bitField;if(!(65536&K)){var Q;U._pushContext(),R===P?j&&"number"==typeof j.length?Q=Y(A).apply(this._boundValue(),j):(Q=V).e=new T("cannot .spread() a non-array: "+k.classString(j)):Q=Y(A).call(R,j);var et=U._popContext();!(65536&(K=U._bitField))&&(Q===L?U._reject(j):Q===V?U._rejectCallback(Q.e,!1):(N.checkForgottenReturns(Q,et,"",U,this),U._resolveCallback(Q)))}},B.prototype._target=function(){for(var A=this;A._isFollowing();)A=A._followee();return A},B.prototype._followee=function(){return this._rejectionHandler0},B.prototype._setFollowee=function(A){this._rejectionHandler0=A},B.prototype._settlePromise=function(A,R,j,U){var K=A instanceof B,Q=this._bitField,et=0!=(134217728&Q);65536&Q?(K&&A._invokeInternalOnCancel(),j instanceof O&&j.isFinallyHandler()?(j.cancelPromise=A,Y(R).call(j,U)===V&&A._reject(V.e)):R===g?A._fulfill(g.call(j)):j instanceof y?j._promiseCancelled(A):K||A instanceof F?A._cancel():j.cancel()):"function"==typeof R?K?(et&&A._setAsyncGuaranteed(),this._settlePromiseFromHandler(R,j,U,A)):R.call(j,U,A):j instanceof y?j._isResolved()||(33554432&Q?j._promiseFulfilled(U,A):j._promiseRejected(U,A)):K&&(et&&A._setAsyncGuaranteed(),33554432&Q?A._fulfill(U):A._reject(U))},B.prototype._settlePromiseLateCancellationObserver=function(A){var R=A.handler,j=A.promise,U=A.receiver,K=A.value;"function"==typeof R?j instanceof B?this._settlePromiseFromHandler(R,U,K,j):R.call(U,K,j):j instanceof B&&j._reject(K)},B.prototype._settlePromiseCtx=function(A){this._settlePromise(A.promise,A.handler,A.receiver,A.value)},B.prototype._settlePromise0=function(A,R,j){var U=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(U,A,K,R)},B.prototype._clearCallbackDataAtIndex=function(A){var R=4*A-4;this[R+2]=this[R+3]=this[R+0]=this[R+1]=void 0},B.prototype._fulfill=function(A){var R=this._bitField;if(!((117506048&R)>>>16)){if(A===this){var j=h();return this._attachExtraTrace(j),this._reject(j)}this._setFulfilled(),this._rejectionHandler0=A,(65535&R)>0&&(134217728&R?this._settlePromises():x.settlePromises(this),this._dereferenceTrace())}},B.prototype._reject=function(A){var R=this._bitField;if(!((117506048&R)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=A,this._isFinal())return x.fatalError(A,k.isNode);(65535&R)>0?x.settlePromises(this):this._ensurePossibleRejectionHandled()}},B.prototype._fulfillPromises=function(A,R){for(var j=1;j<A;j++){var U=this._fulfillmentHandlerAt(j),K=this._promiseAt(j),Q=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(K,U,Q,R)}},B.prototype._rejectPromises=function(A,R){for(var j=1;j<A;j++){var U=this._rejectionHandlerAt(j),K=this._promiseAt(j),Q=this._receiverAt(j);this._clearCallbackDataAtIndex(j),this._settlePromise(K,U,Q,R)}},B.prototype._settlePromises=function(){var A=this._bitField,R=65535&A;if(R>0){if(16842752&A){var j=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,j,A),this._rejectPromises(R,j)}else{var U=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,U,A),this._fulfillPromises(R,U)}this._setLength(0)}this._clearCancellationData()},B.prototype._settledValue=function(){var A=this._bitField;return 33554432&A?this._rejectionHandler0:16777216&A?this._fulfillmentHandler0:void 0},B.defer=B.pending=function(){return N.deprecated("Promise.defer","new Promise"),{promise:new B(I),resolve:tt,reject:D}},k.notEnumerableProp(B,"_makeSelfResolutionError",h),o("./method")(B,I,H,p,N),o("./bind")(B,I,H,N),o("./cancel")(B,F,p,N),o("./direct_resolve")(B),o("./synchronous_inspection")(B),o("./join")(B,F,H,I,x,v),B.Promise=B,B.version="3.5.4",o("./map.js")(B,F,p,H,I,N),o("./call_get.js")(B),o("./using.js")(B,p,H,W,I,N),o("./timers.js")(B,I,N),o("./generators.js")(B,p,I,H,y,N),o("./nodeify.js")(B),o("./promisify.js")(B,I),o("./props.js")(B,F,H,p),o("./race.js")(B,I,H,p),o("./reduce.js")(B,F,p,H,I,N),o("./settle.js")(B,F,N),o("./some.js")(B,F,p),o("./filter.js")(B,I),o("./each.js")(B,I),o("./any.js")(B),k.toFastProperties(B),k.toFastProperties(B.prototype),M({a:1}),M({b:2}),M({c:3}),M(1),M(function(){}),M(void 0),M(!1),M(new B(I)),N.setBounds(S.firstLineError,k.lastLineError),B}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v){var m=o("./util");function k(b){var S=this._promise=new h(g);b instanceof h&&S._propagateFrom(b,3),S._setOnCancel(this),this._values=b,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return m.inherits(k,v),k.prototype.length=function(){return this._length},k.prototype.promise=function(){return this._promise},k.prototype._init=function b(S,x){var w=p(this._values,this._promise);if(w instanceof h){var T=(w=w._target())._bitField;if(this._values=w,0==(50397184&T))return this._promise._setAsyncGuaranteed(),w._then(b,this._reject,void 0,this,x);if(!(33554432&T))return 16777216&T?this._reject(w._reason()):this._cancel();w=w._value()}if(null!==(w=m.asArray(w)))0!==w.length?this._iterate(w):-5===x?this._resolveEmptyArray():this._resolve(function(I){switch(I){case-2:return[];case-3:return{};case-6:return new Map}}(x));else{var E=y("expecting an array or an iterable object but got "+m.classString(w)).reason();this._promise._rejectCallback(E,!1)}},k.prototype._iterate=function(b){var S=this.getActualLength(b.length);this._length=S,this._values=this.shouldCopyValues()?new Array(S):this._values;for(var x=this._promise,w=!1,T=null,E=0;E<S;++E){var I=p(b[E],x);T=I instanceof h?(I=I._target())._bitField:null,w?null!==T&&I.suppressUnhandledRejections():null!==T?50397184&T?w=33554432&T?this._promiseFulfilled(I._value(),E):16777216&T?this._promiseRejected(I._reason(),E):this._promiseCancelled(E):(I._proxy(this,E),this._values[E]=I):w=this._promiseFulfilled(I,E)}w||x._setAsyncGuaranteed()},k.prototype._isResolved=function(){return null===this._values},k.prototype._resolve=function(b){this._values=null,this._promise._fulfill(b)},k.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},k.prototype._reject=function(b){this._values=null,this._promise._rejectCallback(b,!1)},k.prototype._promiseFulfilled=function(b,S){return this._values[S]=b,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},k.prototype._promiseCancelled=function(){return this._cancel(),!0},k.prototype._promiseRejected=function(b){return this._totalResolved++,this._reject(b),!0},k.prototype._resultCancelled=function(){if(!this._isResolved()){var b=this._values;if(this._cancel(),b instanceof h)b.cancel();else for(var S=0;S<b.length;++S)b[S]instanceof h&&b[S].cancel()}},k.prototype.shouldCopyValues=function(){return!0},k.prototype.getActualLength=function(b){return b},k}},{"./util":36}],24:[function(o,l,d){"use strict";l.exports=function(h,g){var p={},y=o("./util"),v=o("./nodeback"),m=y.withAppended,k=y.maybeWrapAsError,b=y.canEvaluate,S=o("./errors").TypeError,x={__isPromisified__:!0},w=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),T=function(W){return y.isIdentifier(W)&&"_"!==W.charAt(0)&&"constructor"!==W};function E(W){return!w.test(W)}function I(W){try{return!0===W.__isPromisified__}catch{return!1}}function P(W,N,O){var q=y.getDataPropertyOrDefault(W,N+O,x);return!!q&&I(q)}var F=b?void 0:function(W,N,O,q,G,V){var Y=function(){return this}(),B=W;function tt(){var D=N;N===p&&(D=this);var M=new h(g);M._captureStackTrace();var A="string"==typeof B&&this!==Y?this[B]:W,R=v(M,V);try{A.apply(D,m(arguments,R))}catch(j){M._rejectCallback(k(j),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return"string"==typeof B&&(W=q),y.notEnumerableProp(tt,"__isPromisified__",!0),tt};function z(W,N,O,q,G){for(var V=new RegExp(function(W){return W.replace(/([$])/,"\\$")}(N)+"$"),Y=function L(W,N,O,q){for(var G=y.inheritedDataKeys(W),V=[],Y=0;Y<G.length;++Y){var B=G[Y],tt=W[B],D=q===T||T(B);"function"!=typeof tt||I(tt)||P(W,B,N)||!q(B,tt,W,D)||V.push(B,tt)}return function(M,A,R){for(var j=0;j<M.length;j+=2){var U=M[j];if(R.test(U))for(var K=U.replace(R,""),Q=0;Q<M.length;Q+=2)if(M[Q]===K)throw new S("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",A))}}(V,N,O),V}(W,N,V,O),B=0,tt=Y.length;B<tt;B+=2){var D=Y[B],M=Y[B+1],A=D+N;if(q===F)W[A]=F(D,p,D,M,N,G);else{var R=q(M,function(){return F(D,p,D,M,N,G)});y.notEnumerableProp(R,"__isPromisified__",!0),W[A]=R}}return y.toFastProperties(W),W}h.promisify=function(W,N){if("function"!=typeof W)throw new S("expecting a function but got "+y.classString(W));if(I(W))return W;var q,G,O=(q=W,G=void 0===(N=Object(N)).context?p:N.context,F(q,G,void 0,q,null,!!N.multiArgs));return y.copyDescriptors(W,O,E),O},h.promisifyAll=function(W,N){if("function"!=typeof W&&"object"!==e(W))throw new S("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var O=!!(N=Object(N)).multiArgs,q=N.suffix;"string"!=typeof q&&(q="Async");var G=N.filter;"function"!=typeof G&&(G=T);var V=N.promisifier;if("function"!=typeof V&&(V=F),!y.isIdentifier(q))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var Y=y.inheritedDataKeys(W),B=0;B<Y.length;++B){var tt=W[Y[B]];"constructor"!==Y[B]&&y.isClass(tt)&&(z(tt.prototype,q,G,V,O),z(tt,q,G,V,O))}return z(W,q,G,V,O)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(o,l,d){"use strict";l.exports=function(h,g,p,y){var v,m=o("./util"),k=m.isObject,b=o("./es5");"function"==typeof Map&&(v=Map);var S=function(){var T=0,E=0;function I(P,L){this[T]=P,this[T+E]=L,T++}return function(P){E=P.size,T=0;var L=new Array(2*P.size);return P.forEach(I,L),L}}();function x(T){var E,I=!1;if(void 0!==v&&T instanceof v)E=S(T),I=!0;else{var P=b.keys(T),L=P.length;E=new Array(2*L);for(var H=0;H<L;++H){var F=P[H];E[H]=T[F],E[H+L]=F}}this.constructor$(E),this._isMap=I,this._init$(void 0,I?-6:-3)}function w(T){var E,I=p(T);return k(I)?(E=I instanceof h?I._then(h.props,void 0,void 0,void 0,void 0):new x(I).promise(),I instanceof h&&E._propagateFrom(I,2),E):y("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}m.inherits(x,g),x.prototype._init=function(){},x.prototype._promiseFulfilled=function(T,E){if(this._values[E]=T,++this._totalResolved>=this._length){var I;if(this._isMap)I=function(F){for(var z=new v,W=F.length/2|0,N=0;N<W;++N)z.set(F[W+N],F[N]);return z}(this._values);else{I={};for(var P=this.length(),L=0,H=this.length();L<H;++L)I[this._values[L+P]]=this._values[L]}return this._resolve(I),!0}return!1},x.prototype.shouldCopyValues=function(){return!1},x.prototype.getActualLength=function(T){return T>>1},h.prototype.props=function(){return w(this)},h.props=function(T){return w(T)}}},{"./es5":13,"./util":36}],26:[function(o,l,d){"use strict";function h(g){this._capacity=g,this._length=0,this._front=0}h.prototype._willBeOverCapacity=function(g){return this._capacity<g},h.prototype._pushOne=function(g){var p=this.length();this._checkCapacity(p+1),this[this._front+p&this._capacity-1]=g,this._length=p+1},h.prototype.push=function(g,p,y){var v=this.length()+3;if(this._willBeOverCapacity(v))return this._pushOne(g),this._pushOne(p),void this._pushOne(y);var m=this._front+v-3;this._checkCapacity(v);var k=this._capacity-1;this[m+0&k]=g,this[m+1&k]=p,this[m+2&k]=y,this._length=v},h.prototype.shift=function(){var g=this._front,p=this[g];return this[g]=void 0,this._front=g+1&this._capacity-1,this._length--,p},h.prototype.length=function(){return this._length},h.prototype._checkCapacity=function(g){this._capacity<g&&this._resizeTo(this._capacity<<1)},h.prototype._resizeTo=function(g){var p=this._capacity;this._capacity=g,function(y,v,m,k,b){for(var S=0;S<b;++S)m[S+k]=y[S+0],y[S+0]=void 0}(this,0,this,p,this._front+this._length&p-1)},l.exports=h},{}],27:[function(o,l,d){"use strict";l.exports=function(h,g,p,y){var v=o("./util");function k(b,S){var x=p(b);if(x instanceof h)return function(b){return b.then(function(S){return k(S,b)})}(x);if(null===(b=v.asArray(b)))return y("expecting an array or an iterable object but got "+v.classString(b));var w=new h(g);void 0!==S&&w._propagateFrom(S,3);for(var T=w._fulfill,E=w._reject,I=0,P=b.length;I<P;++I){var L=b[I];(void 0!==L||I in b)&&h.cast(L)._then(T,E,void 0,w,null)}return w}h.race=function(b){return k(b,void 0)},h.prototype.race=function(){return k(this,void 0)}}},{"./util":36}],28:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v,m){var k=h._getDomain,b=o("./util"),S=b.tryCatch;function x(P,L,H,F){this.constructor$(P);var z=k();this._fn=null===z?L:b.domainBind(z,L),void 0!==H&&(H=h.resolve(H))._attachCancellationCallback(this),this._initialValue=H,this._currentCancellable=null,this._eachValues=F===v?Array(this._length):0===F?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function w(P,L){this.isFulfilled()?L._resolve(P):L._reject(P)}function T(P,L,H,F){return"function"!=typeof L?p("expecting a function but got "+b.classString(L)):new x(P,L,H,F).promise()}function E(P){this.accum=P,this.array._gotAccum(P);var L=y(this.value,this.array._promise);return L instanceof h?(this.array._currentCancellable=L,L._then(I,void 0,void 0,this,void 0)):I.call(this,L)}function I(P){var L,H=this.array,F=H._promise,z=S(H._fn);F._pushContext(),(L=void 0!==H._eachValues?z.call(F._boundValue(),P,this.index,this.length):z.call(F._boundValue(),this.accum,P,this.index,this.length))instanceof h&&(H._currentCancellable=L);var W=F._popContext();return m.checkForgottenReturns(L,W,void 0!==H._eachValues?"Promise.each":"Promise.reduce",F),L}b.inherits(x,g),x.prototype._gotAccum=function(P){null!=this._eachValues&&P!==v&&this._eachValues.push(P)},x.prototype._eachComplete=function(P){return null!==this._eachValues&&this._eachValues.push(P),this._eachValues},x.prototype._init=function(){},x.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},x.prototype.shouldCopyValues=function(){return!1},x.prototype._resolve=function(P){this._promise._resolveCallback(P),this._values=null},x.prototype._resultCancelled=function(P){if(P===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof h&&this._currentCancellable.cancel(),this._initialValue instanceof h&&this._initialValue.cancel())},x.prototype._iterate=function(P){var L,H;this._values=P;var F=P.length;if(void 0!==this._initialValue?(L=this._initialValue,H=0):(L=h.resolve(P[0]),H=1),this._currentCancellable=L,!L.isRejected())for(;H<F;++H)L=L._then(E,void 0,void 0,{accum:null,value:P[H],index:H,length:F,array:this},void 0);void 0!==this._eachValues&&(L=L._then(this._eachComplete,void 0,void 0,this,void 0)),L._then(w,w,void 0,L,this)},h.prototype.reduce=function(P,L){return T(this,P,L,null)},h.reduce=function(P,L,H,F){return T(P,L,H,F)}}},{"./util":36}],29:[function(o,l,d){"use strict";var h,k,b,S,x,g=o("./util"),p=g.getNativePromise();if(g.isNode&&typeof MutationObserver>"u"){var y=u.setImmediate,v=_.nextTick;h=g.isRecentNode?function(k){y.call(u,k)}:function(k){v.call(_,k)}}else if("function"==typeof p&&"function"==typeof p.resolve){var m=p.resolve();h=function(k){m.then(k)}}else h=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==s?function(k){s(k)}:typeof setTimeout<"u"?function(k){setTimeout(k,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(k=document.createElement("div"),b={attributes:!0},S=!1,x=document.createElement("div"),new MutationObserver(function(){k.classList.toggle("foo"),S=!1}).observe(x,b),function(w){var T=new MutationObserver(function(){T.disconnect(),w()});T.observe(k,b),S||(S=!0,x.classList.toggle("foo"))});l.exports=h},{"./util":36}],30:[function(o,l,d){"use strict";l.exports=function(h,g,p){var y=h.PromiseInspection;function v(m){this.constructor$(m)}o("./util").inherits(v,g),v.prototype._promiseResolved=function(m,k){return this._values[m]=k,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseFulfilled=function(m,k){var b=new y;return b._bitField=33554432,b._settledValueField=m,this._promiseResolved(k,b)},v.prototype._promiseRejected=function(m,k){var b=new y;return b._bitField=16777216,b._settledValueField=m,this._promiseResolved(k,b)},h.settle=function(m){return p.deprecated(".settle()",".reflect()"),new v(m).promise()},h.prototype.settle=function(){return h.settle(this)}}},{"./util":36}],31:[function(o,l,d){"use strict";l.exports=function(h,g,p){var y=o("./util"),v=o("./errors").RangeError,m=o("./errors").AggregateError,k=y.isArray,b={};function S(w){this.constructor$(w),this._howMany=0,this._unwrap=!1,this._initialized=!1}function x(w,T){if((0|T)!==T||T<0)return p("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var E=new S(w),I=E.promise();return E.setHowMany(T),E.init(),I}y.inherits(S,g),S.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var w=k(this._values);!this._isResolved()&&w&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},S.prototype.init=function(){this._initialized=!0,this._init()},S.prototype.setUnwrap=function(){this._unwrap=!0},S.prototype.howMany=function(){return this._howMany},S.prototype.setHowMany=function(w){this._howMany=w},S.prototype._promiseFulfilled=function(w){return this._addFulfilled(w),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},S.prototype._promiseRejected=function(w){return this._addRejected(w),this._checkOutcome()},S.prototype._promiseCancelled=function(){return this._values instanceof h||null==this._values?this._cancel():(this._addRejected(b),this._checkOutcome())},S.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var w=new m,T=this.length();T<this._values.length;++T)this._values[T]!==b&&w.push(this._values[T]);return w.length>0?this._reject(w):this._cancel(),!0}return!1},S.prototype._fulfilled=function(){return this._totalResolved},S.prototype._rejected=function(){return this._values.length-this.length()},S.prototype._addRejected=function(w){this._values.push(w)},S.prototype._addFulfilled=function(w){this._values[this._totalResolved++]=w},S.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},S.prototype._getRangeError=function(w){return new v("Input array must contain at least "+this._howMany+" items but contains only "+w+" items")},S.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},h.some=function(w,T){return x(w,T)},h.prototype.some=function(w){return x(this,w)},h._SomePromiseArray=S}},{"./errors":12,"./util":36}],32:[function(o,l,d){"use strict";l.exports=function(h){function g(S){void 0!==S?(S=S._target(),this._bitField=S._bitField,this._settledValueField=S._isFateSealed()?S._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}g.prototype._settledValue=function(){return this._settledValueField};var p=g.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},y=g.prototype.error=g.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},v=g.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},m=g.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},k=g.prototype.isPending=function(){return 0==(50397184&this._bitField)},b=g.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};g.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},h.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},h.prototype._isCancelled=function(){return this._target().__isCancelled()},h.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},h.prototype.isPending=function(){return k.call(this._target())},h.prototype.isRejected=function(){return m.call(this._target())},h.prototype.isFulfilled=function(){return v.call(this._target())},h.prototype.isResolved=function(){return b.call(this._target())},h.prototype.value=function(){return p.call(this._target())},h.prototype.reason=function(){var S=this._target();return S._unsetRejectionIsUnhandled(),y.call(S)},h.prototype._value=function(){return this._settledValue()},h.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},h.PromiseInspection=g}},{}],33:[function(o,l,d){"use strict";l.exports=function(h,g){var p=o("./util"),y=p.errorObj,v=p.isObject,m={}.hasOwnProperty;return function(k,b){if(v(k)){if(k instanceof h)return k;var S=function(w){try{return(T=w).then}catch(T){return y.e=T,y}var T}(k);if(S===y){b&&b._pushContext();var x=h.reject(S.e);return b&&b._popContext(),x}if("function"==typeof S)return function(w){try{return m.call(w,"_promise0")}catch{return!1}}(k)?(x=new h(g),k._then(x._fulfill,x._reject,void 0,x,null),x):function(w,T,E){var I=new h(g),P=I;E&&E._pushContext(),I._captureStackTrace(),E&&E._popContext();var L=!0,H=p.tryCatch(T).call(w,function(F){I&&(I._resolveCallback(F),I=null)},function(F){I&&(I._rejectCallback(F,L,!0),I=null)});return L=!1,I&&H===y&&(I._rejectCallback(H.e,!0,!0),I=null),P}(k,S,b)}return k}}},{"./util":36}],34:[function(o,l,d){"use strict";l.exports=function(h,g,p){var y=o("./util"),v=h.TimeoutError;function m(w){this.handle=w}m.prototype._resultCancelled=function(){clearTimeout(this.handle)};var k=function(w){return b(+this).thenReturn(w)},b=h.delay=function(w,T){var E,I;return void 0!==T?(E=h.resolve(T)._then(k,null,null,w,void 0),p.cancellation()&&T instanceof h&&E._setOnCancel(T)):(E=new h(g),I=setTimeout(function(){E._fulfill()},+w),p.cancellation()&&E._setOnCancel(new m(I)),E._captureStackTrace()),E._setAsyncGuaranteed(),E};function S(w){return clearTimeout(this.handle),w}function x(w){throw clearTimeout(this.handle),w}h.prototype.delay=function(w){return b(w,this)},h.prototype.timeout=function(w,T){var E,I;w=+w;var P=new m(setTimeout(function(){var L,H,F,z;E.isPending()&&(L=E,F=I,z="string"!=typeof(H=T)?H instanceof Error?H:new v("operation timed out"):new v(H),y.markAsOriginatingFromRejection(z),L._attachExtraTrace(z),L._reject(z),F?.cancel())},w));return p.cancellation()?(I=this.then(),(E=I._then(S,x,void 0,P,void 0))._setOnCancel(P)):E=this._then(S,x,void 0,P,void 0),E}}},{"./util":36}],35:[function(o,l,d){"use strict";l.exports=function(h,g,p,y,v,m){var k=o("./util"),b=o("./errors").TypeError,S=o("./util").inherits,x=k.errorObj,w=k.tryCatch,T={};function E(z){setTimeout(function(){throw z},0)}function P(z,W,N){this._data=z,this._promise=W,this._context=N}function L(z,W,N){this.constructor$(z,W,N)}function H(z){return P.isDisposer(z)?(this.resources[this.index]._setDisposable(z),z.promise()):z}function F(z){this.length=z,this.promise=null,this[z-1]=null}P.prototype.data=function(){return this._data},P.prototype.promise=function(){return this._promise},P.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},P.prototype.tryDispose=function(z){var W=this.resource(),N=this._context;void 0!==N&&N._pushContext();var O=W!==T?this.doDispose(W,z):null;return void 0!==N&&N._popContext(),this._promise._unsetDisposable(),this._data=null,O},P.isDisposer=function(z){return null!=z&&"function"==typeof z.resource&&"function"==typeof z.tryDispose},S(L,P),L.prototype.doDispose=function(z,W){return this.data().call(z,z,W)},F.prototype._resultCancelled=function(){for(var z=this.length,W=0;W<z;++W){var N=this[W];N instanceof h&&N.cancel()}},h.using=function(){var z=arguments.length;if(z<2)return g("you must pass at least 2 arguments to Promise.using");var W,N=arguments[z-1];if("function"!=typeof N)return g("expecting a function but got "+k.classString(N));var O=!0;2===z&&Array.isArray(arguments[0])?(z=(W=arguments[0]).length,O=!1):(W=arguments,z--);for(var q=new F(z),G=0;G<z;++G){var V=W[G];if(P.isDisposer(V)){var Y=V;(V=V.promise())._setDisposable(Y)}else{var B=p(V);B instanceof h&&(V=B._then(H,null,null,{resources:q,index:G},void 0))}q[G]=V}var tt=new Array(q.length);for(G=0;G<tt.length;++G)tt[G]=h.resolve(q[G]).reflect();var D=h.all(tt).then(function(A){for(var R=0;R<A.length;++R){var j=A[R];if(j.isRejected())return x.e=j.error(),x;if(!j.isFulfilled())return void D.cancel();A[R]=j.value()}M._pushContext(),N=w(N);var U=O?N.apply(void 0,A):N(A),K=M._popContext();return m.checkForgottenReturns(U,K,"Promise.using",M),U}),M=D.lastly(function(){var A=new h.PromiseInspection(D);return function I(z,W){var N=0,O=z.length,q=new h(v);return function G(){if(N>=O)return q._fulfill();var Y,B,V=(Y=z[N++],(B=p(Y))!==Y&&"function"==typeof Y._isDisposable&&"function"==typeof Y._getDisposer&&Y._isDisposable()&&B._setDisposable(Y._getDisposer()),B);if(V instanceof h&&V._isDisposable()){try{V=p(V._getDisposer().tryDispose(W),z.promise)}catch(Y){return E(Y)}if(V instanceof h)return V._then(G,E,null,null,null)}G()}(),q}(q,A)});return q.promise=M,M._setOnCancel(q),M},h.prototype._setDisposable=function(z){this._bitField=131072|this._bitField,this._disposer=z},h.prototype._isDisposable=function(){return(131072&this._bitField)>0},h.prototype._getDisposer=function(){return this._disposer},h.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},h.prototype.disposer=function(z){if("function"==typeof z)return new L(z,this,y());throw new b}}},{"./errors":12,"./util":36}],36:[function(o,l,d){"use strict";var y,h=o("./es5"),g=typeof navigator>"u",p={e:{}},v=typeof self<"u"?self:typeof window<"u"?window:void 0!==u?u:void 0!==this?this:null;function m(){try{var X=y;return y=null,X.apply(this,arguments)}catch(rt){return p.e=rt,p}}function S(X){return null==X||!0===X||!1===X||"string"==typeof X||"number"==typeof X}function I(X,rt,ct){return S(X)||h.defineProperty(X,rt,{value:ct,configurable:!0,enumerable:!1,writable:!0}),X}var L=function(){var X=[Array.prototype,Object.prototype,Function.prototype],rt=function(ut){for(var _t=0;_t<X.length;++_t)if(X[_t]===ut)return!0;return!1};if(h.isES5){var ct=Object.getOwnPropertyNames;return function(ut){for(var _t=[],mt=Object.create(null);null!=ut&&!rt(ut);){var yt;try{yt=ct(ut)}catch{return _t}for(var xt=0;xt<yt.length;++xt){var Tt=yt[xt];if(!mt[Tt]){mt[Tt]=!0;var wt=Object.getOwnPropertyDescriptor(ut,Tt);null!=wt&&null==wt.get&&null==wt.set&&_t.push(Tt)}}ut=h.getPrototypeOf(ut)}return _t}}var dt={}.hasOwnProperty;return function(ut){if(rt(ut))return[];var _t=[];t:for(var mt in ut)if(dt.call(ut,mt))_t.push(mt);else{for(var yt=0;yt<X.length;++yt)if(dt.call(X[yt],mt))continue t;_t.push(mt)}return _t}}(),H=/this\s*\.\s*\S+\s*=/,W=/^[a-z$_][a-z$_0-9]*$/i;function q(X){try{return X+""}catch{return"[no string representation]"}}function G(X){return X instanceof Error||null!==X&&"object"===e(X)&&"string"==typeof X.message&&"string"==typeof X.name}function B(X){return G(X)&&h.propertyIsWritable(X,"stack")}var tt="stack"in new Error?function(X){return B(X)?X:new Error(q(X))}:function(X){if(B(X))return X;try{throw new Error(q(X))}catch(rt){return rt}};function D(X){return{}.toString.call(X)}var A=function(X){return h.isArray(X)?X:null};if(typeof Symbol<"u"&&Symbol.iterator){var R="function"==typeof Array.from?function(X){return Array.from(X)}:function(X){for(var rt,ct=[],dt=X[Symbol.iterator]();!(rt=dt.next()).done;)ct.push(rt.value);return ct};A=function(X){return h.isArray(X)?X:null!=X&&"function"==typeof X[Symbol.iterator]?R(X):null}}var X,j=void 0!==_&&"[object process]"===D(_).toLowerCase(),U=void 0!==_&&void 0!==_.env,at={isClass:function F(X){try{if("function"==typeof X){var rt=h.names(X.prototype),ct=h.isES5&&rt.length>1,dt=rt.length>0&&!(1===rt.length&&"constructor"===rt[0]),ut=H.test(X+"")&&h.names(X).length>0;if(ct||dt||ut)return!0}return!1}catch{return!1}},isIdentifier:function N(X){return W.test(X)},inheritedDataKeys:L,getDataPropertyOrDefault:function E(X,rt,ct){if(!h.isES5)return{}.hasOwnProperty.call(X,rt)?X[rt]:void 0;var dt=Object.getOwnPropertyDescriptor(X,rt);return null!=dt?null==dt.get&&null==dt.set?dt.value:ct:void 0},thrower:function P(X){throw X},isArray:h.isArray,asArray:A,notEnumerableProp:I,isPrimitive:S,isObject:function x(X){return"function"==typeof X||"object"===e(X)&&null!==X},isError:G,canEvaluate:g,errorObj:p,tryCatch:function k(X){return y=X,m},inherits:function(X,rt){var ct={}.hasOwnProperty;function dt(){for(var ut in this.constructor=X,this.constructor$=rt,rt.prototype)ct.call(rt.prototype,ut)&&"$"!==ut.charAt(ut.length-1)&&(this[ut+"$"]=rt.prototype[ut])}return dt.prototype=rt.prototype,X.prototype=new dt,X.prototype},withAppended:function T(X,rt){var ct,dt=X.length,ut=new Array(dt+1);for(ct=0;ct<dt;++ct)ut[ct]=X[ct];return ut[ct]=rt,ut},maybeWrapAsError:function w(X){return S(X)?new Error(q(X)):X},toFastProperties:function z(X){function rt(){}rt.prototype=X;var ct=new rt;function dt(){return e(ct.foo)}return dt(),dt(),X},filledRange:function O(X,rt,ct){for(var dt=new Array(X),ut=0;ut<X;++ut)dt[ut]=rt+ut+ct;return dt},toString:q,canAttachTrace:B,ensureErrorObject:tt,originatesFromRejection:function Y(X){return null!=X&&(X instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===X.isOperational)},markAsOriginatingFromRejection:function V(X){try{I(X,"isOperational",!0)}catch{}},classString:D,copyDescriptors:function M(X,rt,ct){for(var dt=h.names(X),ut=0;ut<dt.length;++ut){var _t=dt[ut];if(ct(_t))try{h.defineProperty(rt,_t,h.getDescriptor(X,_t))}catch{}}},hasDevTools:typeof chrome<"u"&&chrome&&"function"==typeof chrome.loadTimes,isNode:j,hasEnvVariables:U,env:function K(X){return U?_.env[X]:void 0},global:v,getNativePromise:function Q(){if("function"==typeof Promise)try{var X=new Promise(function(){});if("[object Promise]"==={}.toString.call(X))return Promise}catch{}},domainBind:function et(X,rt){return X.bind(rt)}};at.isRecentNode=at.isNode&&(_.versions&&_.versions.node?X=_.versions.node.split(".").map(Number):_.version&&(X=_.version.split(".").map(Number)),0===X[0]&&X[1]>10||X[0]>0),at.isNode&&at.toFastProperties(_);try{throw new Error}catch(X){at.lastLineError=X}l.exports=at},{"./es5":13}]},{},[4])(4)},"object"==e($)&&void 0!==C?C.exports=t():void 0===(a="function"==typeof(c=t)?c.apply($,[]):c)||(C.exports=a),typeof window<"u"&&null!==window?window.P=window.Promise:typeof self<"u"&&null!==self&&(self.P=self.Promise)}).call(this,f(10),f(4),f(62).setImmediate)},function(C,$,f){C.exports=f(249)},function(C,$,f){var _=f(0);C.exports=function(){var u={};return{getState:function(s){if(u[s])return u[s].method();var c={};for(var i in u)u[i].internal||_.mixin(c,u[i].method(),!0);return c},registerProvider:function(s,c,i){u[s]={method:c,internal:i}},unregisterProvider:function(s){delete u[s]}}}},function(C,$){C.exports=function(f){var _={};function u(s,c,i){i=i||s;var a=f.config,e=f.templates;f.config[s]&&_[i]!=a[s]&&(c&&e[i]||(e[i]=f.date.date_to_str(a[s]),_[i]=a[s]))}return{initTemplates:function(){var s=f.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var c=f.date,i=c.date_to_str,a=f.config,e=i(a.xml_date||a.date_format,a.server_utc),t=c.str_to_date(a.xml_date||a.date_format,a.server_utc);u("date_scale",!0,void 0),u("date_grid",!0,"grid_date_format"),u("task_date",!0,void 0),f.mixin(f.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,r,o){return""},grid_header_class:function(n,r){return""},task_text:function(n,r,o){return o.text},task_class:function(n,r,o){return""},task_end_date:function(n){return f.templates.task_date(n)},grid_row_class:function(n,r,o){return""},task_row_class:function(n,r,o){return""},timeline_cell_class:function(n,r){return""},timeline_cell_content:function(n,r){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,r,o){return r&&f.isUnscheduledTask(r)&&f.config.show_unscheduled?f.templates.task_unscheduled_time(r):f.templates.grid_date_format(n,o)},task_time:function(n,r,o){return f.isUnscheduledTask(o)&&f.config.show_unscheduled?f.templates.task_unscheduled_time(o):f.templates.task_date(n)+" - "+f.templates.task_end_date(r)},task_unscheduled_time:function(n){return""},time_picker:i(a.time_picker),link_class:function(n){return""},link_description:function(n){var r=f.getTask(n.source),o=f.getTask(n.target);return"<b>"+r.text+"</b> &ndash;  <b>"+o.text+"</b>"},drag_link:function(n,r,o,l){n=f.getTask(n);var d=f.locale.labels,h="<b>"+n.text+"</b> "+(r?d.link_start:d.link_end)+"<br/>";return o&&(h+="<b> "+(o=f.getTask(o)).text+"</b> "+(l?d.link_start:d.link_end)+"<br/>"),h},drag_link_class:function(n,r,o,l){var d="";return n&&o&&(d=" "+(f.isLinkAllowed(n,o,r,l)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:c.date_to_str("%Y-%m-%d"),tooltip_text:function(n,r,o){return"<b>Task:</b> "+o.text+"<br/><b>Start date:</b> "+f.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+f.templates.tooltip_date_format(r)}})},initTemplate:u}}},function(C,$,f){var _=f(5),u=f(0),s=f(55),c=f(17),i=f(1);C.exports=function(a){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,r){this._obj=n,this._settings=r||{},_(this);var o=this.getInputMethods();this._drag_start_timer=null,a.attachEvent("onGanttScroll",u.bind(function(h,g){this.clearDragTimer()},this));for(var l={passive:!1},d=0;d<o.length;d++)u.bind(function(h){a.event(n,h.down,u.bind(function(p){h.accessor(p)&&(r.preventDefault&&r.selector&&i.closest(p.target,r.selector)&&p.preventDefault(),a.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=e(p),a.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(u.bind(function(){a.getState().lightbox||this.dragStart(n,p,h)},this),a.config.touch_drag)):this.dragStart(n,p,h)))},this),l);var g=document.body;a.event(g,h.up,u.bind(function(p){h.accessor(p)&&this.clearDragTimer()},this),l)},this)(o[d])}return t.prototype={traceDragEvents:function(n,r){var o=u.bind(function(y){return this.dragMove(n,y,r.accessor)},this);u.bind(function(y){return this.dragScroll(n,y)},this);var l=u.bind(function(y){if(!this.config.started||!u.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var v=o(y);if(v)try{y&&y.preventDefault&&y.cancelable&&y.preventDefault()}catch{}return v}},this),d=i.getRootNode(a.$root),h=this.config.mousemoveContainer||i.getRootNode(a.$root),g={passive:!1},p=u.bind(function(y){return a.eventRemove(h,r.move,l),a.eventRemove(d,r.up,p,g),this.dragEnd(n)},this);a.event(h,r.move,l,g),a.event(d,r.up,p,g)},checkPositionChange:function(n){var o=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(n.x-this.config.pos.x),2)+Math.pow(Math.abs(o),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,r){if(a.config.touch){var o=r(n),l=o.target||o.srcElement,d=l.cloneNode(!0);this.config.original_target=e(o),this.config.original_target.target=d,this.config.backup_element=l,l.parentNode.appendChild(d),l.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(l)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(o){return o}}),a.config.touch){var r=!0;try{document.createEvent("TouchEvent")}catch{r=!1}r?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(o){return o.touches&&o.touches.length>1?null:o.touches[0]?{target:document.elementFromPoint(o.touches[0].clientX,o.touches[0].clientY),pageX:o.touches[0].pageX,pageY:o.touches[0].pageY,clientX:o.touches[0].clientX,clientY:o.touches[0].clientY}:o}}):c.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(o){return"mouse"==o.pointerType?null:o}}):c.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(o){return o.pointerType==o.MSPOINTER_TYPE_MOUSE?null:o}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,r,o){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(r),sensitivity:4},this._settings&&u.mixin(this.config,this._settings,!0),this.traceDragEvents(n,o),a._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",a.config.touch&&this.dragMove(n,r,o.accessor))},dragMove:function(n,r,o){var l=o(r);if(!l)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(l);if(a.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[n,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(r,o),this.initDnDMarker(),a._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(r.targetTouches&&!l.target?void 0:(l.pos=this.getPosition(l),this.config.marker.style.left=l.pos.x+"px",this.config.marker.style.top=l.pos.y+"px",this.callEvent("onDragMove",[n,l]),!0))},dragEnd:function(n){var r=this.config.backup_element;r&&r.parentNode&&r.parentNode.removeChild(r),a._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var r=0,o=0;return n.pageX||n.pageY?(r=n.pageX,o=n.pageY):(n.clientX||n.clientY)&&(r=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:r,y:o}}},t}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date_to_str:function(u,s,c){return function(i){return u.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return c.date.to_fixed(s?i.getUTCDate():i.getDate());case"%m":return c.date.to_fixed(s?i.getUTCMonth()+1:i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return c.date.to_fixed(s?i.getUTCFullYear()%100:i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?c.locale.date.day_short[i.getUTCDay()]:c.locale.date.day_short[i.getDay()];case"%l":return s?c.locale.date.day_full[i.getUTCDay()]:c.locale.date.day_full[i.getDay()];case"%M":return s?c.locale.date.month_short[i.getUTCMonth()]:c.locale.date.month_short[i.getMonth()];case"%F":return s?c.locale.date.month_full[i.getUTCMonth()]:c.locale.date.month_full[i.getMonth()];case"%h":return c.date.to_fixed(s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return c.date.to_fixed(s?i.getUTCHours():i.getHours());case"%i":return c.date.to_fixed(s?i.getUTCMinutes():i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return c.date.to_fixed(s?i.getUTCSeconds():i.getSeconds());case"%W":return c.date.to_fixed(s?c.date.getUTCISOWeek(i):c.date.getISOWeek(i));default:return a}})}},str_to_date:function(u,s,c){return function(i){for(var a=[0,0,1,0,0,0],e=i.match(/[a-zA-Z]+|[0-9]+/g),t=u.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":a[2]=e[n]||1;break;case"%n":case"%m":a[1]=(e[n]||1)-1;break;case"%y":a[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":a[3]=e[n]||0;break;case"%i":a[4]=e[n]||0;break;case"%Y":a[0]=e[n]||0;break;case"%a":case"%A":a[3]=a[3]%12+("am"===(e[n]||"").toLowerCase()?0:12);break;case"%s":a[5]=e[n]||0;break;case"%M":a[1]=c.locale.date.month_short_hash[e[n]]||0;break;case"%F":a[1]=c.locale.date.month_full_hash[e[n]]||0}return s?new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5])):new Date(a[0],a[1],a[2],a[3],a[4],a[5])}}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default={date_to_str:function(u,s,c){u=u.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return a}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+u+'";');return function(a){return i(a,c.date.to_fixed,c.locale,c.date.getISOWeek,c.date.getWeek)}},str_to_date:function(u,s,c){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",a=u.match(/%[a-zA-Z]/g),e=0;e<a.length;e++)switch(a[e]){case"%j":case"%d":i+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":i+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+e+"]||0;";break;case"%i":i+="set[4]=temp["+e+"]||0;";break;case"%Y":i+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+e+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(r){return n(r,c.locale)}}}},function(C,$,f){var _=f(255).default,u=f(254).default;C.exports=function(s){var c=null;function i(){var a=!1;return"auto"===s.config.csp?(null===c&&function(){try{new Function("canUseCsp = false;")}catch{c=!0}}(),a=c):a=s.config.csp,a}return{init:function(){for(var a=s.locale,e=a.date.month_short,t=a.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=a.date.month_full,t=a.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(a){var e=new Date(a);return a.setHours(0),this.hour_start(a),a.getHours()&&(a.getDate()<e.getDate()||a.getMonth()<e.getMonth()||a.getFullYear()<e.getFullYear())&&a.setTime(a.getTime()+36e5*(24-a.getHours())),a},time_part:function(a){return(a.valueOf()/1e3-60*a.getTimezoneOffset())%86400},week_start:function(a){var e=a.getDay();return s.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(a,-1*e,"day"))},month_start:function(a){return a.setDate(1),this.date_part(a)},quarter_start:function(a){this.month_start(a);var t=a.getMonth();return a.setMonth(t>=9?9:t>=6?6:t>=3?3:0),a},year_start:function(a){return a.setMonth(0),this.month_start(a)},day_start:function(a){return this.date_part(a)},hour_start:function(a){return a.getMinutes()&&a.setMinutes(0),this.minute_start(a),a},minute_start:function(a){return a.getSeconds()&&a.setSeconds(0),a.getMilliseconds()&&a.setMilliseconds(0),a},_add_days:function(a,e,t){a.setDate(a.getDate()+e);var n=e>=0,r=!t.getHours()&&a.getHours(),o=a.getDate()<=t.getDate()||a.getMonth()<t.getMonth()||a.getFullYear()<t.getFullYear();return n&&r&&o&&a.setTime(a.getTime()+36e5*(24-a.getHours())),e>1&&r&&a.setHours(0),a},add:function(a,e,t){var n=new Date(a.valueOf());switch(t){case"day":n=this._add_days(n,e,a);break;case"week":n=this._add_days(n,7*e,a);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](a,e,t)}return n},add_quarter:function(a,e){return this.add(a,3*e,"month")},to_fixed:function(a){return a<10?"0"+a:a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(a,e){var t=_;return i()&&(t=u),t.date_to_str(a,e,s)},str_to_date:function(a,e){var t=_;return i()&&(t=u),t.str_to_date(a,e,s)},getISOWeek:function(a){return s.date._getWeekNumber(a,!0)},_getWeekNumber:function(a,e){if(!a)return!1;var t=a.getDay();e&&0===t&&(t=7);var n=new Date(a.valueOf());n.setDate(a.getDate()+(4-t));var r=n.getFullYear(),o=Math.round((n.getTime()-new Date(r,0,1).getTime())/864e5);return 1+Math.floor(o/7)},getWeek:function(a){return s.date._getWeekNumber(a,s.config.start_on_monday)},getUTCISOWeek:function(a){return s.date.getISOWeek(a)},convert_to_utc:function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())},parseDate:function(a,e){return a&&!a.getFullYear&&("function"!=typeof e&&(e="string"==typeof e?"parse_date"===e||"xml_date"===e?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[e])?s.templates[e]:s.date.str_to_date(e):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),a=a?e(a):null),a}}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(_){if("string"==typeof _||"number"==typeof _)return _;var u="";for(var s in _){var c="";_.hasOwnProperty(s)&&(c=s+"="+(c="string"==typeof _[s]?encodeURIComponent(_[s]):"number"==typeof _[s]?_[s]:encodeURIComponent(JSON.stringify(_[s]))),u.length&&(c="&"+c),u+=c)}return u}},function(C,$,f){function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var u=f(8),s=f(17),c=f(257).default;function i(a,e){var t={method:a};if(0===e.length)throw new Error("Arguments list of query is wrong.");if(1===e.length)return"string"==typeof e[0]?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),t.data=e[0].data?"string"!=typeof e[0].data?c(e[0].data):e[0].data:"",t;switch(t.url=e[0],a){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":t.data=e[1]?"string"!=typeof e[1]?c(e[1]):e[1]:"",t.callback=e[2],t.headers=e[3]}return t}C.exports=function(a){return{cache:!0,method:"get",parse:function(e){return"string"!=typeof e?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||u.isIE?void 0!==s.ActiveXObject&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(void 0===t.status||t.status<400){var r=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(r&&null!==r.documentElement&&!r.getElementsByTagName("parsererror").length)return r.getElementsByTagName(e)[0]}return-1!==n&&a.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),u.isIE)return t.selectNodes(e)||[];for(var n,r=[],o=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=o.iterateNext();)r.push(n);return r},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var r=i("GET",arguments);return this.query(r)},getSync:function(e,t){var n=i("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,r){var o=i("PUT",arguments);return this.query(o)},del:function(e,t,n){var r=i("DELETE",arguments);return this.query(r)},post:function(e,t,n,r){(1==arguments.length||2==arguments.length&&"function"==typeof t)&&(t="");var o=i("POST",arguments);return this.query(o)},postSync:function(e,t,n){t=null===t?"":String(t);var r=i("POST",arguments);return r.async=!1,this.query(r)},_call:function(e,t,n,r,o,l){return new a.Promise(function(d,h){var g=void 0!==(typeof XMLHttpRequest>"u"?"undefined":_(XMLHttpRequest))?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(r&&(g.onreadystatechange=function(){if(4==g.readyState||p&&3==g.readyState){if((200!=g.status||""===g.responseText)&&!a.callEvent("onAjaxError",[g]))return;setTimeout(function(){"function"==typeof o&&o.apply(s,[{xmlDoc:g,filePath:t}]),d(g),"function"==typeof o&&(o=null,g=null)},0)}}),"GET"==e&&(!this||!this.cache)&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),g.open(e,t,r),l)for(var v in l)g.setRequestHeader(v,l[v]);else"POST"==e.toUpperCase()||"PUT"==e||"DELETE"==e?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==e&&(n=null);if(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(n),!r)return{xmlDoc:g,filePath:t}})},urlSeparator:function(e){return-1!=e.indexOf("?")?"&":"?"}}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),C.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(C,$){C.exports=function(){var f={};return{services:{},setService:function(_,u){f[_]=u},getService:function(_){return f[_]?f[_]():null},dropService:function(_){f[_]&&delete f[_]},destructor:function(){for(var _ in f)if(f[_]){var u=f[_];u&&u.destructor&&u.destructor()}f=null}}}},function(C,$){C.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(C,$,f){function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}C.exports=function(u){var s=new function(){this.constants=f(261),this.version="8.0.4",this.license="evaluation",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},c=new(f(56).default)(u),i={};s.plugins=function(l){for(var d in l)if(l[d]&&!i[d]){var h=c.getExtension(d);h&&(h(s),i[d]=!0)}return i},s.$services=f(260)(),s.config=f(259)(),s.ajax=f(258)(s),s.date=f(256)(s);var a=f(253)(s);s.$services.setService("dnd",function(){return a});var e=f(252)(s);s.$services.setService("templateLoader",function(){return e}),f(5)(s);var t=new(f(251));t.registerProvider("global",function(){var l={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(l.selected_task=s.$data.tasksStore.getSelectedId()),l}),s.getState=t.getState,s.$services.setService("state",function(){return t});var n=f(0);n.mixin(s,n),s.Promise=f(250),s.env=f(8),f(248)(s);var r=f(242);s.dataProcessor=r.DEPRECATED_api,s.createDataProcessor=r.createDataProcessor,f(237)(s),f(225)(s),f(224)(s),f(216)(s),f(215)(s),f(214)(s),f(201)(s),f(200).default(s),f(199)(s),f(198)(s),f(197)(s),f(194)(s),f(193).default(s);var o=f(192).default();return s.i18n={addLocale:o.addLocale,setLocale:function(l){if("string"==typeof l){var d=o.getLocale(l);d||(d=o.getLocale("en")),s.locale=d}else if(l)if(s.locale)for(var h in l)l[h]&&"object"===_(l[h])?(s.locale[h]||(s.locale[h]={}),s.mixin(s.locale[h],l[h],!0)):s.locale[h]=l[h];else s.locale=l},getLocale:o.getLocale},s.i18n.setLocale("en"),s}},function(C,$,f){f(38);var _=f(262);C.exports=function(u){var s=_(u);return s.env.isNode||f(158)(s),s}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(56),u=f(17);$.default=function(c,i){var a=this;this.plugin=function(e){a._ganttPlugin.push(e),void 0!==u.gantt&&u.gantt.getTask&&e(u.gantt)},this.getGanttInstance=function(e){for(var t=a._factoryMethod(a._bundledExtensions),n=0;n<a._ganttPlugin.length;n++)a._ganttPlugin[n](t);return t._internal_id=a._seed++,e&&a._initFromConfig(t,e),t},this._initFromConfig=function(e,t){if(t.plugins)for(var n in t.plugins){var r=a._extensionsManager.getExtension(n);r&&r(e)}if(t.config&&e.mixin(e.config,t.config,!0),t.templates&&e.attachEvent("onTemplatesReady",function(){e.mixin(e.templates,t.templates,!0)},{once:!0}),t.events)for(var o in t.events)e.attachEvent(o,t.events[o]);t.locale&&e.i18n.setLocale(t.locale),Array.isArray(t.calendars)&&t.calendars.forEach(function(l){e.addCalendar(l)}),t.container?e.init(t.container):e.init(),t.data&&("string"==typeof t.data?e.load(t.data):e.parse(t.data))},this._seed=0,this._ganttPlugin=[],this._factoryMethod=c,this._bundledExtensions=i,this._extensionsManager=new _.default(i)}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var u=function(){function s(c){var i=this;this.maxSteps=10,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(a){return{commands:a?a.slice():[]}},invert:function(a){for(var e,t=i._gantt.copy(a),n=i.command,r=0;r<a.commands.length;r++){var o=t.commands[r]=n.invert(t.commands[r]);o.type!==n.type.update&&o.type!==n.type.move||(o.value=(e=[o.oldValue,o.value])[0],o.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(a,e,t,n){var r=i._gantt;return{entity:n,type:t,value:r.copy(a),oldValue:r.copy(e||a)}},invert:function(a){var e=i._gantt.copy(a);return e.type=i.command.inverseCommands(a.type),e},inverseCommands:function(a){var e=i._gantt,t=i.command.type;switch(a){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+a),null}}},this._undoStack=[],this._redoStack=[],this._gantt=c}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.setUndoStack=function(c){this._undoStack=c},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.setRedoStack=function(c){this._redoStack=c},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var c=this._gantt;this.maxSteps=c.config.undo_steps||10,this.command.entity=c.config.undo_types,this.command.type=c.config.undo_actions,this.undoEnabled=!!c.config.undo,this.redoEnabled=!!c.config.redo},s.prototype.undo=function(){var c=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),!1!==c.callEvent("onBeforeUndo",[i])&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,c.copy(i)),void c.callEvent("onAfterUndo",[i]);c.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var c=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),!1!==c.callEvent("onBeforeRedo",[i])&&i)return this._applyAction(i),this._push(this._undoStack,c.copy(i)),void c.callEvent("onAfterRedo",[i]);c.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(c){this._push(this._undoStack,c),this._redoStack=[]},s.prototype._push=function(c,i){if(i.commands.length&&!1!==this._gantt.callEvent(c===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack",[i])&&i.commands.length){for(c.push(i);c.length>this.maxSteps;)c.shift();return i}},s.prototype._pop=function(c){return c.pop()},s.prototype._reorderCommands=function(c){var i={any:0,link:1,task:2},a={move:1,any:0};c.commands.sort(function(e,t){return"task"===e.entity&&"task"===t.entity?e.type!==t.type?(a[t.type]||0)-(a[e.type]||0):"move"===e.type&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0:(i[t.entity]||i.any)-(i[e.entity]||i.any)})},s.prototype._applyAction=function(c){var i=null,a=this.command.entity,e=this.command.type,t=this._gantt,n={};n[a.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[a.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var r=0;r<c.commands.length;r++){var o=n[(i=c.commands[r]).entity][i.type],l=n[i.entity].get,d=n[i.entity].isExists;if(i.type===e.add)t[o](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===e.remove)t[d](i.value.id)&&t[o](i.value.id);else if(i.type===e.update){var h=t[l](i.value.id);for(var g in i.value)g.startsWith("$")||g.startsWith("_")||(h[g]=i.value[g]);t[o](i.value.id)}else i.type===e.move&&(t[o](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();$.Undo=u},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},u=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function c(i,a){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=a,this._attachEvents()}return c.prototype.store=function(i,a,e){return void 0===e&&(e=!1),a===this._gantt.config.undo_types.task?this._storeTask(i,e):a===this._gantt.config.undo_types.link&&this._storeLink(i,e)},c.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},c.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},c.prototype.startIgnore=function(){this._ignore=!0},c.prototype.stopIgnore=function(){this._ignore=!1},c.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},c.prototype.stopBatchAction=function(){this._ignore||(this._batchAction&&this._undo.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null)},c.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},c.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},c.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var a=this.getInitialTask(i.id);if(i.$local_index===a.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(a))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},c.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var a=this._nestedTasks[i.id],e=0;e<a.length;e++)this._storeTaskCommand(a[e],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},c.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},c.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},c.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},c.prototype.setNestedTasks=function(i,a){for(var t=null,n=[],r=this._getLinks(this._gantt.getTask(i)),o=0;o<a.length;o++)t=this.setInitialTask(a[o]),r=r.concat(this._getLinks(t)),n.push(t);var l={};for(o=0;o<r.length;o++)l[r[o]]=!0;var d=[];for(var o in l)d.push(this.setInitialLink(o));this._nestedTasks[i]=n,this._nestedLinks[i]=d},c.prototype.setInitialTask=function(i,a){var e=this._gantt;if(a||!this._initialTasks[i]||!this._batchMode){var t=e.copy(e.getTask(i));t.$index=e.getGlobalTaskIndex(i),t.$local_index=e.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},c.prototype.getInitialTask=function(i){return this._initialTasks[i]},c.prototype.clearInitialTasks=function(){this._initialTasks={}},c.prototype.setInitialTaskObject=function(i,a){this._initialTasks[i]=a},c.prototype.setInitialLink=function(i,a){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},c.prototype.getInitialLink=function(i){return this._initialLinks[i]},c.prototype.clearInitialLinks=function(){this._initialLinks={}},c.prototype._attachEvents=function(){var i=this,a=null,e=this._gantt,t=function(){a||(a=setTimeout(function(){a=null}),i.clearInitialTasks(),e.eachTask(function(l){i.setInitialTask(l.id)}),i.clearInitialLinks(),e.getLinks().forEach(function(l){i.setInitialLink(l.id)}))},n=function(l){return e.copy(e.getTask(l))};for(var r in _)e.attachEvent(r,function(){return i.startIgnore(),!0}),e.attachEvent(_[r],function(){return i.stopIgnore(),!0});for(r=0;r<u.length;r++)e.attachEvent(u[r],function(){return i.startBatchAction(),!0});e.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(l,d){i.setInitialTask(l,!0),i.onTaskAdded(d)}),e.attachEvent("onAfterTaskUpdate",function(l,d){i.onTaskUpdated(d)}),e.attachEvent("onAfterTaskDelete",function(l,d){i.onTaskDeleted(d)}),e.attachEvent("onAfterLinkAdd",function(l,d){i.setInitialLink(l,!0),i.onLinkAdded(d)}),e.attachEvent("onAfterLinkUpdate",function(l,d){i.onLinkUpdated(d)}),e.attachEvent("onAfterLinkDelete",function(l,d){i.onLinkDeleted(d)}),e.attachEvent("onRowDragEnd",function(l,d){return i.onTaskMoved(n(l)),i.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(l){i.store(l,e.config.undo_types.task);var d=[];return t(),e.eachTask(function(h){d.push(h.id)},l),i.setNestedTasks(l,d),!0});var o=e.getDatastore("task");o.attachEvent("onBeforeItemMove",function(l,d,h){return i.isMoveEventsIgnored()||t(),!0}),o.attachEvent("onAfterItemMove",function(l,d,h){return i.isMoveEventsIgnored()||i.onTaskMoved(n(l)),!0}),e.attachEvent("onRowDragStart",function(l,d,h){return i.toggleIgnoreMoveEvents(!0),t(),!0}),e.attachEvent("onBeforeTaskDrag",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onLightbox",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(l){return i.store(l.id,e.config.undo_types.task),!0}),e.ext.inlineEditors&&e.ext.inlineEditors.attachEvent("onEditStart",function(l){i.store(l.id,e.config.undo_types.task)})},c.prototype._storeCommand=function(i){var a=this._undo;if(a.updateConfigs(),a.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var e=a.action.create([i]);a.logAction(e)}},c.prototype._storeEntityCommand=function(i,a,e,t){var n=this._undo.command.create(i,a,e,t);this._storeCommand(n)},c.prototype._storeTaskCommand=function(i,a){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),a,this._undo.command.entity.task)},c.prototype._storeLinkCommand=function(i,a){this._storeEntityCommand(i,this.getInitialLink(i.id),a,this._undo.command.entity.link)},c.prototype._getLinks=function(i){return i.$source.concat(i.$target)},c.prototype._storeTask=function(i,a){var e=this;void 0===a&&(a=!1);var t=this._gantt;return this.setInitialTask(i,a),t.eachTask(function(n){e.setInitialTask(n.id)},i),!0},c.prototype._storeLink=function(i,a){return void 0===a&&(a=!1),this.setInitialLink(i,a),!0},c}();$.Monitor=s},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(266),u=f(265);$.default=function(s){var c=new u.Undo(s),i=new _.Monitor(c,s);function a(l,d,h){l&&(l.id===d&&(l.id=h),l.parent===d&&(l.parent=h))}function e(l,d,h){a(l.value,d,h),a(l.oldValue,d,h)}function t(l,d,h){l&&(l.source===d&&(l.source=h),l.target===d&&(l.target=h))}function n(l,d,h){t(l.value,d,h),t(l.oldValue,d,h)}function r(l,d,h){for(var g=c,p=0;p<l.length;p++)for(var y=l[p],v=0;v<y.commands.length;v++)y.commands[v].entity===g.command.entity.task?e(y.commands[v],d,h):y.commands[v].entity===g.command.entity.link&&n(y.commands[v],d,h)}function o(l,d,h){for(var g=c,p=0;p<l.length;p++)for(var y=l[p],v=0;v<y.commands.length;v++){var m=y.commands[v];m.entity===g.command.entity.link&&(m.value&&m.value.id===d&&(m.value.id=h),m.oldValue&&m.oldValue.id===d&&(m.oldValue.id=h))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return c.undo()},redo:function(){return c.redo()},getUndoStack:function(){return c.getUndoStack()},setUndoStack:function(l){return c.setUndoStack(l)},getRedoStack:function(){return c.getRedoStack()},setRedoStack:function(l){return c.setRedoStack(l)},clearUndoStack:function(){return c.clearUndoStack()},clearRedoStack:function(){return c.clearRedoStack()},saveState:function(l,d){return i.store(l,d,!0)},getInitialState:function(l,d){return d===s.config.undo_types.link?i.getInitialLink(l):i.getInitialTask(l)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(l,d){var h=c;r(h.getUndoStack(),l,d),r(h.getRedoStack(),l,d)}),s.attachEvent("onLinkIdChange",function(l,d){var h=c;o(h.getUndoStack(),l,d),o(h.getRedoStack(),l,d)}),s.attachEvent("onGanttReady",function(){c.updateConfigs()})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(1),u=function(){function s(c){this._gantt=c}return s.prototype.getNode=function(){var c=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",c._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(c){return this._root=c,this},s.prototype.show=function(c,i){var a=this._gantt,e=document.body,t=this.getNode();if(_.isChildOf(t,e)||(this.hide(),e.appendChild(t)),this._isLikeMouseEvent(c)){var n=this._calculateTooltipPosition(c);i=n.top,c=n.left}return t.style.top=i+"px",t.style.left=c+"px",a._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var c=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),c._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(c){return this.getNode().innerHTML=c,this},s.prototype._isLikeMouseEvent=function(c){return!(!c||"object"!=typeof c)&&"clientX"in c&&"clientY"in c},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(c){var i=this._gantt,a=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=i.config.tooltip_offset_x,r=i.config.tooltip_offset_y,o=document.body,l=_.getRelativeEventPosition(c,o),d=_.getNodePosition(o);l.y+=d.y,t.top=l.y,t.left=l.x,t.top+=r,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var h=window.scrollY+o.scrollTop;return t.top<a.top-h?(t.top=a.top,t.bottom=t.top+t.height):t.bottom>a.bottom&&(t.bottom=a.bottom,t.top=t.bottom-t.height),t.left<a.left?(t.left=a.left,t.right=a.left+t.width):t.right>a.right&&(t.right=a.right,t.left=t.right-t.width),l.x>=t.left&&l.x<=t.right&&(t.left=l.x-t.width-n,t.right=t.left+t.width),l.y>=t.top&&l.y<=t.bottom&&(t.top=l.y-t.height-r,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var c,i=this._gantt,a=this._getViewPort(),e=a,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return a===i.$task_data?(e=i.$task,t=0,n=0,c=_.getNodePosition(i.$task)):c=_.getNodePosition(e),{left:c.x+n,top:c.y+t,width:c.width,height:c.height,bottom:c.y+c.height+t,right:c.x+c.width+n}},s}();$.Tooltip=u},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(57),u=f(1),s=f(2),c=f(268),i=function(){function a(e){this._listeners={},this.tooltip=new c.Tooltip(e),this._gantt=e,this._domEvents=_(),this._initDelayedFunctions()}return a.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},a.prototype.hideTooltip=function(){this.delayHide()},a.prototype.attach=function(e){var t=this,n=document.body;e.global||(n=this._gantt.$root);var o=null,l=function(d){var h=u.getTargetNode(d),g=u.closest(h,e.selector);if(!u.isChildOf(h,t.tooltip.getNode())){var p=function(){o=g,e.onmouseenter(d,g)};o?g&&g===o?e.onmousemove(d,g):(e.onmouseleave(d,o),o=null,g&&g!==o&&p()):g&&p()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",l),this._listeners[e.selector]={node:n,handler:l}},a.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},a.prototype.tooltipFor=function(e){var t=this,n=function(r){var o=r;return document.createEventObject&&!document.createEvent&&(o=document.createEventObject(r)),o};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(r,o){var l=e.html(r,o);l&&t.delayShow(n(r),l)},onmousemove:function(r,o){var l=e.html(r,o);l?t.delayShow(n(r),l):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},a.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(n,r){!1===t.callEvent("onBeforeTooltip",[n])?e.tooltip.hide():(e.tooltip.setContent(r),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},a}();$.TooltipManager=i},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(269);$.default=function(u){u.config.tooltip_timeout=30,u.config.tooltip_offset_y=20,u.config.tooltip_offset_x=10,u.config.tooltip_hide_timeout=30;var s=new _.TooltipManager(u);u.ext.tooltips=s,u.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+u.config.task_attribute+"]:not(.gantt_task_row)",html:function(c){if(!u.config.touch||u.config.touch_tooltip){var i=u.locate(c);if(u.isTaskExists(i)){var a=u.getTask(i);return u.templates.tooltip_text(a.start_date,a.end_date,a)}return null}},global:!1})}),u.attachEvent("onDestroy",function(){s.destructor()}),u.attachEvent("onLightbox",function(){s.hideTooltip()}),u.attachEvent("onBeforeTooltip",function(){if(u.getState().link_source_id)return!1}),u.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.show=function(i,a){void 0===a?c._showForTask(i):c._showAtCoordinates(i,a)},this.hide=function(i){var a=c._gantt,e=c._quickInfoBox;c._quickInfoBoxId=0;var t=c._quickInfoTask;if(c._quickInfoTask=null,e&&e.parentNode){if(a.config.quick_info_detached)return a.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden","auto"===e.style.right?e.style.left="-350px":e.style.right="-350px",i&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),a.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return c._quickInfoBox?c._quickInfoBox:null},this.setContainer=function(i){i&&(c._container="string"==typeof i?document.getElementById(i):i)},this.setContent=function(i){var a=c._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:a.config.quickinfo_buttons};i||(i=e),i.taskId||(i.taskId=e.taskId),i.header||(i.header=e.header),i.header.title||(i.header.title=e.header.title),i.header.date||(i.header.date=e.header.date),i.content||(i.content=e.content),i.buttons||(i.buttons=e.buttons);var t=c.getNode();t||(t=c._createQuickInfoElement()),i.taskId&&(c._quickInfoBoxId=i.taskId);var n=t.querySelector(".gantt_cal_qi_title"),r=n.querySelector(".gantt_cal_qi_tcontent"),o=n.querySelector(".gantt_cal_qi_tdate"),l=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");a._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),r.innerHTML=i.header.title,o.innerHTML=i.header.date,n.style.display=i.header.title||i.header.date?"":"none",l.innerHTML=i.content;var h=i.buttons;d.style.display=h.length?"":"none";for(var g="",p=0;p<h.length;p++){var y=a._waiAria.quickInfoButtonAttrString(a.locale.labels[h[p]]);g+='<div class="gantt_qi_big_icon '+h[p]+'" title="'+a.locale.labels[h[p]]+'" '+y+"><div class='gantt_menu_icon "+h[p]+"'></div><div>"+a.locale.labels[h[p]]+"</div></div>"}d.innerHTML=g,a.eventRemove(t,"click",c._qiButtonClickHandler),a.eventRemove(t,"keypress",c._qiKeyPressHandler),a.event(t,"click",c._qiButtonClickHandler),a.event(t,"keypress",c._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,c._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var a=(i=i||event).which||event.keyCode;13!==a&&32!==a||setTimeout(function(){c._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return u.prototype._showAtCoordinates=function(s,c){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,c),this._gantt.callEvent("onQuickInfo",[null])},u.prototype._showForTask=function(s){var c=this._gantt;if((s!==this._quickInfoBoxId||!c.utils.dom.isChildOf(this._quickInfoBox,document.body))&&c.config.show_quick_info){this.hide(!0);var i=this._getContainer(),a=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);a&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(a,6),c.callEvent("onQuickInfo",[s]))}},u.prototype._get_event_counter_part=function(s,c,i,a){var e=this._gantt,t=e.getTaskNode(s);if(!t&&!(t=e.getTaskRowNode(s)))return null;var n=0,r=c+t.offsetTop+t.offsetHeight,o=t;if(e.utils.dom.isChildOf(o,i))for(;o&&o!==i;)n+=o.offsetLeft,o=o.offsetParent;var l=e.getScrollState();return o?{left:n,top:r,dx:n+t.offsetWidth/2-l.x>i.offsetWidth/2?1:0,dy:r+t.offsetHeight/2-l.y>a.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},u.prototype._createQuickInfoElement=function(){var s=this,c=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",c._waiAria.quickInfoAttr(i);var a='<div class="gantt_cal_qi_title" '+c._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(a+='<div class="gantt_cal_qi_controls">',i.innerHTML=a+="</div>",c.config.quick_info_detached){var e=this._getContainer();c.event(e.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},u.prototype._init_quick_info=function(s){var c=this._gantt,i=c.getTask(s);return"boolean"==typeof this._quickInfoReadonly&&c.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=c.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},u.prototype._prepare_quick_info_classname=function(s){var c=this._gantt,i=c.getTask(s),a="gantt_cal_quick_info",e=c.templates.quick_info_class(i.start_date,i.end_date,i);return e&&(a+=" "+e),a},u.prototype._fill_quick_data=function(s){var c=this._gantt,i=c.getTask(s);this._quickInfoBoxId=s;var a=[];if(this._quickInfoReadonly)for(var e=c.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||a.push(e[n]);else a=c.config.quickinfo_buttons;this.setContent({header:{title:c.templates.quick_info_title(i.start_date,i.end_date,i),date:c.templates.quick_info_date(i.start_date,i.end_date,i)},content:c.templates.quick_info_content(i.start_date,i.end_date,i),buttons:a})},u.prototype._appendAtCoordinates=function(s,c){var i=this._quickInfoBox,a=this._getContainer();i.parentNode&&"#document-fragment"!==i.parentNode.nodeName.toLowerCase()||a.parent.appendChild(i),i.style.left=s+"px",i.style.top=c+"px"},u.prototype._show_quick_info=function(s,c){var i=this._gantt,a=this._quickInfoBox;if(i.config.quick_info_detached){var e=this._getContainer();a.parentNode&&"#document-fragment"!==a.parentNode.nodeName.toLowerCase()||e.parent.appendChild(a);var t=a.offsetWidth,n=a.offsetHeight,r=i.getScrollState(),l=e.yViewport,d=e.xViewport.offsetWidth+r.x-t,h=s.top-r.y+n,g=s.top;h>l.offsetHeight/2&&(g=s.top-(n+s.height+2*c))<r.y&&h<=l.offsetHeight&&(g=s.top),g<r.y&&(g=r.y);var p=Math.min(Math.max(r.x,s.left-s.dx*(t-s.width)),d);this._appendAtCoordinates(p,g)}else a.style.top="20px",1===s.dx?(a.style.right="auto",a.style.left="-300px",setTimeout(function(){a.style.left="10px"},1)):(a.style.left="auto",a.style.right="-300px",setTimeout(function(){a.style.right="10px"},1)),a.className+=" gantt_qi_"+(1===s.dx?"left":"right"),i.$root.appendChild(a)},u.prototype._qi_button_click=function(s){var c=this._gantt;if(s&&s!==this._quickInfoBox){var a=s.className;if(-1!==a.indexOf("_icon")){var e=this._quickInfoBoxId;c.$click.buttons[a.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(s.parentNode)}},u.prototype._getContainer=function(){var s=this._gantt,c=this._container?this._container:s.$task_data;return c&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$task,yViewport:s.$task_data}:(c=this._container?this._container:s.$grid_data)&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},u}();$.QuickInfo=_},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(271);$.default=function(u){u.ext||(u.ext={}),u.ext.quickInfo=new _.QuickInfo(u),u.config.quickinfo_buttons=["icon_delete","icon_edit"],u.config.quick_info_detached=!0,u.config.show_quick_info=!0,u.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},u.templates.quick_info_content=function(e,t,n){return n.details||n.text},u.templates.quick_info_date=function(e,t,n){return u.templates.task_time(e,t,n)},u.templates.quick_info_class=function(e,t,n){return""},u.attachEvent("onTaskClick",function(e,t){return u.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){u.ext.quickInfo.show(e)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],c=function(){return u.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)u.attachEvent(s[i],c);function a(){return u.ext.quickInfo.hide(),u.ext.quickInfo._quickInfoBox=null,!0}u.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&u.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&c()}),u.attachEvent("onGanttReady",a),u.attachEvent("onDestroy",a),u.event(window,"keydown",function(e){27===e.keyCode&&u.ext.quickInfo.hide()})}},function(C,$){C.exports=function(f){f.ext||(f.ext={}),f.ext.overlay={};var _={};function u(){if(f.$task_data){f.event(f.$task_data,"scroll",function(t){f.ext.$overlay_area&&(f.ext.$overlay_area.style.top=t.target.scrollTop+"px")});var e=document.createElement("div");e.className="gantt_overlay_area",f.$task_data.appendChild(e),f.ext.$overlay_area=e,s()}}function s(){for(var e in _){var t=_[e];t.isAttached||c(t)}}function c(e){f.ext.$overlay_area.appendChild(e.node),e.isAttached=!0}function i(){f.ext.$overlay_area.style.display="block"}function a(){var e=!1;for(var t in _)if(_[t].isVisible){e=!0;break}e||(f.ext.$overlay_area.style.display="none")}f.attachEvent("onBeforeGanttRender",function(){f.ext.$overlay_area||u(),s(),a()}),f.attachEvent("onGanttReady",function(){u(),s(),a()}),f.ext.overlay.addOverlay=function(e,t){return t=t||f.uid(),_[t]=(n=t,r=e,(o=document.createElement("div")).setAttribute("data-overlay-id",n),o.className="gantt_overlay",o.style.display="none",{id:n,render:r,isVisible:!1,isAttached:!1,node:o}),t;var n,r,o},f.ext.overlay.deleteOverlay=function(e){return!!_[e]&&(delete _[e],a(),!0)},f.ext.overlay.getOverlaysIds=function(){var e=[];for(var t in _)e.push(t);return e},f.ext.overlay.refreshOverlay=function(e){i(),_[e].isVisible=!0,_[e].node.innerHTML="",_[e].node.style.display="block",_[e].render(_[e].node)},f.ext.overlay.showOverlay=function(e){i(),this.refreshOverlay(e)},f.ext.overlay.hideOverlay=function(e){_[e].isVisible=!1,_[e].node.style.display="none",a()},f.ext.overlay.isOverlayVisible=function(e){return!!e&&_[e].isVisible}}},function(C,$,f){var _=f(2).replaceValidZeroId;C.exports=function(u){u.config.multiselect=!0,u.config.multiselect_one_level=!1,u._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=u.config.multiselect_one_level;var s=this._active;this._active=u.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){u.$data.tasksStore.silent(function(){var c=u.$data.tasksStore;s?c.select(s+""):c.unselect(null)})},getLastSelected:function(){var s=u.$data.tasksStore.getSelectedId();return s&&u.isTaskExists(s)?s:null},select:function(s,c){return!!(s&&u.callEvent("onBeforeTaskMultiSelect",[s,!0,c])&&u.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!0,c]),u.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,c){this._selected[s]?this.unselect(s,c):this.select(s,c)},unselect:function(s,c){s&&u.callEvent("onBeforeTaskMultiSelect",[s,!1,c])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!1,c]),u.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!u.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var c in this._selected)this._selected[c]&&u.isTaskExists(c)?s.push(c):this._selected[c]=!1;return s.sort(function(i,a){return u.getGlobalTaskIndex(i)>u.getGlobalTaskIndex(a)?1:-1}),s},forSelected:function(s){for(var c=this.getSelected(),i=0;i<c.length;i++)s(c[i])},isSameLevel:function(s){if(!this._one_level)return!0;var c=this.getLastSelected();return!c||!u.isTaskExists(c)||!u.isTaskExists(s)||u.calculateTaskLevel(u.getTask(c))==u.calculateTaskLevel(u.getTask(s))},afterSelect:function(s){u.isTaskExists(s)&&u._quickRefresh(function(){u.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||u._is_icon_open_click(s))return!1;var c=u.locate(s);if(!c||!u.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),a=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=u.config.multiselect,r=function(){var l=u.ext.inlineEditors,d=l.getState(),h=l.locateCell(s.target);u.config.inline_editors_multiselect_open&&h&&l.getEditorConfig(h.columnName)&&(l.isVisible()&&d.id==h.id&&d.columnName==h.columnName||l.startEdit(h.id,h.columnName)),this.setFirstSelected(c),this.isSelected(c)||this.select(c,s),i=this.getSelected();for(var g=0;g<i.length;g++)i[g]!==c&&this.unselect(i[g],s)}.bind(this),o=function(){if(t){if(c){for(var l=u.getGlobalTaskIndex(this.getFirstSelected()),d=u.getGlobalTaskIndex(c),h=u.getGlobalTaskIndex(t),g=t;u.getGlobalTaskIndex(g)!==l;)this.unselect(g,s),g=l>h?u.getNext(g):u.getPrev(g);for(g=c;u.getGlobalTaskIndex(g)!==l;)this.select(g,s)&&!e&&(e=!0,a=g),g=l>d?u.getNext(g):u.getPrev(g)}}else t=c}.bind(this);return n&&(s.ctrlKey||s.metaKey)?(this.isSelected(c)||this.setFirstSelected(c),c&&this.toggle(c,s)):n&&s.shiftKey?(u.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(c),i.length?o():r()):r(),this.isSelected(c)?this.setLastSelected(c):a?c==t&&this.setLastSelected(s.shiftKey?a:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=u.selectTask;u.selectTask=function(i){if(!(i=_(i,this.config.root_id)))return!1;var a=u._multiselect,e=i;return a.isActive()?(a.select(i,null)&&a.setLastSelected(i),a.setFirstSelected(a.getLastSelected())):e=s.call(this,i),e};var c=u.unselectTask;u.unselectTask=function(i){var a=u._multiselect,e=a.isActive();(i=i||a.getLastSelected())&&e&&(a.unselect(i,null),i==a.getLastSelected()&&a.setLastSelected(null),u.refreshTask(i),a.setFirstSelected(a.getLastSelected()));var t=i;return e||(t=c.call(this,i)),t},u.toggleTaskSelection=function(i){var a=u._multiselect;i&&a.isActive()&&(a.toggle(i),a.setFirstSelected(a.getLastSelected()))},u.getSelectedTasks=function(){var i=u._multiselect;return i.isActive(),i.getSelected()},u.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},u.isSelectedTask=function(i){return this._multiselect.isSelected(i)},u.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},u.attachEvent("onGanttReady",function(){var i=u.$data.tasksStore.isSelected;u.$data.tasksStore.isSelected=function(a){return u._multiselect.isActive()?u._multiselect.isSelected(a):i.call(this,a)}})}(),u.attachEvent("onTaskIdChange",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;u.isSelectedTask(s)&&(i.unselect(s,null),i.select(c,null))}),u.attachEvent("onAfterTaskDelete",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(a){u.isTaskExists(a)||i.unselect(a,null)})}),u.attachEvent("onBeforeTaskMultiSelect",function(s,c,i){var a=u._multiselect;return!(c&&a.isActive()&&a._one_level)||a.isSameLevel(s)}),u.attachEvent("onTaskClick",function(s,c){return u._multiselect.doSelection(c)&&u.callEvent("onMultiSelect",[c]),!0})}},function(C,$){C.exports=function(f){function _(s){if(!f.config.show_markers||!s.start_date)return!1;var c=f.getState();if(!(+s.start_date>+c.max_date||(!s.end_date||+s.end_date<+c.min_date)&&+s.start_date<+c.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var a="gantt_marker";f.templates.marker_class&&(a+=" "+f.templates.marker_class(s)),s.css&&(a+=" "+s.css),s.title&&(i.title=s.title),i.className=a;var e=f.posFromDate(s.start_date);i.style.left=e+"px";var t=Math.max(f.getRowTop(f.getVisibleTaskCount()),0)+"px";if(f.config.timeline_placeholder&&(t=f.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var n=f.posFromDate(s.end_date);i.style.width=Math.max(n-e,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function u(){if(f.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",f.$task_data.appendChild(s),f.$marker_area=s}}f._markers||(f._markers=f.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||f.uid(),s}})),f.config.show_markers=!0,f.attachEvent("onBeforeGanttRender",function(){f.$marker_area||u()}),f.attachEvent("onDataRender",function(){f.$marker_area||(u(),f.renderMarkers())}),f.attachEvent("onGanttLayoutReady",function(){f.attachEvent("onBeforeGanttRender",function(){u(),f.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return f.$marker_area}}).addLayer(_)},{once:!0})}),f.getMarker=function(s){return this._markers?this._markers.getItem(s):null},f.addMarker=function(s){return this._markers.addItem(s)},f.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},f.updateMarker=function(s){this._markers.refresh(s)},f._getMarkers=function(){return this._markers.getItems()},f.renderMarkers=function(){this._markers.refresh()}}},function(C,$){C.exports=function(f){f.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new f.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var _;return(_=f.config.keyboard_navigation_cells?new f.$keyboardNavigation.TaskCell:new f.$keyboardNavigation.TaskRow).isValid()||(_=_.fallback()),_},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var _=this.activeNode;return _&&!_.isValid()&&(_=_.fallback()),_},fromDomElement:function(_){for(var u=[f.$keyboardNavigation.TaskRow,f.$keyboardNavigation.TaskCell,f.$keyboardNavigation.HeaderCell],s=0;s<u.length;s++)if(u[s].prototype.fromDomElement){var c=u[s].prototype.fromDomElement(_);if(c)return c}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(_){var u=!0;this.activeNode&&this.activeNode.compareTo(_)&&(u=!1),this.isEnabled()&&(u&&this.blurNode(this.activeNode),this.activeNode=_,this.focusNode(this.activeNode,!u))},focusNode:function(_,u){_&&_.focus&&_.focus(u)},blurNode:function(_){_&&_.blur&&_.blur()},keyDownHandler:function(_){if(!f.$keyboardNavigation.isModal()&&this.isEnabled()&&!_.defaultPrevented){var u=this.globalNode,s=f.$keyboardNavigation.shortcuts.getCommandFromEvent(_),c=this.getActiveNode();!1!==f.$keyboardNavigation.facade.callEvent("onKeyDown",[s,_])&&(c?c.findHandler(s)?c.doAction(s,_):u.findHandler(s)&&u.doAction(s,_):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(_,u){clearTimeout(this._timeout),this._timeout=setTimeout(f.bind(function(){this._timeout=null,_()},this),u||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(C,$){C.exports=function(f){!function(){var _=[];function u(){return!!_.length}function s(n){setTimeout(function(){u()||f.$destroyed||f.focus()},1)}function c(n){f.eventRemove(n,"keydown",a),f.event(n,"keydown",a),_.push(n)}function i(){var n=_.pop();n&&f.eventRemove(n,"keydown",a),s()}function a(n){var r=n.currentTarget;r==_[_.length-1]&&f.$keyboardNavigation.trapFocus(r,n)}function e(){c(f.getLightbox())}f.attachEvent("onLightbox",e),f.attachEvent("onAfterLightbox",i),f.attachEvent("onLightboxChange",function(){i(),e()}),f.attachEvent("onAfterQuickInfo",function(){s()}),f.attachEvent("onMessagePopup",function(n){t=f.utils.dom.getActiveElement(),c(n)}),f.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;f.$keyboardNavigation.isModal=u}()}},function(C,$,f){C.exports=function(_){var u=f(1),s=f(2).replaceValidZeroId;_.$keyboardNavigation.TaskCell=function(c,i){if(!(c=s(c,_.config.root_id))){var a=_.getChildren(_.config.root_id);a[0]&&(c=a[0])}this.taskId=c,this.columnIndex=i||0,_.isTaskExists(this.taskId)&&(this.index=_.getTaskIndex(this.taskId),this.globalIndex=_.getGlobalTaskIndex(this.taskId))},_.$keyboardNavigation.TaskCell.prototype=_._compose(_.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return _.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!_.getGridColumns()[this.columnIndex]},fallback:function(){var c=_.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=c;if(c instanceof _.$keyboardNavigation.TaskRow){for(var a=_.getGridColumns(),e=this.columnIndex;e>=0&&!a[e];)e--;a[e]&&(i=new _.$keyboardNavigation.TaskCell(c.taskId,e))}return i},fromDomElement:function(c){if(!_.config.keyboard_navigation_cells)return null;var i=_.locate(c);if(_.isTaskExists(i)){var a=0,e=u.locateAttribute(c,"data-column-index");return e&&(a=1*e.getAttribute("data-column-index")),new _.$keyboardNavigation.TaskCell(i,a)}return null},getNode:function(){if(_.isTaskExists(this.taskId)&&_.isTaskVisible(this.taskId)){if(_.config.show_grid){var c=_.$grid.querySelector(".gantt_row["+_.config.task_attribute+"='"+this.taskId+"']");return c?c.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return _.getTaskNode(this.taskId)}},keys:{up:function(){var c,i=_.getPrev(this.taskId);c=_.isTaskExists(i)?new _.$keyboardNavigation.TaskCell(i,this.columnIndex):new _.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(c)},down:function(){var c=_.getNext(this.taskId);_.isTaskExists(c)&&this.moveTo(new _.$keyboardNavigation.TaskCell(c,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var c=_.getGridColumns();this.columnIndex<c.length-1&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var c=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,c.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(_.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(0).id,this.columnIndex))}}}),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskRow.prototype.keys),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskCell.prototype.keys)}},function(C,$){C.exports=function(f){f.$keyboardNavigation.TaskRow=function(_){if(!_){var u=f.getChildren(f.config.root_id);u[0]&&(_=u[0])}this.taskId=_,f.isTaskExists(this.taskId)&&(this.index=f.getTaskIndex(this.taskId),this.globalIndex=f.getGlobalTaskIndex(this.taskId))},f.$keyboardNavigation.TaskRow.prototype=f._compose(f.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return f.isTaskExists(this.taskId)&&f.getTaskIndex(this.taskId)>-1},fallback:function(){if(!f.getVisibleTaskCount()){var _=new f.$keyboardNavigation.HeaderCell;return _.isValid()?_:null}var u=-1;if(f.getTaskByIndex(this.globalIndex-1))u=this.globalIndex-1;else if(f.getTaskByIndex(this.globalIndex+1))u=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(f.getTaskByIndex(s)){u=s;break}s--}if(u>-1)return new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(u).id)},fromDomElement:function(_){if(f.config.keyboard_navigation_cells)return null;var u=f.locate(_);return f.isTaskExists(u)?new f.$keyboardNavigation.TaskRow(u):null},getNode:function(){if(f.isTaskExists(this.taskId)&&f.isTaskVisible(this.taskId))return f.config.show_grid?f.$grid.querySelector(".gantt_row["+f.config.task_attribute+"='"+this.taskId+"']"):f.getTaskNode(this.taskId)},focus:function(_){if(!_){var u,c=f.getTaskPosition(f.getTask(this.taskId)),i=f.getTaskHeight(this.taskId),a=f.getScrollState();u=f.$task?f.$task.offsetWidth:a.inner_width,c.top<a.y||c.top+i>a.y+(f.$grid_data||f.$task_data?(f.$grid_data||f.$task_data).offsetHeight:a.inner_height)?f.scrollTo(null,c.top-5*i):f.config.scroll_on_click&&f.config.show_chart&&(c.left>a.x+u?f.scrollTo(c.left-f.config.task_scroll_offset):c.left+c.width<a.x&&f.scrollTo(c.left+c.width-f.config.task_scroll_offset))}f.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[_]),function(){var e=f.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),r=e.$config.scrollX;if(r&&e.$config.scrollable){var o=f.$ui.getView(r);o&&o.scrollTo(t,n)}var l=e.$config.scrollY;if(l){var d=f.$ui.getView(l);d&&d.scrollTo(t,n)}}()},keys:{pagedown:function(){f.getVisibleTaskCount()&&this.moveTo(new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(f.getVisibleTaskCount()-1).id))},pageup:function(){f.getVisibleTaskCount()&&this.moveTo(new f.$keyboardNavigation.TaskRow(f.getTaskByIndex(0).id))},up:function(){var _,u=f.getPrev(this.taskId);_=f.isTaskExists(u)?new f.$keyboardNavigation.TaskRow(u):new f.$keyboardNavigation.HeaderCell,this.moveTo(_)},down:function(){var _=f.getNext(this.taskId);f.isTaskExists(_)&&this.moveTo(new f.$keyboardNavigation.TaskRow(_))},"shift+down":function(){f.hasChild(this.taskId)&&!f.getTask(this.taskId).$open&&f.open(this.taskId)},"shift+up":function(){f.hasChild(this.taskId)&&f.getTask(this.taskId).$open&&f.close(this.taskId)},"shift+right":function(){if(!f.isReadonly(this)){var _=f.getPrevSibling(this.taskId);f.isTaskExists(_)&&!f.isChildOf(this.taskId,_)&&(f.getTask(_).$open=!0,!1!==f.moveTask(this.taskId,-1,_)&&f.updateTask(this.taskId))}},"shift+left":function(){if(!f.isReadonly(this)){var _=f.getParent(this.taskId);f.isTaskExists(_)&&!1!==f.moveTask(this.taskId,f.getTaskIndex(_)+1,f.getParent(_))&&f.updateTask(this.taskId)}},space:function(_){f.isSelectedTask(this.taskId)?f.unselectTask(this.taskId):f.selectTask(this.taskId)},"ctrl+left":function(_){f.close(this.taskId)},"ctrl+right":function(_){f.open(this.taskId)},delete:function(_){f.isReadonly(this)||f.$click.buttons.delete(this.taskId)},enter:function(){f.isReadonly(this)||f.showLightbox(this.taskId)},"ctrl+enter":function(){f.isReadonly(this)||f.createTask({},this.taskId)}}}),f.$keyboardNavigation.TaskRow.prototype.bindAll(f.$keyboardNavigation.TaskRow.prototype.keys)}},function(C,$,f){C.exports=function(_){var u=f(1);_.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},_.$keyboardNavigation.HeaderCell.prototype=_._compose(_.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!_.config.show_grid&&_.getVisibleTaskCount()||!_.getGridColumns()[this.index]&&_.getVisibleTaskCount())},fallback:function(){if(!_.config.show_grid)return _.getVisibleTaskCount()?new _.$keyboardNavigation.TaskRow:null;for(var s=_.getGridColumns(),c=this.index;c>=0&&!s[c];)c--;return s[c]?new _.$keyboardNavigation.HeaderCell(c):null},fromDomElement:function(s){var c=u.locateClassName(s,"gantt_grid_head_cell");if(c){for(var i=0;c&&c.previousSibling;)c=c.previousSibling,i+=1;return new _.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return _.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=_.getGridColumns();this.index<s.length-1&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,c=_.getChildren(_.config.root_id);_.isTaskExists(c[0])&&(s=c[0]),s&&this.moveTo(_.config.keyboard_navigation_cells?new _.$keyboardNavigation.TaskCell(s,this.index):new _.$keyboardNavigation.TaskRow(s))},end:function(){var s=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){u.getActiveElement().click()},"ctrl+enter":function(){_.isReadonly(this)||_.createTask({},this.taskId)}}}),_.$keyboardNavigation.HeaderCell.prototype.bindAll(_.$keyboardNavigation.HeaderCell.prototype.keys)}},function(C,$){C.exports=function(f){f.$keyboardNavigation.KeyNavNode=function(){},f.$keyboardNavigation.KeyNavNode.prototype=f._compose(f.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(_){f.$keyboardNavigation.dispatcher.setActiveNode(_)},compareTo:function(_){if(!_)return!1;for(var u in this){if(!!this[u]!=!!_[u])return!1;var s=!(!this[u]||!this[u].toString),c=!(!_[u]||!_[u].toString);if(c!=s)return!1;if(c&&s){if(_[u].toString()!=this[u].toString())return!1}else if(_[u]!=this[u])return!1}return!0},getNode:function(){},focus:function(){var _=this.getNode();if(_){var u=f.$keyboardNavigation.facade;!1!==u.callEvent("onBeforeFocus",[_])&&_&&(_.setAttribute("tabindex","-1"),_.$eventAttached||(_.$eventAttached=!0,f.event(_,"focus",function(s){return s.preventDefault(),!1},!1)),f.utils.dom.isChildOf(document.activeElement,_)&&(_=document.activeElement),_.focus&&_.focus(),u.callEvent("onFocus",[this.getNode()]))}},blur:function(){var _=this.getNode();_&&(f.$keyboardNavigation.facade.callEvent("onBlur",[_]),_.setAttribute("tabindex","-1"))}})}},function(C,$){C.exports=function(f){f.$keyboardNavigation.GanttNode=function(){},f.$keyboardNavigation.GanttNode.prototype=f._compose(f.$keyboardNavigation.EventHandler,{focus:function(){f.focus()},blur:function(){},isEnabled:function(){return f.$container.hasAttribute("tabindex")},scrollHorizontal:function(_){var u=f.dateFromPos(f.getScrollState().x),s=f.getScale();u=f.date.add(u,_<0?-s.step:s.step,s.unit),f.scrollTo(f.posFromDate(u))},scrollVertical:function(_){var u=f.getScrollState().y;f.scrollTo(null,u+(_<0?-1:1)*f.config.row_height)},keys:{"alt+left":function(_){this.scrollHorizontal(-1)},"alt+right":function(_){this.scrollHorizontal(1)},"alt+up":function(_){this.scrollVertical(-1)},"alt+down":function(_){this.scrollVertical(1)},"ctrl+z":function(){f.undo&&f.undo()},"ctrl+r":function(){f.redo&&f.redo()}}}),f.$keyboardNavigation.GanttNode.prototype.bindAll(f.$keyboardNavigation.GanttNode.prototype.keys)}},function(C,$,f){C.exports=function(_){var u;u=f(1),_.$keyboardNavigation.getFocusableNodes=u.getFocusableNodes,_.$keyboardNavigation.trapFocus=function(s,c){if(9!=c.keyCode)return!1;for(var i=_.$keyboardNavigation.getFocusableNodes(s),a=u.getActiveElement(),e=-1,t=0;t<i.length;t++)if(i[t]==a){e=t;break}if(c.shiftKey){if(e<=0){var n=i[i.length-1];if(n)return n.focus(),c.preventDefault(),!0}}else if(e>=i.length-1){var r=i[0];if(r)return r.focus(),c.preventDefault(),!0}return!1}}},function(C,$){C.exports=function(f){f.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(_){this._handlers||(this._handlers={});var u=f.$keyboardNavigation.shortcuts.getHash(_);return this._handlers[u]},doAction:function(_,u){var s=this.findHandler(_);if(s){if(!1===f.$keyboardNavigation.facade.callEvent("onBeforeAction",[_,u]))return;s.call(this,u),u.preventDefault?u.preventDefault():u.returnValue=!1}},bind:function(_,u){this._handlers||(this._handlers={});for(var s=f.$keyboardNavigation.shortcuts,c=s.parse(_),i=0;i<c.length;i++)this._handlers[s.getHash(c[i])]=u},unbind:function(_){for(var u=f.$keyboardNavigation.shortcuts,s=u.parse(_),c=0;c<s.length;c++)this._handlers[u.getHash(s[c])]&&delete this._handlers[u.getHash(s[c])]},bindAll:function(_){for(var u in _)this.bind(u,_[u])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(C,$){C.exports=function(f){f.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(_){for(var u=[],s=this.getExpressions(this.trim(_)),c=0;c<s.length;c++){for(var i=this.getWords(s[c]),a=this.createCommand(),e=0;e<i.length;e++)this.commandKeys[i[e]]?a.modifiers[i[e]]=!0:a.keyCode=this.specialKeys[i[e]]?this.specialKeys[i[e]]:i[e].charCodeAt(0);u.push(a)}return u},getCommandFromEvent:function(_){var u=this.createCommand();u.modifiers.shift=!!_.shiftKey,u.modifiers.alt=!!_.altKey,u.modifiers.ctrl=!!_.ctrlKey,u.modifiers.meta=!!_.metaKey,u.keyCode=_.which||_.keyCode,u.keyCode>=96&&u.keyCode<=105&&(u.keyCode-=48);var s=String.fromCharCode(u.keyCode);return s&&(u.keyCode=s.toLowerCase().charCodeAt(0)),u},getHashFromEvent:function(_){return this.getHash(this.getCommandFromEvent(_))},getHash:function(_){var u=[];for(var s in _.modifiers)_.modifiers[s]&&u.push(s);return u.push(_.keyCode),u.join(this.junctionChar)},getExpressions:function(_){return _.split(this.junctionChar)},getWords:function(_){return _.split(this.combinationChar)},trim:function(_){return _.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(C,$,f){C.exports=function(_){var u=f(5);!function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),a={},e=0;e<i.length;e++){var t=i[e];for(var n in"function"==typeof t&&(t=new t),t)a[n]=t[n]}return a},f(285)(s),f(284)(s),f(283)(s),f(282)(s),f(281)(s),f(280)(s),f(279)(s),f(278)(s),f(277)(s),f(276)(s);var c=f(1);!function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(m){var k=i.activeNode;return(k instanceof s.$keyboardNavigation.TaskRow||k instanceof s.$keyboardNavigation.TaskCell)&&k.taskId==m};var a=function(m){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!n(m))&&!r(m)&&!c.closest(m.target,".gantt_cal_light"))return i.keyDownHandler(m)},e=function(m){if(i.$preventDefault)return m.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var m=!c.isChildOf(document.activeElement,s.$container)&&"body"!=document.activeElement.localName,k=i.getActiveNode();if(k&&!m){var b,S,x=k.getNode();x&&x.parentNode&&(b=x.parentNode.scrollTop,S=x.parentNode.scrollLeft),k.focus(!0),x&&x.parentNode&&(x.parentNode.scrollTop=b,x.parentNode.scrollLeft=S)}}};function n(m){return!!c.closest(m.target,".gantt_grid_editor_placeholder")}function r(m){return!!c.closest(m.target,".no_keyboard_navigation")}function o(m){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&n(m))return!0;if(!r(m)){var k,b=i.fromDomElement(m);b&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&c.isChildOf(m.target,s.$task)&&(b=new s.$keyboardNavigation.TaskCell(b.taskId,i.activeNode.columnIndex)),k=b),k?i.isEnabled()?i.delay(function(){i.setActiveNode(k)}):i.activeNode=k:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",a),s.eventRemove(s.$container,"focus",e),s.eventRemove(s.$container,"mousedown",o),s.config.keyboard_navigation?(s.event(s.$root,"keydown",a),s.event(s.$container,"focus",e),s.event(s.$container,"mousedown",o),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var l=s.attachEvent("onGanttReady",function(){if(s.detachEvent(l),s.$data.tasksStore.attachEvent("onStoreUpdated",function(k){if(s.config.keyboard_navigation&&i.isEnabled()){var b=i.getActiveNode();b&&b.taskId==k&&t()}}),s._smart_render){var m=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(k,b){if(s.config.keyboard_navigation&&i.isEnabled()){var S=i.getActiveNode();if(S&&void 0!==S.taskId){for(var x=!1,w=0;w<b.length;w++)if(b[w].id==S.taskId&&b[w].start_date){x=!0;break}x||b.push(s.getTask(S.taskId))}}return m.apply(this,arguments)}}}),d=null,h=!1;s.attachEvent("onTaskCreated",function(m){return d=m.id,!0}),s.attachEvent("onAfterTaskAdd",function(m,k){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(m==d&&(h=!0,setTimeout(function(){h=!1,d=null})),h&&k.type==s.config.types.placeholder)return;var b=0,S=i.activeNode;S instanceof s.$keyboardNavigation.TaskCell&&(b=S.columnIndex),k.type==s.config.types.placeholder&&!1===s.config.placeholder_task.focusOnCreate||i.setActiveNode(new(s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow)(m,b))}}),s.attachEvent("onTaskIdChange",function(m,k){if(!s.config.keyboard_navigation)return!0;var b=i.activeNode;return i.isTaskFocused(m)&&(b.taskId=k),!0});var g=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(m){var k={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return k[m]||k.gantt}function y(m){for(var k=s.getGridColumns(),b=0;b<k.length;b++)if(k[b].name==m)return b;return 0}s.attachEvent("onDestroy",function(){clearInterval(g)});var v={};u(v),s.mixin(v,{addShortcut:function(m,k,b){var S=p(b);S&&S.prototype.bind(m,k)},getShortcutHandler:function(m,k){var b=s.$keyboardNavigation.shortcuts.parse(m);if(b.length)return v.getCommandHandler(b[0],k)},getCommandHandler:function(m,k){var b=p(k);if(b&&m)return b.prototype.findHandler(m)},removeShortcut:function(m,k){var b=p(k);b&&b.prototype.unbind(m)},focus:function(m){var k,b=m?m.type:null,S=p(b);switch(b){case"taskCell":k=new S(m.id,y(m.column));break;case"taskRow":k=new S(m.id);break;case"headerCell":k=new S(y(m.column))}i.delay(function(){k?i.setActiveNode(k):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var m=i.getActiveNode(),k=(S=m)instanceof s.$keyboardNavigation.GanttNode?"gantt":S instanceof s.$keyboardNavigation.HeaderCell?"headerCell":S instanceof s.$keyboardNavigation.TaskRow?"taskRow":S instanceof s.$keyboardNavigation.TaskCell?"taskCell":null,b=s.getGridColumns();switch(k){case"taskCell":return{type:"taskCell",id:m.taskId,column:b[m.columnIndex].name};case"taskRow":return{type:"taskRow",id:m.taskId};case"headerCell":return{type:"headerCell",column:b[m.index].name}}}var S;return null}}),s.$keyboardNavigation.facade=v,s.ext.keyboardNavigation=v,s.focus=function(){v.focus()},s.addShortcut=v.addShortcut,s.getShortcutHandler=v.getShortcutHandler,s.removeShortcut=v.removeShortcut}()}(_)}},function(C,$,f){function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}C.exports=function(u){var s=f(2);function c(r,o,l){if(!r||Array.isArray(l)&&!l[0])return 0;if(r&&!Array.isArray(l)){var d=[];return r.map(function(m){d.push({resource_id:m,value:8})}),d}if(l[0].resource_id||(l=[{resource_id:l,value:8}]),"string"==typeof r&&(r=r.split(",")),1==r.length)return l[0].resource_id=r[0],[l[0]];for(var h=[],g=0;g<r.length;g++){var p=r[g],y=l.map(function(m){return m.resource_id}).indexOf(p);if(y>-1)l[y].resource_id=p,h.push(l[y]);else{var v=u.copy(l[0]);v.resource_id=p,h.push(v)}}return h}function i(r,o,l){return r}function a(r){return r.map(e).sort().join(",")}function e(r){return r&&"object"==_(r)?String(r.resource_id):String(r)}function t(r,o){return r[o]instanceof Array?r[o].length?a(r[o]):0:r[o]}function n(){var r=this;this.$data.tasksStore._listenerToDrop&&this.$data.tasksStore.detachEvent(this.$data.tasksStore._listenerToDrop);var o=s.delay(function(){if(!r._groups.dynamicGroups)return!0;if(r._groups.regroup){var l=u.getScrollState();r._groups.regroup(),l&&u.scrollTo(l.x,l.y)}return!0});this.$data.tasksStore.attachEvent("onAfterUpdate",function(){return o.$pending||o(),!0})}u._groups={relation_property:null,relation_id_property:"$group_id",group_id:null,group_text:null,loading:!1,loaded:0,dynamicGroups:!1,set_relation_value:void 0,_searchCache:null,init:function(r){var o=this;r.attachEvent("onClear",function(){o.clear()}),o.clear();var l=r.$data.tasksStore.getParent;this._searchCache=null,r.attachEvent("onBeforeTaskMove",function(h,g,p){var y=g===this.config.root_id,v=this._groups.dynamicGroups&&!(this._groups.set_relation_value instanceof Function);if(o.is_active()&&(y||v))return!1;var m=r.getTask(h);if(this._groups.save_tree_structure&&r.isTaskExists(m.parent)&&r.isTaskExists(g)){var k=r.getTask(m.parent),b=r.getTask(g);b.$virtual&&r.isChildOf(k.id,b.id)&&(m.parent=r.config.root_id);for(var S=!1,x=b;x;)h==x.parent&&(S=!0),x=r.isTaskExists(x.parent)?r.getTask(x.parent):null;if(S)return!1}return!0}),r.attachEvent("onRowDragStart",function(h,g){var p=r.getTask(h);return this._groups.save_tree_structure&&r.isTaskExists(p.parent)&&r.config.order_branch&&"marker"!=r.config.order_branch&&(p.$initial_parent=p.parent),!0}),r.attachEvent("onRowDragEnd",function(h,g){if(r.config.order_branch&&"marker"!=r.config.order_branch){var p=r.getTask(h);if(p.$initial_parent){if(p.parent==r.config.root_id){var y=r.getTask(p.$rendered_parent),v=r.getTask(p.$initial_parent),m=!1;this._groups.dynamicGroups&&y[this._groups.group_id]!=v[this._groups.group_id]&&(m=!0),this._groups.dynamicGroups||y[this._groups.group_id]==v[this._groups.relation_property]||(m=!0),m&&(p.parent=p.$initial_parent)}delete p.$initial_parent}}}),r.$data.tasksStore._listenerToDrop=r.$data.tasksStore.attachEvent("onStoreUpdated",r.bind(n,r)),r.$data.tasksStore.getParent=function(h){return o.is_active()?o.get_parent(r,h):l.apply(this,arguments)};var d=r.$data.tasksStore.setParent;r.$data.tasksStore.setParent=function(h,g){if(!o.is_active())return d.apply(this,arguments);if(o.set_relation_value instanceof Function&&r.isTaskExists(g)){var p=(m=r.getTask(g))[o.relation_id_property];if(!m.$virtual){var y=t(m,o.relation_property);o._searchCache||o._buildCache(),p=r.getTask(o._searchCache[y])[o.relation_id_property]}void 0===h[o.group_id]&&(h[o.group_id]=p),o.save_tree_structure&&h[o.group_id]!=p&&(h[o.group_id]=p),p&&(p="string"==typeof p?p.split(","):[p]),h[o.relation_property]=o.set_relation_value(p,h.id,h[o.relation_property])||p}else if(r.isTaskExists(g)){var m=r.getTask(g);o.dynamicGroups||(h[o.relation_property]=m.$virtual?m[o.relation_id_property]:m[o.relation_property]),this._setParentInner.apply(this,arguments)}else o.dynamicGroups&&(void 0===h[o.group_id]||!h.$virtual&&h[o.relation_property][0]===[][0])&&(h[o.relation_property]=0);return r.isTaskExists(g)&&(h.$rendered_parent=g,!r.getTask(g).$virtual)?d.apply(this,arguments)||g:void 0},r.attachEvent("onBeforeTaskDisplay",function(h,g){return!(o.is_active()&&g.type==r.config.types.project&&!g.$virtual)}),r.attachEvent("onBeforeParse",function(){o.loading=!0,o._clearCache()}),r.attachEvent("onTaskLoading",function(){return o.is_active()&&(o.loaded--,o.loaded<=0&&(o.loading=!1,o._clearCache(),r.eachTask(r.bind(function(h){this.get_parent(r,h)},o)))),!0}),r.attachEvent("onParse",function(){o.loading=!1,o.loaded=0})},_clearCache:function(){this._searchCache=null},_buildCache:function(){this._searchCache={};for(var r=u.$data.tasksStore.getItems(),o=0;o<r.length;o++)this._searchCache[r[o][this.relation_id_property]]=r[o].id},get_parent:function(r,o,l){void 0===o.id&&(o=r.getTask(o));var d=t(o,this.relation_property);if(this.save_tree_structure&&r.isTaskExists(o.parent)){var h=r.getTask(o.parent),g=t(h,this.relation_property);if("project"!=h.type&&d==g)return o.parent}if(this._groups_pull[d]===o.id)return r.config.root_id;if(void 0!==this._groups_pull[d])return this._groups_pull[d];var p=r.config.root_id;if(!this.loading&&void 0!==d){this._searchCache||this._buildCache();var y=this._searchCache[d];r.isTaskExists(y)&&y!=o.id&&(p=this._searchCache[d]),this._groups_pull[d]=p}return p},clear:function(){this._groups_pull={},this.relation_property=null,this.group_id=null,this.group_text=null,this._clearCache()},is_active:function(){return!!this.relation_property},generate_sections:function(r,o){for(var l=[],d=0;d<r.length;d++){var h=u.copy(r[d]);h.type=o,void 0===h.open&&(h.open=!0),h.$virtual=!0,h.readonly=!0,h[this.relation_id_property]=h[this.group_id],h.text=h[this.group_text],l.push(h)}return l},clear_temp_tasks:function(r){for(var o=0;o<r.length;o++)r[o].$virtual&&(r.splice(o,1),o--)},generate_data:function(r,o){var l=r.getLinks(),d=r.getTaskByTime();this.clear_temp_tasks(d),d.forEach(function(p){p.$calculate_duration=!1});var h=[];this.is_active()&&o&&o.length&&(h=this.generate_sections(o,r.config.types.project));var g={links:l};return g.data=h.concat(d),g},update_settings:function(r,o,l){this.clear(),this.relation_property=r,this.group_id=o,this.group_text=l},group_tasks:function(r,o,l,d,h){this.update_settings(l,d,h);var g=this.generate_data(r,o);this.loaded=g.data.length;var p=[];r.eachTask(function(v){r.isSelectedTask(v.id)&&p.push(v.id)}),r._clear_data();var y=r.config.auto_scheduling_initial;r.config.auto_scheduling_initial=!1,r.parse(g),p.forEach(function(v){r.isTaskExists(v)&&r.selectTask(v)}),r.config.auto_scheduling_initial=y}},u._groups.init(u),u.groupBy=function(r){var o=this,l=u.getTaskByTime();this._groups.set_relation_value=r.set_relation_value,this._groups.dynamicGroups=!1,this._groups.save_tree_structure=r.save_tree_structure;var y,d=function(y,v){for(var m=!1,k=!1,b=0;b<y.length;b++){var S=y[b][v];if(Array.isArray(S)&&(k=!0,S.length&&void 0!==S[0].resource_id)){m=!0;break}}return{haveArrays:k,haveResourceAssignments:m}}(l,r.relation_property);d.haveArrays&&(this._groups.dynamicGroups=!0),this._groups.set_relation_value||(this._groups.set_relation_value=(y=d).haveResourceAssignments?c:y.haveArrays?i:null),(r=r||{}).default_group_label=r.default_group_label||this.locale.labels.default_group||"None";var h=r.relation_property||null,g=r.group_id||"key",p=r.group_text||"label";this._groups.regroup=function(){var y=u.getTaskByTime(),v={},m=!1;y.forEach(function(b){b.$virtual&&void 0!==b.$open&&(v[b[g]]=b.$open,m=!0)});var b,k=(b=r).groups?u._groups.dynamicGroups?function(T,E){var I={},P=[],L={},H=E.relation_property,F=E.delimiter||",",z=!1,W=0;s.forEach(E.groups,function(Y){Y.default&&(z=!0,W=Y.group_id),L[Y.key||Y[E.group_id]]=Y});for(var N=0;N<T.length;N++){var O,q,V=T[N][H];if(s.isArray(V))if(V.length>0)O=a(V),q=V.map(function(Y,B){var tt;return tt=Y&&"object"==_(Y)?Y.resource_id:Y,(Y=L[tt]).label||Y.text}).sort().join(F);else{if(z)continue;O=0,q=E.default_group_label}else if(V)q=L[O=V].label||L[O].text;else{if(z)continue;O=0,q=E.default_group_label}void 0!==O&&void 0===I[O]&&(I[O]={key:O,label:q},O===W&&(I[O].default=!0),I[O][E.group_text]=q,I[O][E.group_id]=O)}return(P=s.hashToArray(I)).forEach(function(Y){Y.key==W&&(Y.default=!0)}),P}(y,b):b.groups:null;return k&&m&&k.forEach(function(b){void 0!==v[b[g]]&&(b.open=v[b[g]])}),o._groups.group_tasks(o,k,h,g,p),!0},this._groups.regroup()},u.$services.getService("state").registerProvider("groupBy",function(){return{group_mode:u._groups.is_active()?u._groups.relation_property:null}})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=function(_){function u(){var o=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!o||o!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(o){console.error("Fullscreen is not available:",o)}}_.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:u()}:void 0});var c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},a=null;function e(o,l){l.width=o.width,l.height=o.height,l.top=o.top,l.left=o.left,l.position=o.position,l.zIndex=o.zIndex}var t=!1;function n(){var o,l,d;_.$container&&(u()?t&&(o="onExpand",l=_.ext.fullscreen.getFullscreenElement(),d=document.body,e(l.style,i),c={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",l.style.width="100vw",l.style.height="100vh",l.style.top="0px",l.style.left="0px",l.style.position="absolute",l.style.zIndex=1,i.modified=!0,a=function(h){for(var g=h.parentNode,p=[];g&&g.style;)p.push({element:g,originalPositioning:g.style.position}),g.style.position="static",g=g.parentNode;return p}(l)):t&&(t=!1,o="onCollapse",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;i.modified&&(c.padding&&(d.style.padding=c.padding),c.paddingTop&&(d.style.paddingTop=c.paddingTop),c.paddingRight&&(d.style.paddingRight=c.paddingRight),c.paddingBottom&&(d.style.paddingBottom=c.paddingBottom),c.paddingLeft&&(d.style.paddingLeft=c.paddingLeft),d.style.overflow=c.overflow,c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(i,l.style),i.modified=!1),a.forEach(function(g){g.element.style.position=g.originalPositioning}),a=null}()),setTimeout(function(){_.render()}),setTimeout(function(){_.callEvent(o,[_.ext.fullscreen.getFullscreenElement()])}))}function r(){return!_.$container||!_.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}_.ext.fullscreen={expand:function(){if(!r()&&!u()&&_.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var o=document.body,l=o.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=o.msRequestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullscreen||o.requestFullscreen;d&&d.apply(o,l)}},collapse:function(){if(!r()&&u()&&_.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var o=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;o&&o.apply(document)}},toggle:function(){r()||(u()?this.collapse():this.expand())},getFullscreenElement:function(){return _.$root}},_.expand=function(){_.ext.fullscreen.expand()},_.collapse=function(){_.ext.fullscreen.collapse()},_.attachEvent("onGanttReady",function(){_.event(document,"webkitfullscreenchange",n),_.event(document,"mozfullscreenchange",n),_.event(document,"MSFullscreenChange",n),_.event(document,"fullscreenChange",n),_.event(document,"fullscreenchange",n)})}},function(C,$,f){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}var u=function(a){switch(_(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};C.exports=function(a,e,t,n){return e=e||"&",t=t||"=",null===a&&(a=void 0),"object"===_(a)?c(i(a),function(r){var o=encodeURIComponent(u(r))+t;return s(a[r])?c(a[r],function(l){return o+encodeURIComponent(u(l))}).join(e):o+encodeURIComponent(u(a[r]))}).join(e):n?encodeURIComponent(u(n))+t+encodeURIComponent(u(a)):""};var s=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function c(a,e){if(a.map)return a.map(e);for(var t=[],n=0;n<a.length;n++)t.push(e(a[n],n));return t}var i=Object.keys||function(a){var e=[];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&e.push(t);return e}},function(C,$,f){"use strict";function _(s,c){return Object.prototype.hasOwnProperty.call(s,c)}C.exports=function(s,c,i,a){i=i||"=";var e={};if("string"!=typeof s||0===s.length)return e;var t=/\+/g;s=s.split(c=c||"&");var n=1e3;a&&"number"==typeof a.maxKeys&&(n=a.maxKeys);var r=s.length;n>0&&r>n&&(r=n);for(var o=0;o<r;++o){var l,d,h,g,p=s[o].replace(t,"%20"),y=p.indexOf(i);y>=0?(l=p.substr(0,y),d=p.substr(y+1)):(l=p,d=""),h=decodeURIComponent(l),g=decodeURIComponent(d),_(e,h)?u(e[h])?e[h].push(g):e[h]=[e[h],g]:e[h]=g}return e};var u=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)}},function(C,$,f){"use strict";$.decode=$.parse=f(290),$.encode=$.stringify=f(289)},function(C,$,f){"use strict";function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}C.exports={isString:function(u){return"string"==typeof u},isObject:function(u){return"object"===_(u)&&null!==u},isNull:function(u){return null===u},isNullOrUndefined:function(u){return null==u}}},function(C,$){C.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(C,$,f){(function(_,u){var s;function c(i){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}!function(i){var a="object"==c($)&&$&&!$.nodeType&&$,e="object"==c(_)&&_&&!_.nodeType&&_,t="object"==(void 0===u?"undefined":c(u))&&u;t.global!==t&&t.window!==t&&t.self!==t||(i=t);var n,r,o=2147483647,l=36,h=26,g=38,p=700,k=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-1,T=Math.floor,E=String.fromCharCode;function I(G){throw new RangeError(x[G])}function P(G,V){for(var Y=G.length,B=[];Y--;)B[Y]=V(G[Y]);return B}function L(G,V){var Y=G.split("@"),B="";return Y.length>1&&(B=Y[0]+"@",G=Y[1]),B+P((G=G.replace(S,".")).split("."),V).join(".")}function H(G){for(var V,Y,B=[],tt=0,D=G.length;tt<D;)(V=G.charCodeAt(tt++))>=55296&&V<=56319&&tt<D?56320==(64512&(Y=G.charCodeAt(tt++)))?B.push(((1023&V)<<10)+(1023&Y)+65536):(B.push(V),tt--):B.push(V);return B}function F(G){return P(G,function(V){var Y="";return V>65535&&(Y+=E((V-=65536)>>>10&1023|55296),V=56320|1023&V),Y+E(V)}).join("")}function z(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:l}function W(G,V){return G+22+75*(G<26)-((0!=V)<<5)}function N(G,V,Y){var B=0;for(G=Y?T(G/p):G>>1,G+=T(G/V);G>w*h>>1;B+=l)G=T(G/w);return T(B+(w+1)*G/(G+g))}function O(G){var V,Y,B,tt,D,M,A,R,j,U,K=[],Q=G.length,et=0,at=128,X=72;for((Y=G.lastIndexOf("-"))<0&&(Y=0),B=0;B<Y;++B)G.charCodeAt(B)>=128&&I("not-basic"),K.push(G.charCodeAt(B));for(tt=Y>0?Y+1:0;tt<Q;){for(D=et,M=1,A=l;tt>=Q&&I("invalid-input"),((R=z(G.charCodeAt(tt++)))>=l||R>T((o-et)/M))&&I("overflow"),et+=R*M,!(R<(j=A<=X?1:A>=X+h?h:A-X));A+=l)M>T(o/(U=l-j))&&I("overflow"),M*=U;X=N(et-D,V=K.length+1,0==D),T(et/V)>o-at&&I("overflow"),at+=T(et/V),et%=V,K.splice(et++,0,at)}return F(K)}function q(G){var V,Y,B,tt,D,M,A,R,j,U,K,Q,et,at,X,rt=[];for(Q=(G=H(G)).length,V=128,Y=0,D=72,M=0;M<Q;++M)(K=G[M])<128&&rt.push(E(K));for(B=tt=rt.length,tt&&rt.push("-");B<Q;){for(A=o,M=0;M<Q;++M)(K=G[M])>=V&&K<A&&(A=K);for(A-V>T((o-Y)/(et=B+1))&&I("overflow"),Y+=(A-V)*et,V=A,M=0;M<Q;++M)if((K=G[M])<V&&++Y>o&&I("overflow"),K==V){for(R=Y,j=l;!(R<(U=j<=D?1:j>=D+h?h:j-D));j+=l)rt.push(E(W(U+(X=R-U)%(at=l-U),0))),R=T(X/at);rt.push(E(W(R,0))),D=N(Y,et,B==tt),Y=0,++B}++Y,++V}return rt.join("")}if(n={version:"1.4.1",ucs2:{decode:H,encode:F},decode:O,encode:q,toASCII:function(G){return L(G,function(V){return b.test(V)?"xn--"+q(V):V})},toUnicode:function(G){return L(G,function(V){return k.test(V)?O(V.slice(4).toLowerCase()):V})}},"object"==c(f(59))&&f(59))void 0===(s=function(){return n}.call($,f,$,_))||(_.exports=s);else if(a&&e)if(_.exports==a)e.exports=n;else for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);else i.punycode=n}(this)}).call(this,f(293)(C),f(4))},function(C,$,f){"use strict";function _(m){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(m)}var u=f(294),s=f(292);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}$.parse=v,$.resolve=function(m,k){return v(m,!1,!0).resolve(k)},$.resolveObject=function(m,k){return m?v(m,!1,!0).resolveObject(k):k},$.format=function(m){return s.isString(m)&&(m=v(m)),m instanceof c?m.format():c.prototype.format.call(m)},$.Url=c;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),n=["'"].concat(t),r=["%","/","?",";","#"].concat(n),o=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=f(291);function v(m,k,b){if(m&&s.isObject(m)&&m instanceof c)return m;var S=new c;return S.parse(m,k,b),S}c.prototype.parse=function(m,k,b){if(!s.isString(m))throw new TypeError("Parameter 'url' must be a string, not "+_(m));var S=m.indexOf("?"),x=-1!==S&&S<m.indexOf("#")?"?":"#",w=m.split(x);w[0]=w[0].replace(/\\/g,"/");var T=m=w.join(x);if(T=T.trim(),!b&&1===m.split("#").length){var E=e.exec(T);if(E)return this.path=T,this.href=T,this.pathname=E[1],E[2]?(this.search=E[2],this.query=k?y.parse(this.search.substr(1)):this.search.substr(1)):k&&(this.search="",this.query={}),this}var I=i.exec(T);if(I){var P=(I=I[0]).toLowerCase();this.protocol=P,T=T.substr(I.length)}if(b||I||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var L="//"===T.substr(0,2);!L||I&&g[I]||(T=T.substr(2),this.slashes=!0)}if(!g[I]&&(L||I&&!p[I])){for(var H,F,z=-1,W=0;W<o.length;W++)-1!==(N=T.indexOf(o[W]))&&(-1===z||N<z)&&(z=N);for(-1!==(F=-1===z?T.lastIndexOf("@"):T.lastIndexOf("@",z))&&(H=T.slice(0,F),T=T.slice(F+1),this.auth=decodeURIComponent(H)),z=-1,W=0;W<r.length;W++){var N;-1!==(N=T.indexOf(r[W]))&&(-1===z||N<z)&&(z=N)}-1===z&&(z=T.length),this.host=T.slice(0,z),T=T.slice(z),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var q=this.hostname.split(/\./),G=(W=0,q.length);W<G;W++){var V=q[W];if(V&&!V.match(l)){for(var Y="",B=0,tt=V.length;B<tt;B++)V.charCodeAt(B)>127?Y+="x":Y+=V[B];if(!Y.match(l)){var D=q.slice(0,W),M=q.slice(W+1),A=V.match(d);A&&(D.push(A[1]),M.unshift(A[2])),M.length&&(T="/"+M.join(".")+T),this.hostname=D.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),O||(this.hostname=u.toASCII(this.hostname));var R=this.port?":"+this.port:"";this.host=(this.hostname||"")+R,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==T[0]&&(T="/"+T))}if(!h[P])for(W=0,G=n.length;W<G;W++){var U=n[W];if(-1!==T.indexOf(U)){var K=encodeURIComponent(U);K===U&&(K=escape(U)),T=T.split(U).join(K)}}var Q=T.indexOf("#");-1!==Q&&(this.hash=T.substr(Q),T=T.slice(0,Q));var et=T.indexOf("?");return-1!==et?(this.search=T.substr(et),this.query=T.substr(et+1),k&&(this.query=y.parse(this.query)),T=T.slice(0,et)):k&&(this.search="",this.query={}),T&&(this.pathname=T),p[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(R=this.pathname||"")+(this.search||"")),this.href=this.format(),this},c.prototype.format=function(){var m=this.auth||"";m&&(m=(m=encodeURIComponent(m)).replace(/%3A/i,":"),m+="@");var k=this.protocol||"",b=this.pathname||"",S=this.hash||"",x=!1,w="";this.host?x=m+this.host:this.hostname&&(x=m+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(w=y.stringify(this.query));var T=this.search||w&&"?"+w||"";return k&&":"!==k.substr(-1)&&(k+=":"),this.slashes||(!k||p[k])&&!1!==x?(x="//"+(x||""),b&&"/"!==b.charAt(0)&&(b="/"+b)):x||(x=""),S&&"#"!==S.charAt(0)&&(S="#"+S),T&&"?"!==T.charAt(0)&&(T="?"+T),k+x+(b=b.replace(/[?#]/g,function(E){return encodeURIComponent(E)}))+(T=T.replace("#","%23"))+S},c.prototype.resolve=function(m){return this.resolveObject(v(m,!1,!0)).format()},c.prototype.resolveObject=function(m){if(s.isString(m)){var k=new c;k.parse(m,!1,!0),m=k}for(var b=new c,S=Object.keys(this),x=0;x<S.length;x++){var w=S[x];b[w]=this[w]}if(b.hash=m.hash,""===m.href)return b.href=b.format(),b;if(m.slashes&&!m.protocol){for(var T=Object.keys(m),E=0;E<T.length;E++){var I=T[E];"protocol"!==I&&(b[I]=m[I])}return p[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(m.protocol&&m.protocol!==b.protocol){if(!p[m.protocol]){for(var P=Object.keys(m),L=0;L<P.length;L++){var H=P[L];b[H]=m[H]}return b.href=b.format(),b}if(b.protocol=m.protocol,m.host||g[m.protocol])b.pathname=m.pathname;else{for(var F=(m.pathname||"").split("/");F.length&&!(m.host=F.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),""!==F[0]&&F.unshift(""),F.length<2&&F.unshift(""),b.pathname=F.join("/")}return b.search=m.search,b.query=m.query,b.host=m.host||"",b.auth=m.auth,b.hostname=m.hostname||m.host,b.port=m.port,(b.pathname||b.search)&&(b.path=(b.pathname||"")+(b.search||"")),b.slashes=b.slashes||m.slashes,b.href=b.format(),b}var N=b.pathname&&"/"===b.pathname.charAt(0),O=m.host||m.pathname&&"/"===m.pathname.charAt(0),q=O||N||b.host&&m.pathname,G=q,V=b.pathname&&b.pathname.split("/")||[],Y=(F=m.pathname&&m.pathname.split("/")||[],b.protocol&&!p[b.protocol]);if(Y&&(b.hostname="",b.port=null,b.host&&(""===V[0]?V[0]=b.host:V.unshift(b.host)),b.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(""===F[0]?F[0]=m.host:F.unshift(m.host)),m.host=null),q=q&&(""===F[0]||""===V[0])),O)b.host=m.host||""===m.host?m.host:b.host,b.hostname=m.hostname||""===m.hostname?m.hostname:b.hostname,b.search=m.search,b.query=m.query,V=F;else if(F.length)V||(V=[]),V.pop(),V=V.concat(F),b.search=m.search,b.query=m.query;else if(!s.isNullOrUndefined(m.search))return Y&&(b.hostname=b.host=V.shift(),(A=!!(b.host&&b.host.indexOf("@")>0)&&b.host.split("@"))&&(b.auth=A.shift(),b.host=b.hostname=A.shift())),b.search=m.search,b.query=m.query,s.isNull(b.pathname)&&s.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!V.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;for(var B=V.slice(-1)[0],tt=(b.host||m.host||V.length>1)&&("."===B||".."===B)||""===B,D=0,M=V.length;M>=0;M--)"."===(B=V[M])?V.splice(M,1):".."===B?(V.splice(M,1),D++):D&&(V.splice(M,1),D--);if(!q&&!G)for(;D--;D)V.unshift("..");!q||""===V[0]||V[0]&&"/"===V[0].charAt(0)||V.unshift(""),tt&&"/"!==V.join("/").substr(-1)&&V.push("");var A,R=""===V[0]||V[0]&&"/"===V[0].charAt(0);return Y&&(b.hostname=b.host=R?"":V.length?V.shift():"",(A=!!(b.host&&b.host.indexOf("@")>0)&&b.host.split("@"))&&(b.auth=A.shift(),b.host=b.hostname=A.shift())),(q=q||b.host&&V.length)&&!R&&V.unshift(""),V.length?b.pathname=V.join("/"):(b.pathname=null,b.path=null),s.isNull(b.pathname)&&s.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=m.auth||b.auth,b.slashes=b.slashes||m.slashes,b.href=b.format(),b},c.prototype.parseHost=function(){var m=this.host,k=a.exec(m);k&&(":"!==(k=k[0])&&(this.port=k.substr(1)),m=m.substr(0,m.length-k.length)),m&&(this.hostname=m)}},function(C,$){C.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(C,$){C.exports=function(){for(var _={},u=0;u<arguments.length;u++){var s=arguments[u];for(var c in s)f.call(s,c)&&(_[c]=s[c])}return _};var f=Object.prototype.hasOwnProperty},function(C,$,f){var _=f(14).Buffer;C.exports=function(u){if(u instanceof Uint8Array){if(0===u.byteOffset&&u.byteLength===u.buffer.byteLength)return u.buffer;if("function"==typeof u.buffer.slice)return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}if(_.isBuffer(u)){for(var s=new Uint8Array(u.length),c=u.length,i=0;i<c;i++)s[i]=u[i];return s.buffer}throw new Error("Argument must be a Buffer")}},function(C,$,f){"use strict";C.exports=s;var _=f(60),u=f(18);function s(c){if(!(this instanceof s))return new s(c);_.call(this,c)}u.inherits=f(9),u.inherits(s,_),s.prototype._transform=function(c,i,a){a(null,c)}},function(C,$,f){(function(_){function u(s){try{if(!_.localStorage)return!1}catch{return!1}var c=_.localStorage[s];return null!=c&&"true"===String(c).toLowerCase()}C.exports=function(s,c){if(u("noDeprecation"))return s;var i=!1;return function(){if(!i){if(u("throwDeprecation"))throw new Error(c);u("traceDeprecation")?console.trace(c):console.warn(c),i=!0}return s.apply(this,arguments)}}}).call(this,f(4))},function(C,$,f){(function(_,u){!function(s,c){"use strict";if(!s.setImmediate){var i,a=1,e={},t=!1,n=s.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(s);r=r&&r.setTimeout?r:s,"[object process]"==={}.toString.call(s.process)?i=function(d){u.nextTick(function(){l(d)})}:function(){if(s.postMessage&&!s.importScripts){var d=!0,h=s.onmessage;return s.onmessage=function(){d=!1},s.postMessage("","*"),s.onmessage=h,d}}()?(d="setImmediate$"+Math.random()+"$",h=function(g){g.source===s&&"string"==typeof g.data&&0===g.data.indexOf(d)&&l(+g.data.slice(d.length))},s.addEventListener?s.addEventListener("message",h,!1):s.attachEvent("onmessage",h),i=function(g){s.postMessage(d+g,"*")}):s.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(h){l(h.data)},i=function(h){d.port2.postMessage(h)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var d=n.documentElement;i=function(h){var g=n.createElement("script");g.onreadystatechange=function(){l(h),g.onreadystatechange=null,d.removeChild(g),g=null},d.appendChild(g)}}():i=function(d){setTimeout(l,0,d)},r.setImmediate=function(d){"function"!=typeof d&&(d=new Function(""+d));for(var h=new Array(arguments.length-1),g=0;g<h.length;g++)h[g]=arguments[g+1];return e[a]={callback:d,args:h},i(a),a++},r.clearImmediate=o}var d,h;function o(d){delete e[d]}function l(d){if(t)setTimeout(l,0,d);else{var h=e[d];if(h){t=!0;try{!function(g){var p=g.callback,y=g.args;switch(y.length){case 0:p();break;case 1:p(y[0]);break;case 2:p(y[0],y[1]);break;case 3:p(y[0],y[1],y[2]);break;default:p.apply(void 0,y)}}(h)}finally{o(d),t=!1}}}}}(typeof self>"u"?void 0===_?this:_:self)}).call(this,f(4),f(10))},function(C,$){},function(C,$,f){"use strict";var _=f(21).Buffer,u=f(302);function s(c,i,a){c.copy(i,a)}C.exports=function(){function c(){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(i){var a={data:i,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},c.prototype.unshift=function(i){var a={data:i,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length},c.prototype.shift=function(){if(0!==this.length){var i=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,i}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(i){if(0===this.length)return"";for(var a=this.head,e=""+a.data;a=a.next;)e+=i+a.data;return e},c.prototype.concat=function(i){if(0===this.length)return _.alloc(0);if(1===this.length)return this.head.data;for(var a=_.allocUnsafe(i>>>0),e=this.head,t=0;e;)s(e.data,a,t),t+=e.data.length,e=e.next;return a},c}(),u&&u.inspect&&u.inspect.custom&&(C.exports.prototype[u.inspect.custom]=function(){var c=u.inspect({length:this.length});return this.constructor.name+" "+c})},function(C,$){},function(C,$,f){(function(_,u,s){var c=f(70),i=f(9),a=f(69),e=f(68),t=f(298),n=a.IncomingMessage,r=a.readyStates,o=C.exports=function(d){var h,g=this;e.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+new _(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(y){g.setHeader(y,d.headers[y])});var y,p=!0;if("disable-fetch"===d.mode||"requestTimeout"in d&&!c.abortController)p=!1,h=!0;else if("prefer-streaming"===d.mode)h=!1;else if("allow-wrong-content-type"===d.mode)h=!c.overrideMimeType;else{if(d.mode&&"default"!==d.mode&&"prefer-fast"!==d.mode)throw new Error("Invalid value for opts.mode");h=!0}g._mode=(y=h,c.fetch&&p?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&y?"arraybuffer":c.vbArray&&y?"text:vbarray":"text"),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};i(o,e.Writable),o.prototype.setHeader=function(d,h){var g=d.toLowerCase();-1===l.indexOf(g)&&(this._headers[g]={name:d,value:h})},o.prototype.getHeader=function(d){var h=this._headers[d.toLowerCase()];return h?h.value:null},o.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},o.prototype._onFinish=function(){var d=this;if(!d._destroyed){var h=d._opts,g=d._headers,p=null;"GET"!==h.method&&"HEAD"!==h.method&&(p=c.arraybuffer?t(_.concat(d._body)):c.blobConstructor?new u.Blob(d._body.map(function(b){return t(b)}),{type:(g["content-type"]||{}).value||""}):_.concat(d._body).toString());var y=[];if(Object.keys(g).forEach(function(b){var S=g[b].name,x=g[b].value;Array.isArray(x)?x.forEach(function(w){y.push([S,w])}):y.push([S,x])}),"fetch"===d._mode){var v=null;if(c.abortController){var m=new AbortController;v=m.signal,d._fetchAbortController=m,"requestTimeout"in h&&0!==h.requestTimeout&&(d._fetchTimer=u.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},h.requestTimeout))}u.fetch(d._opts.url,{method:d._opts.method,headers:y,body:p||void 0,mode:"cors",credentials:h.withCredentials?"include":"same-origin",signal:v}).then(function(b){d._fetchResponse=b,d._connect()},function(b){u.clearTimeout(d._fetchTimer),d._destroyed||d.emit("error",b)})}else{var k=d._xhr=new u.XMLHttpRequest;try{k.open(d._opts.method,d._opts.url,!0)}catch(b){return void s.nextTick(function(){d.emit("error",b)})}"responseType"in k&&(k.responseType=d._mode.split(":")[0]),"withCredentials"in k&&(k.withCredentials=!!h.withCredentials),"text"===d._mode&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in h&&(k.timeout=h.requestTimeout,k.ontimeout=function(){d.emit("requestTimeout")}),y.forEach(function(b){k.setRequestHeader(b[0],b[1])}),d._response=null,k.onreadystatechange=function(){switch(k.readyState){case r.LOADING:case r.DONE:d._onXHRProgress()}},"moz-chunked-arraybuffer"===d._mode&&(k.onprogress=function(){d._onXHRProgress()}),k.onerror=function(){d._destroyed||d.emit("error",new Error("XHR error"))};try{k.send(p)}catch(b){return void s.nextTick(function(){d.emit("error",b)})}}}},o.prototype._onXHRProgress=function(){(function(d){try{var h=d.status;return null!==h&&0!==h}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},o.prototype._connect=function(){var d=this;d._destroyed||(d._response=new n(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(h){d.emit("error",h)}),d.emit("response",d._response))},o.prototype._write=function(d,h,g){this._body.push(d),g()},o.prototype.abort=o.prototype.destroy=function(){this._destroyed=!0,u.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},o.prototype.end=function(d,h,g){"function"==typeof d&&(g=d,d=void 0),e.Writable.prototype.end.call(this,d,h,g)},o.prototype.flushHeaders=function(){},o.prototype.setTimeout=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,f(14).Buffer,f(4),f(10))},function(C,$){$.read=function(f,_,u,s,c){var i,a,e=8*c-s-1,t=(1<<e)-1,n=t>>1,r=-7,o=u?c-1:0,l=u?-1:1,d=f[_+o];for(o+=l,i=d&(1<<-r)-1,d>>=-r,r+=e;r>0;i=256*i+f[_+o],o+=l,r-=8);for(a=i&(1<<-r)-1,i>>=-r,r+=s;r>0;a=256*a+f[_+o],o+=l,r-=8);if(0===i)i=1-n;else{if(i===t)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,s),i-=n}return(d?-1:1)*a*Math.pow(2,i-s)},$.write=function(f,_,u,s,c,i){var a,e,t,n=8*i-c-1,r=(1<<n)-1,o=r>>1,l=23===c?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,h=s?1:-1,g=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(e=isNaN(_)?1:0,a=r):(a=Math.floor(Math.log(_)/Math.LN2),_*(t=Math.pow(2,-a))<1&&(a--,t*=2),(_+=a+o>=1?l/t:l*Math.pow(2,1-o))*t>=2&&(a++,t/=2),a+o>=r?(e=0,a=r):a+o>=1?(e=(_*t-1)*Math.pow(2,c),a+=o):(e=_*Math.pow(2,o-1)*Math.pow(2,c),a=0));c>=8;f[u+d]=255&e,d+=h,e/=256,c-=8);for(a=a<<c|e,n+=c;n>0;f[u+d]=255&a,d+=h,a/=256,n-=8);f[u+d-h]|=128*g}},function(C,$,f){"use strict";$.byteLength=function(r){var o=e(r),d=o[1];return 3*(o[0]+d)/4-d},$.toByteArray=function(r){for(var o,l=e(r),d=l[0],h=l[1],g=new s(3*(d+(b=h))/4-b),p=0,y=h>0?d-4:d,v=0;v<y;v+=4)o=u[r.charCodeAt(v)]<<18|u[r.charCodeAt(v+1)]<<12|u[r.charCodeAt(v+2)]<<6|u[r.charCodeAt(v+3)],g[p++]=o>>16&255,g[p++]=o>>8&255,g[p++]=255&o;var b;return 2===h&&(o=u[r.charCodeAt(v)]<<2|u[r.charCodeAt(v+1)]>>4,g[p++]=255&o),1===h&&(o=u[r.charCodeAt(v)]<<10|u[r.charCodeAt(v+1)]<<4|u[r.charCodeAt(v+2)]>>2,g[p++]=o>>8&255,g[p++]=255&o),g},$.fromByteArray=function(r){for(var o,l=r.length,d=l%3,h=[],g=0,p=l-d;g<p;g+=16383)h.push(n(r,g,g+16383>p?p:g+16383));return 1===d?h.push(_[(o=r[l-1])>>2]+_[o<<4&63]+"=="):2===d&&h.push(_[(o=(r[l-2]<<8)+r[l-1])>>10]+_[o>>4&63]+_[o<<2&63]+"="),h.join("")};for(var _=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)_[i]=c[i],u[c.charCodeAt(i)]=i;function e(r){var o=r.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=r.indexOf("=");return-1===l&&(l=o),[l,l===o?0:4-l%4]}function t(r){return _[r>>18&63]+_[r>>12&63]+_[r>>6&63]+_[63&r]}function n(r,o,l){for(var h=[],g=o;g<l;g+=3)h.push(t((r[g]<<16&16711680)+(r[g+1]<<8&65280)+(255&r[g+2])));return h.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(C,$,f){"use strict";(function(_){Object.defineProperty($,"__esModule",{value:!0}),$.default=function(u){u.ext=u.ext||{},u.ext.export_api=u.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",_prepareConfigPDF:function(s,c){if(s&&s.raw){var i=null;s.start&&s.end&&(i={start_date:u.config.start_date,end_date:u.config.end_date},u.config.start_date=u.date.str_to_date(u.config.date_format)(s.start),u.config.end_date=u.date.str_to_date(u.config.date_format)(s.end)),s=u.mixin(s,{name:"gantt."+c,data:u.ext.export_api._serializeHtml()}),i&&(u.config.start_date=i.start_date,u.config.end_date=i.end_date)}else s=u.mixin(s||{},{name:"gantt."+c,data:u.ext.export_api._serializeAll(),config:u.config}),u.ext.export_api._fixColumns(s.config.columns);s.version=u.version,u.ext.export_api._sendToExport(s,c)},exportToPDF:function(s){u.ext.export_api._prepareConfigPDF(s,"pdf")},exportToPNG:function(s){u.ext.export_api._prepareConfigPDF(s,"png")},exportToICal:function(s){s=u.mixin(s||{},{name:"gantt.ical",data:u.ext.export_api._serializePlain().data,version:u.version}),u.ext.export_api._sendToExport(s,"ical")},exportToExcel:function(s){var c,i,a,e,t=u.config.smart_rendering;if("base-colors"===(s=s||{}).visual&&(u.config.smart_rendering=!1),s.start||s.end){a=u.getState(),i=[u.config.start_date,u.config.end_date],e=u.getScrollState();var n=u.date.str_to_date(u.config.date_format);c=u.eachTask,s.start&&(u.config.start_date=n(s.start)),s.end&&(u.config.end_date=n(s.end)),u.render(),u.config.smart_rendering=t,u.eachTask=u.ext.export_api._eachTaskTimed(u.config.start_date,u.config.end_date)}else"base-colors"===s.visual&&(u.render(),u.config.smart_rendering=t);u._no_progress_colors="base-colors"===s.visual;var r=null;u.env.isNode||(r=u.ext.export_api._serializeTable(s).data),(s=u.mixin(s,{name:"gantt.xlsx",title:"Tasks",data:r,columns:u.ext.export_api._serializeColumns({rawDates:!0}),version:u.version})).visual&&(s.scales=u.ext.export_api._serializeScales(s)),u.ext.export_api._sendToExport(s,"excel"),(s.start||s.end)&&(u.config.start_date=a.min_date,u.config.end_date=a.max_date,u.eachTask=c,u.render(),u.scrollTo(e.x,e.y),u.config.start_date=i[0],u.config.end_date=i[1])},exportToJSON:function(s){s=u.mixin(s||{},{name:"gantt.json",data:u.ext.export_api._serializeAll(),config:u.config,columns:u.ext.export_api._serializeColumns(),worktime:u.ext.export_api._getWorktimeSettings(),version:u.version}),u.ext.export_api._sendToExport(s,"json")},importFromExcel:function(s){try{var c=s.data;if(!(c instanceof FormData)&&c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}catch{}u.env.isNode?u.ext.export_api._nodejsImportExcel(s):u.ext.export_api._sendImportAjaxExcel(s)},importFromMSProject:function(s){var c=s.data;try{if(!(c instanceof FormData)&&c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}catch{}u.env.isNode?u.ext.export_api._nodejsImportMSP(s):u.ext.export_api._sendImportAjaxMSP(s)},importFromPrimaveraP6:function(s){return s.type="primaveraP6-parse",u.importFromMSProject(s)},exportToMSProject:function(s){(s=s||{}).skip_circular_links=void 0===s.skip_circular_links||!!s.skip_circular_links;var c=u.templates.xml_format,i=u.templates.format_date,a=u.config.xml_date,e=u.config.date_format;u.config.xml_date="%d-%m-%Y %H:%i:%s",u.config.date_format="%d-%m-%Y %H:%i:%s",u.templates.xml_format=u.date.date_to_str("%d-%m-%Y %H:%i:%s"),u.templates.format_date=u.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=u.ext.export_api._serializeAll();u.ext.export_api._customProjectProperties(t,s),u.ext.export_api._customTaskProperties(t,s),s.skip_circular_links&&u.ext.export_api._clearRecLinks(t),s=u.ext.export_api._exportConfig(t,s),u.ext.export_api._sendToExport(s,s.type||"msproject"),u.config.xml_date=a,u.config.date_format=e,u.templates.xml_format=c,u.templates.format_date=i,u.config.$custom_data=null,u.config.custom=null},exportToPrimaveraP6:function(s){return(s=s||{}).type="primaveraP6",u.exportToMSProject(s)},_nodejsImportExcel:function(s){var c=f(35),i=f(58),a=(s.server||u.ext.export_api._apiUrl).split("://")[1],e=a.split("/")[0].split(":"),t=a.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},r=new i;r.append("file",s.data),r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:s.sheet||0})),n.headers["Content-Type"]=r.getHeaders()["content-type"];var o=c.request(n,function(l){var d="";l.on("data",function(h){d+=h}),l.on("end",function(h){s.callback(d.toString())})});o.on("error",function(l){console.error(l)}),r.pipe(o)},_nodejsImportMSP:function(s){var c=f(35),i=f(58),a=(s.server||u.ext.export_api._apiUrl).split("://")[1],e=a.split("/")[0].split(":"),t=a.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},r={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0},o=new i;o.append("file",s.data),o.append("type",s.type||"msproject-parse"),o.append("data",JSON.stringify(r),n),n.headers["Content-Type"]=o.getHeaders()["content-type"];var l=c.request(n,function(d){var h="";d.on("data",function(g){h+=g}),d.on("end",function(g){s.callback(h.toString())})});l.on("error",function(d){console.error(d)}),o.pipe(l)},_fixColumns:function(s){for(var c=0;c<s.length;c++)s[c].label=s[c].label||u.locale.labels["column_"+s[c].name],"string"==typeof s[c].width&&(s[c].width=1*s[c].width)},_xdr:function(s,c,i){u.env.isNode?u.ext.export_api._nodejsPostRequest(s,c,i):u.ajax.post(s,c,i)},_nodejsPostRequest:function(s,c,i){var a=f(35),e=s.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),r={hostname:t[0],port:t[1]||80,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(c).length}},o=a.request(r,function(l){var d=[];l.on("data",function(h){d.push(h)}),l.on("end",function(h){i(_.concat(d))})});o.on("error",function(l){console.error(l)}),o.write(JSON.stringify(c)),o.end()},_markColumns:function(s){var c=s.config.columns;if(c)for(var i=0;i<c.length;i++)c[i].template&&(c[i].$template=!0)},_sendImportAjaxExcel:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,a=s.data,e=s.callback;a.append("type","excel-parse"),a.append("data",JSON.stringify({sheet:s.sheet||0})),i&&a.append("store",i);var t=new XMLHttpRequest;t.onreadystatechange=function(n){4===t.readyState&&0===t.status&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",c,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(a)},_ajaxToExport:function(s,c,i){delete s.callback;var a=s.server||u.ext.export_api._apiUrl,e="type="+c+"&store=1&data="+encodeURIComponent(JSON.stringify(s));u.ext.export_api._xdr(a,e,function(t){var n=t.xmlDoc||t,r=null;if(!(n.status>400))try{r=JSON.parse(n.responseText)}catch{}i(r)})},_serializableGanttConfig:function(s){var c=u.mixin({},s);return c.columns&&(c.columns=c.columns.map(function(i){var a=u.mixin({},i);return delete a.editor,a})),delete c.editor_types,c},_sendToExport:function(s,c){var i=u.date.date_to_str(u.config.date_format||u.config.xml_date);if(s.config&&(s.config=u.copy(u.ext.export_api._serializableGanttConfig(s.config)),u.ext.export_api._markColumns(s,c),s.config.start_date&&s.config.end_date&&(s.config.start_date instanceof Date&&(s.config.start_date=i(s.config.start_date)),s.config.end_date instanceof Date&&(s.config.end_date=i(s.config.end_date)))),u.env.isNode){var a=s.server||u.ext.export_api._apiUrl,e={type:c,store:0,data:JSON.stringify(s)};return u.ext.export_api._xdr(a,e,s.callback||function(r){console.log(r)})}if(s.callback)return u.ext.export_api._ajaxToExport(s,c,s.callback);var n=u.ext.export_api._createHiddenForm();n.firstChild.action=s.server||u.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(s),n.firstChild.childNodes[1].value=c,n.firstChild.submit()},_createHiddenForm:function(){if(!u.ext.export_api._hidden_export_form){var s=u.ext.export_api._hidden_export_form=document.createElement("div");s.style.display="none",s.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(s)}return u.ext.export_api._hidden_export_form},_copyObjectBase:function(s){var c={start_date:void 0,end_date:void 0};for(var i in s)"$"!==i.charAt(0)&&(c[i]=s[i]);var a=u.templates.xml_format||u.templates.format_date;return c.start_date=a(c.start_date),c.end_date&&(c.end_date=a(c.end_date)),c},_color_box:null,_color_hash:{},_getStyles:function(s){if(u.ext.export_api._color_box||(u.ext.export_api._color_box=document.createElement("DIV"),u.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(u.ext.export_api._color_box)),u.ext.export_api._color_hash[s])return u.ext.export_api._color_hash[s];u.ext.export_api._color_box.className=s;var c=u.ext.export_api._getColor(u.ext.export_api._color_box,"color"),i=u.ext.export_api._getColor(u.ext.export_api._color_box,"backgroundColor");return u.ext.export_api._color_hash[s]=c+";"+i},_getMinutesWorktimeSettings:function(s){var c=[];return s.forEach(function(i){c.push(i.startMinute),c.push(i.endMinute)}),c},_getWorktimeSettings:function(){var s,c={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(u.config.work_time){var i=u._working_time_helper;if(i&&i.get_calendar)s=i.get_calendar();else if(i)s={hours:i.hours,minutes:null,dates:i.dates};else if(u.config.worktimes&&u.config.worktimes.global){var a=u.config.worktimes.global;if(a.parsed){var e=u.ext.export_api._getMinutesWorktimeSettings(a.parsed.hours);for(var t in s={hours:null,minutes:e,dates:{}},a.parsed.dates)s.dates[t]=Array.isArray(a.parsed.dates[t])?u.ext.export_api._getMinutesWorktimeSettings(a.parsed.dates[t]):a.parsed.dates[t]}else s={hours:a.hours,minutes:null,dates:a.dates}}else s=c}else s=c;return s},_eachTaskTimed:function(s,c){return function(i,a,e){e=e||u;var t=u.getChildren(a=a||u.config.root_id);if(t)for(var n=0;n<t.length;n++){var r=u._pull[t[n]];(!s||r.end_date>s)&&(!c||r.start_date<c)&&i.call(e,r),u.hasChild(r.id)&&u.eachTask(i,r.id,e)}}},_originalCopyObject:u.json._copyObject,_copyObjectPlain:function(s){var c=u.templates.task_text(s.start_date,s.end_date,s),i=u.ext.export_api._copyObjectBase(s);return i.text=c||i.text,i},_getColor:function(s,c){var i=s.currentStyle?s.currentStyle[c]:getComputedStyle(s,null)[c],a=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(a&&4===a.length?("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable:function(s){var c=u.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=u.ext.export_api._copyObjectColumns(s,u.ext.export_api._copyObjectPlain(s));i.start_date&&(i.start_date=c(s.start_date)),i.end_date&&(i.end_date=c(s.end_date));var a=u._day_index_by_date?u._day_index_by_date:u.columnIndexByDate;i.$start=a.call(u,s.start_date),i.$end=a.call(u,s.end_date),i.$level=s.$level,i.$type=s.$rendered_type;var e=u.templates;return i.$text=e.task_text(s.start,s.end_date,s),i.$left=e.leftside_text?e.leftside_text(s.start,s.end_date,s):"",i.$right=e.rightside_text?e.rightside_text(s.start,s.end_date,s):"",i},_copyObjectColors:function(s){var c=u.ext.export_api._copyObjectTable(s),i=u.getTaskNode(s.id);if(i&&i.firstChild){var a=u.ext.export_api._getColor(u._no_progress_colors?i:i.firstChild,"backgroundColor");"363636"===a&&(a=u.ext.export_api._getColor(i,"backgroundColor")),c.$color=a}else s.color&&(c.$color=s.color);return c},_copyObjectColumns:function(s,c){for(var i=0;i<u.config.columns.length;i++){var a=u.config.columns[i].template;if(a){var e=a(s);e instanceof Date&&(e=u.templates.date_grid(e,s)),c["_"+i]=e}}return c},_copyObjectAll:function(s){for(var c=u.ext.export_api._copyObjectBase(s),i=["leftside_text","rightside_text","task_text","progress_text","task_class"],a=0;a<i.length;a++){var e=u.templates[i[a]];e&&(c["$"+a]=e(s.start_date,s.end_date,s))}return u.ext.export_api._copyObjectColumns(s,c),c.open=s.$open,c},_serializeHtml:function(){var s=u.config.smart_scales,c=u.config.smart_rendering;(s||c)&&(u.config.smart_rendering=!1,u.config.smart_scales=!1,u.render());var i=u.$container.parentNode.innerHTML;return(s||c)&&(u.config.smart_scales=s,u.config.smart_rendering=c,u.render()),i},_serializeAll:function(){u.json._copyObject=u.ext.export_api._copyObjectAll;var s=u.ext.export_api._exportSerialize();return u.json._copyObject=u.ext.export_api._originalCopyObject,s},_serializePlain:function(){var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.templates.format_date=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.json._copyObject=u.ext.export_api._copyObjectPlain;var i=u.ext.export_api._exportSerialize();return u.templates.xml_format=s,u.templates.format_date=c,u.json._copyObject=u.ext.export_api._originalCopyObject,delete i.links,i},_getRaw:function(){if(u._scale_helpers){var s=u._get_scales(),c=u.config.min_column_width,i=u._get_resize_options().x?Math.max(u.config.autosize_min_width,0):u.config.$task.offsetWidth,a=u.config.config.scale_height-1;return u._scale_helpers.prepareConfigs(s,c,i,a)}var e=u.$ui.getView("timeline");if(e){var t=e.$config.width;"x"!==u.config.autosize&&"xy"!==u.config.autosize||(t=Math.max(u.config.autosize_min_width,0));var n=u.getState(),r=(s=e._getScales(),c=u.config.min_column_width,a=u.config.scale_height-1,u.config.rtl);return e.$scaleHelper.prepareConfigs(s,c,t,a,n.min_date,n.max_date,r)}},_serializeTable:function(s){u.json._copyObject=s.visual?u.ext.export_api._copyObjectColors:u.ext.export_api._copyObjectTable;var c=u.ext.export_api._exportSerialize();if(u.json._copyObject=u.ext.export_api._originalCopyObject,delete c.links,s.cellColors){var i=u.templates.timeline_cell_class||u.templates.task_cell_class;if(i){for(var a=u.ext.export_api._getRaw(),e=a[0].trace_x,t=1;t<a.length;t++)a[t].trace_x.length>e.length&&(e=a[t].trace_x);for(t=0;t<c.data.length;t++){c.data[t].styles=[];for(var n=u.getTask(c.data[t].id),r=0;r<e.length;r++){var o=i(n,e[r]);o&&c.data[t].styles.push({index:r,styles:u.ext.export_api._getStyles(o)})}}}}return c},_serializeScales:function(s){for(var c=[],i=u.ext.export_api._getRaw(),a=1/0,e=0,t=0;t<i.length;t++)a=Math.min(a,i[t].col_width);for(t=0;t<i.length;t++){var n=0,r=0,o=[];c.push(o);var l=i[t];e=Math.max(e,l.trace_x.length);for(var d=l.format||l.template||(l.date?u.date.date_to_str(l.date):u.config.date_scale),h=0;h<l.trace_x.length;h++){var g=l.trace_x[h];r=n+Math.round(l.width[h]/a);var p={text:d(g),start:n,end:r,styles:""};if(s.cellColors){var y=l.css||u.templates.scaleCell_class;if(y){var v=y(g);v&&(p.styles=u.ext.export_api._getStyles(v))}}o.push(p),n=r}}return{width:e,height:c.length,data:c}},_serializeColumns:function(s){u.exportMode=!0;for(var c=[],i=u.config.columns,a=0,e=0;e<i.length;e++)"add"!==i[e].name&&"buttons"!==i[e].name&&(c[a]={id:i[e].template?"_"+e:i[e].name,header:i[e].label||u.locale.labels["column_"+i[e].name],width:i[e].width?Math.floor(i[e].width/4):""},"duration"===i[e].name&&(c[a].type="number"),"start_date"!==i[e].name&&"end_date"!==i[e].name||(c[a].type="date",s&&s.rawDates&&(c[a].id=i[e].name)),a++);return u.exportMode=!1,c},_exportSerialize:function(){u.exportMode=!0;var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.templates.format_date=u.date.date_to_str(u.config.date_format||u.config.xml_date);var i=u.serialize();return u.templates.xml_format=s,u.templates.format_date=c,u.exportMode=!1,i},_setLevel:function(s){for(var c=0;c<s.length;c++){0==s[c].parent&&(s[c]._lvl=1);for(var i=c+1;i<s.length;i++)s[c].id==s[i].parent&&(s[i]._lvl=s[c]._lvl+1)}},_clearLevel:function(s){for(var c=0;c<s.length;c++)delete s[c]._lvl},_clearRecLinks:function(s){u.ext.export_api._setLevel(s.data);for(var c={},i=0;i<s.data.length;i++)c[s.data[i].id]=s.data[i];var a={};for(i=0;i<s.links.length;i++){var e=s.links[i];u.isTaskExists(e.source)&&u.isTaskExists(e.target)&&c[e.source]&&c[e.target]&&(a[e.id]=e)}for(var t in a)u.ext.export_api._makeLinksSameLevel(a[t],c);var n={};for(var t in c)u.ext.export_api._clearCircDependencies(c[t],a,c,{},n,null);for(Object.keys(a)&&u.ext.export_api._clearLinksSameLevel(a,c),i=0;i<s.links.length;i++)a[s.links[i].id]||(s.links.splice(i,1),i--);u.ext.export_api._clearLevel(s.data)},_clearCircDependencies:function(s,c,i,a,e,t){var n=s.$_source;if(n){a[s.id]&&u.ext.export_api._onCircDependencyFind(t,c,a,e),a[s.id]=!0;for(var r={},o=0;o<n.length;o++)if(!e[n[o]]){var l=c[n[o]],d=i[l._target];r[d.id]&&u.ext.export_api._onCircDependencyFind(l,c,a,e),r[d.id]=!0,u.ext.export_api._clearCircDependencies(d,c,i,a,e,l)}a[s.id]=!1}},_onCircDependencyFind:function(s,c,i,a){s&&(u.callEvent("onExportCircularDependency",[s.id,s])&&delete c[s.id],delete i[s._source],delete i[s._target],a[s.id]=!0)},_makeLinksSameLevel:function(s,c){var i,a,e={target:c[s.target],source:c[s.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(i="source",a=e.target._lvl):(i="target",a=e.source._lvl);do{var t=c[e[i].parent];if(!t)break;e[i]=t}while(e[i]._lvl<a);for(var n=c[e.source.parent],r=c[e.target.parent];n&&r&&n.id!=r.id;)e.source=n,e.target=r,n=c[e.source.parent],r=c[e.target.parent]}s._target=e.target.id,s._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(s.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(s.id)},_clearLinksSameLevel:function(s,c){for(var i in s)delete s[i]._target,delete s[i]._source;for(var a in c)delete c[a].$_source,delete c[a].$_target},_customProjectProperties:function(s,c){if(c&&c.project){for(var i in c.project)u.config.$custom_data||(u.config.$custom_data={}),u.config.$custom_data[i]="function"==typeof c.project[i]?c.project[i](u.config):c.project[i];delete c.project}},_customTaskProperties:function(s,c){c&&c.tasks&&(s.data.forEach(function(i){for(var a in c.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[a]="function"==typeof c.tasks[a]?c.tasks[a](i,u.config):c.tasks[a]}),delete c.tasks)},_exportConfig:function(s,c){var i=c.name||"gantt.xml";delete c.name,u.config.custom=c;var a=u.ext.export_api._getWorktimeSettings(),e=u.getSubtaskDates();if(e.start_date&&e.end_date){var t=u.templates.format_date||u.templates.xml_format;u.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var r={callback:c.callback||null,config:u.config,data:s,manual:void 0!==c.auto_scheduling&&!!c.auto_scheduling,name:i,worktime:a};for(var o in c)r[o]=c[o];return r},_sendImportAjaxMSP:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,a=s.data,e=s.callback,t={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0};a.append("type",s.type||"msproject-parse"),a.append("data",JSON.stringify(t)),i&&a.append("store",i);var n=new XMLHttpRequest;n.onreadystatechange=function(r){4===n.readyState&&0===n.status&&e&&e(null)},n.onload=function(){var r=null;if(!(n.status>400))try{r=JSON.parse(n.responseText)}catch{}e&&e(r)},n.open("POST",c,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a)}},u.exportToPDF=u.ext.export_api.exportToPDF,u.exportToPNG=u.ext.export_api.exportToPNG,u.exportToICal=u.ext.export_api.exportToICal,u.exportToExcel=u.ext.export_api.exportToExcel,u.exportToJSON=u.ext.export_api.exportToJSON,u.importFromExcel=u.ext.export_api.importFromExcel,u.importFromMSProject=u.ext.export_api.importFromMSProject,u.exportToMSProject=u.ext.export_api.exportToMSProject,u.importFromPrimaveraP6=u.ext.export_api.importFromPrimaveraP6,u.exportToPrimaveraP6=u.ext.export_api.exportToPrimaveraP6}}).call(this,f(14).Buffer)},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(c._trace.length>=10){for(var i=c._trace.slice(c._trace.length-10),a=[],e=1;e<i.length;e++)a.push({x:i[e].x-i[e-1].x,y:i[e].y-i[e-1].y});var t={x:0,y:0};return a.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){c._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){c._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var a=c._gantt;return{x:a.$ui.getView(i.$config.scrollX).getScrollState().position,y:a.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var a=c._calculateDirectionVector(),e=c._startPoint.x-i.x,t=c._startPoint.y-i.y;return a&&(a.angleDegrees<15?t=0:a.angleDegrees>75&&(e=0)),{x:c._scrollState.x+e,y:c._scrollState.y+t}},this._setScrollPosition=function(i,a){var e=c._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(i.$id,a.x,a.y)})},this._stopDrag=function(i){var a=c._gantt;if(c._trace=[],a.$root.classList.remove("gantt_noselect"),void 0!==c._originalReadonly&&(a.config.readonly=c._originalReadonly),void 0!==c._originAutoscroll&&(a.config.autoscroll=c._originAutoscroll),a.config.drag_timeline){var e=a.config.drag_timeline.useKey;if(e&&!0!==i[e])return}c._mouseDown=!1},this._startDrag=function(i){var a=c._gantt;c._originAutoscroll=a.config.autoscroll,a.config.autoscroll=!1,a.$root.classList.add("gantt_noselect"),c._originalReadonly=a.config.readonly,a.config.readonly=!0,c._trace=[],c._mouseDown=!0;var e=c._getScrollPosition(c._timeline);c._scrollState={x:e.x,y:e.y},c._startPoint={x:i.clientX,y:i.clientY},c._trace.push(c._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return u.create=function(s){return new u(s)},u.prototype.destructor=function(){this._domEvents.detachAll()},u.prototype.attach=function(s){var c=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline,t=e.useKey,n=e.ignore;if(!1!==e.enabled){var r=".gantt_task_line, .gantt_task_link";void 0!==n&&(r=n instanceof Array?n.join(", "):n),r&&i.utils.dom.closest(a.target,r)||t&&!0!==a[t]||c._startDrag(a)}}}),this._domEvents.attach(document,"keydown",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&!0===a[e]&&c._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&!1===a[e]&&(c._clearDndReadyStyles(),c._stopDrag(a))}}),this._domEvents.attach(document,"mouseup",function(a){c._stopDrag(a)}),this._domEvents.attach(i.$root,"mouseup",function(a){c._stopDrag(a)}),this._domEvents.attach(document,"mouseleave",function(a){c._stopDrag(a)}),this._domEvents.attach(i.$root,"mouseleave",function(a){c._stopDrag(a)}),this._domEvents.attach(i.$root,"mousemove",function(a){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(!e||!0===a[e]){var n=(c._gantt.config.click_drag||{}).useKey;if((!c._gantt.ext.clickDrag||!n||e||!a[n])&&!0===c._mouseDown){c._trace.push({x:a.clientX,y:a.clientY});var r=c._countNewScrollPosition({x:a.clientX,y:a.clientY});c._setScrollPosition(s,r),c._scrollState=r,c._startPoint={x:a.clientX,y:a.clientY}}}}})},u}();$.EventsManager=_},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(309);$.default=function(u){u.ext||(u.ext={}),u.ext.dragTimeline={create:function(){return _.EventsManager.create(u)}},u.config.drag_timeline={enabled:!0}}},function(C,$){C.exports=function(f){return f._isProjectEnd=function(_){return!this._hasDuration({start_date:_.end_date,end_date:this._getProjectEnd(),task:_})},{_cache:{},_slackHelper:null,reset:function(){this._cache={}},_calculateCriticalPath:function(){this.reset()},isCriticalTask:function(_){if(!_)return!1;if(f.config.auto_scheduling_use_progress&&1===_.progress)return this._cache[_.id]=!1,!1;if(void 0===this._cache[_.id])if(f.isSummaryTask(_)){var u=!1;f.eachTask(function(s){u||(u=this.isCriticalTask(s))}.bind(this),_.id),this._cache[_.id]=u}else this._cache[_.id]=this._slackHelper.getTotalSlack(_)<=0;return this._cache[_.id]},init:function(_){this._slackHelper=_;var u=f.bind(function(){return this.reset(),!0},this),s=f.bind(function(i,a){return this._cache&&(this._cache[a]=this._cache[i],delete this._cache[i]),!0},this);f.attachEvent("onAfterLinkAdd",u),f.attachEvent("onAfterLinkUpdate",u),f.attachEvent("onAfterLinkDelete",u),f.attachEvent("onAfterTaskAdd",u),f.attachEvent("onTaskIdChange",s),f.attachEvent("onAfterTaskUpdate",u),f.attachEvent("onAfterTaskDelete",u),f.attachEvent("onParse",u),f.attachEvent("onClearAll",u);var c=function(){f.config.highlight_critical_path&&!f.getState("batchUpdate").batch_update&&f.render()};f.attachEvent("onAfterLinkAdd",c),f.attachEvent("onAfterLinkUpdate",c),f.attachEvent("onAfterLinkDelete",c),f.attachEvent("onAfterTaskAdd",c),f.attachEvent("onTaskIdChange",function(i,a){return f.config.highlight_critical_path&&f.isTaskExists(a)&&f.refreshTask(a),!0}),f.attachEvent("onAfterTaskUpdate",c),f.attachEvent("onAfterTaskDelete",c)}}}},function(C,$,f){C.exports=function(_){var u=f(74)(_),s=f(73)(_),c={_freeSlack:{},_totalSlack:{},_slackNeedCalculate:!0,_linkedTasksById:{},_successorsByTaskId:{},_projectEnd:null,_calculateSlacks:function(){var i=u.getLinkedTasks(),a=s.findLoops(i);if(a.length){_.callEvent("onAutoScheduleCircularLink",[a]);var e={};a.forEach(function(l){l.linkKeys.forEach(function(d){e[d]=!0})});for(var t=0;t<i.length;t++)i[t].hashSum in e&&(i.splice(t,1),t--)}var n=s.topologicalSort(i).reverse(),r={};i.forEach(function(l){r[l.source]||(r[l.source]={linked:[]}),r[l.source].linked.push({target:l.target,link:l})});var o={_cache:{},getDist:function(l,d){var h="".concat(l.id,"_").concat(d.id);if(this._cache[h])return this._cache[h];var g=_.calculateDuration({start_date:l.end_date,end_date:d.start_date,task:l});return this._cache[h]=g,g}};this._projectEnd=_.getSubtaskDates().end_date,this._calculateFreeSlack(i,n,r,o),this._calculateTotalSlack(i,n,r,o)},_isCompletedTask:function(i){return _.config.auto_scheduling_use_progress&&1==i.progress},_calculateFreeSlack:function(i,a,e,t){var n=this._freeSlack={},r={};_.eachTask(function(h){_.isSummaryTask(h)||(r[h.id]=h)});var o={};for(var l in i.forEach(function(h){var g=r[h.source];if(g){o[h.source]=!0;var p=t.getDist(g,_.getTask(h.target));p-=h.lag||0,n[h.source]=void 0!==n[h.source]?Math.min(p,n[h.source]):p}}),r)if(!o[l]){var d=r[l];n[d.id]=this._isCompletedTask(d)?0:_.calculateDuration({start_date:d.end_date,end_date:this._projectEnd,task:d})}return this._freeSlack},_disconnectedTaskSlack:function(i){return this._isCompletedTask(i)?0:Math.max(_.calculateDuration(i.end_date,this._projectEnd),0)},_calculateTotalSlack:function(i,a,e,t){this._totalSlack={},this._slackNeedCalculate=!1;for(var n={},r=_.getTaskByTime(),o=0;o<a.length;o++){var l=_.getTask(a[o]);if(this._isCompletedTask(l))n[l.id]=0;else if(e[l.id]||_.isSummaryTask(l)){for(var d=e[l.id].linked,h=null,g=0;g<d.length;g++){var p=d[g],y=_.getTask(p.target),v=0;void 0!==n[y.id]&&(v+=n[y.id]),v+=t.getDist(l,y),v-=p.link.lag||0,h=null===h?v:Math.min(h,v)}n[l.id]=h||0}else n[l.id]=this.getFreeSlack(l)}return r.forEach(function(m){void 0!==n[m.id]||_.isSummaryTask(m)||(n[m.id]=this.getFreeSlack(m))}.bind(this)),this._totalSlack=n,this._totalSlack},_resetTotalSlackCache:function(){this._slackNeedCalculate=!0},_shouldCalculateTotalSlack:function(){return this._slackNeedCalculate},getFreeSlack:function(i){return this._shouldCalculateTotalSlack()&&this._calculateSlacks(),_.isTaskExists(i.id)?this._isCompletedTask(i)?0:_.isSummaryTask(i)?void 0:this._freeSlack[i.id]||0:0},getTotalSlack:function(i){if(this._shouldCalculateTotalSlack()&&this._calculateSlacks(),void 0===i)return this._totalSlack;var a;if(a=void 0!==i.id?i.id:i,this._isCompletedTask(i))return 0;if(void 0===this._totalSlack[a]){if(_.isSummaryTask(_.getTask(a))){var e=null;return _.eachTask(function(t){var n=this._totalSlack[t.id];void 0!==n&&(null===e||n<e)&&(e=n)}.bind(this),a),this._totalSlack[a]=null!==e?e:_.calculateDuration({start_date:i.end_date,end_date:this._projectEnd,task:i}),this._totalSlack[a]}return 0}return this._totalSlack[a]||0},dropCachedFreeSlack:function(){this._freeSlack={},this._resetTotalSlackCache()},init:function(){function i(){c.dropCachedFreeSlack()}_.attachEvent("onAfterLinkAdd",i),_.attachEvent("onTaskIdChange",i),_.attachEvent("onAfterLinkUpdate",i),_.attachEvent("onAfterLinkDelete",i),_.attachEvent("onAfterTaskAdd",i),_.attachEvent("onAfterTaskUpdate",i),_.attachEvent("onAfterTaskDelete",i),_.attachEvent("onRowDragEnd",i),_.attachEvent("onAfterTaskMove",i),_.attachEvent("onParse",i),_.attachEvent("onClearAll",i)}};return c}},function(C,$,f){C.exports=function(_){f(76)(_),f(75)(_);var u=f(312)(_);u.init(),_.getFreeSlack=function(c){return u.getFreeSlack(c)},_.getTotalSlack=function(c){return u.getTotalSlack(c)};var s=f(311)(_);_.config.highlight_critical_path=!1,s.init(u),_.isCriticalTask=function(c){return _.assert(!(!c||void 0===c.id),"Invalid argument for gantt.isCriticalTask"),s.isCriticalTask(c)},_.isCriticalLink=function(c){return this.isCriticalTask(_.getTask(c.source))},_.getSlack=function(c,i){for(var a=0,e=[],t={},n=0;n<c.$source.length;n++)t[c.$source[n]]=!0;for(n=0;n<i.$target.length;n++)t[i.$target[n]]&&e.push(i.$target[n]);if(e[0])for(n=0;n<e.length;n++){var r=this.getLink(e[n]),o=this._getSlack(c,i,this._convertToFinishToStartLink(r.id,r,c,i,c.parent,i.parent));(a>o||0===n)&&(a=o)}else a=this._getSlack(c,i,{});return a},_._getSlack=function(c,i,a){var t,e=this.config.types;t=this.getTaskType(c.type)==e.milestone?c.start_date:c.end_date;var n=i.start_date,r=0;r=+t>+n?-this.calculateDuration({start_date:n,end_date:t,task:c}):this.calculateDuration({start_date:t,end_date:n,task:c});var o=a.lag;return o&&1*o==o&&(r-=o),r}}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(5),u=f(2),s=function(){function c(i,a,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,r){t._el||(t._el=document.createElement("div"));var o=t._el,l=Math.min(n.relative.top,r.relative.top),d=Math.max(n.relative.top,r.relative.top),h=Math.min(n.relative.left,r.relative.left),g=Math.max(n.relative.left,r.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);o.style.height=p.height+"px",o.style.top=p.top+"px"}else o.style.height=Math.abs(d-l)+"px",o.style.top=l+"px";return o.style.width=Math.abs(g-h)+"px",o.style.left=h+"px",o},this._gantt=a,this._view=e,this._viewPort=i.viewPort,this._el.classList.add(i.className),"function"==typeof i.callback&&(this._callback=i.callback),this.render=function(){var n;(n=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),""!==i.className&&t._el.classList.add(i.className),t.draw()},u.isEventable(this._viewPort)||_(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return c.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},c.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},c.prototype.getElement=function(){return this._el},c.prototype.getViewPort=function(){return this._viewPort},c.prototype.setStart=function(i){var a=this._gantt;this._startPoint=i,this._startDate=a.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},c.prototype.setEnd=function(i){var a=this._gantt;if(this._endPoint=i,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=a.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},c.prototype.setPosition=function(i){this._positionPoint=i},c.prototype.dragEnd=function(i){var a,e=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(this._startDate=(a=[this._endDate,this._startDate])[0],this._endDate=a[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},c.prototype.getInBounds=function(){return this._singleRow},c.prototype._getTasksByTop=function(i,a){var e=this._gantt,t=i,n=a;i>a&&(t=a,n=i);for(var r=this._getTaskPositionByTop(t).index,o=this._getTaskPositionByTop(n).index,l=[],d=r;d<=o;d++)e.getTaskByIndex(d)&&l.push(e.getTaskByIndex(d));return l},c.prototype._getTaskPositionByTop=function(i){var a=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(i),n=a.getTaskByIndex(t);if(n){var r=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:r||0,index:t}}var o=e.getTotalHeight();return{top:i>o?o:0,height:a.config.row_height,index:i>o?a.getTaskCount():0}},c}();$.SelectedRegion=s},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(1),u=function(){function s(c){this._mouseDown=!1,this._gantt=c,this._domEvents=c._createDomEventScope()}return s.prototype.attach=function(c,i,a){var e=this,t=this._gantt,n=c.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},"static"===this._originPosition&&(n.style.position="relative");var r=t.$services.getService("state");r.registerProvider("clickDrag",function(){return{autoscroll:!1}});var o=null;this._domEvents.attach(n,"mousedown",function(d){o=null;var h=".gantt_task_line, .gantt_task_link";void 0!==a&&(h=a instanceof Array?a.join(", "):a),h&&t.utils.dom.closest(d.target,h)||(r.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),i&&!0!==d[i]||(o=e._getCoordinates(d,c)))});var l=_.getRootNode(t.$root)||document.body;this._domEvents.attach(l,"mouseup",function(d){if(o=null,(!i||!0===d[i])&&!0===e._mouseDown){e._mouseDown=!1;var h=e._getCoordinates(d,c);c.dragEnd(h)}}),this._domEvents.attach(n,"mousemove",function(d){if(!i||!0===d[i]){var g=(e._gantt.config.drag_timeline||{}).useKey;if(!e._gantt.ext.clickDrag||!g||i||!d[g]){var p=null;if(!e._mouseDown&&o)return p=e._getCoordinates(d,c),void(Math.abs(o.relative.left-p.relative.left)>5&&o&&(e._mouseDown=!0,c.setStart(t.copy(o)),c.setPosition(t.copy(o)),c.setEnd(t.copy(o)),o=null));!0===e._mouseDown&&(p=e._getCoordinates(d,c),c.setEnd(p),c.render())}}})},s.prototype.detach=function(){var c=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),c.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(c,i){var a=i.getViewPort(),e=a.getBoundingClientRect(),t=c.clientX,n=c.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+a.scrollLeft,top:n-e.top+a.scrollTop}}},s}();$.EventsManager=u},function(C,$,f){"use strict";var _=this&&this.__assign||function(){return(_=Object.assign||function(c){for(var i,a=1,e=arguments.length;a<e;a++)for(var t in i=arguments[a])Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);return c}).apply(this,arguments)};Object.defineProperty($,"__esModule",{value:!0});var u=f(315),s=f(314);$.default=function(c){c.ext||(c.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},a=new u.EventsManager(c);c.ext.clickDrag=a,c.attachEvent("onGanttReady",function(){var e=_({viewPort:c.$task_data},i);if(c.config.click_drag){var t=c.config.click_drag;e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||c.$task_data,e.useRequestAnimationFrame=void 0===t.useRequestAnimationFrame?i.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=void 0===t.singleRow?i.singleRow:t.singleRow;var n=c.$ui.getView("timeline"),r=new s.SelectedRegion(e,c,n);c.ext.clickDrag.attach(r,t.useKey,t.ignore)}}),c.attachEvent("onDestroy",function(){a.destructor()})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.attachUIHandlers=function(_,u,s,c){_.attachEvent("onGanttReady",function(){!function(){var a,e,t=!1;function n(S,x){_.config.auto_scheduling&&!_._autoscheduling_in_progress&&(_.getState().batch_update?t=!0:_.autoSchedule(x.source))}function r(S,x){var w=_.config.auto_scheduling_use_progress;return _.config.auto_scheduling_use_progress=!1,_.isCircularLink(x)?(_.callEvent("onCircularLinkError",[x,s.getLoopContainingLink(x)]),_.config.auto_scheduling_use_progress=w,!1):(_.config.auto_scheduling_use_progress=w,!0)}function o(S,x){var w=_.getTask(x.source),T=_.getTask(x.target);return!(!_.config.auto_scheduling_descendant_links&&(_.isChildOf(w.id,T.id)&&_.isSummaryTask(T)||_.isChildOf(T.id,w.id)&&_.isSummaryTask(w)))}function l(S,x,w,T){return!!S!=!!x||!(!S&&!x)&&(S.valueOf()>x.valueOf()?_._hasDuration({start_date:x,end_date:S,task:T}):_._hasDuration({start_date:S,end_date:x,task:w}))}function d(S,x){return!!l(S.start_date,x.start_date,S,x)||_.getConstraintType(S)!==_.getConstraintType(x)||!!l(S.constraint_date,x.constraint_date,S,x)||!(!l(S.start_date,x.start_date,S,x)&&(!l(S.end_date,x.end_date,S,x)&&S.duration===x.duration||S.type===_.config.types.milestone))||void 0}function h(S){return _.config.auto_scheduling_compatibility?u.getLinkedTasks(S,!0):c.getConnectedGroupRelations(S)}function g(S,x){if(_.config.schedule_from_end){if(S.end_date.valueOf()===x.end_date.valueOf())return!0}else if(S.start_date.valueOf()===x.start_date.valueOf())return!0}function p(S){!1!==S.auto_scheduling&&(_.config.schedule_from_end?(S.constraint_type=_.config.constraint_types.FNLT,S.constraint_date=new Date(S.end_date)):(S.constraint_type=_.config.constraint_types.SNET,S.constraint_date=new Date(S.start_date)))}function y(S){_.config.auto_scheduling_compatibility&&(S.constraint_type!==_.config.constraint_types.SNET&&S.constraint_type!==_.config.constraint_types.FNLT||(S.constraint_type=null,S.constraint_date=null))}_.attachEvent("onAfterBatchUpdate",function(){t&&_.autoSchedule(),t=!1}),_.attachEvent("onAfterLinkUpdate",n),_.attachEvent("onAfterLinkAdd",n),_.attachEvent("onAfterLinkDelete",function(S,x){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress&&_.isTaskExists(x.target)){var w=_.getTask(x.target),T=_._getPredecessors(w);T.length&&(_.getState().batch_update?t=!0:_.autoSchedule(T[0].source,!1))}}),_.attachEvent("onParse",function(){_.config.auto_scheduling&&_.config.auto_scheduling_initial&&_.autoSchedule()}),_.attachEvent("onBeforeLinkAdd",r),_.attachEvent("onBeforeLinkAdd",o),_.attachEvent("onBeforeLinkUpdate",r),_.attachEvent("onBeforeLinkUpdate",o),_.attachEvent("onBeforeTaskDrag",function(S,x,w){return _.config.auto_scheduling&&_.config.auto_scheduling_move_projects&&("progress"!==_.getState().drag_mode&&(a=h(S)),e=S),!0});var v,k=null;if(_.ext&&_.ext.inlineEditors){var b={start_date:!0,end_date:!0,duration:!0,constraint_type:!0,constraint_date:!0};_.ext.inlineEditors.attachEvent("onBeforeSave",function(S){return b[S.columnName]&&(k=S.id,"constraint_type"===S.columnName&&(v=!0),("duration"===S.columnName||"keepDuration"!==_.config.inline_editors_date_processing&&(_.config.schedule_from_end&&"start_date"===S.columnName||!_.config.schedule_from_end&&"end_date"===S.columnName))&&(_.getTask(S.id).$keep_constraints=!0)),!0})}_.attachEvent("onBeforeTaskChanged",function(S,x,w){return function(S,x){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var w=_.getTask(S),T=_.config.auto_scheduling_use_progress&&1===x.progress!=(1===w.progress);d(x,w)&&(g(w,x)||p(w),_.config.auto_scheduling_move_projects&&e==S?(_.calculateDuration(x)!==_.calculateDuration(w)&&function(E,I){for(var P=!1,L=0;L<a.length;L++){var H=_.getLink(I[L].id);!H||H.type!==_.config.links.start_to_start&&H.type!==_.config.links.start_to_finish||(I.splice(L,1),L--,P=!0)}if(P){var F={};for(L=0;L<I.length;L++)F[I[L].id]=!0;var z=h(E);for(L=0;L<z.length;L++)F[z[L].id]||I.push(z[L])}}(S,a),T?_.autoSchedule():_._autoSchedule(S,a)):_.autoSchedule(w.id),y(w))}return a=null,e=null,!0}(S,w)}),_.ext.inlineEditors&&_.ext.inlineEditors.attachEvent("onBeforeSave",function(S){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var x=_.ext.inlineEditors.getEditorConfig(S.columnName);"start_date"!==x.map_to&&"end_date"!==x.map_to&&"duration"!==x.map_to||(k=S.id)}return!0}),_.attachEvent("onLightboxSave",function(S,x){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){v=!1;var w=_.getTask(S);d(x,w)&&(k=S,g(x,w)&&(x.$keep_constraints=!0),_.getConstraintType(x)===_.getConstraintType(w)&&+x.constraint_date==+w.constraint_date||(v=!0))}return!0}),_.attachEvent("onAfterTaskUpdate",function(S,x){return _.config.auto_scheduling&&!_._autoscheduling_in_progress&&null!==k&&k==S&&(k=null,x.$keep_constraints?delete x.$keep_constraints:v||p(x),_.autoSchedule(x.id),v||y(x)),!0})}()},{once:!0})}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.LoopsFinder=function(u,s,c){var i=this;this.isCircularLink=function(a){return!!i.getLoopContainingLink(a)},this.getLoopContainingLink=function(a){var e=i._graphHelper,n=i._gantt,r=i._linksBuilder.getLinkedTasks();n.isLinkExists(a.id)||(r=r.concat(n._formatLink(a)));for(var o=e.findLoops(r),l=0;l<o.length;l++)for(var d=o[l].links,h=0;h<d.length;h++)if(d[h]==a.id)return o[l];return null},this.findCycles=function(){var a=i._graphHelper,e=i._linksBuilder.getLinkedTasks();return a.findLoops(e)},this._linksBuilder=c,this._graphHelper=s,this._gantt=u}},function(C,$,f){"use strict";function _(s,c,i){for(var a,e=[s],t=[],n={},r={};e.length>0;)if(!i[a=e.shift()]){i[a]=!0,t.push(a);for(var o=0;o<c.length;o++){var l=c[o];l.source==a||l.sourceParent==a?(i[l.target]||(e.push(l.target),r[l.id]=!0,c.splice(o,1),o--),n[l.hashSum]=l):l.target!=a&&l.targetParent!=a||(i[l.source]||(e.push(l.source),r[l.id]=!0,c.splice(o,1),o--),n[l.hashSum]=l)}}var d=[],h=[];for(var o in r)d.push(o);for(var o in n)h.push(n[o]);return{tasks:t,links:d,processedLinks:h}}Object.defineProperty($,"__esModule",{value:!0}),$.ConnectedGroupsHelper=function(s,c){var i=this;this.getConnectedGroupRelations=function(a){return _(a,i._linksBuilder.getLinkedTasks(),{}).processedLinks},this.getConnectedGroup=function(a){var e=i._linksBuilder.getLinkedTasks();if(void 0!==a){if(i._gantt.getTask(a).type===i._gantt.config.types.project)return{tasks:[],links:[]};var t=_(a,e,{});return{tasks:t.tasks,links:t.links}}return function(n){for(var r,o,l,d={},h=[],g=0;g<n.length;g++)if(o=n[g].target,l=null,d[r=n[g].source]?d[o]||(l=o):l=r,l){var p=n.length;h.push(_(l,n,d)),p!==n.length&&(g=-1)}return h}(e).map(function(n){return{tasks:n.tasks,links:n.links}})},this._linksBuilder=c,this._gantt=s}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(72),u=f(23),s=function(){function c(){}return c.Create=function(i){var a=new c;return a._gantt=i,a._comparator=new _.default(i),a},c.prototype.resolveRelationDate=function(i,a,e){for(var t=null,n=null,r=null,o=this._gantt.getTask(i),l=a.predecessors,d=null,h=0;h<l.length;h++){var g=l[h];r=g.preferredStart;var p=this.getEarliestStartDate(g,e,o);this._comparator.isSmallerOrDefault(d,p,o)&&(d=p),this._comparator.isSmallerOrDefault(r,p,o)&&this._comparator.isSmallerOrDefault(t,p,o)&&(t=p,n=g.id)}!l.length&&this._gantt.config.project_start&&((this._comparator.isSmallerOrDefault(o.start_date,this._gantt.config.project_start,o)||this._gantt.config.auto_scheduling_strict&&this._comparator.isGreaterOrDefault(o.start_date,this._gantt.config.project_start,o))&&(t=this._gantt.config.project_start),!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[o,o.start_date])&&(t=o.start_date));var y=null;t&&(o.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:o}),y=this._gantt.calculateEndDate({start_date:t,duration:o.duration,task:o})):t=y=this._gantt.getClosestWorkTime({date:t,dir:"past",task:o}));var m=u.TaskPlan.Create(e[i]);return m.link=n,m.task=i,m.start_date=t,m.end_date=y,m.kind="asap",d&&(m.earliestSchedulingStart=d,m.earliestSchedulingEnd=this._gantt.calculateEndDate({start_date:d,duration:o.duration,task:o})),m},c.prototype.getPredecessorEndDate=function(i,a){var e=a[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.end_date?e.end_date:this._gantt.calculateEndDate({start_date:e.start_date,duration:t.duration,task:t}):t.end_date},c.prototype.getEarliestStartDate=function(i,a,e){var t,n=this.getPredecessorEndDate(i.source,a),r=e,o=this._gantt.getTask(i.source);if(n&&i.lag&&1*i.lag==1*i.lag)t=this._gantt.getClosestWorkTime({date:n,dir:"future",task:o}),i.sourceLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.sourceLag,task:o})),i.targetLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.targetLag,task:r})),t=this._gantt.calculateEndDate({start_date:t,duration:1*i.trueLag,task:r});else{var l=this._gantt.getLink(i.id).type===this._gantt.config.links.finish_to_finish;t=this._gantt.getClosestWorkTime(!r.duration&&l?{date:n,dir:"past",task:r}:{date:n,dir:"future",task:r})}return t},c}();$.AsapStrategy=s},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(72),u=f(23),s=function(){function c(){}return c.Create=function(i){var a=new c;return a._gantt=i,a._comparator=new _.default(i),a},c.prototype.resolveRelationDate=function(i,a,e){for(var t=null,n=null,r=null,o=null,l=this._gantt.getTask(i),d=a.successors,h=null,g=e[i],p=0;p<d.length;p++){var y=d[p];o=y.preferredStart;var v=this.getLatestEndDate(y,e,l),m=this._gantt.calculateEndDate({start_date:v,duration:-l.duration,task:l});this._comparator.isGreaterOrDefault(h,v,l)&&(h=v),this._comparator.isGreaterOrDefault(o,m,l)&&this._comparator.isGreaterOrDefault(t,v,l)&&(t=v,r=m,n=y.id)}!d.length&&this._gantt.config.project_end&&(this._comparator.isGreaterOrDefault(this._gantt.config.project_end,l.end_date,l)&&(t=this._gantt.config.project_end),!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[l,l.end_date])&&(t=l.end_date)),t&&(l.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:l}),r=this._gantt.calculateEndDate({start_date:t,duration:-l.duration,task:l})):r=t=this._gantt.getClosestWorkTime({date:t,dir:"past",task:l}));var k=u.TaskPlan.Create(g);return k.link=n,k.task=i,k.end_date=t,k.start_date=r,k.kind="alap",h&&(k.latestSchedulingStart=this._gantt.calculateEndDate({start_date:h,duration:-l.duration,task:l}),k.latestSchedulingEnd=h),k},c.prototype.getSuccessorStartDate=function(i,a){var e=a[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.start_date?e.start_date:this._gantt.calculateEndDate({start_date:e.end_date,duration:-t.duration,task:t}):t.start_date},c.prototype.getLatestEndDate=function(i,a,e){var t=this.getSuccessorStartDate(i.target,a),n=e,r=this._gantt.getClosestWorkTime({date:t,dir:"past",task:n});return r&&i.lag&&1*i.lag==1*i.lag&&(r=this._gantt.calculateEndDate({start_date:r,duration:1*-i.lag,task:n})),r},c}();$.AlapStrategy=s},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(321),u=f(320),s=f(36),c=f(23),i=function(){function a(e,t,n){this._gantt=e,this._constraintsHelper=n,this._graphHelper=t,this._asapStrategy=u.AsapStrategy.Create(e),this._alapStrategy=_.AlapStrategy.Create(e)}return a.prototype.generatePlan=function(e,t){var r=this._gantt,o=this._constraintsHelper,l=this._alapStrategy,d=this._asapStrategy,h=this.buildWorkCollections(e,t,this._graphHelper),g=h.orderedIds,p=h.reversedIds,y=h.relationsMap,v=h.plansHash;return this.processConstraints(g,v,r,o),r.config.schedule_from_end?this.iterateTasks(p,g,o.isAlapTask,l,d,y,v):this.iterateTasks(g,p,o.isAsapTask,d,l,y,v)},a.prototype.applyProjectPlan=function(e){for(var t,n,r,o,l=this._gantt,d=[],h=0;h<e.length;h++)if(r=null,o=null,l.isTaskExists((t=e[h]).task)){n=l.getTask(t.task),t.link&&(r=l.getLink(t.link),o=this._gantt.getTask("asap"===t.kind?r.source:r.target));var g=null;t.start_date&&n.start_date.valueOf()!==t.start_date.valueOf()&&(g=t.start_date),g&&(n.start_date=g,n.end_date=l.calculateEndDate(n),d.push(n.id),l.callEvent("onAfterTaskAutoSchedule",[n,g,r,o]))}return d},a.prototype.iterateTasks=function(e,t,n,r,o,l,d){for(var h=this._gantt,g=[],p=0;p<e.length;p++){var y=e[p];if(!1!==(m=h.getTask(y)).auto_scheduling){var v=r.resolveRelationDate(y,l[y],d);this.limitPlanDates(m,v),n(m)?this.processResolvedDate(m,v,g,d):d[m.id]=v}}for(p=0;p<t.length;p++){var m;!1!==(m=h.getTask(y=t[p])).auto_scheduling&&!n(m)&&(v=o.resolveRelationDate(y,l[y],d),this.limitPlanDates(m,v),this.processResolvedDate(m,v,g,d))}return g},a.prototype.processResolvedDate=function(e,t,n,r){if(t.start_date&&this._gantt.isLinkExists(t.link)){var o=null,l=null;if(t.link&&(o=this._gantt.getLink(t.link),l=this._gantt.getTask("asap"===t.kind?o.source:o.target)),e.start_date.valueOf()!==t.start_date.valueOf()&&!1===this._gantt.callEvent("onBeforeTaskAutoSchedule",[e,t.start_date,o,l]))return}r[e.id]=t,t.start_date&&n.push(t)},a.prototype.limitPlanDates=function(e,t){var n=t.start_date||e.start_date;return t.earliestStart&&n<t.earliestStart&&(t.start_date=t.earliestStart,t.end_date=t.earliestEnd),t.latestStart&&n>t.latestStart&&(t.start_date=t.latestStart,t.end_date=t.latestEnd),t.latestSchedulingStart&&n>t.latestSchedulingStart&&(t.start_date=t.latestSchedulingStart,t.end_date=t.latestSchedulingEnd),t.earliestSchedulingStart&&n<t.earliestSchedulingStart&&(t.start_date=t.earliestSchedulingStart,t.end_date=t.earliestSchedulingEnd),t.start_date&&(t.start_date>t.latestSchedulingStart||t.start_date<t.earliestSchedulingStart||t.start_date>t.latestStart||t.start_date<t.earliestStart||t.end_date>t.latestSchedulingEnd||t.end_date<t.earliestSchedulingEnd||t.end_date>t.latestEnd||t.end_date<t.earliestEnd)&&(t.conflict=!0),t},a.prototype.buildWorkCollections=function(e,t,n){for(var r=this._gantt,o=n.topologicalSort(e),l=o.slice().reverse(),d={},h={},g=0,p=o.length;g<p;g++){var y=o[g];!1!==(v=r.getTask(y)).auto_scheduling&&(h[y]={successors:[],predecessors:[]},d[y]=null)}for(g=0,p=t.length;g<p;g++){var v;void 0===d[(v=t[g]).id]&&(l.unshift(v.id),o.unshift(v.id),d[v.id]=null,h[v.id]={successors:[],predecessors:[]})}for(g=0,p=e.length;g<p;g++){var m=e[g];h[m.source]&&h[m.source].successors.push(m),h[m.target]&&h[m.target].predecessors.push(m)}return{orderedIds:o,reversedIds:l,relationsMap:h,plansHash:d}},a.prototype.processConstraints=function(e,t,n,r){for(var o=0;o<e.length;o++){var d=n.getTask(e[o]),h=r.getConstraintType(d);if(h&&h!==s.ConstraintTypes.ASAP&&h!==s.ConstraintTypes.ALAP){var g=r.processConstraint(d,c.TaskPlan.Create());t[d.id]=g}}},a}();$.AutoSchedulingPlanner=i},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(2),u=f(36),s=f(23),c=function(){function i(a){var e=this;this.isAsapTask=function(t){var n=e.getConstraintType(t);return e._gantt.config.schedule_from_end?n===u.ConstraintTypes.ASAP:n!==u.ConstraintTypes.ALAP},this.isAlapTask=function(t){return!e.isAsapTask(t)},this.getConstraintType=function(t){if(!1!==t.auto_scheduling){var n=e._getTaskConstraint(t);return n.constraint_type?n.constraint_type:e._gantt.config.schedule_from_end?u.ConstraintTypes.ALAP:u.ConstraintTypes.ASAP}},this._getTaskConstraint=function(t){var n=e._getOwnConstraint(t);if(e._gantt.config.auto_scheduling_project_constraint){var r=u.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(r=u.ConstraintTypes.ALAP),(n&&n.constraint_type)!==r&&n||(n=e._getParentConstraint(t))}return n},this._getOwnConstraint=function(t){return{constraint_type:t.constraint_type,constraint_date:t.constraint_date}},this._getParentConstraint=function(t){var n=u.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(n=u.ConstraintTypes.ALAP);var r={constraint_type:n,constraint_date:null};return e._gantt.eachParent(function(o){r.constraint_type===n&&o.constraint_type&&o.constraint_type!==n&&(r={constraint_type:o.constraint_type,constraint_date:o.constraint_date})},t.id),r},this.hasConstraint=function(t){return!!e.getConstraintType(t)},this.processConstraint=function(t,n){var r=e._getTaskConstraint(t);if(r&&r.constraint_type!==u.ConstraintTypes.ALAP&&r.constraint_type!==u.ConstraintTypes.ASAP&&_.isValidDate(r.constraint_date)){var o=r.constraint_date,l=s.TaskPlan.Create(n);switch(l.task=t.id,r.constraint_type){case u.ConstraintTypes.SNET:l.earliestStart=new Date(o),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.link=null;break;case u.ConstraintTypes.SNLT:l.latestStart=new Date(o),l.latestEnd=e._gantt.calculateEndDate({start_date:l.latestStart,duration:t.duration,task:t}),l.link=null;break;case u.ConstraintTypes.FNET:l.earliestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),l.earliestEnd=new Date(o),l.link=null;break;case u.ConstraintTypes.FNLT:l.latestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),l.latestEnd=new Date(o),l.link=null;break;case u.ConstraintTypes.MSO:l.earliestStart=new Date(o),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.latestStart=l.earliestStart,l.latestEnd=l.earliestEnd,l.link=null;break;case u.ConstraintTypes.MFO:l.earliestStart=e._gantt.calculateEndDate({start_date:o,duration:-t.duration,task:t}),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.latestStart=l.earliestStart,l.latestEnd=l.earliestEnd,l.link=null}return l}return n},this.getConstraints=function(t,n){var r,o=[],l={},d=function(v){l[v.id]||e.hasConstraint(v)&&!e._gantt.isSummaryTask(v)&&(l[v.id]=v)};if(e._gantt.isTaskExists(t)){var h=e._gantt.getTask(t);d(h)}if(e._gantt.eachTask(function(v){return d(v)},t),n)for(var g=0;g<n.length;g++){var p=n[g];l[p.target]||(r=e._gantt.getTask(p.target),d(r)),l[p.source]||(r=e._gantt.getTask(p.source),d(r))}for(var y in l)l[y].type!==e._gantt.config.types.placeholder&&o.push(l[y]);return o},this._gantt=a}return i.Create=function(a){return new i(a)},i}();$.ConstraintsHelper=c},function(C,$,f){C.exports=function(_){f(76)(_),f(75)(_);var u=f(74)(_),s=f(73)(_),c=f(36).ConstraintTypes,i=f(323).ConstraintsHelper.Create(_),a=new(f(322).AutoSchedulingPlanner)(_,s,i),e=new(f(319).ConnectedGroupsHelper)(_,u),t=new(f(318).LoopsFinder)(_,s,u);_.getConnectedGroup=e.getConnectedGroup,_.getConstraintType=i.getConstraintType,_.getConstraintLimitations=function(r){var o=i.processConstraint(r,null);return o?{earliestStart:o.earliestStart||null,earliestEnd:o.earliestEnd||null,latestStart:o.latestStart||null,latestEnd:o.latestEnd||null}:{earliestStart:null,earliestEnd:null,latestStart:null,latestEnd:null}},_.isCircularLink=t.isCircularLink,_.findCycles=t.findCycles,_.config.constraint_types=c,_.config.auto_scheduling=!1,_.config.auto_scheduling_descendant_links=!1,_.config.auto_scheduling_initial=!0,_.config.auto_scheduling_strict=!1,_.config.auto_scheduling_move_projects=!0,_.config.project_start=null,_.config.project_end=null,_.config.schedule_from_end=!1;var n=!1;_.attachEvent("onParse",function(){return n=!0,!0}),_.attachEvent("onBeforeGanttRender",function(){return n=!1,!0}),_._autoSchedule=function(r,o){if(!1!==_.callEvent("onBeforeAutoSchedule",[r])){_._autoscheduling_in_progress=!0;var l=i.getConstraints(r,_.isTaskExists(r)?o:null),d=[],h=s.findLoops(o);if(h.length)_.callEvent("onAutoScheduleCircularLink",[h]);else{!function(p,y){if(_.config.auto_scheduling_compatibility)for(var v=0;v<y.length;v++){var m=y[v],k=_.getTask(m.target);_.config.auto_scheduling_strict&&m.target!=p||(m.preferredStart=new Date(k.start_date))}}(r,o);var g=a.generatePlan(o,l);(p=d=a.applyProjectPlan(g)).length&&_.batchUpdate(function(){for(var y=0;y<p.length;y++)_.updateTask(p[y])},n)}_._autoscheduling_in_progress=!1,_.callEvent("onAfterAutoSchedule",[r,d])}var p},_.autoSchedule=function(r,o){var l;o=void 0===o||!!o,l=void 0!==r?_.config.auto_scheduling_compatibility?u.getLinkedTasks(r,o):e.getConnectedGroupRelations(r):u.getLinkedTasks(),_._autoSchedule(r,l)},_.attachEvent("onTaskLoading",function(r){return r.constraint_date&&"string"==typeof r.constraint_date&&(r.constraint_date=_.date.parseDate(r.constraint_date,"parse_date")),r.constraint_type=_.getConstraintType(r),!0}),_.attachEvent("onTaskCreated",function(r){return r.constraint_type=_.getConstraintType(r),!0}),(0,f(317).attachUIHandlers)(_,u,t,e)}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(324),u=f(316),s=f(313),c=f(310),i=f(308),a=f(288),e=f(287),t=f(286),n=f(275),r=f(274),o=f(273),l=f(272),d=f(270),h=f(267);$.default={auto_scheduling:_,click_drag:u.default,critical_path:s,drag_timeline:c.default,fullscreen:a.default,keyboard_navigation:t,quick_info:l.default,tooltip:d.default,undo:h.default,grouping:e,marker:n,multiselect:r,overlay:o,export_api:i.default}},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(325),u=f(264),s=f(263),c=new u.default(s,_.default);$.Gantt=c;var i=c.getGanttInstance();$.gantt=i},function(C,$,f){"use strict";Object.defineProperty($,"__esModule",{value:!0});var _=f(326);$.gantt=_.gantt,$.Gantt=_.Gantt;var u=f(77),s=f(17);s.gantt=_.gantt,s.Gantt=_.Gantt,_.Gantt.plugin(u.default),$.default=_.gantt}])});